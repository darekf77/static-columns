import{a as mle}from"./chunk-WXE6BMS3.js";import{a as K,b as $e,d as mf,e as y,f as vO,g as M}from"./chunk-VB56BUGO.js";var Hx=y(()=>{var lq;(function(n){(function(e){var t=typeof globalThis=="object"?globalThis:typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:a(),r=i(n);typeof t.Reflect<"u"&&(r=i(t.Reflect,r)),e(r,t),typeof t.Reflect>"u"&&(t.Reflect=n);function i(c,l){return function(d,h){Object.defineProperty(c,d,{configurable:!0,writable:!0,value:h}),l&&l(d,h)}}function s(){try{return Function("return this;")()}catch{}}function o(){try{return(0,eval)("(function() { return this; })()")}catch{}}function a(){return s()||o()}})(function(e,t){var r=Object.prototype.hasOwnProperty,i=typeof Symbol=="function",s=i&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",o=i&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",a=typeof Object.create=="function",c={__proto__:[]}instanceof Array,l=!a&&!c,d={create:a?function(){return F(Object.create(null))}:c?function(){return F({__proto__:null})}:function(){return F({})},has:l?function(A,T){return r.call(A,T)}:function(A,T){return T in A},get:l?function(A,T){return r.call(A,T)?A[T]:void 0}:function(A,T){return A[T]}},h=Object.getPrototypeOf(Function),p=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Y(),b=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:C(),v=typeof WeakMap=="function"?WeakMap:D(),x=i?Symbol.for("@reflect-metadata:registry"):void 0,N=ai(),k=O(N);function ee(A,T,B,$){if(Oe(B)){if(!wn(A))throw new TypeError;if(!$t(T))throw new TypeError;return re(A,T)}else{if(!wn(A))throw new TypeError;if(!Mt(T))throw new TypeError;if(!Mt($)&&!Oe($)&&!Kn($))throw new TypeError;return Kn($)&&($=void 0),B=ur(B),pe(A,T,B,$)}}e("decorate",ee);function X(A,T){function B($,ue){if(!Mt($))throw new TypeError;if(!Oe(ue)&&!Zi(ue))throw new TypeError;kt(A,T,$,ue)}return B}e("metadata",X);function ne(A,T,B,$){if(!Mt(B))throw new TypeError;return Oe($)||($=ur($)),kt(A,T,B,$)}e("defineMetadata",ne);function de(A,T,B){if(!Mt(T))throw new TypeError;return Oe(B)||(B=ur(B)),fe(A,T,B)}e("hasMetadata",de);function g(A,T,B){if(!Mt(T))throw new TypeError;return Oe(B)||(B=ur(B)),Ge(A,T,B)}e("hasOwnMetadata",g);function xe(A,T,B){if(!Mt(T))throw new TypeError;return Oe(B)||(B=ur(B)),ae(A,T,B)}e("getMetadata",xe);function Ce(A,T,B){if(!Mt(T))throw new TypeError;return Oe(B)||(B=ur(B)),dt(A,T,B)}e("getOwnMetadata",Ce);function qe(A,T){if(!Mt(A))throw new TypeError;return Oe(T)||(T=ur(T)),en(A,T)}e("getMetadataKeys",qe);function H(A,T){if(!Mt(A))throw new TypeError;return Oe(T)||(T=ur(T)),Mr(A,T)}e("getOwnMetadataKeys",H);function I(A,T,B){if(!Mt(T))throw new TypeError;if(Oe(B)||(B=ur(B)),!Mt(T))throw new TypeError;Oe(B)||(B=ur(B));var $=q(T,B,!1);return Oe($)?!1:$.OrdinaryDeleteMetadata(A,T,B)}e("deleteMetadata",I);function re(A,T){for(var B=A.length-1;B>=0;--B){var $=A[B],ue=$(T);if(!Oe(ue)&&!Kn(ue)){if(!$t(ue))throw new TypeError;T=ue}}return T}function pe(A,T,B,$){for(var ue=A.length-1;ue>=0;--ue){var ge=A[ue],Se=ge(T,B,$);if(!Oe(Se)&&!Kn(Se)){if(!Mt(Se))throw new TypeError;$=Se}}return $}function fe(A,T,B){var $=Ge(A,T,B);if($)return!0;var ue=an(T);return Kn(ue)?!1:fe(A,ue,B)}function Ge(A,T,B){var $=q(T,B,!1);return Oe($)?!1:Di($.OrdinaryHasOwnMetadata(A,T,B))}function ae(A,T,B){var $=Ge(A,T,B);if($)return dt(A,T,B);var ue=an(T);if(!Kn(ue))return ae(A,ue,B)}function dt(A,T,B){var $=q(T,B,!1);if(!Oe($))return $.OrdinaryGetOwnMetadata(A,T,B)}function kt(A,T,B,$){var ue=q(B,$,!0);ue.OrdinaryDefineOwnMetadata(A,T,B,$)}function en(A,T){var B=Mr(A,T),$=an(A);if($===null)return B;var ue=en($,T);if(ue.length<=0)return B;if(B.length<=0)return ue;for(var ge=new b,Se=[],we=0,oe=B;we<oe.length;we++){var ye=oe[we],Ee=ge.has(ye);Ee||(ge.add(ye),Se.push(ye))}for(var he=0,ke=ue;he<ke.length;he++){var ye=ke[he],Ee=ge.has(ye);Ee||(ge.add(ye),Se.push(ye))}return Se}function Mr(A,T){var B=q(A,T,!1);return B?B.OrdinaryOwnMetadataKeys(A,T):[]}function Vn(A){if(A===null)return 1;switch(typeof A){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return A===null?1:6;default:return 6}}function Oe(A){return A===void 0}function Kn(A){return A===null}function Jn(A){return typeof A=="symbol"}function Mt(A){return typeof A=="object"?A!==null:typeof A=="function"}function Ci(A,T){switch(Vn(A)){case 0:return A;case 1:return A;case 2:return A;case 3:return A;case 4:return A;case 5:return A}var B=T===3?"string":T===5?"number":"default",$=on(A,s);if($!==void 0){var ue=$.call(A,B);if(Mt(ue))throw new TypeError;return ue}return vr(A,B==="default"?"number":B)}function vr(A,T){if(T==="string"){var B=A.toString;if(Nn(B)){var $=B.call(A);if(!Mt($))return $}var ue=A.valueOf;if(Nn(ue)){var $=ue.call(A);if(!Mt($))return $}}else{var ue=A.valueOf;if(Nn(ue)){var $=ue.call(A);if(!Mt($))return $}var ge=A.toString;if(Nn(ge)){var $=ge.call(A);if(!Mt($))return $}}throw new TypeError}function Di(A){return!!A}function Yn(A){return""+A}function ur(A){var T=Ci(A,3);return Jn(T)?T:Yn(T)}function wn(A){return Array.isArray?Array.isArray(A):A instanceof Object?A instanceof Array:Object.prototype.toString.call(A)==="[object Array]"}function Nn(A){return typeof A=="function"}function $t(A){return typeof A=="function"}function Zi(A){switch(Vn(A)){case 3:return!0;case 4:return!0;default:return!1}}function tn(A,T){return A===T||A!==A&&T!==T}function on(A,T){var B=A[T];if(B!=null){if(!Nn(B))throw new TypeError;return B}}function Fn(A){var T=on(A,o);if(!Nn(T))throw new TypeError;var B=T.call(A);if(!Mt(B))throw new TypeError;return B}function dr(A){return A.value}function Ln(A){var T=A.next();return T.done?!1:T}function Kt(A){var T=A.return;T&&T.call(A)}function an(A){var T=Object.getPrototypeOf(A);if(typeof A!="function"||A===h||T!==h)return T;var B=A.prototype,$=B&&Object.getPrototypeOf(B);if($==null||$===Object.prototype)return T;var ue=$.constructor;return typeof ue!="function"||ue===A?T:ue}function fr(){var A;!Oe(x)&&typeof t.Reflect<"u"&&!(x in t.Reflect)&&typeof t.Reflect.defineMetadata=="function"&&(A=R(t.Reflect));var T,B,$,ue=new v,ge={registerProvider:Se,getProvider:oe,setProvider:Ee};return ge;function Se(he){if(!Object.isExtensible(ge))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case A===he:break;case Oe(T):T=he;break;case T===he:break;case Oe(B):B=he;break;case B===he:break;default:$===void 0&&($=new b),$.add(he);break}}function we(he,ke){if(!Oe(T)){if(T.isProviderFor(he,ke))return T;if(!Oe(B)){if(B.isProviderFor(he,ke))return T;if(!Oe($))for(var Le=Fn($);;){var tt=Ln(Le);if(!tt)return;var Wt=dr(tt);if(Wt.isProviderFor(he,ke))return Kt(Le),Wt}}}if(!Oe(A)&&A.isProviderFor(he,ke))return A}function oe(he,ke){var Le=ue.get(he),tt;return Oe(Le)||(tt=Le.get(ke)),Oe(tt)&&(tt=we(he,ke),Oe(tt)||(Oe(Le)&&(Le=new p,ue.set(he,Le)),Le.set(ke,tt))),tt}function ye(he){if(Oe(he))throw new TypeError;return T===he||B===he||!Oe($)&&$.has(he)}function Ee(he,ke,Le){if(!ye(Le))throw new Error("Metadata provider not registered.");var tt=oe(he,ke);if(tt!==Le){if(!Oe(tt))return!1;var Wt=ue.get(he);Oe(Wt)&&(Wt=new p,ue.set(he,Wt)),Wt.set(ke,Le)}return!0}}function ai(){var A;return!Oe(x)&&Mt(t.Reflect)&&Object.isExtensible(t.Reflect)&&(A=t.Reflect[x]),Oe(A)&&(A=fr()),!Oe(x)&&Mt(t.Reflect)&&Object.isExtensible(t.Reflect)&&Object.defineProperty(t.Reflect,x,{enumerable:!1,configurable:!1,writable:!1,value:A}),A}function O(A){var T=new v,B={isProviderFor:function(ye,Ee){var he=T.get(ye);return Oe(he)?!1:he.has(Ee)},OrdinaryDefineOwnMetadata:Se,OrdinaryHasOwnMetadata:ue,OrdinaryGetOwnMetadata:ge,OrdinaryOwnMetadataKeys:we,OrdinaryDeleteMetadata:oe};return N.registerProvider(B),B;function $(ye,Ee,he){var ke=T.get(ye),Le=!1;if(Oe(ke)){if(!he)return;ke=new p,T.set(ye,ke),Le=!0}var tt=ke.get(Ee);if(Oe(tt)){if(!he)return;if(tt=new p,ke.set(Ee,tt),!A.setProvider(ye,Ee,B))throw ke.delete(Ee),Le&&T.delete(ye),new Error("Wrong provider for target.")}return tt}function ue(ye,Ee,he){var ke=$(Ee,he,!1);return Oe(ke)?!1:Di(ke.has(ye))}function ge(ye,Ee,he){var ke=$(Ee,he,!1);if(!Oe(ke))return ke.get(ye)}function Se(ye,Ee,he,ke){var Le=$(he,ke,!0);Le.set(ye,Ee)}function we(ye,Ee){var he=[],ke=$(ye,Ee,!1);if(Oe(ke))return he;for(var Le=ke.keys(),tt=Fn(Le),Wt=0;;){var Bn=Ln(tt);if(!Bn)return he.length=Wt,he;var Rr=dr(Bn);try{he[Wt]=Rr}catch(Or){try{Kt(tt)}finally{throw Or}}Wt++}}function oe(ye,Ee,he){var ke=$(Ee,he,!1);if(Oe(ke)||!ke.delete(ye))return!1;if(ke.size===0){var Le=T.get(Ee);Oe(Le)||(Le.delete(he),Le.size===0&&T.delete(Le))}return!0}}function R(A){var T=A.defineMetadata,B=A.hasOwnMetadata,$=A.getOwnMetadata,ue=A.getOwnMetadataKeys,ge=A.deleteMetadata,Se=new v,we={isProviderFor:function(oe,ye){var Ee=Se.get(oe);return!Oe(Ee)&&Ee.has(ye)?!0:ue(oe,ye).length?(Oe(Ee)&&(Ee=new b,Se.set(oe,Ee)),Ee.add(ye),!0):!1},OrdinaryDefineOwnMetadata:T,OrdinaryHasOwnMetadata:B,OrdinaryGetOwnMetadata:$,OrdinaryOwnMetadataKeys:ue,OrdinaryDeleteMetadata:ge};return we}function q(A,T,B){var $=N.getProvider(A,T);if(!Oe($))return $;if(B){if(N.setProvider(A,T,k))return k;throw new Error("Illegal state.")}}function Y(){var A={},T=[],B=(function(){function we(oe,ye,Ee){this._index=0,this._keys=oe,this._values=ye,this._selector=Ee}return we.prototype["@@iterator"]=function(){return this},we.prototype[o]=function(){return this},we.prototype.next=function(){var oe=this._index;if(oe>=0&&oe<this._keys.length){var ye=this._selector(this._keys[oe],this._values[oe]);return oe+1>=this._keys.length?(this._index=-1,this._keys=T,this._values=T):this._index++,{value:ye,done:!1}}return{value:void 0,done:!0}},we.prototype.throw=function(oe){throw this._index>=0&&(this._index=-1,this._keys=T,this._values=T),oe},we.prototype.return=function(oe){return this._index>=0&&(this._index=-1,this._keys=T,this._values=T),{value:oe,done:!0}},we})(),$=(function(){function we(){this._keys=[],this._values=[],this._cacheKey=A,this._cacheIndex=-2}return Object.defineProperty(we.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),we.prototype.has=function(oe){return this._find(oe,!1)>=0},we.prototype.get=function(oe){var ye=this._find(oe,!1);return ye>=0?this._values[ye]:void 0},we.prototype.set=function(oe,ye){var Ee=this._find(oe,!0);return this._values[Ee]=ye,this},we.prototype.delete=function(oe){var ye=this._find(oe,!1);if(ye>=0){for(var Ee=this._keys.length,he=ye+1;he<Ee;he++)this._keys[he-1]=this._keys[he],this._values[he-1]=this._values[he];return this._keys.length--,this._values.length--,tn(oe,this._cacheKey)&&(this._cacheKey=A,this._cacheIndex=-2),!0}return!1},we.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=A,this._cacheIndex=-2},we.prototype.keys=function(){return new B(this._keys,this._values,ue)},we.prototype.values=function(){return new B(this._keys,this._values,ge)},we.prototype.entries=function(){return new B(this._keys,this._values,Se)},we.prototype["@@iterator"]=function(){return this.entries()},we.prototype[o]=function(){return this.entries()},we.prototype._find=function(oe,ye){if(!tn(this._cacheKey,oe)){this._cacheIndex=-1;for(var Ee=0;Ee<this._keys.length;Ee++)if(tn(this._keys[Ee],oe)){this._cacheIndex=Ee;break}}return this._cacheIndex<0&&ye&&(this._cacheIndex=this._keys.length,this._keys.push(oe),this._values.push(void 0)),this._cacheIndex},we})();return $;function ue(we,oe){return we}function ge(we,oe){return oe}function Se(we,oe){return[we,oe]}}function C(){var A=(function(){function T(){this._map=new p}return Object.defineProperty(T.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),T.prototype.has=function(B){return this._map.has(B)},T.prototype.add=function(B){return this._map.set(B,B),this},T.prototype.delete=function(B){return this._map.delete(B)},T.prototype.clear=function(){this._map.clear()},T.prototype.keys=function(){return this._map.keys()},T.prototype.values=function(){return this._map.keys()},T.prototype.entries=function(){return this._map.entries()},T.prototype["@@iterator"]=function(){return this.keys()},T.prototype[o]=function(){return this.keys()},T})();return A}function D(){var A=16,T=d.create(),B=$();return(function(){function oe(){this._key=$()}return oe.prototype.has=function(ye){var Ee=ue(ye,!1);return Ee!==void 0?d.has(Ee,this._key):!1},oe.prototype.get=function(ye){var Ee=ue(ye,!1);return Ee!==void 0?d.get(Ee,this._key):void 0},oe.prototype.set=function(ye,Ee){var he=ue(ye,!0);return he[this._key]=Ee,this},oe.prototype.delete=function(ye){var Ee=ue(ye,!1);return Ee!==void 0?delete Ee[this._key]:!1},oe.prototype.clear=function(){this._key=$()},oe})();function $(){var oe;do oe="@@WeakMap@@"+we();while(d.has(T,oe));return T[oe]=!0,oe}function ue(oe,ye){if(!r.call(oe,B)){if(!ye)return;Object.defineProperty(oe,B,{value:d.create()})}return oe[B]}function ge(oe,ye){for(var Ee=0;Ee<ye;++Ee)oe[Ee]=Math.random()*255|0;return oe}function Se(oe){if(typeof Uint8Array=="function"){var ye=new Uint8Array(oe);return typeof crypto<"u"?crypto.getRandomValues(ye):typeof msCrypto<"u"?msCrypto.getRandomValues(ye):ge(ye,oe),ye}return ge(new Array(oe),oe)}function we(){var oe=Se(A);oe[6]=oe[6]&79|64,oe[8]=oe[8]&191|128;for(var ye="",Ee=0;Ee<A;++Ee){var he=oe[Ee];(Ee===4||Ee===6||Ee===8)&&(ye+="-"),he<16&&(ye+="0"),ye+=he.toString(16).toLowerCase()}return ye}}function F(A){return A.__=void 0,delete A.__,A}})})(lq||(lq={}))});var YT=y((c0t,kU)=>{var iEe=typeof global=="object"&&global&&global.Object===Object&&global;kU.exports=iEe});var ar=y((l0t,FU)=>{var sEe=YT(),oEe=typeof self=="object"&&self&&self.Object===Object&&self,aEe=sEe||oEe||Function("return this")();FU.exports=aEe});var Qa=y((u0t,LU)=>{var cEe=ar(),lEe=cEe.Symbol;LU.exports=lEe});var UU=y((d0t,jU)=>{var BU=Qa(),qU=Object.prototype,uEe=qU.hasOwnProperty,dEe=qU.toString,Xh=BU?BU.toStringTag:void 0;function fEe(n){var e=uEe.call(n,Xh),t=n[Xh];try{n[Xh]=void 0;var r=!0}catch{}var i=dEe.call(n);return r&&(e?n[Xh]=t:delete n[Xh]),i}jU.exports=fEe});var VU=y((f0t,$U)=>{var hEe=Object.prototype,pEe=hEe.toString;function mEe(n){return pEe.call(n)}$U.exports=mEe});var ei=y((h0t,WU)=>{var HU=Qa(),gEe=UU(),yEe=VU(),bEe="[object Null]",_Ee="[object Undefined]",zU=HU?HU.toStringTag:void 0;function vEe(n){return n==null?n===void 0?_Ee:bEe:zU&&zU in Object(n)?gEe(n):yEe(n)}WU.exports=vEe});var On=y((p0t,GU)=>{function EEe(n){return n!=null&&typeof n=="object"}GU.exports=EEe});var as=y((m0t,QU)=>{var wEe=ei(),CEe=On(),DEe="[object Symbol]";function xEe(n){return typeof n=="symbol"||CEe(n)&&wEe(n)==DEe}QU.exports=xEe});var JU=y((g0t,KU)=>{var TEe=as(),SEe=NaN;function AEe(n){return typeof n=="number"?n:TEe(n)?SEe:+n}KU.exports=AEe});var Pn=y((y0t,YU)=>{function NEe(n,e){for(var t=-1,r=n==null?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}YU.exports=NEe});var Pt=y((b0t,ZU)=>{var IEe=Array.isArray;ZU.exports=IEe});var ks=y((_0t,r$)=>{var XU=Qa(),MEe=Pn(),REe=Pt(),OEe=as(),PEe=1/0,e$=XU?XU.prototype:void 0,t$=e$?e$.toString:void 0;function n$(n){if(typeof n=="string")return n;if(REe(n))return MEe(n,n$)+"";if(OEe(n))return t$?t$.call(n):"";var e=n+"";return e=="0"&&1/n==-PEe?"-0":e}r$.exports=n$});var ep=y((v0t,o$)=>{var i$=JU(),s$=ks();function kEe(n,e){return function(t,r){var i;if(t===void 0&&r===void 0)return e;if(t!==void 0&&(i=t),r!==void 0){if(i===void 0)return r;typeof t=="string"||typeof r=="string"?(t=s$(t),r=s$(r)):(t=i$(t),r=i$(r)),i=n(t,r)}return i}}o$.exports=kEe});var c$=y((E0t,a$)=>{var FEe=ep(),LEe=FEe(function(n,e){return n+e},0);a$.exports=LEe});var ZT=y((w0t,l$)=>{var BEe=/\s/;function qEe(n){for(var e=n.length;e--&&BEe.test(n.charAt(e)););return e}l$.exports=qEe});var XT=y((C0t,u$)=>{var jEe=ZT(),UEe=/^\s+/;function $Ee(n){return n&&n.slice(0,jEe(n)+1).replace(UEe,"")}u$.exports=$Ee});var Gn=y((D0t,d$)=>{function VEe(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}d$.exports=VEe});var Xo=y((x0t,p$)=>{var HEe=XT(),f$=Gn(),zEe=as(),h$=NaN,WEe=/^[-+]0x[0-9a-f]+$/i,GEe=/^0b[01]+$/i,QEe=/^0o[0-7]+$/i,KEe=parseInt;function JEe(n){if(typeof n=="number")return n;if(zEe(n))return h$;if(f$(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=f$(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=HEe(n);var t=GEe.test(n);return t||QEe.test(n)?KEe(n.slice(2),t?2:8):WEe.test(n)?h$:+n}p$.exports=JEe});var cd=y((T0t,g$)=>{var YEe=Xo(),m$=1/0,ZEe=17976931348623157e292;function XEe(n){if(!n)return n===0?n:0;if(n=YEe(n),n===m$||n===-m$){var e=n<0?-1:1;return e*ZEe}return n===n?n:0}g$.exports=XEe});var Lt=y((S0t,y$)=>{var ewe=cd();function twe(n){var e=ewe(n),t=e%1;return e===e?t?e-t:e:0}y$.exports=twe});var _$=y((A0t,b$)=>{var nwe=Lt(),rwe="Expected a function";function iwe(n,e){if(typeof e!="function")throw new TypeError(rwe);return n=nwe(n),function(){if(--n<1)return e.apply(this,arguments)}}b$.exports=iwe});var yi=y((N0t,v$)=>{function swe(n){return n}v$.exports=swe});var go=y((I0t,E$)=>{var owe=ei(),awe=Gn(),cwe="[object AsyncFunction]",lwe="[object Function]",uwe="[object GeneratorFunction]",dwe="[object Proxy]";function fwe(n){if(!awe(n))return!1;var e=owe(n);return e==lwe||e==uwe||e==cwe||e==dwe}E$.exports=fwe});var eS=y((M0t,w$)=>{var hwe=ar(),pwe=hwe["__core-js_shared__"];w$.exports=pwe});var x$=y((R0t,D$)=>{var tS=eS(),C$=(function(){var n=/[^.]+$/.exec(tS&&tS.keys&&tS.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function mwe(n){return!!C$&&C$ in n}D$.exports=mwe});var nS=y((O0t,T$)=>{var gwe=Function.prototype,ywe=gwe.toString;function bwe(n){if(n!=null){try{return ywe.call(n)}catch{}try{return n+""}catch{}}return""}T$.exports=bwe});var rS=y((P0t,S$)=>{var _we=go(),vwe=x$(),Ewe=Gn(),wwe=nS(),Cwe=/[\\^$.*+?()[\]{}|]/g,Dwe=/^\[object .+?Constructor\]$/,xwe=Function.prototype,Twe=Object.prototype,Swe=xwe.toString,Awe=Twe.hasOwnProperty,Nwe=RegExp("^"+Swe.call(Awe).replace(Cwe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Iwe(n){if(!Ewe(n)||vwe(n))return!1;var e=_we(n)?Nwe:Dwe;return e.test(wwe(n))}S$.exports=Iwe});var N$=y((k0t,A$)=>{function Mwe(n,e){return n?.[e]}A$.exports=Mwe});var Ka=y((F0t,I$)=>{var Rwe=rS(),Owe=N$();function Pwe(n,e){var t=Owe(n,e);return Rwe(t)?t:void 0}I$.exports=Pwe});var iS=y((L0t,M$)=>{var kwe=Ka(),Fwe=ar(),Lwe=kwe(Fwe,"WeakMap");M$.exports=Lwe});var sS=y((B0t,O$)=>{var R$=iS(),Bwe=R$&&new R$;O$.exports=Bwe});var oS=y((q0t,k$)=>{var qwe=yi(),P$=sS(),jwe=P$?function(n,e){return P$.set(n,e),n}:qwe;k$.exports=jwe});var pl=y((j0t,L$)=>{var Uwe=Gn(),F$=Object.create,$we=(function(){function n(){}return function(e){if(!Uwe(e))return{};if(F$)return F$(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}})();L$.exports=$we});var tp=y((U0t,B$)=>{var Vwe=pl(),Hwe=Gn();function zwe(n){return function(){var e=arguments;switch(e.length){case 0:return new n;case 1:return new n(e[0]);case 2:return new n(e[0],e[1]);case 3:return new n(e[0],e[1],e[2]);case 4:return new n(e[0],e[1],e[2],e[3]);case 5:return new n(e[0],e[1],e[2],e[3],e[4]);case 6:return new n(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new n(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=Vwe(n.prototype),r=n.apply(t,e);return Hwe(r)?r:t}}B$.exports=zwe});var j$=y(($0t,q$)=>{var Wwe=tp(),Gwe=ar(),Qwe=1;function Kwe(n,e,t){var r=e&Qwe,i=Wwe(n);function s(){var o=this&&this!==Gwe&&this instanceof s?i:n;return o.apply(r?t:this,arguments)}return s}q$.exports=Kwe});var Hi=y((V0t,U$)=>{function Jwe(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}U$.exports=Jwe});var aS=y((H0t,$$)=>{var Ywe=Math.max;function Zwe(n,e,t,r){for(var i=-1,s=n.length,o=t.length,a=-1,c=e.length,l=Ywe(s-o,0),d=Array(c+l),h=!r;++a<c;)d[a]=e[a];for(;++i<o;)(h||i<s)&&(d[t[i]]=n[i]);for(;l--;)d[a++]=n[i++];return d}$$.exports=Zwe});var cS=y((z0t,V$)=>{var Xwe=Math.max;function eCe(n,e,t,r){for(var i=-1,s=n.length,o=-1,a=t.length,c=-1,l=e.length,d=Xwe(s-a,0),h=Array(d+l),p=!r;++i<d;)h[i]=n[i];for(var b=i;++c<l;)h[b+c]=e[c];for(;++o<a;)(p||i<s)&&(h[b+t[o]]=n[i++]);return h}V$.exports=eCe});var z$=y((W0t,H$)=>{function tCe(n,e){for(var t=n.length,r=0;t--;)n[t]===e&&++r;return r}H$.exports=tCe});var a_=y((G0t,W$)=>{function nCe(){}W$.exports=nCe});var l_=y((Q0t,G$)=>{var rCe=pl(),iCe=a_(),sCe=4294967295;function c_(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=sCe,this.__views__=[]}c_.prototype=rCe(iCe.prototype);c_.prototype.constructor=c_;G$.exports=c_});var u_=y((K0t,Q$)=>{function oCe(){}Q$.exports=oCe});var d_=y((J0t,J$)=>{var K$=sS(),aCe=u_(),cCe=K$?function(n){return K$.get(n)}:aCe;J$.exports=cCe});var Z$=y((Y0t,Y$)=>{var lCe={};Y$.exports=lCe});var lS=y((Z0t,e2)=>{var X$=Z$(),uCe=Object.prototype,dCe=uCe.hasOwnProperty;function fCe(n){for(var e=n.name+"",t=X$[e],r=dCe.call(X$,e)?t.length:0;r--;){var i=t[r],s=i.func;if(s==null||s==n)return i.name}return e}e2.exports=fCe});var h_=y((X0t,t2)=>{var hCe=pl(),pCe=a_();function f_(n,e){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}f_.prototype=hCe(pCe.prototype);f_.prototype.constructor=f_;t2.exports=f_});var cs=y((eDt,n2)=>{function mCe(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}n2.exports=mCe});var i2=y((tDt,r2)=>{var gCe=l_(),yCe=h_(),bCe=cs();function _Ce(n){if(n instanceof gCe)return n.clone();var e=new yCe(n.__wrapped__,n.__chain__);return e.__actions__=bCe(n.__actions__),e.__index__=n.__index__,e.__values__=n.__values__,e}r2.exports=_Ce});var uS=y((nDt,o2)=>{var vCe=l_(),s2=h_(),ECe=a_(),wCe=Pt(),CCe=On(),DCe=i2(),xCe=Object.prototype,TCe=xCe.hasOwnProperty;function p_(n){if(CCe(n)&&!wCe(n)&&!(n instanceof vCe)){if(n instanceof s2)return n;if(TCe.call(n,"__wrapped__"))return DCe(n)}return new s2(n)}p_.prototype=ECe.prototype;p_.prototype.constructor=p_;o2.exports=p_});var dS=y((rDt,a2)=>{var SCe=l_(),ACe=d_(),NCe=lS(),ICe=uS();function MCe(n){var e=NCe(n),t=ICe[e];if(typeof t!="function"||!(e in SCe.prototype))return!1;if(n===t)return!0;var r=ACe(t);return!!r&&n===r[0]}a2.exports=MCe});var fS=y((iDt,c2)=>{var RCe=800,OCe=16,PCe=Date.now;function kCe(n){var e=0,t=0;return function(){var r=PCe(),i=OCe-(r-t);if(t=r,i>0){if(++e>=RCe)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}c2.exports=kCe});var hS=y((sDt,l2)=>{var FCe=oS(),LCe=fS(),BCe=LCe(FCe);l2.exports=BCe});var d2=y((oDt,u2)=>{var qCe=/\{\n\/\* \[wrapped with (.+)\] \*/,jCe=/,? & /;function UCe(n){var e=n.match(qCe);return e?e[1].split(jCe):[]}u2.exports=UCe});var h2=y((aDt,f2)=>{var $Ce=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function VCe(n,e){var t=e.length;if(!t)return n;var r=t-1;return e[r]=(t>1?"& ":"")+e[r],e=e.join(t>2?", ":" "),n.replace($Ce,`{
/* [wrapped with `+e+`] */
`)}f2.exports=VCe});var m_=y((cDt,p2)=>{function HCe(n){return function(){return n}}p2.exports=HCe});var pS=y((lDt,m2)=>{var zCe=Ka(),WCe=(function(){try{var n=zCe(Object,"defineProperty");return n({},"",{}),n}catch{}})();m2.exports=WCe});var b2=y((uDt,y2)=>{var GCe=m_(),g2=pS(),QCe=yi(),KCe=g2?function(n,e){return g2(n,"toString",{configurable:!0,enumerable:!1,value:GCe(e),writable:!0})}:QCe;y2.exports=KCe});var g_=y((dDt,_2)=>{var JCe=b2(),YCe=fS(),ZCe=YCe(JCe);_2.exports=ZCe});var ml=y((fDt,v2)=>{function XCe(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}v2.exports=XCe});var np=y((hDt,E2)=>{function e0e(n,e,t,r){for(var i=n.length,s=t+(r?1:-1);r?s--:++s<i;)if(e(n[s],s,n))return s;return-1}E2.exports=e0e});var mS=y((pDt,w2)=>{function t0e(n){return n!==n}w2.exports=t0e});var D2=y((mDt,C2)=>{function n0e(n,e,t){for(var r=t-1,i=n.length;++r<i;)if(n[r]===e)return r;return-1}C2.exports=n0e});var gl=y((gDt,x2)=>{var r0e=np(),i0e=mS(),s0e=D2();function o0e(n,e,t){return e===e?s0e(n,e,t):r0e(n,i0e,t)}x2.exports=o0e});var rp=y((yDt,T2)=>{var a0e=gl();function c0e(n,e){var t=n==null?0:n.length;return!!t&&a0e(n,e,0)>-1}T2.exports=c0e});var A2=y((bDt,S2)=>{var l0e=ml(),u0e=rp(),d0e=1,f0e=2,h0e=8,p0e=16,m0e=32,g0e=64,y0e=128,b0e=256,_0e=512,v0e=[["ary",y0e],["bind",d0e],["bindKey",f0e],["curry",h0e],["curryRight",p0e],["flip",_0e],["partial",m0e],["partialRight",g0e],["rearg",b0e]];function E0e(n,e){return l0e(v0e,function(t){var r="_."+t[0];e&t[1]&&!u0e(n,r)&&n.push(r)}),n.sort()}S2.exports=E0e});var gS=y((_Dt,N2)=>{var w0e=d2(),C0e=h2(),D0e=g_(),x0e=A2();function T0e(n,e,t){var r=e+"";return D0e(n,C0e(r,x0e(w0e(r),t)))}N2.exports=T0e});var yS=y((vDt,R2)=>{var S0e=dS(),A0e=hS(),N0e=gS(),I0e=1,M0e=2,R0e=4,O0e=8,I2=32,M2=64;function P0e(n,e,t,r,i,s,o,a,c,l){var d=e&O0e,h=d?o:void 0,p=d?void 0:o,b=d?s:void 0,v=d?void 0:s;e|=d?I2:M2,e&=~(d?M2:I2),e&R0e||(e&=~(I0e|M0e));var x=[n,e,i,b,h,v,p,a,c,l],N=t.apply(void 0,x);return S0e(n)&&A0e(N,x),N.placeholder=r,N0e(N,n,e)}R2.exports=P0e});var yl=y((EDt,O2)=>{function k0e(n){var e=n;return e.placeholder}O2.exports=k0e});var ea=y((wDt,P2)=>{var F0e=9007199254740991,L0e=/^(?:0|[1-9]\d*)$/;function B0e(n,e){var t=typeof n;return e=e??F0e,!!e&&(t=="number"||t!="symbol"&&L0e.test(n))&&n>-1&&n%1==0&&n<e}P2.exports=B0e});var F2=y((CDt,k2)=>{var q0e=cs(),j0e=ea(),U0e=Math.min;function $0e(n,e){for(var t=n.length,r=U0e(e.length,t),i=q0e(n);r--;){var s=e[r];n[r]=j0e(s,t)?i[s]:void 0}return n}k2.exports=$0e});var Ja=y((DDt,B2)=>{var L2="__lodash_placeholder__";function V0e(n,e){for(var t=-1,r=n.length,i=0,s=[];++t<r;){var o=n[t];(o===e||o===L2)&&(n[t]=L2,s[i++]=t)}return s}B2.exports=V0e});var bS=y((xDt,U2)=>{var H0e=aS(),z0e=cS(),W0e=z$(),q2=tp(),G0e=yS(),Q0e=yl(),K0e=F2(),J0e=Ja(),Y0e=ar(),Z0e=1,X0e=2,eDe=8,tDe=16,nDe=128,rDe=512;function j2(n,e,t,r,i,s,o,a,c,l){var d=e&nDe,h=e&Z0e,p=e&X0e,b=e&(eDe|tDe),v=e&rDe,x=p?void 0:q2(n);function N(){for(var k=arguments.length,ee=Array(k),X=k;X--;)ee[X]=arguments[X];if(b)var ne=Q0e(N),de=W0e(ee,ne);if(r&&(ee=H0e(ee,r,i,b)),s&&(ee=z0e(ee,s,o,b)),k-=de,b&&k<l){var g=J0e(ee,ne);return G0e(n,e,j2,N.placeholder,t,ee,g,a,c,l-k)}var xe=h?t:this,Ce=p?xe[n]:n;return k=ee.length,a?ee=K0e(ee,a):v&&k>1&&ee.reverse(),d&&c<k&&(ee.length=c),this&&this!==Y0e&&this instanceof N&&(Ce=x||q2(Ce)),Ce.apply(xe,ee)}return N}U2.exports=j2});var V2=y((TDt,$2)=>{var iDe=Hi(),sDe=tp(),oDe=bS(),aDe=yS(),cDe=yl(),lDe=Ja(),uDe=ar();function dDe(n,e,t){var r=sDe(n);function i(){for(var s=arguments.length,o=Array(s),a=s,c=cDe(i);a--;)o[a]=arguments[a];var l=s<3&&o[0]!==c&&o[s-1]!==c?[]:lDe(o,c);if(s-=l.length,s<t)return aDe(n,e,oDe,i.placeholder,void 0,o,l,void 0,void 0,t-s);var d=this&&this!==uDe&&this instanceof i?r:n;return iDe(d,this,o)}return i}$2.exports=dDe});var z2=y((SDt,H2)=>{var fDe=Hi(),hDe=tp(),pDe=ar(),mDe=1;function gDe(n,e,t,r){var i=e&mDe,s=hDe(n);function o(){for(var a=-1,c=arguments.length,l=-1,d=r.length,h=Array(d+c),p=this&&this!==pDe&&this instanceof o?s:n;++l<d;)h[l]=r[l];for(;c--;)h[l++]=arguments[++a];return fDe(p,i?t:this,h)}return o}H2.exports=gDe});var Y2=y((ADt,J2)=>{var yDe=aS(),bDe=cS(),W2=Ja(),G2="__lodash_placeholder__",_S=1,_De=2,vDe=4,Q2=8,ip=128,K2=256,EDe=Math.min;function wDe(n,e){var t=n[1],r=e[1],i=t|r,s=i<(_S|_De|ip),o=r==ip&&t==Q2||r==ip&&t==K2&&n[7].length<=e[8]||r==(ip|K2)&&e[7].length<=e[8]&&t==Q2;if(!(s||o))return n;r&_S&&(n[2]=e[2],i|=t&_S?0:vDe);var a=e[3];if(a){var c=n[3];n[3]=c?yDe(c,a,e[4]):a,n[4]=c?W2(n[3],G2):e[4]}return a=e[5],a&&(c=n[5],n[5]=c?bDe(c,a,e[6]):a,n[6]=c?W2(n[5],G2):e[6]),a=e[7],a&&(n[7]=a),r&ip&&(n[8]=n[8]==null?e[8]:EDe(n[8],e[8])),n[9]==null&&(n[9]=e[9]),n[0]=e[0],n[1]=i,n}J2.exports=wDe});var yo=y((NDt,nV)=>{var CDe=oS(),DDe=j$(),xDe=V2(),TDe=bS(),SDe=z2(),ADe=d_(),NDe=Y2(),IDe=hS(),MDe=gS(),Z2=Lt(),RDe="Expected a function",X2=1,ODe=2,vS=8,ES=16,wS=32,eV=64,tV=Math.max;function PDe(n,e,t,r,i,s,o,a){var c=e&ODe;if(!c&&typeof n!="function")throw new TypeError(RDe);var l=r?r.length:0;if(l||(e&=~(wS|eV),r=i=void 0),o=o===void 0?o:tV(Z2(o),0),a=a===void 0?a:Z2(a),l-=i?i.length:0,e&eV){var d=r,h=i;r=i=void 0}var p=c?void 0:ADe(n),b=[n,e,t,r,i,d,h,s,o,a];if(p&&NDe(b,p),n=b[0],e=b[1],t=b[2],r=b[3],i=b[4],a=b[9]=b[9]===void 0?c?0:n.length:tV(b[9]-l,0),!a&&e&(vS|ES)&&(e&=~(vS|ES)),!e||e==X2)var v=DDe(n,e,t);else e==vS||e==ES?v=xDe(n,e,a):(e==wS||e==(X2|wS))&&!i.length?v=SDe(n,e,t,r):v=TDe.apply(void 0,b);var x=p?CDe:IDe;return MDe(x(v,b),n,e)}nV.exports=PDe});var CS=y((IDt,rV)=>{var kDe=yo(),FDe=128;function LDe(n,e,t){return e=t?void 0:e,e=n&&e==null?n.length:e,kDe(n,FDe,void 0,void 0,void 0,void 0,e)}rV.exports=LDe});var bo=y((MDt,sV)=>{var iV=pS();function BDe(n,e,t){e=="__proto__"&&iV?iV(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}sV.exports=BDe});var ls=y((RDt,oV)=>{function qDe(n,e){return n===e||n!==n&&e!==e}oV.exports=qDe});var ld=y((ODt,aV)=>{var jDe=bo(),UDe=ls(),$De=Object.prototype,VDe=$De.hasOwnProperty;function HDe(n,e,t){var r=n[e];(!(VDe.call(n,e)&&UDe(r,t))||t===void 0&&!(e in n))&&jDe(n,e,t)}aV.exports=HDe});var Fs=y((PDt,cV)=>{var zDe=ld(),WDe=bo();function GDe(n,e,t,r){var i=!t;t||(t={});for(var s=-1,o=e.length;++s<o;){var a=e[s],c=r?r(t[a],n[a],a,t,n):void 0;c===void 0&&(c=n[a]),i?WDe(t,a,c):zDe(t,a,c)}return t}cV.exports=GDe});var DS=y((kDt,uV)=>{var QDe=Hi(),lV=Math.max;function KDe(n,e,t){return e=lV(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,s=lV(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=t(o),QDe(n,this,a)}}uV.exports=KDe});var St=y((FDt,dV)=>{var JDe=yi(),YDe=DS(),ZDe=g_();function XDe(n,e){return ZDe(YDe(n,e,JDe),n+"")}dV.exports=XDe});var sp=y((LDt,fV)=>{var exe=9007199254740991;function txe(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=exe}fV.exports=txe});var ti=y((BDt,hV)=>{var nxe=go(),rxe=sp();function ixe(n){return n!=null&&rxe(n.length)&&!nxe(n)}hV.exports=ixe});var ni=y((qDt,pV)=>{var sxe=ls(),oxe=ti(),axe=ea(),cxe=Gn();function lxe(n,e,t){if(!cxe(t))return!1;var r=typeof e;return(r=="number"?oxe(t)&&axe(e,t.length):r=="string"&&e in t)?sxe(t[e],n):!1}pV.exports=lxe});var bl=y((jDt,mV)=>{var uxe=St(),dxe=ni();function fxe(n){return uxe(function(e,t){var r=-1,i=t.length,s=i>1?t[i-1]:void 0,o=i>2?t[2]:void 0;for(s=n.length>3&&typeof s=="function"?(i--,s):void 0,o&&dxe(t[0],t[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=t[r];a&&n(e,a,r,s)}return e})}mV.exports=fxe});var ud=y((UDt,gV)=>{var hxe=Object.prototype;function pxe(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||hxe;return n===t}gV.exports=pxe});var y_=y(($Dt,yV)=>{function mxe(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}yV.exports=mxe});var _V=y((VDt,bV)=>{var gxe=ei(),yxe=On(),bxe="[object Arguments]";function _xe(n){return yxe(n)&&gxe(n)==bxe}bV.exports=_xe});var _l=y((HDt,wV)=>{var vV=_V(),vxe=On(),EV=Object.prototype,Exe=EV.hasOwnProperty,wxe=EV.propertyIsEnumerable,Cxe=vV((function(){return arguments})())?vV:function(n){return vxe(n)&&Exe.call(n,"callee")&&!wxe.call(n,"callee")};wV.exports=Cxe});var b_=y((zDt,CV)=>{function Dxe(){return!1}CV.exports=Dxe});var Ya=y((op,dd)=>{var xxe=ar(),Txe=b_(),TV=typeof op=="object"&&op&&!op.nodeType&&op,DV=TV&&typeof dd=="object"&&dd&&!dd.nodeType&&dd,Sxe=DV&&DV.exports===TV,xV=Sxe?xxe.Buffer:void 0,Axe=xV?xV.isBuffer:void 0,Nxe=Axe||Txe;dd.exports=Nxe});var AV=y((WDt,SV)=>{var Ixe=ei(),Mxe=sp(),Rxe=On(),Oxe="[object Arguments]",Pxe="[object Array]",kxe="[object Boolean]",Fxe="[object Date]",Lxe="[object Error]",Bxe="[object Function]",qxe="[object Map]",jxe="[object Number]",Uxe="[object Object]",$xe="[object RegExp]",Vxe="[object Set]",Hxe="[object String]",zxe="[object WeakMap]",Wxe="[object ArrayBuffer]",Gxe="[object DataView]",Qxe="[object Float32Array]",Kxe="[object Float64Array]",Jxe="[object Int8Array]",Yxe="[object Int16Array]",Zxe="[object Int32Array]",Xxe="[object Uint8Array]",eTe="[object Uint8ClampedArray]",tTe="[object Uint16Array]",nTe="[object Uint32Array]",vn={};vn[Qxe]=vn[Kxe]=vn[Jxe]=vn[Yxe]=vn[Zxe]=vn[Xxe]=vn[eTe]=vn[tTe]=vn[nTe]=!0;vn[Oxe]=vn[Pxe]=vn[Wxe]=vn[kxe]=vn[Gxe]=vn[Fxe]=vn[Lxe]=vn[Bxe]=vn[qxe]=vn[jxe]=vn[Uxe]=vn[$xe]=vn[Vxe]=vn[Hxe]=vn[zxe]=!1;function rTe(n){return Rxe(n)&&Mxe(n.length)&&!!vn[Ixe(n)]}SV.exports=rTe});var zi=y((GDt,NV)=>{function iTe(n){return function(e){return n(e)}}NV.exports=iTe});var vl=y((ap,fd)=>{var sTe=YT(),IV=typeof ap=="object"&&ap&&!ap.nodeType&&ap,cp=IV&&typeof fd=="object"&&fd&&!fd.nodeType&&fd,oTe=cp&&cp.exports===IV,xS=oTe&&sTe.process,aTe=(function(){try{var n=cp&&cp.require&&cp.require("util").types;return n||xS&&xS.binding&&xS.binding("util")}catch{}})();fd.exports=aTe});var El=y((QDt,OV)=>{var cTe=AV(),lTe=zi(),MV=vl(),RV=MV&&MV.isTypedArray,uTe=RV?lTe(RV):cTe;OV.exports=uTe});var TS=y((KDt,PV)=>{var dTe=y_(),fTe=_l(),hTe=Pt(),pTe=Ya(),mTe=ea(),gTe=El(),yTe=Object.prototype,bTe=yTe.hasOwnProperty;function _Te(n,e){var t=hTe(n),r=!t&&fTe(n),i=!t&&!r&&pTe(n),s=!t&&!r&&!i&&gTe(n),o=t||r||i||s,a=o?dTe(n.length,String):[],c=a.length;for(var l in n)(e||bTe.call(n,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||s&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||mTe(l,c)))&&a.push(l);return a}PV.exports=_Te});var SS=y((JDt,kV)=>{function vTe(n,e){return function(t){return n(e(t))}}kV.exports=vTe});var LV=y((YDt,FV)=>{var ETe=SS(),wTe=ETe(Object.keys,Object);FV.exports=wTe});var __=y((ZDt,BV)=>{var CTe=ud(),DTe=LV(),xTe=Object.prototype,TTe=xTe.hasOwnProperty;function STe(n){if(!CTe(n))return DTe(n);var e=[];for(var t in Object(n))TTe.call(n,t)&&t!="constructor"&&e.push(t);return e}BV.exports=STe});var br=y((XDt,qV)=>{var ATe=TS(),NTe=__(),ITe=ti();function MTe(n){return ITe(n)?ATe(n):NTe(n)}qV.exports=MTe});var UV=y((ext,jV)=>{var RTe=ld(),OTe=Fs(),PTe=bl(),kTe=ti(),FTe=ud(),LTe=br(),BTe=Object.prototype,qTe=BTe.hasOwnProperty,jTe=PTe(function(n,e){if(FTe(e)||kTe(e)){OTe(e,LTe(e),n);return}for(var t in e)qTe.call(e,t)&&RTe(n,t,e[t])});jV.exports=jTe});var VV=y((txt,$V)=>{function UTe(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}$V.exports=UTe});var zV=y((nxt,HV)=>{var $Te=Gn(),VTe=ud(),HTe=VV(),zTe=Object.prototype,WTe=zTe.hasOwnProperty;function GTe(n){if(!$Te(n))return HTe(n);var e=VTe(n),t=[];for(var r in n)r=="constructor"&&(e||!WTe.call(n,r))||t.push(r);return t}HV.exports=GTe});var ri=y((rxt,WV)=>{var QTe=TS(),KTe=zV(),JTe=ti();function YTe(n){return JTe(n)?QTe(n,!0):KTe(n)}WV.exports=YTe});var AS=y((ixt,GV)=>{var ZTe=Fs(),XTe=bl(),eSe=ri(),tSe=XTe(function(n,e){ZTe(e,eSe(e),n)});GV.exports=tSe});var v_=y((sxt,QV)=>{var nSe=Fs(),rSe=bl(),iSe=ri(),sSe=rSe(function(n,e,t,r){nSe(e,iSe(e),n,r)});QV.exports=sSe});var JV=y((oxt,KV)=>{var oSe=Fs(),aSe=bl(),cSe=br(),lSe=aSe(function(n,e,t,r){oSe(e,cSe(e),n,r)});KV.exports=lSe});var E_=y((axt,YV)=>{var uSe=Pt(),dSe=as(),fSe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hSe=/^\w*$/;function pSe(n,e){if(uSe(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||dSe(n)?!0:hSe.test(n)||!fSe.test(n)||e!=null&&n in Object(e)}YV.exports=pSe});var lp=y((cxt,ZV)=>{var mSe=Ka(),gSe=mSe(Object,"create");ZV.exports=gSe});var tH=y((lxt,eH)=>{var XV=lp();function ySe(){this.__data__=XV?XV(null):{},this.size=0}eH.exports=ySe});var rH=y((uxt,nH)=>{function bSe(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}nH.exports=bSe});var sH=y((dxt,iH)=>{var _Se=lp(),vSe="__lodash_hash_undefined__",ESe=Object.prototype,wSe=ESe.hasOwnProperty;function CSe(n){var e=this.__data__;if(_Se){var t=e[n];return t===vSe?void 0:t}return wSe.call(e,n)?e[n]:void 0}iH.exports=CSe});var aH=y((fxt,oH)=>{var DSe=lp(),xSe=Object.prototype,TSe=xSe.hasOwnProperty;function SSe(n){var e=this.__data__;return DSe?e[n]!==void 0:TSe.call(e,n)}oH.exports=SSe});var lH=y((hxt,cH)=>{var ASe=lp(),NSe="__lodash_hash_undefined__";function ISe(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=ASe&&e===void 0?NSe:e,this}cH.exports=ISe});var dH=y((pxt,uH)=>{var MSe=tH(),RSe=rH(),OSe=sH(),PSe=aH(),kSe=lH();function hd(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}hd.prototype.clear=MSe;hd.prototype.delete=RSe;hd.prototype.get=OSe;hd.prototype.has=PSe;hd.prototype.set=kSe;uH.exports=hd});var hH=y((mxt,fH)=>{function FSe(){this.__data__=[],this.size=0}fH.exports=FSe});var up=y((gxt,pH)=>{var LSe=ls();function BSe(n,e){for(var t=n.length;t--;)if(LSe(n[t][0],e))return t;return-1}pH.exports=BSe});var gH=y((yxt,mH)=>{var qSe=up(),jSe=Array.prototype,USe=jSe.splice;function $Se(n){var e=this.__data__,t=qSe(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():USe.call(e,t,1),--this.size,!0}mH.exports=$Se});var bH=y((bxt,yH)=>{var VSe=up();function HSe(n){var e=this.__data__,t=VSe(e,n);return t<0?void 0:e[t][1]}yH.exports=HSe});var vH=y((_xt,_H)=>{var zSe=up();function WSe(n){return zSe(this.__data__,n)>-1}_H.exports=WSe});var wH=y((vxt,EH)=>{var GSe=up();function QSe(n,e){var t=this.__data__,r=GSe(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}EH.exports=QSe});var dp=y((Ext,CH)=>{var KSe=hH(),JSe=gH(),YSe=bH(),ZSe=vH(),XSe=wH();function pd(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}pd.prototype.clear=KSe;pd.prototype.delete=JSe;pd.prototype.get=YSe;pd.prototype.has=ZSe;pd.prototype.set=XSe;CH.exports=pd});var w_=y((wxt,DH)=>{var eAe=Ka(),tAe=ar(),nAe=eAe(tAe,"Map");DH.exports=nAe});var SH=y((Cxt,TH)=>{var xH=dH(),rAe=dp(),iAe=w_();function sAe(){this.size=0,this.__data__={hash:new xH,map:new(iAe||rAe),string:new xH}}TH.exports=sAe});var NH=y((Dxt,AH)=>{function oAe(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}AH.exports=oAe});var fp=y((xxt,IH)=>{var aAe=NH();function cAe(n,e){var t=n.__data__;return aAe(e)?t[typeof e=="string"?"string":"hash"]:t.map}IH.exports=cAe});var RH=y((Txt,MH)=>{var lAe=fp();function uAe(n){var e=lAe(this,n).delete(n);return this.size-=e?1:0,e}MH.exports=uAe});var PH=y((Sxt,OH)=>{var dAe=fp();function fAe(n){return dAe(this,n).get(n)}OH.exports=fAe});var FH=y((Axt,kH)=>{var hAe=fp();function pAe(n){return hAe(this,n).has(n)}kH.exports=pAe});var BH=y((Nxt,LH)=>{var mAe=fp();function gAe(n,e){var t=mAe(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}LH.exports=gAe});var C_=y((Ixt,qH)=>{var yAe=SH(),bAe=RH(),_Ae=PH(),vAe=FH(),EAe=BH();function md(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}md.prototype.clear=yAe;md.prototype.delete=bAe;md.prototype.get=_Ae;md.prototype.has=vAe;md.prototype.set=EAe;qH.exports=md});var IS=y((Mxt,UH)=>{var jH=C_(),wAe="Expected a function";function NS(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(wAe);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=t.cache;if(s.has(i))return s.get(i);var o=n.apply(this,r);return t.cache=s.set(i,o)||s,o};return t.cache=new(NS.Cache||jH),t}NS.Cache=jH;UH.exports=NS});var VH=y((Rxt,$H)=>{var CAe=IS(),DAe=500;function xAe(n){var e=CAe(n,function(r){return t.size===DAe&&t.clear(),r}),t=e.cache;return e}$H.exports=xAe});var MS=y((Oxt,HH)=>{var TAe=VH(),SAe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,AAe=/\\(\\)?/g,NAe=TAe(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(SAe,function(t,r,i,s){e.push(i?s.replace(AAe,"$1"):r||t)}),e});HH.exports=NAe});var rn=y((Pxt,zH)=>{var IAe=ks();function MAe(n){return n==null?"":IAe(n)}zH.exports=MAe});var ta=y((kxt,WH)=>{var RAe=Pt(),OAe=E_(),PAe=MS(),kAe=rn();function FAe(n,e){return RAe(n)?n:OAe(n,e)?[n]:PAe(kAe(n))}WH.exports=FAe});var Ls=y((Fxt,GH)=>{var LAe=as(),BAe=1/0;function qAe(n){if(typeof n=="string"||LAe(n))return n;var e=n+"";return e=="0"&&1/n==-BAe?"-0":e}GH.exports=qAe});var Za=y((Lxt,QH)=>{var jAe=ta(),UAe=Ls();function $Ae(n,e){e=jAe(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[UAe(e[t++])];return t&&t==r?n:void 0}QH.exports=$Ae});var D_=y((Bxt,KH)=>{var VAe=Za();function HAe(n,e,t){var r=n==null?void 0:VAe(n,e);return r===void 0?t:r}KH.exports=HAe});var RS=y((qxt,JH)=>{var zAe=D_();function WAe(n,e){for(var t=-1,r=e.length,i=Array(r),s=n==null;++t<r;)i[t]=s?void 0:zAe(n,e[t]);return i}JH.exports=WAe});var wl=y((jxt,YH)=>{function GAe(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}YH.exports=GAe});var tz=y((Uxt,ez)=>{var ZH=Qa(),QAe=_l(),KAe=Pt(),XH=ZH?ZH.isConcatSpreadable:void 0;function JAe(n){return KAe(n)||QAe(n)||!!(XH&&n&&n[XH])}ez.exports=JAe});var Sr=y(($xt,rz)=>{var YAe=wl(),ZAe=tz();function nz(n,e,t,r,i){var s=-1,o=n.length;for(t||(t=ZAe),i||(i=[]);++s<o;){var a=n[s];e>0&&t(a)?e>1?nz(a,e-1,t,r,i):YAe(i,a):r||(i[i.length]=a)}return i}rz.exports=nz});var OS=y((Vxt,iz)=>{var XAe=Sr();function eNe(n){var e=n==null?0:n.length;return e?XAe(n,1):[]}iz.exports=eNe});var na=y((Hxt,sz)=>{var tNe=OS(),nNe=DS(),rNe=g_();function iNe(n){return rNe(nNe(n,void 0,tNe),n+"")}sz.exports=iNe});var az=y((zxt,oz)=>{var sNe=RS(),oNe=na(),aNe=oNe(sNe);oz.exports=aNe});var hp=y((Wxt,cz)=>{var cNe=SS(),lNe=cNe(Object.getPrototypeOf,Object);cz.exports=lNe});var gd=y((Gxt,uz)=>{var uNe=ei(),dNe=hp(),fNe=On(),hNe="[object Object]",pNe=Function.prototype,mNe=Object.prototype,lz=pNe.toString,gNe=mNe.hasOwnProperty,yNe=lz.call(Object);function bNe(n){if(!fNe(n)||uNe(n)!=hNe)return!1;var e=dNe(n);if(e===null)return!0;var t=gNe.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&lz.call(t)==yNe}uz.exports=bNe});var x_=y((Qxt,dz)=>{var _Ne=ei(),vNe=On(),ENe=gd(),wNe="[object DOMException]",CNe="[object Error]";function DNe(n){if(!vNe(n))return!1;var e=_Ne(n);return e==CNe||e==wNe||typeof n.message=="string"&&typeof n.name=="string"&&!ENe(n)}dz.exports=DNe});var PS=y((Kxt,fz)=>{var xNe=Hi(),TNe=St(),SNe=x_(),ANe=TNe(function(n,e){try{return xNe(n,void 0,e)}catch(t){return SNe(t)?t:new Error(t)}});fz.exports=ANe});var kS=y((Jxt,hz)=>{var NNe=Lt(),INe="Expected a function";function MNe(n,e){var t;if(typeof e!="function")throw new TypeError(INe);return n=NNe(n),function(){return--n>0&&(t=e.apply(this,arguments)),n<=1&&(e=void 0),t}}hz.exports=MNe});var LS=y((Yxt,pz)=>{var RNe=St(),ONe=yo(),PNe=yl(),kNe=Ja(),FNe=1,LNe=32,FS=RNe(function(n,e,t){var r=FNe;if(t.length){var i=kNe(t,PNe(FS));r|=LNe}return ONe(n,r,e,t,i)});FS.placeholder={};pz.exports=FS});var gz=y((Zxt,mz)=>{var BNe=ml(),qNe=bo(),jNe=LS(),UNe=na(),$Ne=Ls(),VNe=UNe(function(n,e){return BNe(e,function(t){t=$Ne(t),qNe(n,t,jNe(n[t],n))}),n});mz.exports=VNe});var bz=y((Xxt,yz)=>{var HNe=St(),zNe=yo(),WNe=yl(),GNe=Ja(),QNe=1,KNe=2,JNe=32,BS=HNe(function(n,e,t){var r=QNe|KNe;if(t.length){var i=GNe(t,WNe(BS));r|=JNe}return zNe(e,r,n,t,i)});BS.placeholder={};yz.exports=BS});var us=y((eTt,_z)=>{function YNe(n,e,t){var r=-1,i=n.length;e<0&&(e=-e>i?0:i+e),t=t>i?i:t,t<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=n[r+e];return s}_z.exports=YNe});var ra=y((tTt,vz)=>{var ZNe=us();function XNe(n,e,t){var r=n.length;return t=t===void 0?r:t,!e&&t>=r?n:ZNe(n,e,t)}vz.exports=XNe});var Cl=y((nTt,Ez)=>{var eIe="\\ud800-\\udfff",tIe="\\u0300-\\u036f",nIe="\\ufe20-\\ufe2f",rIe="\\u20d0-\\u20ff",iIe=tIe+nIe+rIe,sIe="\\ufe0e\\ufe0f",oIe="\\u200d",aIe=RegExp("["+oIe+eIe+iIe+sIe+"]");function cIe(n){return aIe.test(n)}Ez.exports=cIe});var Cz=y((rTt,wz)=>{function lIe(n){return n.split("")}wz.exports=lIe});var Mz=y((iTt,Iz)=>{var Dz="\\ud800-\\udfff",uIe="\\u0300-\\u036f",dIe="\\ufe20-\\ufe2f",fIe="\\u20d0-\\u20ff",hIe=uIe+dIe+fIe,pIe="\\ufe0e\\ufe0f",mIe="["+Dz+"]",qS="["+hIe+"]",jS="\\ud83c[\\udffb-\\udfff]",gIe="(?:"+qS+"|"+jS+")",xz="[^"+Dz+"]",Tz="(?:\\ud83c[\\udde6-\\uddff]){2}",Sz="[\\ud800-\\udbff][\\udc00-\\udfff]",yIe="\\u200d",Az=gIe+"?",Nz="["+pIe+"]?",bIe="(?:"+yIe+"(?:"+[xz,Tz,Sz].join("|")+")"+Nz+Az+")*",_Ie=Nz+Az+bIe,vIe="(?:"+[xz+qS+"?",qS,Tz,Sz,mIe].join("|")+")",EIe=RegExp(jS+"(?="+jS+")|"+vIe+_Ie,"g");function wIe(n){return n.match(EIe)||[]}Iz.exports=wIe});var ia=y((sTt,Rz)=>{var CIe=Cz(),DIe=Cl(),xIe=Mz();function TIe(n){return DIe(n)?xIe(n):CIe(n)}Rz.exports=TIe});var US=y((oTt,Oz)=>{var SIe=ra(),AIe=Cl(),NIe=ia(),IIe=rn();function MIe(n){return function(e){e=IIe(e);var t=AIe(e)?NIe(e):void 0,r=t?t[0]:e.charAt(0),i=t?SIe(t,1).join(""):e.slice(1);return r[n]()+i}}Oz.exports=MIe});var T_=y((aTt,Pz)=>{var RIe=US(),OIe=RIe("toUpperCase");Pz.exports=OIe});var $S=y((cTt,kz)=>{var PIe=rn(),kIe=T_();function FIe(n){return kIe(PIe(n).toLowerCase())}kz.exports=FIe});var VS=y((lTt,Fz)=>{function LIe(n,e,t,r){var i=-1,s=n==null?0:n.length;for(r&&s&&(t=n[++i]);++i<s;)t=e(t,n[i],i,n);return t}Fz.exports=LIe});var S_=y((uTt,Lz)=>{function BIe(n){return function(e){return n?.[e]}}Lz.exports=BIe});var qz=y((dTt,Bz)=>{var qIe=S_(),jIe={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},UIe=qIe(jIe);Bz.exports=UIe});var HS=y((fTt,jz)=>{var $Ie=qz(),VIe=rn(),HIe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,zIe="\\u0300-\\u036f",WIe="\\ufe20-\\ufe2f",GIe="\\u20d0-\\u20ff",QIe=zIe+WIe+GIe,KIe="["+QIe+"]",JIe=RegExp(KIe,"g");function YIe(n){return n=VIe(n),n&&n.replace(HIe,$Ie).replace(JIe,"")}jz.exports=YIe});var $z=y((hTt,Uz)=>{var ZIe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function XIe(n){return n.match(ZIe)||[]}Uz.exports=XIe});var Hz=y((pTt,Vz)=>{var eMe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function tMe(n){return eMe.test(n)}Vz.exports=tMe});var l3=y((mTt,c3)=>{var Kz="\\ud800-\\udfff",nMe="\\u0300-\\u036f",rMe="\\ufe20-\\ufe2f",iMe="\\u20d0-\\u20ff",sMe=nMe+rMe+iMe,Jz="\\u2700-\\u27bf",Yz="a-z\\xdf-\\xf6\\xf8-\\xff",oMe="\\xac\\xb1\\xd7\\xf7",aMe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",cMe="\\u2000-\\u206f",lMe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Zz="A-Z\\xc0-\\xd6\\xd8-\\xde",uMe="\\ufe0e\\ufe0f",Xz=oMe+aMe+cMe+lMe,e3="['\u2019]",zz="["+Xz+"]",dMe="["+sMe+"]",t3="\\d+",fMe="["+Jz+"]",n3="["+Yz+"]",r3="[^"+Kz+Xz+t3+Jz+Yz+Zz+"]",hMe="\\ud83c[\\udffb-\\udfff]",pMe="(?:"+dMe+"|"+hMe+")",mMe="[^"+Kz+"]",i3="(?:\\ud83c[\\udde6-\\uddff]){2}",s3="[\\ud800-\\udbff][\\udc00-\\udfff]",yd="["+Zz+"]",gMe="\\u200d",Wz="(?:"+n3+"|"+r3+")",yMe="(?:"+yd+"|"+r3+")",Gz="(?:"+e3+"(?:d|ll|m|re|s|t|ve))?",Qz="(?:"+e3+"(?:D|LL|M|RE|S|T|VE))?",o3=pMe+"?",a3="["+uMe+"]?",bMe="(?:"+gMe+"(?:"+[mMe,i3,s3].join("|")+")"+a3+o3+")*",_Me="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",vMe="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",EMe=a3+o3+bMe,wMe="(?:"+[fMe,i3,s3].join("|")+")"+EMe,CMe=RegExp([yd+"?"+n3+"+"+Gz+"(?="+[zz,yd,"$"].join("|")+")",yMe+"+"+Qz+"(?="+[zz,yd+Wz,"$"].join("|")+")",yd+"?"+Wz+"+"+Gz,yd+"+"+Qz,vMe,_Me,t3,wMe].join("|"),"g");function DMe(n){return n.match(CMe)||[]}c3.exports=DMe});var zS=y((gTt,u3)=>{var xMe=$z(),TMe=Hz(),SMe=rn(),AMe=l3();function NMe(n,e,t){return n=SMe(n),e=t?void 0:e,e===void 0?TMe(n)?AMe(n):xMe(n):n.match(e)||[]}u3.exports=NMe});var Dl=y((yTt,d3)=>{var IMe=VS(),MMe=HS(),RMe=zS(),OMe="['\u2019]",PMe=RegExp(OMe,"g");function kMe(n){return function(e){return IMe(RMe(MMe(e).replace(PMe,"")),n,"")}}d3.exports=kMe});var h3=y((bTt,f3)=>{var FMe=$S(),LMe=Dl(),BMe=LMe(function(n,e,t){return e=e.toLowerCase(),n+(t?FMe(e):e)});f3.exports=BMe});var m3=y((_Tt,p3)=>{var qMe=Pt();function jMe(){if(!arguments.length)return[];var n=arguments[0];return qMe(n)?n:[n]}p3.exports=jMe});var A_=y((vTt,y3)=>{var UMe=ar(),$Me=Lt(),VMe=Xo(),g3=rn(),HMe=UMe.isFinite,zMe=Math.min;function WMe(n){var e=Math[n];return function(t,r){if(t=VMe(t),r=r==null?0:zMe($Me(r),292),r&&HMe(t)){var i=(g3(t)+"e").split("e"),s=e(i[0]+"e"+(+i[1]+r));return i=(g3(s)+"e").split("e"),+(i[0]+"e"+(+i[1]-r))}return e(t)}}y3.exports=WMe});var _3=y((ETt,b3)=>{var GMe=A_(),QMe=GMe("ceil");b3.exports=QMe});var E3=y((wTt,v3)=>{var KMe=uS();function JMe(n){var e=KMe(n);return e.__chain__=!0,e}v3.exports=JMe});var C3=y((CTt,w3)=>{var YMe=us(),ZMe=ni(),XMe=Lt(),eRe=Math.ceil,tRe=Math.max;function nRe(n,e,t){(t?ZMe(n,e,t):e===void 0)?e=1:e=tRe(XMe(e),0);var r=n==null?0:n.length;if(!r||e<1)return[];for(var i=0,s=0,o=Array(eRe(r/e));i<r;)o[s++]=YMe(n,i,i+=e);return o}w3.exports=nRe});var Xa=y((DTt,D3)=>{function rRe(n,e,t){return n===n&&(t!==void 0&&(n=n<=t?n:t),e!==void 0&&(n=n>=e?n:e)),n}D3.exports=rRe});var T3=y((xTt,x3)=>{var iRe=Xa(),WS=Xo();function sRe(n,e,t){return t===void 0&&(t=e,e=void 0),t!==void 0&&(t=WS(t),t=t===t?t:0),e!==void 0&&(e=WS(e),e=e===e?e:0),iRe(WS(n),e,t)}x3.exports=sRe});var A3=y((TTt,S3)=>{var oRe=dp();function aRe(){this.__data__=new oRe,this.size=0}S3.exports=aRe});var I3=y((STt,N3)=>{function cRe(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}N3.exports=cRe});var R3=y((ATt,M3)=>{function lRe(n){return this.__data__.get(n)}M3.exports=lRe});var P3=y((NTt,O3)=>{function uRe(n){return this.__data__.has(n)}O3.exports=uRe});var F3=y((ITt,k3)=>{var dRe=dp(),fRe=w_(),hRe=C_(),pRe=200;function mRe(n,e){var t=this.__data__;if(t instanceof dRe){var r=t.__data__;if(!fRe||r.length<pRe-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new hRe(r)}return t.set(n,e),this.size=t.size,this}k3.exports=mRe});var pp=y((MTt,L3)=>{var gRe=dp(),yRe=A3(),bRe=I3(),_Re=R3(),vRe=P3(),ERe=F3();function bd(n){var e=this.__data__=new gRe(n);this.size=e.size}bd.prototype.clear=yRe;bd.prototype.delete=bRe;bd.prototype.get=_Re;bd.prototype.has=vRe;bd.prototype.set=ERe;L3.exports=bd});var GS=y((RTt,B3)=>{var wRe=Fs(),CRe=br();function DRe(n,e){return n&&wRe(e,CRe(e),n)}B3.exports=DRe});var j3=y((OTt,q3)=>{var xRe=Fs(),TRe=ri();function SRe(n,e){return n&&xRe(e,TRe(e),n)}q3.exports=SRe});var QS=y((mp,_d)=>{var ARe=ar(),H3=typeof mp=="object"&&mp&&!mp.nodeType&&mp,U3=H3&&typeof _d=="object"&&_d&&!_d.nodeType&&_d,NRe=U3&&U3.exports===H3,$3=NRe?ARe.Buffer:void 0,V3=$3?$3.allocUnsafe:void 0;function IRe(n,e){if(e)return n.slice();var t=n.length,r=V3?V3(t):new n.constructor(t);return n.copy(r),r}_d.exports=IRe});var sa=y((PTt,z3)=>{function MRe(n,e){for(var t=-1,r=n==null?0:n.length,i=0,s=[];++t<r;){var o=n[t];e(o,t,n)&&(s[i++]=o)}return s}z3.exports=MRe});var N_=y((kTt,W3)=>{function RRe(){return[]}W3.exports=RRe});var I_=y((FTt,Q3)=>{var ORe=sa(),PRe=N_(),kRe=Object.prototype,FRe=kRe.propertyIsEnumerable,G3=Object.getOwnPropertySymbols,LRe=G3?function(n){return n==null?[]:(n=Object(n),ORe(G3(n),function(e){return FRe.call(n,e)}))}:PRe;Q3.exports=LRe});var J3=y((LTt,K3)=>{var BRe=Fs(),qRe=I_();function jRe(n,e){return BRe(n,qRe(n),e)}K3.exports=jRe});var KS=y((BTt,Y3)=>{var URe=wl(),$Re=hp(),VRe=I_(),HRe=N_(),zRe=Object.getOwnPropertySymbols,WRe=zRe?function(n){for(var e=[];n;)URe(e,VRe(n)),n=$Re(n);return e}:HRe;Y3.exports=WRe});var X3=y((qTt,Z3)=>{var GRe=Fs(),QRe=KS();function KRe(n,e){return GRe(n,QRe(n),e)}Z3.exports=KRe});var JS=y((jTt,eW)=>{var JRe=wl(),YRe=Pt();function ZRe(n,e,t){var r=e(n);return YRe(n)?r:JRe(r,t(n))}eW.exports=ZRe});var YS=y((UTt,tW)=>{var XRe=JS(),eOe=I_(),tOe=br();function nOe(n){return XRe(n,tOe,eOe)}tW.exports=nOe});var M_=y(($Tt,nW)=>{var rOe=JS(),iOe=KS(),sOe=ri();function oOe(n){return rOe(n,sOe,iOe)}nW.exports=oOe});var iW=y((VTt,rW)=>{var aOe=Ka(),cOe=ar(),lOe=aOe(cOe,"DataView");rW.exports=lOe});var oW=y((HTt,sW)=>{var uOe=Ka(),dOe=ar(),fOe=uOe(dOe,"Promise");sW.exports=fOe});var ZS=y((zTt,aW)=>{var hOe=Ka(),pOe=ar(),mOe=hOe(pOe,"Set");aW.exports=mOe});var _o=y((WTt,pW)=>{var XS=iW(),eA=w_(),tA=oW(),nA=ZS(),rA=iS(),hW=ei(),vd=nS(),cW="[object Map]",gOe="[object Object]",lW="[object Promise]",uW="[object Set]",dW="[object WeakMap]",fW="[object DataView]",yOe=vd(XS),bOe=vd(eA),_Oe=vd(tA),vOe=vd(nA),EOe=vd(rA),xl=hW;(XS&&xl(new XS(new ArrayBuffer(1)))!=fW||eA&&xl(new eA)!=cW||tA&&xl(tA.resolve())!=lW||nA&&xl(new nA)!=uW||rA&&xl(new rA)!=dW)&&(xl=function(n){var e=hW(n),t=e==gOe?n.constructor:void 0,r=t?vd(t):"";if(r)switch(r){case yOe:return fW;case bOe:return cW;case _Oe:return lW;case vOe:return uW;case EOe:return dW}return e});pW.exports=xl});var gW=y((GTt,mW)=>{var wOe=Object.prototype,COe=wOe.hasOwnProperty;function DOe(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&COe.call(n,"index")&&(t.index=n.index,t.input=n.input),t}mW.exports=DOe});var iA=y((QTt,yW)=>{var xOe=ar(),TOe=xOe.Uint8Array;yW.exports=TOe});var R_=y((KTt,_W)=>{var bW=iA();function SOe(n){var e=new n.constructor(n.byteLength);return new bW(e).set(new bW(n)),e}_W.exports=SOe});var EW=y((JTt,vW)=>{var AOe=R_();function NOe(n,e){var t=e?AOe(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}vW.exports=NOe});var CW=y((YTt,wW)=>{var IOe=/\w*$/;function MOe(n){var e=new n.constructor(n.source,IOe.exec(n));return e.lastIndex=n.lastIndex,e}wW.exports=MOe});var AW=y((ZTt,SW)=>{var DW=Qa(),xW=DW?DW.prototype:void 0,TW=xW?xW.valueOf:void 0;function ROe(n){return TW?Object(TW.call(n)):{}}SW.exports=ROe});var sA=y((XTt,NW)=>{var OOe=R_();function POe(n,e){var t=e?OOe(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}NW.exports=POe});var MW=y((eSt,IW)=>{var kOe=R_(),FOe=EW(),LOe=CW(),BOe=AW(),qOe=sA(),jOe="[object Boolean]",UOe="[object Date]",$Oe="[object Map]",VOe="[object Number]",HOe="[object RegExp]",zOe="[object Set]",WOe="[object String]",GOe="[object Symbol]",QOe="[object ArrayBuffer]",KOe="[object DataView]",JOe="[object Float32Array]",YOe="[object Float64Array]",ZOe="[object Int8Array]",XOe="[object Int16Array]",ePe="[object Int32Array]",tPe="[object Uint8Array]",nPe="[object Uint8ClampedArray]",rPe="[object Uint16Array]",iPe="[object Uint32Array]";function sPe(n,e,t){var r=n.constructor;switch(e){case QOe:return kOe(n);case jOe:case UOe:return new r(+n);case KOe:return FOe(n,t);case JOe:case YOe:case ZOe:case XOe:case ePe:case tPe:case nPe:case rPe:case iPe:return qOe(n,t);case $Oe:return new r;case VOe:case WOe:return new r(n);case HOe:return LOe(n);case zOe:return new r;case GOe:return BOe(n)}}IW.exports=sPe});var oA=y((tSt,RW)=>{var oPe=pl(),aPe=hp(),cPe=ud();function lPe(n){return typeof n.constructor=="function"&&!cPe(n)?oPe(aPe(n)):{}}RW.exports=lPe});var PW=y((nSt,OW)=>{var uPe=_o(),dPe=On(),fPe="[object Map]";function hPe(n){return dPe(n)&&uPe(n)==fPe}OW.exports=hPe});var aA=y((rSt,LW)=>{var pPe=PW(),mPe=zi(),kW=vl(),FW=kW&&kW.isMap,gPe=FW?mPe(FW):pPe;LW.exports=gPe});var qW=y((iSt,BW)=>{var yPe=_o(),bPe=On(),_Pe="[object Set]";function vPe(n){return bPe(n)&&yPe(n)==_Pe}BW.exports=vPe});var cA=y((sSt,$W)=>{var EPe=qW(),wPe=zi(),jW=vl(),UW=jW&&jW.isSet,CPe=UW?wPe(UW):EPe;$W.exports=CPe});var vo=y((oSt,WW)=>{var DPe=pp(),xPe=ml(),TPe=ld(),SPe=GS(),APe=j3(),NPe=QS(),IPe=cs(),MPe=J3(),RPe=X3(),OPe=YS(),PPe=M_(),kPe=_o(),FPe=gW(),LPe=MW(),BPe=oA(),qPe=Pt(),jPe=Ya(),UPe=aA(),$Pe=Gn(),VPe=cA(),HPe=br(),zPe=ri(),WPe=1,GPe=2,QPe=4,VW="[object Arguments]",KPe="[object Array]",JPe="[object Boolean]",YPe="[object Date]",ZPe="[object Error]",HW="[object Function]",XPe="[object GeneratorFunction]",eke="[object Map]",tke="[object Number]",zW="[object Object]",nke="[object RegExp]",rke="[object Set]",ike="[object String]",ske="[object Symbol]",oke="[object WeakMap]",ake="[object ArrayBuffer]",cke="[object DataView]",lke="[object Float32Array]",uke="[object Float64Array]",dke="[object Int8Array]",fke="[object Int16Array]",hke="[object Int32Array]",pke="[object Uint8Array]",mke="[object Uint8ClampedArray]",gke="[object Uint16Array]",yke="[object Uint32Array]",pn={};pn[VW]=pn[KPe]=pn[ake]=pn[cke]=pn[JPe]=pn[YPe]=pn[lke]=pn[uke]=pn[dke]=pn[fke]=pn[hke]=pn[eke]=pn[tke]=pn[zW]=pn[nke]=pn[rke]=pn[ike]=pn[ske]=pn[pke]=pn[mke]=pn[gke]=pn[yke]=!0;pn[ZPe]=pn[HW]=pn[oke]=!1;function O_(n,e,t,r,i,s){var o,a=e&WPe,c=e&GPe,l=e&QPe;if(t&&(o=i?t(n,r,i,s):t(n)),o!==void 0)return o;if(!$Pe(n))return n;var d=qPe(n);if(d){if(o=FPe(n),!a)return IPe(n,o)}else{var h=kPe(n),p=h==HW||h==XPe;if(jPe(n))return NPe(n,a);if(h==zW||h==VW||p&&!i){if(o=c||p?{}:BPe(n),!a)return c?RPe(n,APe(o,n)):MPe(n,SPe(o,n))}else{if(!pn[h])return i?n:{};o=LPe(n,h,a)}}s||(s=new DPe);var b=s.get(n);if(b)return b;s.set(n,o),VPe(n)?n.forEach(function(N){o.add(O_(N,e,t,N,n,s))}):UPe(n)&&n.forEach(function(N,k){o.set(k,O_(N,e,t,k,n,s))});var v=l?c?PPe:OPe:c?zPe:HPe,x=d?void 0:v(n);return xPe(x||n,function(N,k){x&&(k=N,N=n[k]),TPe(o,k,O_(N,e,t,k,n,s))}),o}WW.exports=O_});var QW=y((aSt,GW)=>{var bke=vo(),_ke=4;function vke(n){return bke(n,_ke)}GW.exports=vke});var JW=y((cSt,KW)=>{var Eke=vo(),wke=1,Cke=4;function Dke(n){return Eke(n,wke|Cke)}KW.exports=Dke});var ZW=y((lSt,YW)=>{var xke=vo(),Tke=1,Ske=4;function Ake(n,e){return e=typeof e=="function"?e:void 0,xke(n,Tke|Ske,e)}YW.exports=Ake});var e8=y((uSt,XW)=>{var Nke=vo(),Ike=4;function Mke(n,e){return e=typeof e=="function"?e:void 0,Nke(n,Ike,e)}XW.exports=Mke});var n8=y((dSt,t8)=>{function Rke(n){for(var e=-1,t=n==null?0:n.length,r=0,i=[];++e<t;){var s=n[e];s&&(i[r++]=s)}return i}t8.exports=Rke});var i8=y((fSt,r8)=>{var Oke=wl(),Pke=Sr(),kke=cs(),Fke=Pt();function Lke(){var n=arguments.length;if(!n)return[];for(var e=Array(n-1),t=arguments[0],r=n;r--;)e[r-1]=arguments[r];return Oke(Fke(t)?kke(t):[t],Pke(e,1))}r8.exports=Lke});var o8=y((hSt,s8)=>{var Bke="__lodash_hash_undefined__";function qke(n){return this.__data__.set(n,Bke),this}s8.exports=qke});var c8=y((pSt,a8)=>{function jke(n){return this.__data__.has(n)}a8.exports=jke});var gp=y((mSt,l8)=>{var Uke=C_(),$ke=o8(),Vke=c8();function P_(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new Uke;++e<t;)this.add(n[e])}P_.prototype.add=P_.prototype.push=$ke;P_.prototype.has=Vke;l8.exports=P_});var k_=y((gSt,u8)=>{function Hke(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}u8.exports=Hke});var yp=y((ySt,d8)=>{function zke(n,e){return n.has(e)}d8.exports=zke});var lA=y((bSt,f8)=>{var Wke=gp(),Gke=k_(),Qke=yp(),Kke=1,Jke=2;function Yke(n,e,t,r,i,s){var o=t&Kke,a=n.length,c=e.length;if(a!=c&&!(o&&c>a))return!1;var l=s.get(n),d=s.get(e);if(l&&d)return l==e&&d==n;var h=-1,p=!0,b=t&Jke?new Wke:void 0;for(s.set(n,e),s.set(e,n);++h<a;){var v=n[h],x=e[h];if(r)var N=o?r(x,v,h,e,n,s):r(v,x,h,n,e,s);if(N!==void 0){if(N)continue;p=!1;break}if(b){if(!Gke(e,function(k,ee){if(!Qke(b,ee)&&(v===k||i(v,k,t,r,s)))return b.push(ee)})){p=!1;break}}else if(!(v===x||i(v,x,t,r,s))){p=!1;break}}return s.delete(n),s.delete(e),p}f8.exports=Yke});var F_=y((_St,h8)=>{function Zke(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}h8.exports=Zke});var bp=y((vSt,p8)=>{function Xke(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}p8.exports=Xke});var _8=y((ESt,b8)=>{var m8=Qa(),g8=iA(),eFe=ls(),tFe=lA(),nFe=F_(),rFe=bp(),iFe=1,sFe=2,oFe="[object Boolean]",aFe="[object Date]",cFe="[object Error]",lFe="[object Map]",uFe="[object Number]",dFe="[object RegExp]",fFe="[object Set]",hFe="[object String]",pFe="[object Symbol]",mFe="[object ArrayBuffer]",gFe="[object DataView]",y8=m8?m8.prototype:void 0,uA=y8?y8.valueOf:void 0;function yFe(n,e,t,r,i,s,o){switch(t){case gFe:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case mFe:return!(n.byteLength!=e.byteLength||!s(new g8(n),new g8(e)));case oFe:case aFe:case uFe:return eFe(+n,+e);case cFe:return n.name==e.name&&n.message==e.message;case dFe:case hFe:return n==e+"";case lFe:var a=nFe;case fFe:var c=r&iFe;if(a||(a=rFe),n.size!=e.size&&!c)return!1;var l=o.get(n);if(l)return l==e;r|=sFe,o.set(n,e);var d=tFe(a(n),a(e),r,i,s,o);return o.delete(n),d;case pFe:if(uA)return uA.call(n)==uA.call(e)}return!1}b8.exports=yFe});var w8=y((wSt,E8)=>{var v8=YS(),bFe=1,_Fe=Object.prototype,vFe=_Fe.hasOwnProperty;function EFe(n,e,t,r,i,s){var o=t&bFe,a=v8(n),c=a.length,l=v8(e),d=l.length;if(c!=d&&!o)return!1;for(var h=c;h--;){var p=a[h];if(!(o?p in e:vFe.call(e,p)))return!1}var b=s.get(n),v=s.get(e);if(b&&v)return b==e&&v==n;var x=!0;s.set(n,e),s.set(e,n);for(var N=o;++h<c;){p=a[h];var k=n[p],ee=e[p];if(r)var X=o?r(ee,k,p,e,n,s):r(k,ee,p,n,e,s);if(!(X===void 0?k===ee||i(k,ee,t,r,s):X)){x=!1;break}N||(N=p=="constructor")}if(x&&!N){var ne=n.constructor,de=e.constructor;ne!=de&&"constructor"in n&&"constructor"in e&&!(typeof ne=="function"&&ne instanceof ne&&typeof de=="function"&&de instanceof de)&&(x=!1)}return s.delete(n),s.delete(e),x}E8.exports=EFe});var I8=y((CSt,N8)=>{var dA=pp(),wFe=lA(),CFe=_8(),DFe=w8(),C8=_o(),D8=Pt(),x8=Ya(),xFe=El(),TFe=1,T8="[object Arguments]",S8="[object Array]",L_="[object Object]",SFe=Object.prototype,A8=SFe.hasOwnProperty;function AFe(n,e,t,r,i,s){var o=D8(n),a=D8(e),c=o?S8:C8(n),l=a?S8:C8(e);c=c==T8?L_:c,l=l==T8?L_:l;var d=c==L_,h=l==L_,p=c==l;if(p&&x8(n)){if(!x8(e))return!1;o=!0,d=!1}if(p&&!d)return s||(s=new dA),o||xFe(n)?wFe(n,e,t,r,i,s):CFe(n,e,c,t,r,i,s);if(!(t&TFe)){var b=d&&A8.call(n,"__wrapped__"),v=h&&A8.call(e,"__wrapped__");if(b||v){var x=b?n.value():n,N=v?e.value():e;return s||(s=new dA),i(x,N,t,r,s)}}return p?(s||(s=new dA),DFe(n,e,t,r,i,s)):!1}N8.exports=AFe});var _p=y((DSt,O8)=>{var NFe=I8(),M8=On();function R8(n,e,t,r,i){return n===e?!0:n==null||e==null||!M8(n)&&!M8(e)?n!==n&&e!==e:NFe(n,e,t,r,R8,i)}O8.exports=R8});var B_=y((xSt,P8)=>{var IFe=pp(),MFe=_p(),RFe=1,OFe=2;function PFe(n,e,t,r){var i=t.length,s=i,o=!r;if(n==null)return!s;for(n=Object(n);i--;){var a=t[i];if(o&&a[2]?a[1]!==n[a[0]]:!(a[0]in n))return!1}for(;++i<s;){a=t[i];var c=a[0],l=n[c],d=a[1];if(o&&a[2]){if(l===void 0&&!(c in n))return!1}else{var h=new IFe;if(r)var p=r(l,d,c,n,e,h);if(!(p===void 0?MFe(d,l,RFe|OFe,r,h):p))return!1}}return!0}P8.exports=PFe});var fA=y((TSt,k8)=>{var kFe=Gn();function FFe(n){return n===n&&!kFe(n)}k8.exports=FFe});var q_=y((SSt,F8)=>{var LFe=fA(),BFe=br();function qFe(n){for(var e=BFe(n),t=e.length;t--;){var r=e[t],i=n[r];e[t]=[r,i,LFe(i)]}return e}F8.exports=qFe});var hA=y((ASt,L8)=>{function jFe(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}L8.exports=jFe});var pA=y((NSt,B8)=>{var UFe=B_(),$Fe=q_(),VFe=hA();function HFe(n){var e=$Fe(n);return e.length==1&&e[0][2]?VFe(e[0][0],e[0][1]):function(t){return t===n||UFe(t,n,e)}}B8.exports=HFe});var j8=y((ISt,q8)=>{function zFe(n,e){return n!=null&&e in Object(n)}q8.exports=zFe});var mA=y((MSt,U8)=>{var WFe=ta(),GFe=_l(),QFe=Pt(),KFe=ea(),JFe=sp(),YFe=Ls();function ZFe(n,e,t){e=WFe(e,n);for(var r=-1,i=e.length,s=!1;++r<i;){var o=YFe(e[r]);if(!(s=n!=null&&t(n,o)))break;n=n[o]}return s||++r!=i?s:(i=n==null?0:n.length,!!i&&JFe(i)&&KFe(o,i)&&(QFe(n)||GFe(n)))}U8.exports=ZFe});var j_=y((RSt,$8)=>{var XFe=j8(),e1e=mA();function t1e(n,e){return n!=null&&e1e(n,e,XFe)}$8.exports=t1e});var gA=y((OSt,V8)=>{var n1e=_p(),r1e=D_(),i1e=j_(),s1e=E_(),o1e=fA(),a1e=hA(),c1e=Ls(),l1e=1,u1e=2;function d1e(n,e){return s1e(n)&&o1e(e)?a1e(c1e(n),e):function(t){var r=r1e(t,n);return r===void 0&&r===e?i1e(t,n):n1e(e,r,l1e|u1e)}}V8.exports=d1e});var U_=y((PSt,H8)=>{function f1e(n){return function(e){return e?.[n]}}H8.exports=f1e});var W8=y((kSt,z8)=>{var h1e=Za();function p1e(n){return function(e){return h1e(e,n)}}z8.exports=p1e});var yA=y((FSt,G8)=>{var m1e=U_(),g1e=W8(),y1e=E_(),b1e=Ls();function _1e(n){return y1e(n)?m1e(b1e(n)):g1e(n)}G8.exports=_1e});var bt=y((LSt,Q8)=>{var v1e=pA(),E1e=gA(),w1e=yi(),C1e=Pt(),D1e=yA();function x1e(n){return typeof n=="function"?n:n==null?w1e:typeof n=="object"?C1e(n)?E1e(n[0],n[1]):v1e(n):D1e(n)}Q8.exports=x1e});var Y8=y((BSt,J8)=>{var K8=Hi(),T1e=Pn(),S1e=bt(),A1e=St(),N1e="Expected a function";function I1e(n){var e=n==null?0:n.length,t=S1e;return n=e?T1e(n,function(r){if(typeof r[1]!="function")throw new TypeError(N1e);return[t(r[0]),r[1]]}):[],A1e(function(r){for(var i=-1;++i<e;){var s=n[i];if(K8(s[0],this,r))return K8(s[1],this,r)}})}J8.exports=I1e});var bA=y((qSt,Z8)=>{function M1e(n,e,t){var r=t.length;if(n==null)return!r;for(n=Object(n);r--;){var i=t[r],s=e[i],o=n[i];if(o===void 0&&!(i in n)||!s(o))return!1}return!0}Z8.exports=M1e});var eG=y((jSt,X8)=>{var R1e=bA(),O1e=br();function P1e(n){var e=O1e(n);return function(t){return R1e(t,n,e)}}X8.exports=P1e});var nG=y((USt,tG)=>{var k1e=vo(),F1e=eG(),L1e=1;function B1e(n){return F1e(k1e(n,L1e))}tG.exports=B1e});var iG=y(($St,rG)=>{var q1e=bA(),j1e=br();function U1e(n,e){return e==null||q1e(n,e,j1e(e))}rG.exports=U1e});var oG=y((VSt,sG)=>{function $1e(n,e,t,r){for(var i=-1,s=n==null?0:n.length;++i<s;){var o=n[i];e(r,o,t(o),n)}return r}sG.exports=$1e});var _A=y((HSt,aG)=>{function V1e(n){return function(e,t,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var c=o[n?a:++i];if(t(s[c],c,s)===!1)break}return e}}aG.exports=V1e});var $_=y((zSt,cG)=>{var H1e=_A(),z1e=H1e();cG.exports=z1e});var ec=y((WSt,lG)=>{var W1e=$_(),G1e=br();function Q1e(n,e){return n&&W1e(n,e,G1e)}lG.exports=Q1e});var vA=y((GSt,uG)=>{var K1e=ti();function J1e(n,e){return function(t,r){if(t==null)return t;if(!K1e(t))return n(t,r);for(var i=t.length,s=e?i:-1,o=Object(t);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return t}}uG.exports=J1e});var oa=y((QSt,dG)=>{var Y1e=ec(),Z1e=vA(),X1e=Z1e(Y1e);dG.exports=X1e});var hG=y((KSt,fG)=>{var eLe=oa();function tLe(n,e,t,r){return eLe(n,function(i,s,o){e(r,i,t(i),o)}),r}fG.exports=tLe});var vp=y((JSt,pG)=>{var nLe=oG(),rLe=hG(),iLe=bt(),sLe=Pt();function oLe(n,e){return function(t,r){var i=sLe(t)?nLe:rLe,s=e?e():{};return i(t,n,iLe(r,2),s)}}pG.exports=oLe});var gG=y((YSt,mG)=>{var aLe=bo(),cLe=vp(),lLe=Object.prototype,uLe=lLe.hasOwnProperty,dLe=cLe(function(n,e,t){uLe.call(n,t)?++n[t]:aLe(n,t,1)});mG.exports=dLe});var bG=y((ZSt,yG)=>{var fLe=GS(),hLe=pl();function pLe(n,e){var t=hLe(n);return e==null?t:fLe(t,e)}yG.exports=pLe});var vG=y((XSt,_G)=>{var mLe=yo(),gLe=8;function EA(n,e,t){e=t?void 0:e;var r=mLe(n,gLe,void 0,void 0,void 0,void 0,void 0,e);return r.placeholder=EA.placeholder,r}EA.placeholder={};_G.exports=EA});var wG=y((eAt,EG)=>{var yLe=yo(),bLe=16;function wA(n,e,t){e=t?void 0:e;var r=yLe(n,bLe,void 0,void 0,void 0,void 0,void 0,e);return r.placeholder=wA.placeholder,r}wA.placeholder={};EG.exports=wA});var CA=y((tAt,CG)=>{var _Le=ar(),vLe=function(){return _Le.Date.now()};CG.exports=vLe});var xA=y((nAt,xG)=>{var ELe=Gn(),DA=CA(),DG=Xo(),wLe="Expected a function",CLe=Math.max,DLe=Math.min;function xLe(n,e,t){var r,i,s,o,a,c,l=0,d=!1,h=!1,p=!0;if(typeof n!="function")throw new TypeError(wLe);e=DG(e)||0,ELe(t)&&(d=!!t.leading,h="maxWait"in t,s=h?CLe(DG(t.maxWait)||0,e):s,p="trailing"in t?!!t.trailing:p);function b(g){var xe=r,Ce=i;return r=i=void 0,l=g,o=n.apply(Ce,xe),o}function v(g){return l=g,a=setTimeout(k,e),d?b(g):o}function x(g){var xe=g-c,Ce=g-l,qe=e-xe;return h?DLe(qe,s-Ce):qe}function N(g){var xe=g-c,Ce=g-l;return c===void 0||xe>=e||xe<0||h&&Ce>=s}function k(){var g=DA();if(N(g))return ee(g);a=setTimeout(k,x(g))}function ee(g){return a=void 0,p&&r?b(g):(r=i=void 0,o)}function X(){a!==void 0&&clearTimeout(a),l=0,r=c=i=a=void 0}function ne(){return a===void 0?o:ee(DA())}function de(){var g=DA(),xe=N(g);if(r=arguments,i=this,c=g,xe){if(a===void 0)return v(c);if(h)return clearTimeout(a),a=setTimeout(k,e),b(c)}return a===void 0&&(a=setTimeout(k,e)),o}return de.cancel=X,de.flush=ne,de}xG.exports=xLe});var SG=y((rAt,TG)=>{function TLe(n,e){return n==null||n!==n?e:n}TG.exports=TLe});var IG=y((iAt,NG)=>{var SLe=St(),ALe=ls(),NLe=ni(),ILe=ri(),AG=Object.prototype,MLe=AG.hasOwnProperty,RLe=SLe(function(n,e){n=Object(n);var t=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&NLe(e[0],e[1],i)&&(r=1);++t<r;)for(var s=e[t],o=ILe(s),a=-1,c=o.length;++a<c;){var l=o[a],d=n[l];(d===void 0||ALe(d,AG[l])&&!MLe.call(n,l))&&(n[l]=s[l])}return n});NG.exports=RLe});var TA=y((sAt,MG)=>{var OLe=bo(),PLe=ls();function kLe(n,e,t){(t!==void 0&&!PLe(n[e],t)||t===void 0&&!(e in n))&&OLe(n,e,t)}MG.exports=kLe});var ii=y((oAt,RG)=>{var FLe=ti(),LLe=On();function BLe(n){return LLe(n)&&FLe(n)}RG.exports=BLe});var SA=y((aAt,OG)=>{function qLe(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}OG.exports=qLe});var AA=y((cAt,PG)=>{var jLe=Fs(),ULe=ri();function $Le(n){return jLe(n,ULe(n))}PG.exports=$Le});var jG=y((lAt,qG)=>{var kG=TA(),VLe=QS(),HLe=sA(),zLe=cs(),WLe=oA(),FG=_l(),LG=Pt(),GLe=ii(),QLe=Ya(),KLe=go(),JLe=Gn(),YLe=gd(),ZLe=El(),BG=SA(),XLe=AA();function eBe(n,e,t,r,i,s,o){var a=BG(n,t),c=BG(e,t),l=o.get(c);if(l){kG(n,t,l);return}var d=s?s(a,c,t+"",n,e,o):void 0,h=d===void 0;if(h){var p=LG(c),b=!p&&QLe(c),v=!p&&!b&&ZLe(c);d=c,p||b||v?LG(a)?d=a:GLe(a)?d=zLe(a):b?(h=!1,d=VLe(c,!0)):v?(h=!1,d=HLe(c,!0)):d=[]:YLe(c)||FG(c)?(d=a,FG(a)?d=XLe(a):(!JLe(a)||KLe(a))&&(d=WLe(c))):h=!1}h&&(o.set(c,d),i(d,c,r,s,o),o.delete(c)),kG(n,t,d)}qG.exports=eBe});var V_=y((uAt,$G)=>{var tBe=pp(),nBe=TA(),rBe=$_(),iBe=jG(),sBe=Gn(),oBe=ri(),aBe=SA();function UG(n,e,t,r,i){n!==e&&rBe(e,function(s,o){if(i||(i=new tBe),sBe(s))iBe(n,e,o,t,UG,r,i);else{var a=r?r(aBe(n,o),s,o+"",n,e,i):void 0;a===void 0&&(a=s),nBe(n,o,a)}},oBe)}$G.exports=UG});var WG=y((dAt,zG)=>{var cBe=V_(),VG=Gn();function HG(n,e,t,r,i,s){return VG(n)&&VG(e)&&(s.set(e,n),cBe(n,e,void 0,HG,s),s.delete(e)),n}zG.exports=HG});var NA=y((fAt,GG)=>{var lBe=V_(),uBe=bl(),dBe=uBe(function(n,e,t,r){lBe(n,e,t,r)});GG.exports=dBe});var KG=y((hAt,QG)=>{var fBe=Hi(),hBe=St(),pBe=WG(),mBe=NA(),gBe=hBe(function(n){return n.push(void 0,pBe),fBe(mBe,void 0,n)});QG.exports=gBe});var IA=y((pAt,JG)=>{var yBe="Expected a function";function bBe(n,e,t){if(typeof n!="function")throw new TypeError(yBe);return setTimeout(function(){n.apply(void 0,t)},e)}JG.exports=bBe});var ZG=y((mAt,YG)=>{var _Be=IA(),vBe=St(),EBe=vBe(function(n,e){return _Be(n,1,e)});YG.exports=EBe});var e4=y((gAt,XG)=>{var wBe=IA(),CBe=St(),DBe=Xo(),xBe=CBe(function(n,e,t){return wBe(n,DBe(e)||0,t)});XG.exports=xBe});var H_=y((yAt,t4)=>{function TBe(n,e,t){for(var r=-1,i=n==null?0:n.length;++r<i;)if(t(e,n[r]))return!0;return!1}t4.exports=TBe});var Ed=y((bAt,n4)=>{var SBe=gp(),ABe=rp(),NBe=H_(),IBe=Pn(),MBe=zi(),RBe=yp(),OBe=200;function PBe(n,e,t,r){var i=-1,s=ABe,o=!0,a=n.length,c=[],l=e.length;if(!a)return c;t&&(e=IBe(e,MBe(t))),r?(s=NBe,o=!1):e.length>=OBe&&(s=RBe,o=!1,e=new SBe(e));e:for(;++i<a;){var d=n[i],h=t==null?d:t(d);if(d=r||d!==0?d:0,o&&h===h){for(var p=l;p--;)if(e[p]===h)continue e;c.push(d)}else s(e,h,r)||c.push(d)}return c}n4.exports=PBe});var s4=y((_At,i4)=>{var kBe=Ed(),FBe=Sr(),LBe=St(),r4=ii(),BBe=LBe(function(n,e){return r4(n)?kBe(n,FBe(e,1,r4,!0)):[]});i4.exports=BBe});var ds=y((vAt,o4)=>{function qBe(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}o4.exports=qBe});var c4=y((EAt,a4)=>{var jBe=Ed(),UBe=Sr(),$Be=bt(),VBe=St(),MA=ii(),HBe=ds(),zBe=VBe(function(n,e){var t=HBe(e);return MA(t)&&(t=void 0),MA(n)?jBe(n,UBe(e,1,MA,!0),$Be(t,2)):[]});a4.exports=zBe});var u4=y((wAt,l4)=>{var WBe=Ed(),GBe=Sr(),QBe=St(),RA=ii(),KBe=ds(),JBe=QBe(function(n,e){var t=KBe(e);return RA(t)&&(t=void 0),RA(n)?WBe(n,GBe(e,1,RA,!0),void 0,t):[]});l4.exports=JBe});var f4=y((CAt,d4)=>{var YBe=ep(),ZBe=YBe(function(n,e){return n/e},1);d4.exports=ZBe});var p4=y((DAt,h4)=>{var XBe=us(),eqe=Lt();function tqe(n,e,t){var r=n==null?0:n.length;return r?(e=t||e===void 0?1:eqe(e),XBe(n,e<0?0:e,r)):[]}h4.exports=tqe});var g4=y((xAt,m4)=>{var nqe=us(),rqe=Lt();function iqe(n,e,t){var r=n==null?0:n.length;return r?(e=t||e===void 0?1:rqe(e),e=r-e,nqe(n,0,e<0?0:e)):[]}m4.exports=iqe});var Ep=y((TAt,b4)=>{var y4=us();function sqe(n,e,t,r){for(var i=n.length,s=r?i:-1;(r?s--:++s<i)&&e(n[s],s,n););return t?y4(n,r?0:s,r?s+1:i):y4(n,r?s+1:0,r?i:s)}b4.exports=sqe});var v4=y((SAt,_4)=>{var oqe=bt(),aqe=Ep();function cqe(n,e){return n&&n.length?aqe(n,oqe(e,3),!0,!0):[]}_4.exports=cqe});var w4=y((AAt,E4)=>{var lqe=bt(),uqe=Ep();function dqe(n,e){return n&&n.length?uqe(n,lqe(e,3),!0):[]}E4.exports=dqe});var Bs=y((NAt,C4)=>{var fqe=yi();function hqe(n){return typeof n=="function"?n:fqe}C4.exports=hqe});var OA=y((IAt,D4)=>{var pqe=ml(),mqe=oa(),gqe=Bs(),yqe=Pt();function bqe(n,e){var t=yqe(n)?pqe:mqe;return t(n,gqe(e))}D4.exports=bqe});var T4=y((MAt,x4)=>{x4.exports=OA()});var A4=y((RAt,S4)=>{function _qe(n,e){for(var t=n==null?0:n.length;t--&&e(n[t],t,n)!==!1;);return n}S4.exports=_qe});var PA=y((OAt,N4)=>{var vqe=_A(),Eqe=vqe(!0);N4.exports=Eqe});var z_=y((PAt,I4)=>{var wqe=PA(),Cqe=br();function Dqe(n,e){return n&&wqe(n,e,Cqe)}I4.exports=Dqe});var kA=y((kAt,M4)=>{var xqe=z_(),Tqe=vA(),Sqe=Tqe(xqe,!0);M4.exports=Sqe});var FA=y((FAt,R4)=>{var Aqe=A4(),Nqe=kA(),Iqe=Bs(),Mqe=Pt();function Rqe(n,e){var t=Mqe(n)?Aqe:Nqe;return t(n,Iqe(e))}R4.exports=Rqe});var P4=y((LAt,O4)=>{O4.exports=FA()});var F4=y((BAt,k4)=>{var Oqe=Xa(),Pqe=ks(),kqe=Lt(),Fqe=rn();function Lqe(n,e,t){n=Fqe(n),e=Pqe(e);var r=n.length;t=t===void 0?r:Oqe(kqe(t),0,r);var i=t;return t-=e.length,t>=0&&n.slice(t,i)==e}k4.exports=Lqe});var B4=y((qAt,L4)=>{var Bqe=Pn();function qqe(n,e){return Bqe(e,function(t){return[t,n[t]]})}L4.exports=qqe});var j4=y((jAt,q4)=>{function jqe(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=[r,r]}),t}q4.exports=jqe});var LA=y((UAt,U4)=>{var Uqe=B4(),$qe=_o(),Vqe=F_(),Hqe=j4(),zqe="[object Map]",Wqe="[object Set]";function Gqe(n){return function(e){var t=$qe(e);return t==zqe?Vqe(e):t==Wqe?Hqe(e):Uqe(e,n(e))}}U4.exports=Gqe});var BA=y(($At,$4)=>{var Qqe=LA(),Kqe=br(),Jqe=Qqe(Kqe);$4.exports=Jqe});var H4=y((VAt,V4)=>{V4.exports=BA()});var qA=y((HAt,z4)=>{var Yqe=LA(),Zqe=ri(),Xqe=Yqe(Zqe);z4.exports=Xqe});var G4=y((zAt,W4)=>{W4.exports=qA()});var K4=y((WAt,Q4)=>{var eje=S_(),tje={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},nje=eje(tje);Q4.exports=nje});var jA=y((GAt,Y4)=>{var rje=K4(),ije=rn(),J4=/[&<>"']/g,sje=RegExp(J4.source);function oje(n){return n=ije(n),n&&sje.test(n)?n.replace(J4,rje):n}Y4.exports=oje});var e6=y((QAt,X4)=>{var aje=rn(),Z4=/[\\^$.*+?()[\]{}|]/g,cje=RegExp(Z4.source);function lje(n){return n=aje(n),n&&cje.test(n)?n.replace(Z4,"\\$&"):n}X4.exports=lje});var UA=y((KAt,t6)=>{function uje(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(!e(n[t],t,n))return!1;return!0}t6.exports=uje});var r6=y((JAt,n6)=>{var dje=oa();function fje(n,e){var t=!0;return dje(n,function(r,i,s){return t=!!e(r,i,s),t}),t}n6.exports=fje});var s6=y((YAt,i6)=>{var hje=UA(),pje=r6(),mje=bt(),gje=Pt(),yje=ni();function bje(n,e,t){var r=gje(n)?hje:pje;return t&&yje(n,e,t)&&(e=void 0),r(n,mje(e,3))}i6.exports=bje});var a6=y((ZAt,o6)=>{o6.exports=AS()});var l6=y((XAt,c6)=>{c6.exports=v_()});var $A=y((eNt,u6)=>{var _je=Xa(),vje=Lt(),Eje=4294967295;function wje(n){return n?_je(vje(n),0,Eje):0}u6.exports=wje});var h6=y((tNt,f6)=>{var d6=Lt(),Cje=$A();function Dje(n,e,t,r){var i=n.length;for(t=d6(t),t<0&&(t=-t>i?0:i+t),r=r===void 0||r>i?i:d6(r),r<0&&(r+=i),r=t>r?0:Cje(r);t<r;)n[t++]=e;return n}f6.exports=Dje});var m6=y((nNt,p6)=>{var xje=h6(),Tje=ni();function Sje(n,e,t,r){var i=n==null?0:n.length;return i?(t&&typeof t!="number"&&Tje(n,e,t)&&(t=0,r=i),xje(n,e,t,r)):[]}p6.exports=Sje});var VA=y((rNt,g6)=>{var Aje=oa();function Nje(n,e){var t=[];return Aje(n,function(r,i,s){e(r,i,s)&&t.push(r)}),t}g6.exports=Nje});var b6=y((iNt,y6)=>{var Ije=sa(),Mje=VA(),Rje=bt(),Oje=Pt();function Pje(n,e){var t=Oje(n)?Ije:Mje;return t(n,Rje(e,3))}y6.exports=Pje});var HA=y((sNt,_6)=>{var kje=bt(),Fje=ti(),Lje=br();function Bje(n){return function(e,t,r){var i=Object(e);if(!Fje(e)){var s=kje(t,3);e=Lje(e),t=function(a){return s(i[a],a,i)}}var o=n(e,t,r);return o>-1?i[s?e[o]:o]:void 0}}_6.exports=Bje});var zA=y((oNt,v6)=>{var qje=np(),jje=bt(),Uje=Lt(),$je=Math.max;function Vje(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=t==null?0:Uje(t);return i<0&&(i=$je(r+i,0)),qje(n,jje(e,3),i)}v6.exports=Vje});var w6=y((aNt,E6)=>{var Hje=HA(),zje=zA(),Wje=Hje(zje);E6.exports=Wje});var WA=y((cNt,C6)=>{function Gje(n,e,t){var r;return t(n,function(i,s,o){if(e(i,s,o))return r=s,!1}),r}C6.exports=Gje});var x6=y((lNt,D6)=>{var Qje=WA(),Kje=ec(),Jje=bt();function Yje(n,e){return Qje(n,Jje(e,3),Kje)}D6.exports=Yje});var GA=y((uNt,T6)=>{var Zje=np(),Xje=bt(),eUe=Lt(),tUe=Math.max,nUe=Math.min;function rUe(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=r-1;return t!==void 0&&(i=eUe(t),i=t<0?tUe(r+i,0):nUe(i,r-1)),Zje(n,Xje(e,3),i,!0)}T6.exports=rUe});var A6=y((dNt,S6)=>{var iUe=HA(),sUe=GA(),oUe=iUe(sUe);S6.exports=oUe});var I6=y((fNt,N6)=>{var aUe=WA(),cUe=z_(),lUe=bt();function uUe(n,e){return aUe(n,lUe(e,3),cUe)}N6.exports=uUe});var QA=y((hNt,M6)=>{function dUe(n){return n&&n.length?n[0]:void 0}M6.exports=dUe});var O6=y((pNt,R6)=>{R6.exports=QA()});var KA=y((mNt,P6)=>{var fUe=oa(),hUe=ti();function pUe(n,e){var t=-1,r=hUe(n)?Array(n.length):[];return fUe(n,function(i,s,o){r[++t]=e(i,s,o)}),r}P6.exports=pUe});var wp=y((gNt,k6)=>{var mUe=Pn(),gUe=bt(),yUe=KA(),bUe=Pt();function _Ue(n,e){var t=bUe(n)?mUe:yUe;return t(n,gUe(e,3))}k6.exports=_Ue});var L6=y((yNt,F6)=>{var vUe=Sr(),EUe=wp();function wUe(n,e){return vUe(EUe(n,e),1)}F6.exports=wUe});var q6=y((bNt,B6)=>{var CUe=Sr(),DUe=wp(),xUe=1/0;function TUe(n,e){return CUe(DUe(n,e),xUe)}B6.exports=TUe});var U6=y((_Nt,j6)=>{var SUe=Sr(),AUe=wp(),NUe=Lt();function IUe(n,e,t){return t=t===void 0?1:NUe(t),SUe(AUe(n,e),t)}j6.exports=IUe});var V6=y((vNt,$6)=>{var MUe=Sr(),RUe=1/0;function OUe(n){var e=n==null?0:n.length;return e?MUe(n,RUe):[]}$6.exports=OUe});var z6=y((ENt,H6)=>{var PUe=Sr(),kUe=Lt();function FUe(n,e){var t=n==null?0:n.length;return t?(e=e===void 0?1:kUe(e),PUe(n,e)):[]}H6.exports=FUe});var G6=y((wNt,W6)=>{var LUe=yo(),BUe=512;function qUe(n){return LUe(n,BUe)}W6.exports=qUe});var K6=y((CNt,Q6)=>{var jUe=A_(),UUe=jUe("floor");Q6.exports=UUe});var YA=y((DNt,Z6)=>{var J6=h_(),$Ue=na(),VUe=d_(),JA=lS(),HUe=Pt(),Y6=dS(),zUe="Expected a function",WUe=8,GUe=32,QUe=128,KUe=256;function JUe(n){return $Ue(function(e){var t=e.length,r=t,i=J6.prototype.thru;for(n&&e.reverse();r--;){var s=e[r];if(typeof s!="function")throw new TypeError(zUe);if(i&&!o&&JA(s)=="wrapper")var o=new J6([],!0)}for(r=o?r:t;++r<t;){s=e[r];var a=JA(s),c=a=="wrapper"?VUe(s):void 0;c&&Y6(c[0])&&c[1]==(QUe|WUe|GUe|KUe)&&!c[4].length&&c[9]==1?o=o[JA(c[0])].apply(o,c[3]):o=s.length==1&&Y6(s)?o[a]():o.thru(s)}return function(){var l=arguments,d=l[0];if(o&&l.length==1&&HUe(d))return o.plant(d).value();for(var h=0,p=t?e[h].apply(this,l):d;++h<t;)p=e[h].call(this,p);return p}})}Z6.exports=JUe});var e5=y((xNt,X6)=>{var YUe=YA(),ZUe=YUe();X6.exports=ZUe});var n5=y((TNt,t5)=>{var XUe=YA(),e$e=XUe(!0);t5.exports=e$e});var i5=y((SNt,r5)=>{var t$e=$_(),n$e=Bs(),r$e=ri();function i$e(n,e){return n==null?n:t$e(n,n$e(e),r$e)}r5.exports=i$e});var o5=y((ANt,s5)=>{var s$e=PA(),o$e=Bs(),a$e=ri();function c$e(n,e){return n==null?n:s$e(n,o$e(e),a$e)}s5.exports=c$e});var c5=y((NNt,a5)=>{var l$e=ec(),u$e=Bs();function d$e(n,e){return n&&l$e(n,u$e(e))}a5.exports=d$e});var u5=y((INt,l5)=>{var f$e=z_(),h$e=Bs();function p$e(n,e){return n&&f$e(n,h$e(e))}l5.exports=p$e});var f5=y((MNt,d5)=>{function m$e(n){for(var e=-1,t=n==null?0:n.length,r={};++e<t;){var i=n[e];r[i[0]]=i[1]}return r}d5.exports=m$e});var W_=y((RNt,h5)=>{var g$e=sa(),y$e=go();function b$e(n,e){return g$e(e,function(t){return y$e(n[t])})}h5.exports=b$e});var m5=y((ONt,p5)=>{var _$e=W_(),v$e=br();function E$e(n){return n==null?[]:_$e(n,v$e(n))}p5.exports=E$e});var y5=y((PNt,g5)=>{var w$e=W_(),C$e=ri();function D$e(n){return n==null?[]:w$e(n,C$e(n))}g5.exports=D$e});var _5=y((kNt,b5)=>{var x$e=bo(),T$e=vp(),S$e=Object.prototype,A$e=S$e.hasOwnProperty,N$e=T$e(function(n,e,t){A$e.call(n,t)?n[t].push(e):x$e(n,t,[e])});b5.exports=N$e});var G_=y((FNt,v5)=>{function I$e(n,e){return n>e}v5.exports=I$e});var Cp=y((LNt,w5)=>{var E5=Xo();function M$e(n){return function(e,t){return typeof e=="string"&&typeof t=="string"||(e=E5(e),t=E5(t)),n(e,t)}}w5.exports=M$e});var D5=y((BNt,C5)=>{var R$e=G_(),O$e=Cp(),P$e=O$e(R$e);C5.exports=P$e});var T5=y((qNt,x5)=>{var k$e=Cp(),F$e=k$e(function(n,e){return n>=e});x5.exports=F$e});var A5=y((jNt,S5)=>{var L$e=Object.prototype,B$e=L$e.hasOwnProperty;function q$e(n,e){return n!=null&&B$e.call(n,e)}S5.exports=q$e});var I5=y((UNt,N5)=>{var j$e=A5(),U$e=mA();function $$e(n,e){return n!=null&&U$e(n,e,j$e)}N5.exports=$$e});var R5=y(($Nt,M5)=>{var V$e=Math.max,H$e=Math.min;function z$e(n,e,t){return n>=H$e(e,t)&&n<V$e(e,t)}M5.exports=z$e});var k5=y((VNt,P5)=>{var W$e=R5(),O5=cd(),G$e=Xo();function Q$e(n,e,t){return e=O5(e),t===void 0?(t=e,e=0):t=O5(t),n=G$e(n),W$e(n,e,t)}P5.exports=Q$e});var Dp=y((HNt,F5)=>{var K$e=ei(),J$e=Pt(),Y$e=On(),Z$e="[object String]";function X$e(n){return typeof n=="string"||!J$e(n)&&Y$e(n)&&K$e(n)==Z$e}F5.exports=X$e});var Q_=y((zNt,L5)=>{var e2e=Pn();function t2e(n,e){return e2e(e,function(t){return n[t]})}L5.exports=t2e});var Tl=y((WNt,B5)=>{var n2e=Q_(),r2e=br();function i2e(n){return n==null?[]:n2e(n,r2e(n))}B5.exports=i2e});var j5=y((GNt,q5)=>{var s2e=gl(),o2e=ti(),a2e=Dp(),c2e=Lt(),l2e=Tl(),u2e=Math.max;function d2e(n,e,t,r){n=o2e(n)?n:l2e(n),t=t&&!r?c2e(t):0;var i=n.length;return t<0&&(t=u2e(i+t,0)),a2e(n)?t<=i&&n.indexOf(e,t)>-1:!!i&&s2e(n,e,t)>-1}q5.exports=d2e});var $5=y((QNt,U5)=>{var f2e=gl(),h2e=Lt(),p2e=Math.max;function m2e(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=t==null?0:h2e(t);return i<0&&(i=p2e(r+i,0)),f2e(n,e,i)}U5.exports=m2e});var H5=y((KNt,V5)=>{var g2e=us();function y2e(n){var e=n==null?0:n.length;return e?g2e(n,0,-1):[]}V5.exports=y2e});var K_=y((JNt,W5)=>{var b2e=gp(),_2e=rp(),v2e=H_(),E2e=Pn(),w2e=zi(),z5=yp(),C2e=Math.min;function D2e(n,e,t){for(var r=t?v2e:_2e,i=n[0].length,s=n.length,o=s,a=Array(s),c=1/0,l=[];o--;){var d=n[o];o&&e&&(d=E2e(d,w2e(e))),c=C2e(d.length,c),a[o]=!t&&(e||i>=120&&d.length>=120)?new b2e(o&&d):void 0}d=n[0];var h=-1,p=a[0];e:for(;++h<i&&l.length<c;){var b=d[h],v=e?e(b):b;if(b=t||b!==0?b:0,!(p?z5(p,v):r(l,v,t))){for(o=s;--o;){var x=a[o];if(!(x?z5(x,v):r(n[o],v,t)))continue e}p&&p.push(v),l.push(b)}}return l}W5.exports=D2e});var J_=y((YNt,G5)=>{var x2e=ii();function T2e(n){return x2e(n)?n:[]}G5.exports=T2e});var K5=y((ZNt,Q5)=>{var S2e=Pn(),A2e=K_(),N2e=St(),I2e=J_(),M2e=N2e(function(n){var e=S2e(n,I2e);return e.length&&e[0]===n[0]?A2e(e):[]});Q5.exports=M2e});var Z5=y((XNt,Y5)=>{var R2e=Pn(),O2e=K_(),P2e=bt(),k2e=St(),F2e=J_(),J5=ds(),L2e=k2e(function(n){var e=J5(n),t=R2e(n,F2e);return e===J5(t)?e=void 0:t.pop(),t.length&&t[0]===n[0]?O2e(t,P2e(e,2)):[]});Y5.exports=L2e});var e9=y((eIt,X5)=>{var B2e=Pn(),q2e=K_(),j2e=St(),U2e=J_(),$2e=ds(),V2e=j2e(function(n){var e=$2e(n),t=B2e(n,U2e);return e=typeof e=="function"?e:void 0,e&&t.pop(),t.length&&t[0]===n[0]?q2e(t,void 0,e):[]});X5.exports=V2e});var n9=y((tIt,t9)=>{var H2e=ec();function z2e(n,e,t,r){return H2e(n,function(i,s,o){e(r,t(i),s,o)}),r}t9.exports=z2e});var ZA=y((nIt,r9)=>{var W2e=n9();function G2e(n,e){return function(t,r){return W2e(t,n,e(r),{})}}r9.exports=G2e});var s9=y((rIt,i9)=>{var Q2e=m_(),K2e=ZA(),J2e=yi(),Y2e=Object.prototype,Z2e=Y2e.toString,X2e=K2e(function(n,e,t){e!=null&&typeof e.toString!="function"&&(e=Z2e.call(e)),n[e]=t},Q2e(J2e));i9.exports=X2e});var c9=y((iIt,a9)=>{var eVe=bt(),tVe=ZA(),o9=Object.prototype,nVe=o9.hasOwnProperty,rVe=o9.toString,iVe=tVe(function(n,e,t){e!=null&&typeof e.toString!="function"&&(e=rVe.call(e)),nVe.call(n,e)?n[e].push(t):n[e]=[t]},eVe);a9.exports=iVe});var XA=y((sIt,l9)=>{var sVe=Za(),oVe=us();function aVe(n,e){return e.length<2?n:sVe(n,oVe(e,0,-1))}l9.exports=aVe});var xp=y((oIt,u9)=>{var cVe=Hi(),lVe=ta(),uVe=ds(),dVe=XA(),fVe=Ls();function hVe(n,e,t){e=lVe(e,n),n=dVe(n,e);var r=n==null?n:n[fVe(uVe(e))];return r==null?void 0:cVe(r,n,t)}u9.exports=hVe});var f9=y((aIt,d9)=>{var pVe=xp(),mVe=St(),gVe=mVe(pVe);d9.exports=gVe});var p9=y((cIt,h9)=>{var yVe=Hi(),bVe=oa(),_Ve=xp(),vVe=St(),EVe=ti(),wVe=vVe(function(n,e,t){var r=-1,i=typeof e=="function",s=EVe(n)?Array(n.length):[];return bVe(n,function(o){s[++r]=i?yVe(e,o,t):_Ve(o,e,t)}),s});h9.exports=wVe});var g9=y((lIt,m9)=>{var CVe=ei(),DVe=On(),xVe="[object ArrayBuffer]";function TVe(n){return DVe(n)&&CVe(n)==xVe}m9.exports=TVe});var v9=y((uIt,_9)=>{var SVe=g9(),AVe=zi(),y9=vl(),b9=y9&&y9.isArrayBuffer,NVe=b9?AVe(b9):SVe;_9.exports=NVe});var w9=y((dIt,E9)=>{var IVe=ei(),MVe=On(),RVe="[object Boolean]";function OVe(n){return n===!0||n===!1||MVe(n)&&IVe(n)==RVe}E9.exports=OVe});var D9=y((fIt,C9)=>{var PVe=ei(),kVe=On(),FVe="[object Date]";function LVe(n){return kVe(n)&&PVe(n)==FVe}C9.exports=LVe});var A9=y((hIt,S9)=>{var BVe=D9(),qVe=zi(),x9=vl(),T9=x9&&x9.isDate,jVe=T9?qVe(T9):BVe;S9.exports=jVe});var I9=y((pIt,N9)=>{var UVe=On(),$Ve=gd();function VVe(n){return UVe(n)&&n.nodeType===1&&!$Ve(n)}N9.exports=VVe});var R9=y((mIt,M9)=>{var HVe=__(),zVe=_o(),WVe=_l(),GVe=Pt(),QVe=ti(),KVe=Ya(),JVe=ud(),YVe=El(),ZVe="[object Map]",XVe="[object Set]",eHe=Object.prototype,tHe=eHe.hasOwnProperty;function nHe(n){if(n==null)return!0;if(QVe(n)&&(GVe(n)||typeof n=="string"||typeof n.splice=="function"||KVe(n)||YVe(n)||WVe(n)))return!n.length;var e=zVe(n);if(e==ZVe||e==XVe)return!n.size;if(JVe(n))return!HVe(n).length;for(var t in n)if(tHe.call(n,t))return!1;return!0}M9.exports=nHe});var P9=y((gIt,O9)=>{var rHe=_p();function iHe(n,e){return rHe(n,e)}O9.exports=iHe});var F9=y((yIt,k9)=>{var sHe=_p();function oHe(n,e,t){t=typeof t=="function"?t:void 0;var r=t?t(n,e):void 0;return r===void 0?sHe(n,e,void 0,t):!!r}k9.exports=oHe});var B9=y((bIt,L9)=>{var aHe=ar(),cHe=aHe.isFinite;function lHe(n){return typeof n=="number"&&cHe(n)}L9.exports=lHe});var eN=y((_It,q9)=>{var uHe=Lt();function dHe(n){return typeof n=="number"&&n==uHe(n)}q9.exports=dHe});var U9=y((vIt,j9)=>{var fHe=B_(),hHe=q_();function pHe(n,e){return n===e||fHe(n,e,hHe(e))}j9.exports=pHe});var V9=y((EIt,$9)=>{var mHe=B_(),gHe=q_();function yHe(n,e,t){return t=typeof t=="function"?t:void 0,mHe(n,e,gHe(e),t)}$9.exports=yHe});var tN=y((wIt,H9)=>{var bHe=ei(),_He=On(),vHe="[object Number]";function EHe(n){return typeof n=="number"||_He(n)&&bHe(n)==vHe}H9.exports=EHe});var W9=y((CIt,z9)=>{var wHe=tN();function CHe(n){return wHe(n)&&n!=+n}z9.exports=CHe});var Q9=y((DIt,G9)=>{var DHe=eS(),xHe=go(),THe=b_(),SHe=DHe?xHe:THe;G9.exports=SHe});var J9=y((xIt,K9)=>{var AHe=rS(),NHe=Q9(),IHe="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function MHe(n){if(NHe(n))throw new Error(IHe);return AHe(n)}K9.exports=MHe});var Z9=y((TIt,Y9)=>{function RHe(n){return n==null}Y9.exports=RHe});var eQ=y((SIt,X9)=>{function OHe(n){return n===null}X9.exports=OHe});var nQ=y((AIt,tQ)=>{var PHe=ei(),kHe=On(),FHe="[object RegExp]";function LHe(n){return kHe(n)&&PHe(n)==FHe}tQ.exports=LHe});var Y_=y((NIt,sQ)=>{var BHe=nQ(),qHe=zi(),rQ=vl(),iQ=rQ&&rQ.isRegExp,jHe=iQ?qHe(iQ):BHe;sQ.exports=jHe});var cQ=y((IIt,aQ)=>{var UHe=eN(),oQ=9007199254740991;function $He(n){return UHe(n)&&n>=-oQ&&n<=oQ}aQ.exports=$He});var uQ=y((MIt,lQ)=>{function VHe(n){return n===void 0}lQ.exports=VHe});var fQ=y((RIt,dQ)=>{var HHe=_o(),zHe=On(),WHe="[object WeakMap]";function GHe(n){return zHe(n)&&HHe(n)==WHe}dQ.exports=GHe});var pQ=y((OIt,hQ)=>{var QHe=ei(),KHe=On(),JHe="[object WeakSet]";function YHe(n){return KHe(n)&&QHe(n)==JHe}hQ.exports=YHe});var gQ=y((PIt,mQ)=>{var ZHe=vo(),XHe=bt(),eze=1;function tze(n){return XHe(typeof n=="function"?n:ZHe(n,eze))}mQ.exports=tze});var bQ=y((kIt,yQ)=>{var nze=Array.prototype,rze=nze.join;function ize(n,e){return n==null?"":rze.call(n,e)}yQ.exports=ize});var vQ=y((FIt,_Q)=>{var sze=Dl(),oze=sze(function(n,e,t){return n+(t?"-":"")+e.toLowerCase()});_Q.exports=oze});var wQ=y((LIt,EQ)=>{var aze=bo(),cze=vp(),lze=cze(function(n,e,t){aze(n,t,e)});EQ.exports=lze});var DQ=y((BIt,CQ)=>{function uze(n,e,t){for(var r=t+1;r--;)if(n[r]===e)return r;return r}CQ.exports=uze});var TQ=y((qIt,xQ)=>{var dze=np(),fze=mS(),hze=DQ(),pze=Lt(),mze=Math.max,gze=Math.min;function yze(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=r;return t!==void 0&&(i=pze(t),i=i<0?mze(r+i,0):gze(i,r-1)),e===e?hze(n,e,i):dze(n,fze,i,!0)}xQ.exports=yze});var AQ=y((jIt,SQ)=>{var bze=Dl(),_ze=bze(function(n,e,t){return n+(t?" ":"")+e.toLowerCase()});SQ.exports=_ze});var IQ=y((UIt,NQ)=>{var vze=US(),Eze=vze("toLowerCase");NQ.exports=Eze});var Z_=y(($It,MQ)=>{function wze(n,e){return n<e}MQ.exports=wze});var OQ=y((VIt,RQ)=>{var Cze=Z_(),Dze=Cp(),xze=Dze(Cze);RQ.exports=xze});var kQ=y((HIt,PQ)=>{var Tze=Cp(),Sze=Tze(function(n,e){return n<=e});PQ.exports=Sze});var LQ=y((zIt,FQ)=>{var Aze=bo(),Nze=ec(),Ize=bt();function Mze(n,e){var t={};return e=Ize(e,3),Nze(n,function(r,i,s){Aze(t,e(r,i,s),r)}),t}FQ.exports=Mze});var qQ=y((WIt,BQ)=>{var Rze=bo(),Oze=ec(),Pze=bt();function kze(n,e){var t={};return e=Pze(e,3),Oze(n,function(r,i,s){Rze(t,i,e(r,i,s))}),t}BQ.exports=kze});var UQ=y((GIt,jQ)=>{var Fze=vo(),Lze=pA(),Bze=1;function qze(n){return Lze(Fze(n,Bze))}jQ.exports=qze});var VQ=y((QIt,$Q)=>{var jze=vo(),Uze=gA(),$ze=1;function Vze(n,e){return Uze(n,jze(e,$ze))}$Q.exports=Vze});var Tp=y((KIt,HQ)=>{var Hze=as();function zze(n,e,t){for(var r=-1,i=n.length;++r<i;){var s=n[r],o=e(s);if(o!=null&&(a===void 0?o===o&&!Hze(o):t(o,a)))var a=o,c=s}return c}HQ.exports=zze});var WQ=y((JIt,zQ)=>{var Wze=Tp(),Gze=G_(),Qze=yi();function Kze(n){return n&&n.length?Wze(n,Qze,Gze):void 0}zQ.exports=Kze});var QQ=y((YIt,GQ)=>{var Jze=Tp(),Yze=G_(),Zze=bt();function Xze(n,e){return n&&n.length?Jze(n,Zze(e,2),Yze):void 0}GQ.exports=Xze});var X_=y((ZIt,KQ)=>{function e3e(n,e){for(var t,r=-1,i=n.length;++r<i;){var s=e(n[r]);s!==void 0&&(t=t===void 0?s:t+s)}return t}KQ.exports=e3e});var nN=y((XIt,JQ)=>{var t3e=X_(),n3e=NaN;function r3e(n,e){var t=n==null?0:n.length;return t?t3e(n,e)/t:n3e}JQ.exports=r3e});var ZQ=y((eMt,YQ)=>{var i3e=nN(),s3e=yi();function o3e(n){return i3e(n,s3e)}YQ.exports=o3e});var e7=y((tMt,XQ)=>{var a3e=bt(),c3e=nN();function l3e(n,e){return c3e(n,a3e(e,2))}XQ.exports=l3e});var n7=y((nMt,t7)=>{var u3e=V_(),d3e=bl(),f3e=d3e(function(n,e,t){u3e(n,e,t)});t7.exports=f3e});var i7=y((rMt,r7)=>{var h3e=xp(),p3e=St(),m3e=p3e(function(n,e){return function(t){return h3e(t,n,e)}});r7.exports=m3e});var o7=y((iMt,s7)=>{var g3e=xp(),y3e=St(),b3e=y3e(function(n,e){return function(t){return g3e(n,t,e)}});s7.exports=b3e});var c7=y((sMt,a7)=>{var _3e=Tp(),v3e=Z_(),E3e=yi();function w3e(n){return n&&n.length?_3e(n,E3e,v3e):void 0}a7.exports=w3e});var u7=y((oMt,l7)=>{var C3e=Tp(),D3e=bt(),x3e=Z_();function T3e(n,e){return n&&n.length?C3e(n,D3e(e,2),x3e):void 0}l7.exports=T3e});var f7=y((aMt,d7)=>{var S3e=ml(),A3e=wl(),N3e=W_(),I3e=cs(),M3e=go(),R3e=Gn(),O3e=br();function P3e(n,e,t){var r=O3e(e),i=N3e(e,r),s=!(R3e(t)&&"chain"in t)||!!t.chain,o=M3e(n);return S3e(i,function(a){var c=e[a];n[a]=c,o&&(n.prototype[a]=function(){var l=this.__chain__;if(s||l){var d=n(this.__wrapped__),h=d.__actions__=I3e(this.__actions__);return h.push({func:c,args:arguments,thisArg:n}),d.__chain__=l,d}return c.apply(n,A3e([this.value()],arguments))})}),n}d7.exports=P3e});var p7=y((cMt,h7)=>{var k3e=ep(),F3e=k3e(function(n,e){return n*e},1);h7.exports=F3e});var ev=y((lMt,m7)=>{var L3e="Expected a function";function B3e(n){if(typeof n!="function")throw new TypeError(L3e);return function(){var e=arguments;switch(e.length){case 0:return!n.call(this);case 1:return!n.call(this,e[0]);case 2:return!n.call(this,e[0],e[1]);case 3:return!n.call(this,e[0],e[1],e[2])}return!n.apply(this,e)}}m7.exports=B3e});var rN=y((uMt,g7)=>{var q3e=ea();function j3e(n,e){var t=n.length;if(t)return e+=e<0?t:0,q3e(e,t)?n[e]:void 0}g7.exports=j3e});var b7=y((dMt,y7)=>{var U3e=rN(),$3e=Lt();function V3e(n,e){return n&&n.length?U3e(n,$3e(e)):void 0}y7.exports=V3e});var v7=y((fMt,_7)=>{var H3e=rN(),z3e=St(),W3e=Lt();function G3e(n){return n=W3e(n),z3e(function(e){return H3e(e,n)})}_7.exports=G3e});var tv=y((hMt,E7)=>{var Q3e=ta(),K3e=ds(),J3e=XA(),Y3e=Ls(),Z3e=Object.prototype,X3e=Z3e.hasOwnProperty;function eWe(n,e){e=Q3e(e,n);var t=-1,r=e.length;if(!r)return!0;for(var i=n==null||typeof n!="object"&&typeof n!="function";++t<r;){var s=e[t];if(typeof s=="string"){if(s==="__proto__"&&!X3e.call(n,"__proto__"))return!1;if(s==="constructor"&&t+1<r&&typeof e[t+1]=="string"&&e[t+1]==="prototype"){if(i&&t===0)continue;return!1}}}var o=J3e(n,e);return o==null||delete o[Y3e(K3e(e))]}E7.exports=eWe});var C7=y((pMt,w7)=>{var tWe=gd();function nWe(n){return tWe(n)?void 0:n}w7.exports=nWe});var x7=y((mMt,D7)=>{var rWe=Pn(),iWe=vo(),sWe=tv(),oWe=ta(),aWe=Fs(),cWe=C7(),lWe=na(),uWe=M_(),dWe=1,fWe=2,hWe=4,pWe=lWe(function(n,e){var t={};if(n==null)return t;var r=!1;e=rWe(e,function(s){return s=oWe(s,n),r||(r=s.length>1),s}),aWe(n,uWe(n),t),r&&(t=iWe(t,dWe|fWe|hWe,cWe));for(var i=e.length;i--;)sWe(t,e[i]);return t});D7.exports=pWe});var wd=y((gMt,S7)=>{var mWe=ld(),gWe=ta(),yWe=ea(),T7=Gn(),bWe=Ls();function _We(n,e,t,r){if(!T7(n))return n;e=gWe(e,n);for(var i=-1,s=e.length,o=s-1,a=n;a!=null&&++i<s;){var c=bWe(e[i]),l=t;if(c==="__proto__"||c==="constructor"||c==="prototype")return n;if(i!=o){var d=a[c];l=r?r(d,c,a):void 0,l===void 0&&(l=T7(d)?d:yWe(e[i+1])?[]:{})}mWe(a,c,l),a=a[c]}return n}S7.exports=_We});var iN=y((yMt,A7)=>{var vWe=Za(),EWe=wd(),wWe=ta();function CWe(n,e,t){for(var r=-1,i=e.length,s={};++r<i;){var o=e[r],a=vWe(n,o);t(a,o)&&EWe(s,wWe(o,n),a)}return s}A7.exports=CWe});var sN=y((bMt,N7)=>{var DWe=Pn(),xWe=bt(),TWe=iN(),SWe=M_();function AWe(n,e){if(n==null)return{};var t=DWe(SWe(n),function(r){return[r]});return e=xWe(e),TWe(n,t,function(r,i){return e(r,i[0])})}N7.exports=AWe});var M7=y((_Mt,I7)=>{var NWe=bt(),IWe=ev(),MWe=sN();function RWe(n,e){return MWe(n,IWe(NWe(e)))}I7.exports=RWe});var O7=y((vMt,R7)=>{var OWe=kS();function PWe(n){return OWe(2,n)}R7.exports=PWe});var k7=y((EMt,P7)=>{function kWe(n,e){var t=n.length;for(n.sort(e);t--;)n[t]=n[t].value;return n}P7.exports=kWe});var oN=y((wMt,L7)=>{var F7=as();function FWe(n,e){if(n!==e){var t=n!==void 0,r=n===null,i=n===n,s=F7(n),o=e!==void 0,a=e===null,c=e===e,l=F7(e);if(!a&&!l&&!s&&n>e||s&&o&&c&&!a&&!l||r&&o&&c||!t&&c||!i)return 1;if(!r&&!s&&!l&&n<e||l&&t&&i&&!r&&!s||a&&t&&i||!o&&i||!c)return-1}return 0}L7.exports=FWe});var q7=y((CMt,B7)=>{var LWe=oN();function BWe(n,e,t){for(var r=-1,i=n.criteria,s=e.criteria,o=i.length,a=t.length;++r<o;){var c=LWe(i[r],s[r]);if(c){if(r>=a)return c;var l=t[r];return c*(l=="desc"?-1:1)}}return n.index-e.index}B7.exports=BWe});var cN=y((DMt,j7)=>{var aN=Pn(),qWe=Za(),jWe=bt(),UWe=KA(),$We=k7(),VWe=zi(),HWe=q7(),zWe=yi(),WWe=Pt();function GWe(n,e,t){e.length?e=aN(e,function(s){return WWe(s)?function(o){return qWe(o,s.length===1?s[0]:s)}:s}):e=[zWe];var r=-1;e=aN(e,VWe(jWe));var i=UWe(n,function(s,o,a){var c=aN(e,function(l){return l(s)});return{criteria:c,index:++r,value:s}});return $We(i,function(s,o){return HWe(s,o,t)})}j7.exports=GWe});var V7=y((xMt,$7)=>{var QWe=cN(),U7=Pt();function KWe(n,e,t,r){return n==null?[]:(U7(e)||(e=e==null?[]:[e]),t=r?void 0:t,U7(t)||(t=t==null?[]:[t]),QWe(n,e,t))}$7.exports=KWe});var nv=y((TMt,H7)=>{var JWe=Hi(),YWe=Pn(),ZWe=bt(),XWe=St(),e8e=zi(),t8e=na();function n8e(n){return t8e(function(e){return e=YWe(e,e8e(ZWe)),XWe(function(t){var r=this;return n(e,function(i){return JWe(i,r,t)})})})}H7.exports=n8e});var W7=y((SMt,z7)=>{var r8e=Pn(),i8e=nv(),s8e=i8e(r8e);z7.exports=s8e});var Q7=y((AMt,G7)=>{var o8e=St(),a8e=o8e;G7.exports=a8e});var X7=y((NMt,Z7)=>{var c8e=Hi(),K7=Pn(),l8e=Sr(),J7=bt(),u8e=St(),Y7=zi(),d8e=Q7(),f8e=Pt(),h8e=Math.min,p8e=d8e(function(n,e){e=e.length==1&&f8e(e[0])?K7(e[0],Y7(J7)):K7(l8e(e,1),Y7(J7));var t=e.length;return u8e(function(r){for(var i=-1,s=h8e(r.length,t);++i<s;)r[i]=e[i].call(this,r[i]);return c8e(n,this,r)})});Z7.exports=p8e});var tK=y((IMt,eK)=>{var m8e=UA(),g8e=nv(),y8e=g8e(m8e);eK.exports=y8e});var rK=y((MMt,nK)=>{var b8e=k_(),_8e=nv(),v8e=_8e(b8e);nK.exports=v8e});var lN=y((RMt,iK)=>{var E8e=9007199254740991,w8e=Math.floor;function C8e(n,e){var t="";if(!n||e<1||e>E8e)return t;do e%2&&(t+=n),e=w8e(e/2),e&&(n+=n);while(e);return t}iK.exports=C8e});var oK=y((OMt,sK)=>{var D8e=U_(),x8e=D8e("length");sK.exports=x8e});var mK=y((PMt,pK)=>{var cK="\\ud800-\\udfff",T8e="\\u0300-\\u036f",S8e="\\ufe20-\\ufe2f",A8e="\\u20d0-\\u20ff",N8e=T8e+S8e+A8e,I8e="\\ufe0e\\ufe0f",M8e="["+cK+"]",uN="["+N8e+"]",dN="\\ud83c[\\udffb-\\udfff]",R8e="(?:"+uN+"|"+dN+")",lK="[^"+cK+"]",uK="(?:\\ud83c[\\udde6-\\uddff]){2}",dK="[\\ud800-\\udbff][\\udc00-\\udfff]",O8e="\\u200d",fK=R8e+"?",hK="["+I8e+"]?",P8e="(?:"+O8e+"(?:"+[lK,uK,dK].join("|")+")"+hK+fK+")*",k8e=hK+fK+P8e,F8e="(?:"+[lK+uN+"?",uN,uK,dK,M8e].join("|")+")",aK=RegExp(dN+"(?="+dN+")|"+F8e+k8e,"g");function L8e(n){for(var e=aK.lastIndex=0;aK.test(n);)++e;return e}pK.exports=L8e});var Sl=y((kMt,gK)=>{var B8e=oK(),q8e=Cl(),j8e=mK();function U8e(n){return q8e(n)?j8e(n):B8e(n)}gK.exports=U8e});var rv=y((FMt,bK)=>{var yK=lN(),$8e=ks(),V8e=ra(),H8e=Cl(),z8e=Sl(),W8e=ia(),G8e=Math.ceil;function Q8e(n,e){e=e===void 0?" ":$8e(e);var t=e.length;if(t<2)return t?yK(e,n):e;var r=yK(e,G8e(n/z8e(e)));return H8e(e)?V8e(W8e(r),0,n).join(""):r.slice(0,n)}bK.exports=Q8e});var EK=y((LMt,vK)=>{var _K=rv(),K8e=Sl(),J8e=Lt(),Y8e=rn(),Z8e=Math.ceil,X8e=Math.floor;function eGe(n,e,t){n=Y8e(n),e=J8e(e);var r=e?K8e(n):0;if(!e||r>=e)return n;var i=(e-r)/2;return _K(X8e(i),t)+n+_K(Z8e(i),t)}vK.exports=eGe});var CK=y((BMt,wK)=>{var tGe=rv(),nGe=Sl(),rGe=Lt(),iGe=rn();function sGe(n,e,t){n=iGe(n),e=rGe(e);var r=e?nGe(n):0;return e&&r<e?n+tGe(e-r,t):n}wK.exports=sGe});var xK=y((qMt,DK)=>{var oGe=rv(),aGe=Sl(),cGe=Lt(),lGe=rn();function uGe(n,e,t){n=lGe(n),e=cGe(e);var r=e?aGe(n):0;return e&&r<e?oGe(e-r,t)+n:n}DK.exports=uGe});var SK=y((jMt,TK)=>{var dGe=ar(),fGe=rn(),hGe=/^\s+/,pGe=dGe.parseInt;function mGe(n,e,t){return t||e==null?e=0:e&&(e=+e),pGe(fGe(n).replace(hGe,""),e||0)}TK.exports=mGe});var hN=y((UMt,AK)=>{var gGe=St(),yGe=yo(),bGe=yl(),_Ge=Ja(),vGe=32,fN=gGe(function(n,e){var t=_Ge(e,bGe(fN));return yGe(n,vGe,void 0,e,t)});fN.placeholder={};AK.exports=fN});var IK=y(($Mt,NK)=>{var EGe=St(),wGe=yo(),CGe=yl(),DGe=Ja(),xGe=64,pN=EGe(function(n,e){var t=DGe(e,CGe(pN));return wGe(n,xGe,void 0,e,t)});pN.placeholder={};NK.exports=pN});var RK=y((VMt,MK)=>{var TGe=vp(),SGe=TGe(function(n,e,t){n[t?0:1].push(e)},function(){return[[],[]]});MK.exports=SGe});var PK=y((HMt,OK)=>{var AGe=iN(),NGe=j_();function IGe(n,e){return AGe(n,e,function(t,r){return NGe(n,r)})}OK.exports=IGe});var FK=y((zMt,kK)=>{var MGe=PK(),RGe=na(),OGe=RGe(function(n,e){return n==null?{}:MGe(n,e)});kK.exports=OGe});var BK=y((WMt,LK)=>{var PGe=Za();function kGe(n){return function(e){return n==null?void 0:PGe(n,e)}}LK.exports=kGe});var jK=y((GMt,qK)=>{function FGe(n,e,t,r){for(var i=t-1,s=n.length;++i<s;)if(r(n[i],e))return i;return-1}qK.exports=FGe});var iv=y((QMt,$K)=>{var LGe=Pn(),BGe=gl(),qGe=jK(),jGe=zi(),UGe=cs(),$Ge=Array.prototype,UK=$Ge.splice;function VGe(n,e,t,r){var i=r?qGe:BGe,s=-1,o=e.length,a=n;for(n===e&&(e=UGe(e)),t&&(a=LGe(n,jGe(t)));++s<o;)for(var c=0,l=e[s],d=t?t(l):l;(c=i(a,d,c,r))>-1;)a!==n&&UK.call(a,c,1),UK.call(n,c,1);return n}$K.exports=VGe});var mN=y((KMt,VK)=>{var HGe=iv();function zGe(n,e){return n&&n.length&&e&&e.length?HGe(n,e):n}VK.exports=zGe});var zK=y((JMt,HK)=>{var WGe=St(),GGe=mN(),QGe=WGe(GGe);HK.exports=QGe});var GK=y((YMt,WK)=>{var KGe=bt(),JGe=iv();function YGe(n,e,t){return n&&n.length&&e&&e.length?JGe(n,e,KGe(t,2)):n}WK.exports=YGe});var KK=y((ZMt,QK)=>{var ZGe=iv();function XGe(n,e,t){return n&&n.length&&e&&e.length?ZGe(n,e,void 0,t):n}QK.exports=XGe});var gN=y((XMt,JK)=>{var e4e=tv(),t4e=ea(),n4e=Array.prototype,r4e=n4e.splice;function i4e(n,e){for(var t=n?e.length:0,r=t-1;t--;){var i=e[t];if(t==r||i!==s){var s=i;t4e(i)?r4e.call(n,i,1):e4e(n,i)}}return n}JK.exports=i4e});var ZK=y((eRt,YK)=>{var s4e=Pn(),o4e=RS(),a4e=gN(),c4e=oN(),l4e=na(),u4e=ea(),d4e=l4e(function(n,e){var t=n==null?0:n.length,r=o4e(n,e);return a4e(n,s4e(e,function(i){return u4e(i,t)?+i:i}).sort(c4e)),r});YK.exports=d4e});var sv=y((tRt,XK)=>{var f4e=Math.floor,h4e=Math.random;function p4e(n,e){return n+f4e(h4e()*(e-n+1))}XK.exports=p4e});var nJ=y((nRt,tJ)=>{var m4e=sv(),g4e=ni(),eJ=cd(),y4e=parseFloat,b4e=Math.min,_4e=Math.random;function v4e(n,e,t){if(t&&typeof t!="boolean"&&g4e(n,e,t)&&(e=t=void 0),t===void 0&&(typeof e=="boolean"?(t=e,e=void 0):typeof n=="boolean"&&(t=n,n=void 0)),n===void 0&&e===void 0?(n=0,e=1):(n=eJ(n),e===void 0?(e=n,n=0):e=eJ(e)),n>e){var r=n;n=e,e=r}if(t||n%1||e%1){var i=_4e();return b4e(n+i*(e-n+y4e("1e-"+((i+"").length-1))),e)}return m4e(n,e)}tJ.exports=v4e});var iJ=y((rRt,rJ)=>{var E4e=Math.ceil,w4e=Math.max;function C4e(n,e,t,r){for(var i=-1,s=w4e(E4e((e-n)/(t||1)),0),o=Array(s);s--;)o[r?s:++i]=n,n+=t;return o}rJ.exports=C4e});var bN=y((iRt,sJ)=>{var D4e=iJ(),x4e=ni(),yN=cd();function T4e(n){return function(e,t,r){return r&&typeof r!="number"&&x4e(e,t,r)&&(t=r=void 0),e=yN(e),t===void 0?(t=e,e=0):t=yN(t),r=r===void 0?e<t?1:-1:yN(r),D4e(e,t,r,n)}}sJ.exports=T4e});var aJ=y((sRt,oJ)=>{var S4e=bN(),A4e=S4e();oJ.exports=A4e});var lJ=y((oRt,cJ)=>{var N4e=bN(),I4e=N4e(!0);cJ.exports=I4e});var dJ=y((aRt,uJ)=>{var M4e=yo(),R4e=na(),O4e=256,P4e=R4e(function(n,e){return M4e(n,O4e,void 0,void 0,void 0,e)});uJ.exports=P4e});var _N=y((cRt,fJ)=>{function k4e(n,e,t,r,i){return i(n,function(s,o,a){t=r?(r=!1,s):e(t,s,o,a)}),t}fJ.exports=k4e});var pJ=y((lRt,hJ)=>{var F4e=VS(),L4e=oa(),B4e=bt(),q4e=_N(),j4e=Pt();function U4e(n,e,t){var r=j4e(n)?F4e:q4e,i=arguments.length<3;return r(n,B4e(e,4),t,i,L4e)}hJ.exports=U4e});var gJ=y((uRt,mJ)=>{function $4e(n,e,t,r){var i=n==null?0:n.length;for(r&&i&&(t=n[--i]);i--;)t=e(t,n[i],i,n);return t}mJ.exports=$4e});var bJ=y((dRt,yJ)=>{var V4e=gJ(),H4e=kA(),z4e=bt(),W4e=_N(),G4e=Pt();function Q4e(n,e,t){var r=G4e(n)?V4e:W4e,i=arguments.length<3;return r(n,z4e(e,4),t,i,H4e)}yJ.exports=Q4e});var vJ=y((fRt,_J)=>{var K4e=sa(),J4e=VA(),Y4e=bt(),Z4e=Pt(),X4e=ev();function e6e(n,e){var t=Z4e(n)?K4e:J4e;return t(n,X4e(Y4e(e,3)))}_J.exports=e6e});var wJ=y((hRt,EJ)=>{var t6e=bt(),n6e=gN();function r6e(n,e){var t=[];if(!(n&&n.length))return t;var r=-1,i=[],s=n.length;for(e=t6e(e,3);++r<s;){var o=n[r];e(o,r,n)&&(t.push(o),i.push(r))}return n6e(n,i),t}EJ.exports=r6e});var DJ=y((pRt,CJ)=>{var i6e=lN(),s6e=ni(),o6e=Lt(),a6e=rn();function c6e(n,e,t){return(t?s6e(n,e,t):e===void 0)?e=1:e=o6e(e),i6e(a6e(n),e)}CJ.exports=c6e});var TJ=y((mRt,xJ)=>{var l6e=rn();function u6e(){var n=arguments,e=l6e(n[0]);return n.length<3?e:e.replace(n[1],n[2])}xJ.exports=u6e});var AJ=y((gRt,SJ)=>{var d6e=St(),f6e=Lt(),h6e="Expected a function";function p6e(n,e){if(typeof n!="function")throw new TypeError(h6e);return e=e===void 0?e:f6e(e),d6e(n,e)}SJ.exports=p6e});var IJ=y((yRt,NJ)=>{var m6e=ta(),g6e=go(),y6e=Ls();function b6e(n,e,t){e=m6e(e,n);var r=-1,i=e.length;for(i||(i=1,n=void 0);++r<i;){var s=n?.[y6e(e[r])];s===void 0&&(r=i,s=t),n=g6e(s)?s.call(n):s}return n}NJ.exports=b6e});var RJ=y((bRt,MJ)=>{var _6e=Array.prototype,v6e=_6e.reverse;function E6e(n){return n==null?n:v6e.call(n)}MJ.exports=E6e});var PJ=y((_Rt,OJ)=>{var w6e=A_(),C6e=w6e("round");OJ.exports=C6e});var vN=y((vRt,kJ)=>{var D6e=sv();function x6e(n){var e=n.length;return e?n[D6e(0,e-1)]:void 0}kJ.exports=x6e});var LJ=y((ERt,FJ)=>{var T6e=vN(),S6e=Tl();function A6e(n){return T6e(S6e(n))}FJ.exports=A6e});var qJ=y((wRt,BJ)=>{var N6e=vN(),I6e=LJ(),M6e=Pt();function R6e(n){var e=M6e(n)?N6e:I6e;return e(n)}BJ.exports=R6e});var Sp=y((CRt,jJ)=>{var O6e=sv();function P6e(n,e){var t=-1,r=n.length,i=r-1;for(e=e===void 0?r:e;++t<e;){var s=O6e(t,i),o=n[s];n[s]=n[t],n[t]=o}return n.length=e,n}jJ.exports=P6e});var $J=y((DRt,UJ)=>{var k6e=Xa(),F6e=cs(),L6e=Sp();function B6e(n,e){return L6e(F6e(n),k6e(e,0,n.length))}UJ.exports=B6e});var HJ=y((xRt,VJ)=>{var q6e=Xa(),j6e=Sp(),U6e=Tl();function $6e(n,e){var t=U6e(n);return j6e(t,q6e(e,0,t.length))}VJ.exports=$6e});var WJ=y((TRt,zJ)=>{var V6e=$J(),H6e=HJ(),z6e=Pt(),W6e=ni(),G6e=Lt();function Q6e(n,e,t){(t?W6e(n,e,t):e===void 0)?e=1:e=G6e(e);var r=z6e(n)?V6e:H6e;return r(n,e)}zJ.exports=Q6e});var QJ=y((SRt,GJ)=>{var K6e=wd();function J6e(n,e,t){return n==null?n:K6e(n,e,t)}GJ.exports=J6e});var JJ=y((ARt,KJ)=>{var Y6e=wd();function Z6e(n,e,t,r){return r=typeof r=="function"?r:void 0,n==null?n:Y6e(n,e,t,r)}KJ.exports=Z6e});var ZJ=y((NRt,YJ)=>{var X6e=cs(),e5e=Sp();function t5e(n){return e5e(X6e(n))}YJ.exports=t5e});var eY=y((IRt,XJ)=>{var n5e=Sp(),r5e=Tl();function i5e(n){return n5e(r5e(n))}XJ.exports=i5e});var nY=y((MRt,tY)=>{var s5e=ZJ(),o5e=eY(),a5e=Pt();function c5e(n){var e=a5e(n)?s5e:o5e;return e(n)}tY.exports=c5e});var iY=y((RRt,rY)=>{var l5e=__(),u5e=_o(),d5e=ti(),f5e=Dp(),h5e=Sl(),p5e="[object Map]",m5e="[object Set]";function g5e(n){if(n==null)return 0;if(d5e(n))return f5e(n)?h5e(n):n.length;var e=u5e(n);return e==p5e||e==m5e?n.size:l5e(n).length}rY.exports=g5e});var aY=y((ORt,oY)=>{var y5e=us(),b5e=ni(),sY=Lt();function _5e(n,e,t){var r=n==null?0:n.length;return r?(t&&typeof t!="number"&&b5e(n,e,t)?(e=0,t=r):(e=e==null?0:sY(e),t=t===void 0?r:sY(t)),y5e(n,e,t)):[]}oY.exports=_5e});var lY=y((PRt,cY)=>{var v5e=Dl(),E5e=v5e(function(n,e,t){return n+(t?"_":"")+e.toLowerCase()});cY.exports=E5e});var dY=y((kRt,uY)=>{var w5e=oa();function C5e(n,e){var t;return w5e(n,function(r,i,s){return t=e(r,i,s),!t}),!!t}uY.exports=C5e});var hY=y((FRt,fY)=>{var D5e=k_(),x5e=bt(),T5e=dY(),S5e=Pt(),A5e=ni();function N5e(n,e,t){var r=S5e(n)?D5e:T5e;return t&&A5e(n,e,t)&&(e=void 0),r(n,x5e(e,3))}fY.exports=N5e});var gY=y((LRt,mY)=>{var I5e=Sr(),M5e=cN(),R5e=St(),pY=ni(),O5e=R5e(function(n,e){if(n==null)return[];var t=e.length;return t>1&&pY(n,e[0],e[1])?e=[]:t>2&&pY(e[0],e[1],e[2])&&(e=[e[0]]),M5e(n,I5e(e,1),[])});mY.exports=O5e});var ov=y((BRt,bY)=>{var yY=as(),P5e=4294967295,k5e=P5e-1,F5e=Math.floor,L5e=Math.min;function B5e(n,e,t,r){var i=0,s=n==null?0:n.length;if(s===0)return 0;e=t(e);for(var o=e!==e,a=e===null,c=yY(e),l=e===void 0;i<s;){var d=F5e((i+s)/2),h=t(n[d]),p=h!==void 0,b=h===null,v=h===h,x=yY(h);if(o)var N=r||v;else l?N=v&&(r||p):a?N=v&&p&&(r||!b):c?N=v&&p&&!b&&(r||!x):b||x?N=!1:N=r?h<=e:h<e;N?i=d+1:s=d}return L5e(s,k5e)}bY.exports=B5e});var Ap=y((qRt,_Y)=>{var q5e=ov(),j5e=yi(),U5e=as(),$5e=4294967295,V5e=$5e>>>1;function H5e(n,e,t){var r=0,i=n==null?r:n.length;if(typeof e=="number"&&e===e&&i<=V5e){for(;r<i;){var s=r+i>>>1,o=n[s];o!==null&&!U5e(o)&&(t?o<=e:o<e)?r=s+1:i=s}return i}return q5e(n,e,j5e,t)}_Y.exports=H5e});var EY=y((jRt,vY)=>{var z5e=Ap();function W5e(n,e){return z5e(n,e)}vY.exports=W5e});var CY=y((URt,wY)=>{var G5e=bt(),Q5e=ov();function K5e(n,e,t){return Q5e(n,e,G5e(t,2))}wY.exports=K5e});var xY=y(($Rt,DY)=>{var J5e=Ap(),Y5e=ls();function Z5e(n,e){var t=n==null?0:n.length;if(t){var r=J5e(n,e);if(r<t&&Y5e(n[r],e))return r}return-1}DY.exports=Z5e});var SY=y((VRt,TY)=>{var X5e=Ap();function e9e(n,e){return X5e(n,e,!0)}TY.exports=e9e});var NY=y((HRt,AY)=>{var t9e=bt(),n9e=ov();function r9e(n,e,t){return n9e(n,e,t9e(t,2),!0)}AY.exports=r9e});var MY=y((zRt,IY)=>{var i9e=Ap(),s9e=ls();function o9e(n,e){var t=n==null?0:n.length;if(t){var r=i9e(n,e,!0)-1;if(s9e(n[r],e))return r}return-1}IY.exports=o9e});var EN=y((WRt,RY)=>{var a9e=ls();function c9e(n,e){for(var t=-1,r=n.length,i=0,s=[];++t<r;){var o=n[t],a=e?e(o):o;if(!t||!a9e(a,c)){var c=a;s[i++]=o===0?0:o}}return s}RY.exports=c9e});var PY=y((GRt,OY)=>{var l9e=EN();function u9e(n){return n&&n.length?l9e(n):[]}OY.exports=u9e});var FY=y((QRt,kY)=>{var d9e=bt(),f9e=EN();function h9e(n,e){return n&&n.length?f9e(n,d9e(e,2)):[]}kY.exports=h9e});var BY=y((KRt,LY)=>{var p9e=ks(),m9e=ra(),g9e=Cl(),y9e=ni(),b9e=Y_(),_9e=ia(),v9e=rn(),E9e=4294967295;function w9e(n,e,t){return t&&typeof t!="number"&&y9e(n,e,t)&&(e=t=void 0),t=t===void 0?E9e:t>>>0,t?(n=v9e(n),n&&(typeof e=="string"||e!=null&&!b9e(e))&&(e=p9e(e),!e&&g9e(n))?m9e(_9e(n),0,t):n.split(e,t)):[]}LY.exports=w9e});var jY=y((JRt,qY)=>{var C9e=Hi(),D9e=wl(),x9e=St(),T9e=ra(),S9e=Lt(),A9e="Expected a function",N9e=Math.max;function I9e(n,e){if(typeof n!="function")throw new TypeError(A9e);return e=e==null?0:N9e(S9e(e),0),x9e(function(t){var r=t[e],i=T9e(t,0,e);return r&&D9e(i,r),C9e(n,this,i)})}qY.exports=I9e});var $Y=y((YRt,UY)=>{var M9e=Dl(),R9e=T_(),O9e=M9e(function(n,e,t){return n+(t?" ":"")+R9e(e)});UY.exports=O9e});var HY=y((ZRt,VY)=>{var P9e=Xa(),k9e=ks(),F9e=Lt(),L9e=rn();function B9e(n,e,t){return n=L9e(n),t=t==null?0:P9e(F9e(t),0,n.length),e=k9e(e),n.slice(t,t+e.length)==e}VY.exports=B9e});var WY=y((XRt,zY)=>{function q9e(){return{}}zY.exports=q9e});var QY=y((eOt,GY)=>{function j9e(){return""}GY.exports=j9e});var JY=y((tOt,KY)=>{function U9e(){return!0}KY.exports=U9e});var ZY=y((nOt,YY)=>{var $9e=ep(),V9e=$9e(function(n,e){return n-e},0);YY.exports=V9e});var eZ=y((rOt,XY)=>{var H9e=X_(),z9e=yi();function W9e(n){return n&&n.length?H9e(n,z9e):0}XY.exports=W9e});var nZ=y((iOt,tZ)=>{var G9e=bt(),Q9e=X_();function K9e(n,e){return n&&n.length?Q9e(n,G9e(e,2)):0}tZ.exports=K9e});var iZ=y((sOt,rZ)=>{var J9e=us();function Y9e(n){var e=n==null?0:n.length;return e?J9e(n,1,e):[]}rZ.exports=Y9e});var oZ=y((oOt,sZ)=>{var Z9e=us(),X9e=Lt();function eQe(n,e,t){return n&&n.length?(e=t||e===void 0?1:X9e(e),Z9e(n,0,e<0?0:e)):[]}sZ.exports=eQe});var cZ=y((aOt,aZ)=>{var tQe=us(),nQe=Lt();function rQe(n,e,t){var r=n==null?0:n.length;return r?(e=t||e===void 0?1:nQe(e),e=r-e,tQe(n,e<0?0:e,r)):[]}aZ.exports=rQe});var uZ=y((cOt,lZ)=>{var iQe=bt(),sQe=Ep();function oQe(n,e){return n&&n.length?sQe(n,iQe(e,3),!1,!0):[]}lZ.exports=oQe});var fZ=y((lOt,dZ)=>{var aQe=bt(),cQe=Ep();function lQe(n,e){return n&&n.length?cQe(n,aQe(e,3)):[]}dZ.exports=lQe});var pZ=y((uOt,hZ)=>{function uQe(n,e){return e(n),n}hZ.exports=uQe});var yZ=y((dOt,gZ)=>{var dQe=ls(),mZ=Object.prototype,fQe=mZ.hasOwnProperty;function hQe(n,e,t,r){return n===void 0||dQe(n,mZ[t])&&!fQe.call(r,t)?e:n}gZ.exports=hQe});var _Z=y((fOt,bZ)=>{var pQe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function mQe(n){return"\\"+pQe[n]}bZ.exports=mQe});var wN=y((hOt,vZ)=>{var gQe=/<%=([\s\S]+?)%>/g;vZ.exports=gQe});var wZ=y((pOt,EZ)=>{var yQe=/<%-([\s\S]+?)%>/g;EZ.exports=yQe});var DZ=y((mOt,CZ)=>{var bQe=/<%([\s\S]+?)%>/g;CZ.exports=bQe});var CN=y((gOt,xZ)=>{var _Qe=jA(),vQe=wZ(),EQe=DZ(),wQe=wN(),CQe={escape:vQe,evaluate:EQe,interpolate:wQe,variable:"",imports:{_:{escape:_Qe}}};xZ.exports=CQe});var MZ=y((yOt,IZ)=>{var TZ=v_(),DQe=PS(),xQe=Q_(),SZ=yZ(),TQe=_Z(),SQe=x_(),AQe=ni(),NQe=br(),IQe=wN(),AZ=CN(),MQe=rn(),RQe="Invalid `variable` option passed into `_.template`",OQe=/\b__p \+= '';/g,PQe=/\b(__p \+=) '' \+/g,kQe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,FQe=/[()=,{}\[\]\/\s]/,LQe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,av=/($^)/,BQe=/['\n\r\u2028\u2029\\]/g,qQe=Object.prototype,NZ=qQe.hasOwnProperty;function jQe(n,e,t){var r=AZ.imports._.templateSettings||AZ;t&&AQe(n,e,t)&&(e=void 0),n=MQe(n),e=TZ({},e,r,SZ);var i=TZ({},e.imports,r.imports,SZ),s=NQe(i),o=xQe(i,s),a,c,l=0,d=e.interpolate||av,h="__p += '",p=RegExp((e.escape||av).source+"|"+d.source+"|"+(d===IQe?LQe:av).source+"|"+(e.evaluate||av).source+"|$","g"),b=NZ.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+`
`:"";n.replace(p,function(N,k,ee,X,ne,de){return ee||(ee=X),h+=n.slice(l,de).replace(BQe,TQe),k&&(a=!0,h+=`' +
__e(`+k+`) +
'`),ne&&(c=!0,h+=`';
`+ne+`;
__p += '`),ee&&(h+=`' +
((__t = (`+ee+`)) == null ? '' : __t) +
'`),l=de+N.length,N}),h+=`';
`;var v=NZ.call(e,"variable")&&e.variable;if(!v)h=`with (obj) {
`+h+`
}
`;else if(FQe.test(v))throw new Error(RQe);h=(c?h.replace(OQe,""):h).replace(PQe,"$1").replace(kQe,"$1;"),h="function("+(v||"obj")+`) {
`+(v?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(a?", __e = _.escape":"")+(c?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+h+`return __p
}`;var x=DQe(function(){return Function(s,b+"return "+h).apply(void 0,o)});if(x.source=h,SQe(x))throw x;return x}IZ.exports=jQe});var OZ=y((bOt,RZ)=>{var UQe=xA(),$Qe=Gn(),VQe="Expected a function";function HQe(n,e,t){var r=!0,i=!0;if(typeof n!="function")throw new TypeError(VQe);return $Qe(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),UQe(n,e,{leading:r,maxWait:e,trailing:i})}RZ.exports=HQe});var kZ=y((_Ot,PZ)=>{function zQe(n,e){return e(n)}PZ.exports=zQe});var LZ=y((vOt,FZ)=>{var WQe=y_(),GQe=Bs(),QQe=Lt(),KQe=9007199254740991,DN=4294967295,JQe=Math.min;function YQe(n,e){if(n=QQe(n),n<1||n>KQe)return[];var t=DN,r=JQe(n,DN);e=GQe(e),n-=DN;for(var i=WQe(r,e);++t<n;)e(t);return i}FZ.exports=YQe});var qZ=y((EOt,BZ)=>{function ZQe(n){for(var e,t=[];!(e=n.next()).done;)t.push(e.value);return t}BZ.exports=ZQe});var $Z=y((wOt,UZ)=>{var jZ=Qa(),XQe=cs(),e7e=_o(),t7e=ti(),n7e=Dp(),r7e=qZ(),i7e=F_(),s7e=bp(),o7e=ia(),a7e=Tl(),c7e="[object Map]",l7e="[object Set]",xN=jZ?jZ.iterator:void 0;function u7e(n){if(!n)return[];if(t7e(n))return n7e(n)?o7e(n):XQe(n);if(xN&&n[xN])return r7e(n[xN]());var e=e7e(n),t=e==c7e?i7e:e==l7e?s7e:a7e;return t(n)}UZ.exports=u7e});var HZ=y((COt,VZ)=>{var d7e=rn();function f7e(n){return d7e(n).toLowerCase()}VZ.exports=f7e});var WZ=y((DOt,zZ)=>{var h7e=Pn(),p7e=cs(),m7e=Pt(),g7e=as(),y7e=MS(),b7e=Ls(),_7e=rn();function v7e(n){return m7e(n)?h7e(n,b7e):g7e(n)?[n]:p7e(y7e(_7e(n)))}zZ.exports=v7e});var KZ=y((xOt,QZ)=>{var E7e=Xa(),w7e=Lt(),GZ=9007199254740991;function C7e(n){return n?E7e(w7e(n),-GZ,GZ):n===0?n:0}QZ.exports=C7e});var YZ=y((TOt,JZ)=>{var D7e=rn();function x7e(n){return D7e(n).toUpperCase()}JZ.exports=x7e});var XZ=y((SOt,ZZ)=>{var T7e=ml(),S7e=pl(),A7e=ec(),N7e=bt(),I7e=hp(),M7e=Pt(),R7e=Ya(),O7e=go(),P7e=Gn(),k7e=El();function F7e(n,e,t){var r=M7e(n),i=r||R7e(n)||k7e(n);if(e=N7e(e,4),t==null){var s=n&&n.constructor;i?t=r?new s:[]:P7e(n)?t=O7e(s)?S7e(I7e(n)):{}:t={}}return(i?T7e:A7e)(n,function(o,a,c){return e(t,o,a,c)}),t}ZZ.exports=F7e});var TN=y((AOt,eX)=>{var L7e=gl();function B7e(n,e){for(var t=n.length;t--&&L7e(e,n[t],0)>-1;);return t}eX.exports=B7e});var SN=y((NOt,tX)=>{var q7e=gl();function j7e(n,e){for(var t=-1,r=n.length;++t<r&&q7e(e,n[t],0)>-1;);return t}tX.exports=j7e});var iX=y((IOt,rX)=>{var U7e=ks(),$7e=XT(),V7e=ra(),H7e=TN(),z7e=SN(),nX=ia(),W7e=rn();function G7e(n,e,t){if(n=W7e(n),n&&(t||e===void 0))return $7e(n);if(!n||!(e=U7e(e)))return n;var r=nX(n),i=nX(e),s=z7e(r,i),o=H7e(r,i)+1;return V7e(r,s,o).join("")}rX.exports=G7e});var aX=y((MOt,oX)=>{var Q7e=ks(),K7e=ra(),J7e=TN(),sX=ia(),Y7e=rn(),Z7e=ZT();function X7e(n,e,t){if(n=Y7e(n),n&&(t||e===void 0))return n.slice(0,Z7e(n)+1);if(!n||!(e=Q7e(e)))return n;var r=sX(n),i=J7e(r,sX(e))+1;return K7e(r,0,i).join("")}oX.exports=X7e});var uX=y((ROt,lX)=>{var eKe=ks(),tKe=ra(),nKe=SN(),cX=ia(),rKe=rn(),iKe=/^\s+/;function sKe(n,e,t){if(n=rKe(n),n&&(t||e===void 0))return n.replace(iKe,"");if(!n||!(e=eKe(e)))return n;var r=cX(n),i=nKe(r,cX(e));return tKe(r,i).join("")}lX.exports=sKe});var pX=y((OOt,hX)=>{var dX=ks(),oKe=ra(),aKe=Cl(),cKe=Gn(),lKe=Y_(),uKe=Sl(),dKe=ia(),fKe=Lt(),fX=rn(),hKe=30,pKe="...",mKe=/\w*$/;function gKe(n,e){var t=hKe,r=pKe;if(cKe(e)){var i="separator"in e?e.separator:i;t="length"in e?fKe(e.length):t,r="omission"in e?dX(e.omission):r}n=fX(n);var s=n.length;if(aKe(n)){var o=dKe(n);s=o.length}if(t>=s)return n;var a=t-uKe(r);if(a<1)return r;var c=o?oKe(o,0,a).join(""):n.slice(0,a);if(i===void 0)return c+r;if(o&&(a+=c.length-a),lKe(i)){if(n.slice(a).search(i)){var l,d=c;for(i.global||(i=RegExp(i.source,fX(mKe.exec(i))+"g")),i.lastIndex=0;l=i.exec(d);)var h=l.index;c=c.slice(0,h===void 0?a:h)}}else if(n.indexOf(dX(i),a)!=a){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+r}hX.exports=gKe});var gX=y((POt,mX)=>{var yKe=CS();function bKe(n){return yKe(n,1)}mX.exports=bKe});var bX=y((kOt,yX)=>{var _Ke=S_(),vKe={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},EKe=_Ke(vKe);yX.exports=EKe});var EX=y((FOt,vX)=>{var wKe=rn(),CKe=bX(),_X=/&(?:amp|lt|gt|quot|#39);/g,DKe=RegExp(_X.source);function xKe(n){return n=wKe(n),n&&DKe.test(n)?n.replace(_X,CKe):n}vX.exports=xKe});var CX=y((LOt,wX)=>{var AN=ZS(),TKe=u_(),SKe=bp(),AKe=1/0,NKe=AN&&1/SKe(new AN([,-0]))[1]==AKe?function(n){return new AN(n)}:TKe;wX.exports=NKe});var tc=y((BOt,DX)=>{var IKe=gp(),MKe=rp(),RKe=H_(),OKe=yp(),PKe=CX(),kKe=bp(),FKe=200;function LKe(n,e,t){var r=-1,i=MKe,s=n.length,o=!0,a=[],c=a;if(t)o=!1,i=RKe;else if(s>=FKe){var l=e?null:PKe(n);if(l)return kKe(l);o=!1,i=OKe,c=new IKe}else c=e?[]:a;e:for(;++r<s;){var d=n[r],h=e?e(d):d;if(d=t||d!==0?d:0,o&&h===h){for(var p=c.length;p--;)if(c[p]===h)continue e;e&&c.push(h),a.push(d)}else i(c,h,t)||(c!==a&&c.push(h),a.push(d))}return a}DX.exports=LKe});var TX=y((qOt,xX)=>{var BKe=Sr(),qKe=St(),jKe=tc(),UKe=ii(),$Ke=qKe(function(n){return jKe(BKe(n,1,UKe,!0))});xX.exports=$Ke});var NX=y((jOt,AX)=>{var VKe=Sr(),HKe=bt(),zKe=St(),WKe=tc(),SX=ii(),GKe=ds(),QKe=zKe(function(n){var e=GKe(n);return SX(e)&&(e=void 0),WKe(VKe(n,1,SX,!0),HKe(e,2))});AX.exports=QKe});var MX=y((UOt,IX)=>{var KKe=Sr(),JKe=St(),YKe=tc(),ZKe=ii(),XKe=ds(),eJe=JKe(function(n){var e=XKe(n);return e=typeof e=="function"?e:void 0,YKe(KKe(n,1,ZKe,!0),void 0,e)});IX.exports=eJe});var OX=y(($Ot,RX)=>{var tJe=tc();function nJe(n){return n&&n.length?tJe(n):[]}RX.exports=nJe});var kX=y((VOt,PX)=>{var rJe=bt(),iJe=tc();function sJe(n,e){return n&&n.length?iJe(n,rJe(e,2)):[]}PX.exports=sJe});var LX=y((HOt,FX)=>{var oJe=tc();function aJe(n,e){return e=typeof e=="function"?e:void 0,n&&n.length?oJe(n,void 0,e):[]}FX.exports=aJe});var qX=y((zOt,BX)=>{var cJe=rn(),lJe=0;function uJe(n){var e=++lJe;return cJe(n)+e}BX.exports=uJe});var UX=y((WOt,jX)=>{var dJe=tv();function fJe(n,e){return n==null?!0:dJe(n,e)}jX.exports=fJe});var cv=y((GOt,$X)=>{var hJe=sa(),pJe=Pn(),mJe=U_(),gJe=y_(),yJe=ii(),bJe=Math.max;function _Je(n){if(!(n&&n.length))return[];var e=0;return n=hJe(n,function(t){if(yJe(t))return e=bJe(t.length,e),!0}),gJe(e,function(t){return pJe(n,mJe(t))})}$X.exports=_Je});var NN=y((QOt,VX)=>{var vJe=Hi(),EJe=Pn(),wJe=cv();function CJe(n,e){if(!(n&&n.length))return[];var t=wJe(n);return e==null?t:EJe(t,function(r){return vJe(e,void 0,r)})}VX.exports=CJe});var IN=y((KOt,HX)=>{var DJe=Za(),xJe=wd();function TJe(n,e,t,r){return xJe(n,e,t(DJe(n,e)),r)}HX.exports=TJe});var WX=y((JOt,zX)=>{var SJe=IN(),AJe=Bs();function NJe(n,e,t){return n==null?n:SJe(n,e,AJe(t))}zX.exports=NJe});var QX=y((YOt,GX)=>{var IJe=IN(),MJe=Bs();function RJe(n,e,t,r){return r=typeof r=="function"?r:void 0,n==null?n:IJe(n,e,MJe(t),r)}GX.exports=RJe});var JX=y((ZOt,KX)=>{var OJe=Dl(),PJe=OJe(function(n,e,t){return n+(t?" ":"")+e.toUpperCase()});KX.exports=PJe});var ZX=y((XOt,YX)=>{var kJe=Q_(),FJe=ri();function LJe(n){return n==null?[]:kJe(n,FJe(n))}YX.exports=LJe});var eee=y((ePt,XX)=>{var BJe=Ed(),qJe=St(),jJe=ii(),UJe=qJe(function(n,e){return jJe(n)?BJe(n,e):[]});XX.exports=UJe});var nee=y((tPt,tee)=>{var $Je=Bs(),VJe=hN();function HJe(n,e){return VJe($Je(e),n)}tee.exports=HJe});var lv=y((nPt,iee)=>{var zJe=Ed(),WJe=Sr(),ree=tc();function GJe(n,e,t){var r=n.length;if(r<2)return r?ree(n[0]):[];for(var i=-1,s=Array(r);++i<r;)for(var o=n[i],a=-1;++a<r;)a!=i&&(s[i]=zJe(s[i]||o,n[a],e,t));return ree(WJe(s,1),e,t)}iee.exports=GJe});var oee=y((rPt,see)=>{var QJe=sa(),KJe=St(),JJe=lv(),YJe=ii(),ZJe=KJe(function(n){return JJe(QJe(n,YJe))});see.exports=ZJe});var lee=y((iPt,cee)=>{var XJe=sa(),eYe=bt(),tYe=St(),nYe=lv(),aee=ii(),rYe=ds(),iYe=tYe(function(n){var e=rYe(n);return aee(e)&&(e=void 0),nYe(XJe(n,aee),eYe(e,2))});cee.exports=iYe});var dee=y((sPt,uee)=>{var sYe=sa(),oYe=St(),aYe=lv(),cYe=ii(),lYe=ds(),uYe=oYe(function(n){var e=lYe(n);return e=typeof e=="function"?e:void 0,aYe(sYe(n,cYe),void 0,e)});uee.exports=uYe});var hee=y((oPt,fee)=>{var dYe=St(),fYe=cv(),hYe=dYe(fYe);fee.exports=hYe});var MN=y((aPt,pee)=>{function pYe(n,e,t){for(var r=-1,i=n.length,s=e.length,o={};++r<i;){var a=r<s?e[r]:void 0;t(o,n[r],a)}return o}pee.exports=pYe});var gee=y((cPt,mee)=>{var mYe=ld(),gYe=MN();function yYe(n,e){return gYe(n||[],e||[],mYe)}mee.exports=yYe});var bee=y((lPt,yee)=>{var bYe=wd(),_Ye=MN();function vYe(n,e){return _Ye(n||[],e||[],bYe)}yee.exports=vYe});var vee=y((uPt,_ee)=>{var EYe=St(),wYe=NN(),CYe=EYe(function(n){var e=n.length,t=e>1?n[e-1]:void 0;return t=typeof t=="function"?(n.pop(),t):void 0,wYe(n,t)});_ee.exports=CYe});var wee=y((Eee,uv)=>{(function(n,e){"use strict";typeof uv=="object"&&typeof uv.exports=="object"?uv.exports=n.document?e(n,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(n)})(typeof window<"u"?window:Eee,function(n,e){"use strict";var t=[],r=Object.getPrototypeOf,i=t.slice,s=t.flat?function(u){return t.flat.call(u)}:function(u){return t.concat.apply([],u)},o=t.push,a=t.indexOf,c={},l=c.toString,d=c.hasOwnProperty,h=d.toString,p=h.call(Object),b={},v=function(f){return typeof f=="function"&&typeof f.nodeType!="number"&&typeof f.item!="function"},x=function(f){return f!=null&&f===f.window},N=n.document,k={type:!0,src:!0,nonce:!0,noModule:!0};function ee(u,f,m){m=m||N;var _,E,w=m.createElement("script");if(w.text=u,f)for(_ in k)E=f[_]||f.getAttribute&&f.getAttribute(_),E&&w.setAttribute(_,E);m.head.appendChild(w).parentNode.removeChild(w)}function X(u){return u==null?u+"":typeof u=="object"||typeof u=="function"?c[l.call(u)]||"object":typeof u}var ne="3.7.1",de=/HTML$/i,g=function(u,f){return new g.fn.init(u,f)};g.fn=g.prototype={jquery:ne,constructor:g,length:0,toArray:function(){return i.call(this)},get:function(u){return u==null?i.call(this):u<0?this[u+this.length]:this[u]},pushStack:function(u){var f=g.merge(this.constructor(),u);return f.prevObject=this,f},each:function(u){return g.each(this,u)},map:function(u){return this.pushStack(g.map(this,function(f,m){return u.call(f,m,f)}))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(g.grep(this,function(u,f){return(f+1)%2}))},odd:function(){return this.pushStack(g.grep(this,function(u,f){return f%2}))},eq:function(u){var f=this.length,m=+u+(u<0?f:0);return this.pushStack(m>=0&&m<f?[this[m]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:t.sort,splice:t.splice},g.extend=g.fn.extend=function(){var u,f,m,_,E,w,S=arguments[0]||{},j=1,L=arguments.length,W=!1;for(typeof S=="boolean"&&(W=S,S=arguments[j]||{},j++),typeof S!="object"&&!v(S)&&(S={}),j===L&&(S=this,j--);j<L;j++)if((u=arguments[j])!=null)for(f in u)_=u[f],!(f==="__proto__"||S===_)&&(W&&_&&(g.isPlainObject(_)||(E=Array.isArray(_)))?(m=S[f],E&&!Array.isArray(m)?w=[]:!E&&!g.isPlainObject(m)?w={}:w=m,E=!1,S[f]=g.extend(W,w,_)):_!==void 0&&(S[f]=_));return S},g.extend({expando:"jQuery"+(ne+Math.random()).replace(/\D/g,""),isReady:!0,error:function(u){throw new Error(u)},noop:function(){},isPlainObject:function(u){var f,m;return!u||l.call(u)!=="[object Object]"?!1:(f=r(u),f?(m=d.call(f,"constructor")&&f.constructor,typeof m=="function"&&h.call(m)===p):!0)},isEmptyObject:function(u){var f;for(f in u)return!1;return!0},globalEval:function(u,f,m){ee(u,{nonce:f&&f.nonce},m)},each:function(u,f){var m,_=0;if(xe(u))for(m=u.length;_<m&&f.call(u[_],_,u[_])!==!1;_++);else for(_ in u)if(f.call(u[_],_,u[_])===!1)break;return u},text:function(u){var f,m="",_=0,E=u.nodeType;if(!E)for(;f=u[_++];)m+=g.text(f);return E===1||E===11?u.textContent:E===9?u.documentElement.textContent:E===3||E===4?u.nodeValue:m},makeArray:function(u,f){var m=f||[];return u!=null&&(xe(Object(u))?g.merge(m,typeof u=="string"?[u]:u):o.call(m,u)),m},inArray:function(u,f,m){return f==null?-1:a.call(f,u,m)},isXMLDoc:function(u){var f=u&&u.namespaceURI,m=u&&(u.ownerDocument||u).documentElement;return!de.test(f||m&&m.nodeName||"HTML")},merge:function(u,f){for(var m=+f.length,_=0,E=u.length;_<m;_++)u[E++]=f[_];return u.length=E,u},grep:function(u,f,m){for(var _,E=[],w=0,S=u.length,j=!m;w<S;w++)_=!f(u[w],w),_!==j&&E.push(u[w]);return E},map:function(u,f,m){var _,E,w=0,S=[];if(xe(u))for(_=u.length;w<_;w++)E=f(u[w],w,m),E!=null&&S.push(E);else for(w in u)E=f(u[w],w,m),E!=null&&S.push(E);return s(S)},guid:1,support:b}),typeof Symbol=="function"&&(g.fn[Symbol.iterator]=t[Symbol.iterator]),g.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(u,f){c["[object "+f+"]"]=f.toLowerCase()});function xe(u){var f=!!u&&"length"in u&&u.length,m=X(u);return v(u)||x(u)?!1:m==="array"||f===0||typeof f=="number"&&f>0&&f-1 in u}function Ce(u,f){return u.nodeName&&u.nodeName.toLowerCase()===f.toLowerCase()}var qe=t.pop,H=t.sort,I=t.splice,re="[\\x20\\t\\r\\n\\f]",pe=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g");g.contains=function(u,f){var m=f&&f.parentNode;return u===m||!!(m&&m.nodeType===1&&(u.contains?u.contains(m):u.compareDocumentPosition&&u.compareDocumentPosition(m)&16))};var fe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Ge(u,f){return f?u==="\0"?"\uFFFD":u.slice(0,-1)+"\\"+u.charCodeAt(u.length-1).toString(16)+" ":"\\"+u}g.escapeSelector=function(u){return(u+"").replace(fe,Ge)};var ae=N,dt=o;(function(){var u,f,m,_,E,w=dt,S,j,L,W,ie,le=g.expando,Z=0,ve=0,ct=Tm(),jt=Tm(),Ct=Tm(),wr=Tm(),tr=function(P,V){return P===V&&(E=!0),0},Hs="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",zs="(?:\\\\[\\da-fA-F]{1,6}"+re+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Ft="\\["+re+"*("+zs+")(?:"+re+"*([*^$|!~]?=)"+re+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+zs+"))|)"+re+"*\\]",bc=":("+zs+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Ft+")*)|.*)\\)|)",Vt=new RegExp(re+"+","g"),In=new RegExp("^"+re+"*,"+re+"*"),ff=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),mw=new RegExp(re+"|>"),Ws=new RegExp(bc),hf=new RegExp("^"+zs+"$"),Gs={ID:new RegExp("^#("+zs+")"),CLASS:new RegExp("^\\.("+zs+")"),TAG:new RegExp("^("+zs+"|[*])"),ATTR:new RegExp("^"+Ft),PSEUDO:new RegExp("^"+bc),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:new RegExp("^(?:"+Hs+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},ma=/^(?:input|select|textarea|button)$/i,ga=/^h\d$/i,es=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gw=/[+~]/,Io=new RegExp("\\\\[\\da-fA-F]{1,6}"+re+"?|\\\\([^\\r\\n\\f])","g"),Mo=function(P,V){var J="0x"+P.slice(1)-65536;return V||(J<0?String.fromCharCode(J+65536):String.fromCharCode(J>>10|55296,J&1023|56320))},cle=function(){ya()},lle=Am(function(P){return P.disabled===!0&&Ce(P,"fieldset")},{dir:"parentNode",next:"legend"});function ule(){try{return S.activeElement}catch{}}try{w.apply(t=i.call(ae.childNodes),ae.childNodes),t[ae.childNodes.length].nodeType}catch{w={apply:function(V,J){dt.apply(V,i.call(J))},call:function(V){dt.apply(V,i.call(arguments,1))}}}function nn(P,V,J,te){var ce,Te,Me,Be,Re,Rt,nt,ht=V&&V.ownerDocument,Ot=V?V.nodeType:9;if(J=J||[],typeof P!="string"||!P||Ot!==1&&Ot!==9&&Ot!==11)return J;if(!te&&(ya(V),V=V||S,L)){if(Ot!==11&&(Re=es.exec(P)))if(ce=Re[1]){if(Ot===9)if(Me=V.getElementById(ce)){if(Me.id===ce)return w.call(J,Me),J}else return J;else if(ht&&(Me=ht.getElementById(ce))&&nn.contains(V,Me)&&Me.id===ce)return w.call(J,Me),J}else{if(Re[2])return w.apply(J,V.getElementsByTagName(P)),J;if((ce=Re[3])&&V.getElementsByClassName)return w.apply(J,V.getElementsByClassName(ce)),J}if(!wr[P+" "]&&(!W||!W.test(P))){if(nt=P,ht=V,Ot===1&&(mw.test(P)||ff.test(P))){for(ht=gw.test(P)&&yw(V.parentNode)||V,(ht!=V||!b.scope)&&((Be=V.getAttribute("id"))?Be=g.escapeSelector(Be):V.setAttribute("id",Be=le)),Rt=pf(P),Te=Rt.length;Te--;)Rt[Te]=(Be?"#"+Be:":scope")+" "+Sm(Rt[Te]);nt=Rt.join(",")}try{return w.apply(J,ht.querySelectorAll(nt)),J}catch{wr(P,!0)}finally{Be===le&&V.removeAttribute("id")}}}return _O(P.replace(pe,"$1"),V,J,te)}function Tm(){var P=[];function V(J,te){return P.push(J+" ")>f.cacheLength&&delete V[P.shift()],V[J+" "]=te}return V}function _s(P){return P[le]=!0,P}function Wl(P){var V=S.createElement("fieldset");try{return!!P(V)}catch{return!1}finally{V.parentNode&&V.parentNode.removeChild(V),V=null}}function dle(P){return function(V){return Ce(V,"input")&&V.type===P}}function fle(P){return function(V){return(Ce(V,"input")||Ce(V,"button"))&&V.type===P}}function yO(P){return function(V){return"form"in V?V.parentNode&&V.disabled===!1?"label"in V?"label"in V.parentNode?V.parentNode.disabled===P:V.disabled===P:V.isDisabled===P||V.isDisabled!==!P&&lle(V)===P:V.disabled===P:"label"in V?V.disabled===P:!1}}function _c(P){return _s(function(V){return V=+V,_s(function(J,te){for(var ce,Te=P([],J.length,V),Me=Te.length;Me--;)J[ce=Te[Me]]&&(J[ce]=!(te[ce]=J[ce]))})})}function yw(P){return P&&typeof P.getElementsByTagName<"u"&&P}function ya(P){var V,J=P?P.ownerDocument||P:ae;return J==S||J.nodeType!==9||!J.documentElement||(S=J,j=S.documentElement,L=!g.isXMLDoc(S),ie=j.matches||j.webkitMatchesSelector||j.msMatchesSelector,j.msMatchesSelector&&ae!=S&&(V=S.defaultView)&&V.top!==V&&V.addEventListener("unload",cle),b.getById=Wl(function(te){return j.appendChild(te).id=g.expando,!S.getElementsByName||!S.getElementsByName(g.expando).length}),b.disconnectedMatch=Wl(function(te){return ie.call(te,"*")}),b.scope=Wl(function(){return S.querySelectorAll(":scope")}),b.cssHas=Wl(function(){try{return S.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),b.getById?(f.filter.ID=function(te){var ce=te.replace(Io,Mo);return function(Te){return Te.getAttribute("id")===ce}},f.find.ID=function(te,ce){if(typeof ce.getElementById<"u"&&L){var Te=ce.getElementById(te);return Te?[Te]:[]}}):(f.filter.ID=function(te){var ce=te.replace(Io,Mo);return function(Te){var Me=typeof Te.getAttributeNode<"u"&&Te.getAttributeNode("id");return Me&&Me.value===ce}},f.find.ID=function(te,ce){if(typeof ce.getElementById<"u"&&L){var Te,Me,Be,Re=ce.getElementById(te);if(Re){if(Te=Re.getAttributeNode("id"),Te&&Te.value===te)return[Re];for(Be=ce.getElementsByName(te),Me=0;Re=Be[Me++];)if(Te=Re.getAttributeNode("id"),Te&&Te.value===te)return[Re]}return[]}}),f.find.TAG=function(te,ce){return typeof ce.getElementsByTagName<"u"?ce.getElementsByTagName(te):ce.querySelectorAll(te)},f.find.CLASS=function(te,ce){if(typeof ce.getElementsByClassName<"u"&&L)return ce.getElementsByClassName(te)},W=[],Wl(function(te){var ce;j.appendChild(te).innerHTML="<a id='"+le+"' href='' disabled='disabled'></a><select id='"+le+"-\r\\' disabled='disabled'><option selected=''></option></select>",te.querySelectorAll("[selected]").length||W.push("\\["+re+"*(?:value|"+Hs+")"),te.querySelectorAll("[id~="+le+"-]").length||W.push("~="),te.querySelectorAll("a#"+le+"+*").length||W.push(".#.+[+~]"),te.querySelectorAll(":checked").length||W.push(":checked"),ce=S.createElement("input"),ce.setAttribute("type","hidden"),te.appendChild(ce).setAttribute("name","D"),j.appendChild(te).disabled=!0,te.querySelectorAll(":disabled").length!==2&&W.push(":enabled",":disabled"),ce=S.createElement("input"),ce.setAttribute("name",""),te.appendChild(ce),te.querySelectorAll("[name='']").length||W.push("\\["+re+"*name"+re+"*="+re+`*(?:''|"")`)}),b.cssHas||W.push(":has"),W=W.length&&new RegExp(W.join("|")),tr=function(te,ce){if(te===ce)return E=!0,0;var Te=!te.compareDocumentPosition-!ce.compareDocumentPosition;return Te||(Te=(te.ownerDocument||te)==(ce.ownerDocument||ce)?te.compareDocumentPosition(ce):1,Te&1||!b.sortDetached&&ce.compareDocumentPosition(te)===Te?te===S||te.ownerDocument==ae&&nn.contains(ae,te)?-1:ce===S||ce.ownerDocument==ae&&nn.contains(ae,ce)?1:_?a.call(_,te)-a.call(_,ce):0:Te&4?-1:1)}),S}nn.matches=function(P,V){return nn(P,null,null,V)},nn.matchesSelector=function(P,V){if(ya(P),L&&!wr[V+" "]&&(!W||!W.test(V)))try{var J=ie.call(P,V);if(J||b.disconnectedMatch||P.document&&P.document.nodeType!==11)return J}catch{wr(V,!0)}return nn(V,S,null,[P]).length>0},nn.contains=function(P,V){return(P.ownerDocument||P)!=S&&ya(P),g.contains(P,V)},nn.attr=function(P,V){(P.ownerDocument||P)!=S&&ya(P);var J=f.attrHandle[V.toLowerCase()],te=J&&d.call(f.attrHandle,V.toLowerCase())?J(P,V,!L):void 0;return te!==void 0?te:P.getAttribute(V)},nn.error=function(P){throw new Error("Syntax error, unrecognized expression: "+P)},g.uniqueSort=function(P){var V,J=[],te=0,ce=0;if(E=!b.sortStable,_=!b.sortStable&&i.call(P,0),H.call(P,tr),E){for(;V=P[ce++];)V===P[ce]&&(te=J.push(ce));for(;te--;)I.call(P,J[te],1)}return _=null,P},g.fn.uniqueSort=function(){return this.pushStack(g.uniqueSort(i.apply(this)))},f=g.expr={cacheLength:50,createPseudo:_s,match:Gs,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(P){return P[1]=P[1].replace(Io,Mo),P[3]=(P[3]||P[4]||P[5]||"").replace(Io,Mo),P[2]==="~="&&(P[3]=" "+P[3]+" "),P.slice(0,4)},CHILD:function(P){return P[1]=P[1].toLowerCase(),P[1].slice(0,3)==="nth"?(P[3]||nn.error(P[0]),P[4]=+(P[4]?P[5]+(P[6]||1):2*(P[3]==="even"||P[3]==="odd")),P[5]=+(P[7]+P[8]||P[3]==="odd")):P[3]&&nn.error(P[0]),P},PSEUDO:function(P){var V,J=!P[6]&&P[2];return Gs.CHILD.test(P[0])?null:(P[3]?P[2]=P[4]||P[5]||"":J&&Ws.test(J)&&(V=pf(J,!0))&&(V=J.indexOf(")",J.length-V)-J.length)&&(P[0]=P[0].slice(0,V),P[2]=J.slice(0,V)),P.slice(0,3))}},filter:{TAG:function(P){var V=P.replace(Io,Mo).toLowerCase();return P==="*"?function(){return!0}:function(J){return Ce(J,V)}},CLASS:function(P){var V=ct[P+" "];return V||(V=new RegExp("(^|"+re+")"+P+"("+re+"|$)"))&&ct(P,function(J){return V.test(typeof J.className=="string"&&J.className||typeof J.getAttribute<"u"&&J.getAttribute("class")||"")})},ATTR:function(P,V,J){return function(te){var ce=nn.attr(te,P);return ce==null?V==="!=":V?(ce+="",V==="="?ce===J:V==="!="?ce!==J:V==="^="?J&&ce.indexOf(J)===0:V==="*="?J&&ce.indexOf(J)>-1:V==="$="?J&&ce.slice(-J.length)===J:V==="~="?(" "+ce.replace(Vt," ")+" ").indexOf(J)>-1:V==="|="?ce===J||ce.slice(0,J.length+1)===J+"-":!1):!0}},CHILD:function(P,V,J,te,ce){var Te=P.slice(0,3)!=="nth",Me=P.slice(-4)!=="last",Be=V==="of-type";return te===1&&ce===0?function(Re){return!!Re.parentNode}:function(Re,Rt,nt){var ht,Ot,Qe,dn,ui,kr=Te!==Me?"nextSibling":"previousSibling",ts=Re.parentNode,Qs=Be&&Re.nodeName.toLowerCase(),Gl=!nt&&!Be,Hr=!1;if(ts){if(Te){for(;kr;){for(Qe=Re;Qe=Qe[kr];)if(Be?Ce(Qe,Qs):Qe.nodeType===1)return!1;ui=kr=P==="only"&&!ui&&"nextSibling"}return!0}if(ui=[Me?ts.firstChild:ts.lastChild],Me&&Gl){for(Ot=ts[le]||(ts[le]={}),ht=Ot[P]||[],dn=ht[0]===Z&&ht[1],Hr=dn&&ht[2],Qe=dn&&ts.childNodes[dn];Qe=++dn&&Qe&&Qe[kr]||(Hr=dn=0)||ui.pop();)if(Qe.nodeType===1&&++Hr&&Qe===Re){Ot[P]=[Z,dn,Hr];break}}else if(Gl&&(Ot=Re[le]||(Re[le]={}),ht=Ot[P]||[],dn=ht[0]===Z&&ht[1],Hr=dn),Hr===!1)for(;(Qe=++dn&&Qe&&Qe[kr]||(Hr=dn=0)||ui.pop())&&!((Be?Ce(Qe,Qs):Qe.nodeType===1)&&++Hr&&(Gl&&(Ot=Qe[le]||(Qe[le]={}),Ot[P]=[Z,Hr]),Qe===Re)););return Hr-=ce,Hr===te||Hr%te===0&&Hr/te>=0}}},PSEUDO:function(P,V){var J,te=f.pseudos[P]||f.setFilters[P.toLowerCase()]||nn.error("unsupported pseudo: "+P);return te[le]?te(V):te.length>1?(J=[P,P,"",V],f.setFilters.hasOwnProperty(P.toLowerCase())?_s(function(ce,Te){for(var Me,Be=te(ce,V),Re=Be.length;Re--;)Me=a.call(ce,Be[Re]),ce[Me]=!(Te[Me]=Be[Re])}):function(ce){return te(ce,0,J)}):te}},pseudos:{not:_s(function(P){var V=[],J=[],te=Ew(P.replace(pe,"$1"));return te[le]?_s(function(ce,Te,Me,Be){for(var Re,Rt=te(ce,null,Be,[]),nt=ce.length;nt--;)(Re=Rt[nt])&&(ce[nt]=!(Te[nt]=Re))}):function(ce,Te,Me){return V[0]=ce,te(V,null,Me,J),V[0]=null,!J.pop()}}),has:_s(function(P){return function(V){return nn(P,V).length>0}}),contains:_s(function(P){return P=P.replace(Io,Mo),function(V){return(V.textContent||g.text(V)).indexOf(P)>-1}}),lang:_s(function(P){return hf.test(P||"")||nn.error("unsupported lang: "+P),P=P.replace(Io,Mo).toLowerCase(),function(V){var J;do if(J=L?V.lang:V.getAttribute("xml:lang")||V.getAttribute("lang"))return J=J.toLowerCase(),J===P||J.indexOf(P+"-")===0;while((V=V.parentNode)&&V.nodeType===1);return!1}}),target:function(P){var V=n.location&&n.location.hash;return V&&V.slice(1)===P.id},root:function(P){return P===j},focus:function(P){return P===ule()&&S.hasFocus()&&!!(P.type||P.href||~P.tabIndex)},enabled:yO(!1),disabled:yO(!0),checked:function(P){return Ce(P,"input")&&!!P.checked||Ce(P,"option")&&!!P.selected},selected:function(P){return P.parentNode&&P.parentNode.selectedIndex,P.selected===!0},empty:function(P){for(P=P.firstChild;P;P=P.nextSibling)if(P.nodeType<6)return!1;return!0},parent:function(P){return!f.pseudos.empty(P)},header:function(P){return ga.test(P.nodeName)},input:function(P){return ma.test(P.nodeName)},button:function(P){return Ce(P,"input")&&P.type==="button"||Ce(P,"button")},text:function(P){var V;return Ce(P,"input")&&P.type==="text"&&((V=P.getAttribute("type"))==null||V.toLowerCase()==="text")},first:_c(function(){return[0]}),last:_c(function(P,V){return[V-1]}),eq:_c(function(P,V,J){return[J<0?J+V:J]}),even:_c(function(P,V){for(var J=0;J<V;J+=2)P.push(J);return P}),odd:_c(function(P,V){for(var J=1;J<V;J+=2)P.push(J);return P}),lt:_c(function(P,V,J){var te;for(J<0?te=J+V:J>V?te=V:te=J;--te>=0;)P.push(te);return P}),gt:_c(function(P,V,J){for(var te=J<0?J+V:J;++te<V;)P.push(te);return P})}},f.pseudos.nth=f.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})f.pseudos[u]=dle(u);for(u in{submit:!0,reset:!0})f.pseudos[u]=fle(u);function bO(){}bO.prototype=f.filters=f.pseudos,f.setFilters=new bO;function pf(P,V){var J,te,ce,Te,Me,Be,Re,Rt=jt[P+" "];if(Rt)return V?0:Rt.slice(0);for(Me=P,Be=[],Re=f.preFilter;Me;){(!J||(te=In.exec(Me)))&&(te&&(Me=Me.slice(te[0].length)||Me),Be.push(ce=[])),J=!1,(te=ff.exec(Me))&&(J=te.shift(),ce.push({value:J,type:te[0].replace(pe," ")}),Me=Me.slice(J.length));for(Te in f.filter)(te=Gs[Te].exec(Me))&&(!Re[Te]||(te=Re[Te](te)))&&(J=te.shift(),ce.push({value:J,type:Te,matches:te}),Me=Me.slice(J.length));if(!J)break}return V?Me.length:Me?nn.error(P):jt(P,Be).slice(0)}function Sm(P){for(var V=0,J=P.length,te="";V<J;V++)te+=P[V].value;return te}function Am(P,V,J){var te=V.dir,ce=V.next,Te=ce||te,Me=J&&Te==="parentNode",Be=ve++;return V.first?function(Re,Rt,nt){for(;Re=Re[te];)if(Re.nodeType===1||Me)return P(Re,Rt,nt);return!1}:function(Re,Rt,nt){var ht,Ot,Qe=[Z,Be];if(nt){for(;Re=Re[te];)if((Re.nodeType===1||Me)&&P(Re,Rt,nt))return!0}else for(;Re=Re[te];)if(Re.nodeType===1||Me)if(Ot=Re[le]||(Re[le]={}),ce&&Ce(Re,ce))Re=Re[te]||Re;else{if((ht=Ot[Te])&&ht[0]===Z&&ht[1]===Be)return Qe[2]=ht[2];if(Ot[Te]=Qe,Qe[2]=P(Re,Rt,nt))return!0}return!1}}function bw(P){return P.length>1?function(V,J,te){for(var ce=P.length;ce--;)if(!P[ce](V,J,te))return!1;return!0}:P[0]}function hle(P,V,J){for(var te=0,ce=V.length;te<ce;te++)nn(P,V[te],J);return J}function Nm(P,V,J,te,ce){for(var Te,Me=[],Be=0,Re=P.length,Rt=V!=null;Be<Re;Be++)(Te=P[Be])&&(!J||J(Te,te,ce))&&(Me.push(Te),Rt&&V.push(Be));return Me}function _w(P,V,J,te,ce,Te){return te&&!te[le]&&(te=_w(te)),ce&&!ce[le]&&(ce=_w(ce,Te)),_s(function(Me,Be,Re,Rt){var nt,ht,Ot,Qe,dn=[],ui=[],kr=Be.length,ts=Me||hle(V||"*",Re.nodeType?[Re]:Re,[]),Qs=P&&(Me||!V)?Nm(ts,dn,P,Re,Rt):ts;if(J?(Qe=ce||(Me?P:kr||te)?[]:Be,J(Qs,Qe,Re,Rt)):Qe=Qs,te)for(nt=Nm(Qe,ui),te(nt,[],Re,Rt),ht=nt.length;ht--;)(Ot=nt[ht])&&(Qe[ui[ht]]=!(Qs[ui[ht]]=Ot));if(Me){if(ce||P){if(ce){for(nt=[],ht=Qe.length;ht--;)(Ot=Qe[ht])&&nt.push(Qs[ht]=Ot);ce(null,Qe=[],nt,Rt)}for(ht=Qe.length;ht--;)(Ot=Qe[ht])&&(nt=ce?a.call(Me,Ot):dn[ht])>-1&&(Me[nt]=!(Be[nt]=Ot))}}else Qe=Nm(Qe===Be?Qe.splice(kr,Qe.length):Qe),ce?ce(null,Be,Qe,Rt):w.apply(Be,Qe)})}function vw(P){for(var V,J,te,ce=P.length,Te=f.relative[P[0].type],Me=Te||f.relative[" "],Be=Te?1:0,Re=Am(function(ht){return ht===V},Me,!0),Rt=Am(function(ht){return a.call(V,ht)>-1},Me,!0),nt=[function(ht,Ot,Qe){var dn=!Te&&(Qe||Ot!=m)||((V=Ot).nodeType?Re(ht,Ot,Qe):Rt(ht,Ot,Qe));return V=null,dn}];Be<ce;Be++)if(J=f.relative[P[Be].type])nt=[Am(bw(nt),J)];else{if(J=f.filter[P[Be].type].apply(null,P[Be].matches),J[le]){for(te=++Be;te<ce&&!f.relative[P[te].type];te++);return _w(Be>1&&bw(nt),Be>1&&Sm(P.slice(0,Be-1).concat({value:P[Be-2].type===" "?"*":""})).replace(pe,"$1"),J,Be<te&&vw(P.slice(Be,te)),te<ce&&vw(P=P.slice(te)),te<ce&&Sm(P))}nt.push(J)}return bw(nt)}function ple(P,V){var J=V.length>0,te=P.length>0,ce=function(Te,Me,Be,Re,Rt){var nt,ht,Ot,Qe=0,dn="0",ui=Te&&[],kr=[],ts=m,Qs=Te||te&&f.find.TAG("*",Rt),Gl=Z+=ts==null?1:Math.random()||.1,Hr=Qs.length;for(Rt&&(m=Me==S||Me||Rt);dn!==Hr&&(nt=Qs[dn])!=null;dn++){if(te&&nt){for(ht=0,!Me&&nt.ownerDocument!=S&&(ya(nt),Be=!L);Ot=P[ht++];)if(Ot(nt,Me||S,Be)){w.call(Re,nt);break}Rt&&(Z=Gl)}J&&((nt=!Ot&&nt)&&Qe--,Te&&ui.push(nt))}if(Qe+=dn,J&&dn!==Qe){for(ht=0;Ot=V[ht++];)Ot(ui,kr,Me,Be);if(Te){if(Qe>0)for(;dn--;)ui[dn]||kr[dn]||(kr[dn]=qe.call(Re));kr=Nm(kr)}w.apply(Re,kr),Rt&&!Te&&kr.length>0&&Qe+V.length>1&&g.uniqueSort(Re)}return Rt&&(Z=Gl,m=ts),ui};return J?_s(ce):ce}function Ew(P,V){var J,te=[],ce=[],Te=Ct[P+" "];if(!Te){for(V||(V=pf(P)),J=V.length;J--;)Te=vw(V[J]),Te[le]?te.push(Te):ce.push(Te);Te=Ct(P,ple(ce,te)),Te.selector=P}return Te}function _O(P,V,J,te){var ce,Te,Me,Be,Re,Rt=typeof P=="function"&&P,nt=!te&&pf(P=Rt.selector||P);if(J=J||[],nt.length===1){if(Te=nt[0]=nt[0].slice(0),Te.length>2&&(Me=Te[0]).type==="ID"&&V.nodeType===9&&L&&f.relative[Te[1].type]){if(V=(f.find.ID(Me.matches[0].replace(Io,Mo),V)||[])[0],V)Rt&&(V=V.parentNode);else return J;P=P.slice(Te.shift().value.length)}for(ce=Gs.needsContext.test(P)?0:Te.length;ce--&&(Me=Te[ce],!f.relative[Be=Me.type]);)if((Re=f.find[Be])&&(te=Re(Me.matches[0].replace(Io,Mo),gw.test(Te[0].type)&&yw(V.parentNode)||V))){if(Te.splice(ce,1),P=te.length&&Sm(Te),!P)return w.apply(J,te),J;break}}return(Rt||Ew(P,nt))(te,V,!L,J,!V||gw.test(P)&&yw(V.parentNode)||V),J}b.sortStable=le.split("").sort(tr).join("")===le,ya(),b.sortDetached=Wl(function(P){return P.compareDocumentPosition(S.createElement("fieldset"))&1}),g.find=nn,g.expr[":"]=g.expr.pseudos,g.unique=g.uniqueSort,nn.compile=Ew,nn.select=_O,nn.setDocument=ya,nn.tokenize=pf,nn.escape=g.escapeSelector,nn.getText=g.text,nn.isXML=g.isXMLDoc,nn.selectors=g.expr,nn.support=g.support,nn.uniqueSort=g.uniqueSort})();var kt=function(u,f,m){for(var _=[],E=m!==void 0;(u=u[f])&&u.nodeType!==9;)if(u.nodeType===1){if(E&&g(u).is(m))break;_.push(u)}return _},en=function(u,f){for(var m=[];u;u=u.nextSibling)u.nodeType===1&&u!==f&&m.push(u);return m},Mr=g.expr.match.needsContext,Vn=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Oe(u,f,m){return v(f)?g.grep(u,function(_,E){return!!f.call(_,E,_)!==m}):f.nodeType?g.grep(u,function(_){return _===f!==m}):typeof f!="string"?g.grep(u,function(_){return a.call(f,_)>-1!==m}):g.filter(f,u,m)}g.filter=function(u,f,m){var _=f[0];return m&&(u=":not("+u+")"),f.length===1&&_.nodeType===1?g.find.matchesSelector(_,u)?[_]:[]:g.find.matches(u,g.grep(f,function(E){return E.nodeType===1}))},g.fn.extend({find:function(u){var f,m,_=this.length,E=this;if(typeof u!="string")return this.pushStack(g(u).filter(function(){for(f=0;f<_;f++)if(g.contains(E[f],this))return!0}));for(m=this.pushStack([]),f=0;f<_;f++)g.find(u,E[f],m);return _>1?g.uniqueSort(m):m},filter:function(u){return this.pushStack(Oe(this,u||[],!1))},not:function(u){return this.pushStack(Oe(this,u||[],!0))},is:function(u){return!!Oe(this,typeof u=="string"&&Mr.test(u)?g(u):u||[],!1).length}});var Kn,Jn=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Mt=g.fn.init=function(u,f,m){var _,E;if(!u)return this;if(m=m||Kn,typeof u=="string")if(u[0]==="<"&&u[u.length-1]===">"&&u.length>=3?_=[null,u,null]:_=Jn.exec(u),_&&(_[1]||!f))if(_[1]){if(f=f instanceof g?f[0]:f,g.merge(this,g.parseHTML(_[1],f&&f.nodeType?f.ownerDocument||f:N,!0)),Vn.test(_[1])&&g.isPlainObject(f))for(_ in f)v(this[_])?this[_](f[_]):this.attr(_,f[_]);return this}else return E=N.getElementById(_[2]),E&&(this[0]=E,this.length=1),this;else return!f||f.jquery?(f||m).find(u):this.constructor(f).find(u);else{if(u.nodeType)return this[0]=u,this.length=1,this;if(v(u))return m.ready!==void 0?m.ready(u):u(g)}return g.makeArray(u,this)};Mt.prototype=g.fn,Kn=g(N);var Ci=/^(?:parents|prev(?:Until|All))/,vr={children:!0,contents:!0,next:!0,prev:!0};g.fn.extend({has:function(u){var f=g(u,this),m=f.length;return this.filter(function(){for(var _=0;_<m;_++)if(g.contains(this,f[_]))return!0})},closest:function(u,f){var m,_=0,E=this.length,w=[],S=typeof u!="string"&&g(u);if(!Mr.test(u)){for(;_<E;_++)for(m=this[_];m&&m!==f;m=m.parentNode)if(m.nodeType<11&&(S?S.index(m)>-1:m.nodeType===1&&g.find.matchesSelector(m,u))){w.push(m);break}}return this.pushStack(w.length>1?g.uniqueSort(w):w)},index:function(u){return u?typeof u=="string"?a.call(g(u),this[0]):a.call(this,u.jquery?u[0]:u):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(u,f){return this.pushStack(g.uniqueSort(g.merge(this.get(),g(u,f))))},addBack:function(u){return this.add(u==null?this.prevObject:this.prevObject.filter(u))}});function Di(u,f){for(;(u=u[f])&&u.nodeType!==1;);return u}g.each({parent:function(u){var f=u.parentNode;return f&&f.nodeType!==11?f:null},parents:function(u){return kt(u,"parentNode")},parentsUntil:function(u,f,m){return kt(u,"parentNode",m)},next:function(u){return Di(u,"nextSibling")},prev:function(u){return Di(u,"previousSibling")},nextAll:function(u){return kt(u,"nextSibling")},prevAll:function(u){return kt(u,"previousSibling")},nextUntil:function(u,f,m){return kt(u,"nextSibling",m)},prevUntil:function(u,f,m){return kt(u,"previousSibling",m)},siblings:function(u){return en((u.parentNode||{}).firstChild,u)},children:function(u){return en(u.firstChild)},contents:function(u){return u.contentDocument!=null&&r(u.contentDocument)?u.contentDocument:(Ce(u,"template")&&(u=u.content||u),g.merge([],u.childNodes))}},function(u,f){g.fn[u]=function(m,_){var E=g.map(this,f,m);return u.slice(-5)!=="Until"&&(_=m),_&&typeof _=="string"&&(E=g.filter(_,E)),this.length>1&&(vr[u]||g.uniqueSort(E),Ci.test(u)&&E.reverse()),this.pushStack(E)}});var Yn=/[^\x20\t\r\n\f]+/g;function ur(u){var f={};return g.each(u.match(Yn)||[],function(m,_){f[_]=!0}),f}g.Callbacks=function(u){u=typeof u=="string"?ur(u):g.extend({},u);var f,m,_,E,w=[],S=[],j=-1,L=function(){for(E=E||u.once,_=f=!0;S.length;j=-1)for(m=S.shift();++j<w.length;)w[j].apply(m[0],m[1])===!1&&u.stopOnFalse&&(j=w.length,m=!1);u.memory||(m=!1),f=!1,E&&(m?w=[]:w="")},W={add:function(){return w&&(m&&!f&&(j=w.length-1,S.push(m)),(function ie(le){g.each(le,function(Z,ve){v(ve)?(!u.unique||!W.has(ve))&&w.push(ve):ve&&ve.length&&X(ve)!=="string"&&ie(ve)})})(arguments),m&&!f&&L()),this},remove:function(){return g.each(arguments,function(ie,le){for(var Z;(Z=g.inArray(le,w,Z))>-1;)w.splice(Z,1),Z<=j&&j--}),this},has:function(ie){return ie?g.inArray(ie,w)>-1:w.length>0},empty:function(){return w&&(w=[]),this},disable:function(){return E=S=[],w=m="",this},disabled:function(){return!w},lock:function(){return E=S=[],!m&&!f&&(w=m=""),this},locked:function(){return!!E},fireWith:function(ie,le){return E||(le=le||[],le=[ie,le.slice?le.slice():le],S.push(le),f||L()),this},fire:function(){return W.fireWith(this,arguments),this},fired:function(){return!!_}};return W};function wn(u){return u}function Nn(u){throw u}function $t(u,f,m,_){var E;try{u&&v(E=u.promise)?E.call(u).done(f).fail(m):u&&v(E=u.then)?E.call(u,f,m):f.apply(void 0,[u].slice(_))}catch(w){m.apply(void 0,[w])}}g.extend({Deferred:function(u){var f=[["notify","progress",g.Callbacks("memory"),g.Callbacks("memory"),2],["resolve","done",g.Callbacks("once memory"),g.Callbacks("once memory"),0,"resolved"],["reject","fail",g.Callbacks("once memory"),g.Callbacks("once memory"),1,"rejected"]],m="pending",_={state:function(){return m},always:function(){return E.done(arguments).fail(arguments),this},catch:function(w){return _.then(null,w)},pipe:function(){var w=arguments;return g.Deferred(function(S){g.each(f,function(j,L){var W=v(w[L[4]])&&w[L[4]];E[L[1]](function(){var ie=W&&W.apply(this,arguments);ie&&v(ie.promise)?ie.promise().progress(S.notify).done(S.resolve).fail(S.reject):S[L[0]+"With"](this,W?[ie]:arguments)})}),w=null}).promise()},then:function(w,S,j){var L=0;function W(ie,le,Z,ve){return function(){var ct=this,jt=arguments,Ct=function(){var tr,Hs;if(!(ie<L)){if(tr=Z.apply(ct,jt),tr===le.promise())throw new TypeError("Thenable self-resolution");Hs=tr&&(typeof tr=="object"||typeof tr=="function")&&tr.then,v(Hs)?ve?Hs.call(tr,W(L,le,wn,ve),W(L,le,Nn,ve)):(L++,Hs.call(tr,W(L,le,wn,ve),W(L,le,Nn,ve),W(L,le,wn,le.notifyWith))):(Z!==wn&&(ct=void 0,jt=[tr]),(ve||le.resolveWith)(ct,jt))}},wr=ve?Ct:function(){try{Ct()}catch(tr){g.Deferred.exceptionHook&&g.Deferred.exceptionHook(tr,wr.error),ie+1>=L&&(Z!==Nn&&(ct=void 0,jt=[tr]),le.rejectWith(ct,jt))}};ie?wr():(g.Deferred.getErrorHook?wr.error=g.Deferred.getErrorHook():g.Deferred.getStackHook&&(wr.error=g.Deferred.getStackHook()),n.setTimeout(wr))}}return g.Deferred(function(ie){f[0][3].add(W(0,ie,v(j)?j:wn,ie.notifyWith)),f[1][3].add(W(0,ie,v(w)?w:wn)),f[2][3].add(W(0,ie,v(S)?S:Nn))}).promise()},promise:function(w){return w!=null?g.extend(w,_):_}},E={};return g.each(f,function(w,S){var j=S[2],L=S[5];_[S[1]]=j.add,L&&j.add(function(){m=L},f[3-w][2].disable,f[3-w][3].disable,f[0][2].lock,f[0][3].lock),j.add(S[3].fire),E[S[0]]=function(){return E[S[0]+"With"](this===E?void 0:this,arguments),this},E[S[0]+"With"]=j.fireWith}),_.promise(E),u&&u.call(E,E),E},when:function(u){var f=arguments.length,m=f,_=Array(m),E=i.call(arguments),w=g.Deferred(),S=function(j){return function(L){_[j]=this,E[j]=arguments.length>1?i.call(arguments):L,--f||w.resolveWith(_,E)}};if(f<=1&&($t(u,w.done(S(m)).resolve,w.reject,!f),w.state()==="pending"||v(E[m]&&E[m].then)))return w.then();for(;m--;)$t(E[m],S(m),w.reject);return w.promise()}});var Zi=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;g.Deferred.exceptionHook=function(u,f){n.console&&n.console.warn&&u&&Zi.test(u.name)&&n.console.warn("jQuery.Deferred exception: "+u.message,u.stack,f)},g.readyException=function(u){n.setTimeout(function(){throw u})};var tn=g.Deferred();g.fn.ready=function(u){return tn.then(u).catch(function(f){g.readyException(f)}),this},g.extend({isReady:!1,readyWait:1,ready:function(u){(u===!0?--g.readyWait:g.isReady)||(g.isReady=!0,!(u!==!0&&--g.readyWait>0)&&tn.resolveWith(N,[g]))}}),g.ready.then=tn.then;function on(){N.removeEventListener("DOMContentLoaded",on),n.removeEventListener("load",on),g.ready()}N.readyState==="complete"||N.readyState!=="loading"&&!N.documentElement.doScroll?n.setTimeout(g.ready):(N.addEventListener("DOMContentLoaded",on),n.addEventListener("load",on));var Fn=function(u,f,m,_,E,w,S){var j=0,L=u.length,W=m==null;if(X(m)==="object"){E=!0;for(j in m)Fn(u,f,j,m[j],!0,w,S)}else if(_!==void 0&&(E=!0,v(_)||(S=!0),W&&(S?(f.call(u,_),f=null):(W=f,f=function(ie,le,Z){return W.call(g(ie),Z)})),f))for(;j<L;j++)f(u[j],m,S?_:_.call(u[j],j,f(u[j],m)));return E?u:W?f.call(u):L?f(u[0],m):w},dr=/^-ms-/,Ln=/-([a-z])/g;function Kt(u,f){return f.toUpperCase()}function an(u){return u.replace(dr,"ms-").replace(Ln,Kt)}var fr=function(u){return u.nodeType===1||u.nodeType===9||!+u.nodeType};function ai(){this.expando=g.expando+ai.uid++}ai.uid=1,ai.prototype={cache:function(u){var f=u[this.expando];return f||(f={},fr(u)&&(u.nodeType?u[this.expando]=f:Object.defineProperty(u,this.expando,{value:f,configurable:!0}))),f},set:function(u,f,m){var _,E=this.cache(u);if(typeof f=="string")E[an(f)]=m;else for(_ in f)E[an(_)]=f[_];return E},get:function(u,f){return f===void 0?this.cache(u):u[this.expando]&&u[this.expando][an(f)]},access:function(u,f,m){return f===void 0||f&&typeof f=="string"&&m===void 0?this.get(u,f):(this.set(u,f,m),m!==void 0?m:f)},remove:function(u,f){var m,_=u[this.expando];if(_!==void 0){if(f!==void 0)for(Array.isArray(f)?f=f.map(an):(f=an(f),f=f in _?[f]:f.match(Yn)||[]),m=f.length;m--;)delete _[f[m]];(f===void 0||g.isEmptyObject(_))&&(u.nodeType?u[this.expando]=void 0:delete u[this.expando])}},hasData:function(u){var f=u[this.expando];return f!==void 0&&!g.isEmptyObject(f)}};var O=new ai,R=new ai,q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Y=/[A-Z]/g;function C(u){return u==="true"?!0:u==="false"?!1:u==="null"?null:u===+u+""?+u:q.test(u)?JSON.parse(u):u}function D(u,f,m){var _;if(m===void 0&&u.nodeType===1)if(_="data-"+f.replace(Y,"-$&").toLowerCase(),m=u.getAttribute(_),typeof m=="string"){try{m=C(m)}catch{}R.set(u,f,m)}else m=void 0;return m}g.extend({hasData:function(u){return R.hasData(u)||O.hasData(u)},data:function(u,f,m){return R.access(u,f,m)},removeData:function(u,f){R.remove(u,f)},_data:function(u,f,m){return O.access(u,f,m)},_removeData:function(u,f){O.remove(u,f)}}),g.fn.extend({data:function(u,f){var m,_,E,w=this[0],S=w&&w.attributes;if(u===void 0){if(this.length&&(E=R.get(w),w.nodeType===1&&!O.get(w,"hasDataAttrs"))){for(m=S.length;m--;)S[m]&&(_=S[m].name,_.indexOf("data-")===0&&(_=an(_.slice(5)),D(w,_,E[_])));O.set(w,"hasDataAttrs",!0)}return E}return typeof u=="object"?this.each(function(){R.set(this,u)}):Fn(this,function(j){var L;if(w&&j===void 0)return L=R.get(w,u),L!==void 0||(L=D(w,u),L!==void 0)?L:void 0;this.each(function(){R.set(this,u,j)})},null,f,arguments.length>1,null,!0)},removeData:function(u){return this.each(function(){R.remove(this,u)})}}),g.extend({queue:function(u,f,m){var _;if(u)return f=(f||"fx")+"queue",_=O.get(u,f),m&&(!_||Array.isArray(m)?_=O.access(u,f,g.makeArray(m)):_.push(m)),_||[]},dequeue:function(u,f){f=f||"fx";var m=g.queue(u,f),_=m.length,E=m.shift(),w=g._queueHooks(u,f),S=function(){g.dequeue(u,f)};E==="inprogress"&&(E=m.shift(),_--),E&&(f==="fx"&&m.unshift("inprogress"),delete w.stop,E.call(u,S,w)),!_&&w&&w.empty.fire()},_queueHooks:function(u,f){var m=f+"queueHooks";return O.get(u,m)||O.access(u,m,{empty:g.Callbacks("once memory").add(function(){O.remove(u,[f+"queue",m])})})}}),g.fn.extend({queue:function(u,f){var m=2;return typeof u!="string"&&(f=u,u="fx",m--),arguments.length<m?g.queue(this[0],u):f===void 0?this:this.each(function(){var _=g.queue(this,u,f);g._queueHooks(this,u),u==="fx"&&_[0]!=="inprogress"&&g.dequeue(this,u)})},dequeue:function(u){return this.each(function(){g.dequeue(this,u)})},clearQueue:function(u){return this.queue(u||"fx",[])},promise:function(u,f){var m,_=1,E=g.Deferred(),w=this,S=this.length,j=function(){--_||E.resolveWith(w,[w])};for(typeof u!="string"&&(f=u,u=void 0),u=u||"fx";S--;)m=O.get(w[S],u+"queueHooks"),m&&m.empty&&(_++,m.empty.add(j));return j(),E.promise(f)}});var F=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,A=new RegExp("^(?:([+-])=|)("+F+")([a-z%]*)$","i"),T=["Top","Right","Bottom","Left"],B=N.documentElement,$=function(u){return g.contains(u.ownerDocument,u)},ue={composed:!0};B.getRootNode&&($=function(u){return g.contains(u.ownerDocument,u)||u.getRootNode(ue)===u.ownerDocument});var ge=function(u,f){return u=f||u,u.style.display==="none"||u.style.display===""&&$(u)&&g.css(u,"display")==="none"};function Se(u,f,m,_){var E,w,S=20,j=_?function(){return _.cur()}:function(){return g.css(u,f,"")},L=j(),W=m&&m[3]||(g.cssNumber[f]?"":"px"),ie=u.nodeType&&(g.cssNumber[f]||W!=="px"&&+L)&&A.exec(g.css(u,f));if(ie&&ie[3]!==W){for(L=L/2,W=W||ie[3],ie=+L||1;S--;)g.style(u,f,ie+W),(1-w)*(1-(w=j()/L||.5))<=0&&(S=0),ie=ie/w;ie=ie*2,g.style(u,f,ie+W),m=m||[]}return m&&(ie=+ie||+L||0,E=m[1]?ie+(m[1]+1)*m[2]:+m[2],_&&(_.unit=W,_.start=ie,_.end=E)),E}var we={};function oe(u){var f,m=u.ownerDocument,_=u.nodeName,E=we[_];return E||(f=m.body.appendChild(m.createElement(_)),E=g.css(f,"display"),f.parentNode.removeChild(f),E==="none"&&(E="block"),we[_]=E,E)}function ye(u,f){for(var m,_,E=[],w=0,S=u.length;w<S;w++)_=u[w],_.style&&(m=_.style.display,f?(m==="none"&&(E[w]=O.get(_,"display")||null,E[w]||(_.style.display="")),_.style.display===""&&ge(_)&&(E[w]=oe(_))):m!=="none"&&(E[w]="none",O.set(_,"display",m)));for(w=0;w<S;w++)E[w]!=null&&(u[w].style.display=E[w]);return u}g.fn.extend({show:function(){return ye(this,!0)},hide:function(){return ye(this)},toggle:function(u){return typeof u=="boolean"?u?this.show():this.hide():this.each(function(){ge(this)?g(this).show():g(this).hide()})}});var Ee=/^(?:checkbox|radio)$/i,he=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ke=/^$|^module$|\/(?:java|ecma)script/i;(function(){var u=N.createDocumentFragment(),f=u.appendChild(N.createElement("div")),m=N.createElement("input");m.setAttribute("type","radio"),m.setAttribute("checked","checked"),m.setAttribute("name","t"),f.appendChild(m),b.checkClone=f.cloneNode(!0).cloneNode(!0).lastChild.checked,f.innerHTML="<textarea>x</textarea>",b.noCloneChecked=!!f.cloneNode(!0).lastChild.defaultValue,f.innerHTML="<option></option>",b.option=!!f.lastChild})();var Le={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Le.tbody=Le.tfoot=Le.colgroup=Le.caption=Le.thead,Le.th=Le.td,b.option||(Le.optgroup=Le.option=[1,"<select multiple='multiple'>","</select>"]);function tt(u,f){var m;return typeof u.getElementsByTagName<"u"?m=u.getElementsByTagName(f||"*"):typeof u.querySelectorAll<"u"?m=u.querySelectorAll(f||"*"):m=[],f===void 0||f&&Ce(u,f)?g.merge([u],m):m}function Wt(u,f){for(var m=0,_=u.length;m<_;m++)O.set(u[m],"globalEval",!f||O.get(f[m],"globalEval"))}var Bn=/<|&#?\w+;/;function Rr(u,f,m,_,E){for(var w,S,j,L,W,ie,le=f.createDocumentFragment(),Z=[],ve=0,ct=u.length;ve<ct;ve++)if(w=u[ve],w||w===0)if(X(w)==="object")g.merge(Z,w.nodeType?[w]:w);else if(!Bn.test(w))Z.push(f.createTextNode(w));else{for(S=S||le.appendChild(f.createElement("div")),j=(he.exec(w)||["",""])[1].toLowerCase(),L=Le[j]||Le._default,S.innerHTML=L[1]+g.htmlPrefilter(w)+L[2],ie=L[0];ie--;)S=S.lastChild;g.merge(Z,S.childNodes),S=le.firstChild,S.textContent=""}for(le.textContent="",ve=0;w=Z[ve++];){if(_&&g.inArray(w,_)>-1){E&&E.push(w);continue}if(W=$(w),S=tt(le.appendChild(w),"script"),W&&Wt(S),m)for(ie=0;w=S[ie++];)ke.test(w.type||"")&&m.push(w)}return le}var Or=/^([^.]*)(?:\.(.+)|)/;function Er(){return!0}function xi(){return!1}function z(u,f,m,_,E,w){var S,j;if(typeof f=="object"){typeof m!="string"&&(_=_||m,m=void 0);for(j in f)z(u,j,m,_,f[j],w);return u}if(_==null&&E==null?(E=m,_=m=void 0):E==null&&(typeof m=="string"?(E=_,_=void 0):(E=_,_=m,m=void 0)),E===!1)E=xi;else if(!E)return u;return w===1&&(S=E,E=function(L){return g().off(L),S.apply(this,arguments)},E.guid=S.guid||(S.guid=g.guid++)),u.each(function(){g.event.add(this,f,E,_,m)})}g.event={global:{},add:function(u,f,m,_,E){var w,S,j,L,W,ie,le,Z,ve,ct,jt,Ct=O.get(u);if(fr(u))for(m.handler&&(w=m,m=w.handler,E=w.selector),E&&g.find.matchesSelector(B,E),m.guid||(m.guid=g.guid++),(L=Ct.events)||(L=Ct.events=Object.create(null)),(S=Ct.handle)||(S=Ct.handle=function(wr){return typeof g<"u"&&g.event.triggered!==wr.type?g.event.dispatch.apply(u,arguments):void 0}),f=(f||"").match(Yn)||[""],W=f.length;W--;)j=Or.exec(f[W])||[],ve=jt=j[1],ct=(j[2]||"").split(".").sort(),ve&&(le=g.event.special[ve]||{},ve=(E?le.delegateType:le.bindType)||ve,le=g.event.special[ve]||{},ie=g.extend({type:ve,origType:jt,data:_,handler:m,guid:m.guid,selector:E,needsContext:E&&g.expr.match.needsContext.test(E),namespace:ct.join(".")},w),(Z=L[ve])||(Z=L[ve]=[],Z.delegateCount=0,(!le.setup||le.setup.call(u,_,ct,S)===!1)&&u.addEventListener&&u.addEventListener(ve,S)),le.add&&(le.add.call(u,ie),ie.handler.guid||(ie.handler.guid=m.guid)),E?Z.splice(Z.delegateCount++,0,ie):Z.push(ie),g.event.global[ve]=!0)},remove:function(u,f,m,_,E){var w,S,j,L,W,ie,le,Z,ve,ct,jt,Ct=O.hasData(u)&&O.get(u);if(!(!Ct||!(L=Ct.events))){for(f=(f||"").match(Yn)||[""],W=f.length;W--;){if(j=Or.exec(f[W])||[],ve=jt=j[1],ct=(j[2]||"").split(".").sort(),!ve){for(ve in L)g.event.remove(u,ve+f[W],m,_,!0);continue}for(le=g.event.special[ve]||{},ve=(_?le.delegateType:le.bindType)||ve,Z=L[ve]||[],j=j[2]&&new RegExp("(^|\\.)"+ct.join("\\.(?:.*\\.|)")+"(\\.|$)"),S=w=Z.length;w--;)ie=Z[w],(E||jt===ie.origType)&&(!m||m.guid===ie.guid)&&(!j||j.test(ie.namespace))&&(!_||_===ie.selector||_==="**"&&ie.selector)&&(Z.splice(w,1),ie.selector&&Z.delegateCount--,le.remove&&le.remove.call(u,ie));S&&!Z.length&&((!le.teardown||le.teardown.call(u,ct,Ct.handle)===!1)&&g.removeEvent(u,ve,Ct.handle),delete L[ve])}g.isEmptyObject(L)&&O.remove(u,"handle events")}},dispatch:function(u){var f,m,_,E,w,S,j=new Array(arguments.length),L=g.event.fix(u),W=(O.get(this,"events")||Object.create(null))[L.type]||[],ie=g.event.special[L.type]||{};for(j[0]=L,f=1;f<arguments.length;f++)j[f]=arguments[f];if(L.delegateTarget=this,!(ie.preDispatch&&ie.preDispatch.call(this,L)===!1)){for(S=g.event.handlers.call(this,L,W),f=0;(E=S[f++])&&!L.isPropagationStopped();)for(L.currentTarget=E.elem,m=0;(w=E.handlers[m++])&&!L.isImmediatePropagationStopped();)(!L.rnamespace||w.namespace===!1||L.rnamespace.test(w.namespace))&&(L.handleObj=w,L.data=w.data,_=((g.event.special[w.origType]||{}).handle||w.handler).apply(E.elem,j),_!==void 0&&(L.result=_)===!1&&(L.preventDefault(),L.stopPropagation()));return ie.postDispatch&&ie.postDispatch.call(this,L),L.result}},handlers:function(u,f){var m,_,E,w,S,j=[],L=f.delegateCount,W=u.target;if(L&&W.nodeType&&!(u.type==="click"&&u.button>=1)){for(;W!==this;W=W.parentNode||this)if(W.nodeType===1&&!(u.type==="click"&&W.disabled===!0)){for(w=[],S={},m=0;m<L;m++)_=f[m],E=_.selector+" ",S[E]===void 0&&(S[E]=_.needsContext?g(E,this).index(W)>-1:g.find(E,this,null,[W]).length),S[E]&&w.push(_);w.length&&j.push({elem:W,handlers:w})}}return W=this,L<f.length&&j.push({elem:W,handlers:f.slice(L)}),j},addProp:function(u,f){Object.defineProperty(g.Event.prototype,u,{enumerable:!0,configurable:!0,get:v(f)?function(){if(this.originalEvent)return f(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[u]},set:function(m){Object.defineProperty(this,u,{enumerable:!0,configurable:!0,writable:!0,value:m})}})},fix:function(u){return u[g.expando]?u:new g.Event(u)},special:{load:{noBubble:!0},click:{setup:function(u){var f=this||u;return Ee.test(f.type)&&f.click&&Ce(f,"input")&&se(f,"click",!0),!1},trigger:function(u){var f=this||u;return Ee.test(f.type)&&f.click&&Ce(f,"input")&&se(f,"click"),!0},_default:function(u){var f=u.target;return Ee.test(f.type)&&f.click&&Ce(f,"input")&&O.get(f,"click")||Ce(f,"a")}},beforeunload:{postDispatch:function(u){u.result!==void 0&&u.originalEvent&&(u.originalEvent.returnValue=u.result)}}}};function se(u,f,m){if(!m){O.get(u,f)===void 0&&g.event.add(u,f,Er);return}O.set(u,f,!1),g.event.add(u,f,{namespace:!1,handler:function(_){var E,w=O.get(this,f);if(_.isTrigger&1&&this[f]){if(w)(g.event.special[f]||{}).delegateType&&_.stopPropagation();else if(w=i.call(arguments),O.set(this,f,w),this[f](),E=O.get(this,f),O.set(this,f,!1),w!==E)return _.stopImmediatePropagation(),_.preventDefault(),E}else w&&(O.set(this,f,g.event.trigger(w[0],w.slice(1),this)),_.stopPropagation(),_.isImmediatePropagationStopped=Er)}})}g.removeEvent=function(u,f,m){u.removeEventListener&&u.removeEventListener(f,m)},g.Event=function(u,f){if(!(this instanceof g.Event))return new g.Event(u,f);u&&u.type?(this.originalEvent=u,this.type=u.type,this.isDefaultPrevented=u.defaultPrevented||u.defaultPrevented===void 0&&u.returnValue===!1?Er:xi,this.target=u.target&&u.target.nodeType===3?u.target.parentNode:u.target,this.currentTarget=u.currentTarget,this.relatedTarget=u.relatedTarget):this.type=u,f&&g.extend(this,f),this.timeStamp=u&&u.timeStamp||Date.now(),this[g.expando]=!0},g.Event.prototype={constructor:g.Event,isDefaultPrevented:xi,isPropagationStopped:xi,isImmediatePropagationStopped:xi,isSimulated:!1,preventDefault:function(){var u=this.originalEvent;this.isDefaultPrevented=Er,u&&!this.isSimulated&&u.preventDefault()},stopPropagation:function(){var u=this.originalEvent;this.isPropagationStopped=Er,u&&!this.isSimulated&&u.stopPropagation()},stopImmediatePropagation:function(){var u=this.originalEvent;this.isImmediatePropagationStopped=Er,u&&!this.isSimulated&&u.stopImmediatePropagation(),this.stopPropagation()}},g.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},g.event.addProp),g.each({focus:"focusin",blur:"focusout"},function(u,f){function m(_){if(N.documentMode){var E=O.get(this,"handle"),w=g.event.fix(_);w.type=_.type==="focusin"?"focus":"blur",w.isSimulated=!0,E(_),w.target===w.currentTarget&&E(w)}else g.event.simulate(f,_.target,g.event.fix(_))}g.event.special[u]={setup:function(){var _;if(se(this,u,!0),N.documentMode)_=O.get(this,f),_||this.addEventListener(f,m),O.set(this,f,(_||0)+1);else return!1},trigger:function(){return se(this,u),!0},teardown:function(){var _;if(N.documentMode)_=O.get(this,f)-1,_?O.set(this,f,_):(this.removeEventListener(f,m),O.remove(this,f));else return!1},_default:function(_){return O.get(_.target,u)},delegateType:f},g.event.special[f]={setup:function(){var _=this.ownerDocument||this.document||this,E=N.documentMode?this:_,w=O.get(E,f);w||(N.documentMode?this.addEventListener(f,m):_.addEventListener(u,m,!0)),O.set(E,f,(w||0)+1)},teardown:function(){var _=this.ownerDocument||this.document||this,E=N.documentMode?this:_,w=O.get(E,f)-1;w?O.set(E,f,w):(N.documentMode?this.removeEventListener(f,m):_.removeEventListener(u,m,!0),O.remove(E,f))}}}),g.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(u,f){g.event.special[u]={delegateType:f,bindType:f,handle:function(m){var _,E=this,w=m.relatedTarget,S=m.handleObj;return(!w||w!==E&&!g.contains(E,w))&&(m.type=S.origType,_=S.handler.apply(this,arguments),m.type=f),_}}}),g.fn.extend({on:function(u,f,m,_){return z(this,u,f,m,_)},one:function(u,f,m,_){return z(this,u,f,m,_,1)},off:function(u,f,m){var _,E;if(u&&u.preventDefault&&u.handleObj)return _=u.handleObj,g(u.delegateTarget).off(_.namespace?_.origType+"."+_.namespace:_.origType,_.selector,_.handler),this;if(typeof u=="object"){for(E in u)this.off(E,f,u[E]);return this}return(f===!1||typeof f=="function")&&(m=f,f=void 0),m===!1&&(m=xi),this.each(function(){g.event.remove(this,u,m,f)})}});var Ne=/<script|<style|<link/i,Ie=/checked\s*(?:[^=]|=\s*.checked.)/i,Ue=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function ot(u,f){return Ce(u,"table")&&Ce(f.nodeType!==11?f:f.firstChild,"tr")&&g(u).children("tbody")[0]||u}function at(u){return u.type=(u.getAttribute("type")!==null)+"/"+u.type,u}function qn(u){return(u.type||"").slice(0,5)==="true/"?u.type=u.type.slice(5):u.removeAttribute("type"),u}function Cn(u,f){var m,_,E,w,S,j,L;if(f.nodeType===1){if(O.hasData(u)&&(w=O.get(u),L=w.events,L)){O.remove(f,"handle events");for(E in L)for(m=0,_=L[E].length;m<_;m++)g.event.add(f,E,L[E][m])}R.hasData(u)&&(S=R.access(u),j=g.extend({},S),R.set(f,j))}}function Ao(u,f){var m=f.nodeName.toLowerCase();m==="input"&&Ee.test(u.type)?f.checked=u.checked:(m==="input"||m==="textarea")&&(f.defaultValue=u.defaultValue)}function Ti(u,f,m,_){f=s(f);var E,w,S,j,L,W,ie=0,le=u.length,Z=le-1,ve=f[0],ct=v(ve);if(ct||le>1&&typeof ve=="string"&&!b.checkClone&&Ie.test(ve))return u.each(function(jt){var Ct=u.eq(jt);ct&&(f[0]=ve.call(this,jt,Ct.html())),Ti(Ct,f,m,_)});if(le&&(E=Rr(f,u[0].ownerDocument,!1,u,_),w=E.firstChild,E.childNodes.length===1&&(E=w),w||_)){for(S=g.map(tt(E,"script"),at),j=S.length;ie<le;ie++)L=E,ie!==Z&&(L=g.clone(L,!0,!0),j&&g.merge(S,tt(L,"script"))),m.call(u[ie],L,ie);if(j)for(W=S[S.length-1].ownerDocument,g.map(S,qn),ie=0;ie<j;ie++)L=S[ie],ke.test(L.type||"")&&!O.access(L,"globalEval")&&g.contains(W,L)&&(L.src&&(L.type||"").toLowerCase()!=="module"?g._evalUrl&&!L.noModule&&g._evalUrl(L.src,{nonce:L.nonce||L.getAttribute("nonce")},W):ee(L.textContent.replace(Ue,""),L,W))}return u}function ci(u,f,m){for(var _,E=f?g.filter(f,u):u,w=0;(_=E[w])!=null;w++)!m&&_.nodeType===1&&g.cleanData(tt(_)),_.parentNode&&(m&&$(_)&&Wt(tt(_,"script")),_.parentNode.removeChild(_));return u}g.extend({htmlPrefilter:function(u){return u},clone:function(u,f,m){var _,E,w,S,j=u.cloneNode(!0),L=$(u);if(!b.noCloneChecked&&(u.nodeType===1||u.nodeType===11)&&!g.isXMLDoc(u))for(S=tt(j),w=tt(u),_=0,E=w.length;_<E;_++)Ao(w[_],S[_]);if(f)if(m)for(w=w||tt(u),S=S||tt(j),_=0,E=w.length;_<E;_++)Cn(w[_],S[_]);else Cn(u,j);return S=tt(j,"script"),S.length>0&&Wt(S,!L&&tt(u,"script")),j},cleanData:function(u){for(var f,m,_,E=g.event.special,w=0;(m=u[w])!==void 0;w++)if(fr(m)){if(f=m[O.expando]){if(f.events)for(_ in f.events)E[_]?g.event.remove(m,_):g.removeEvent(m,_,f.handle);m[O.expando]=void 0}m[R.expando]&&(m[R.expando]=void 0)}}}),g.fn.extend({detach:function(u){return ci(this,u,!0)},remove:function(u){return ci(this,u)},text:function(u){return Fn(this,function(f){return f===void 0?g.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=f)})},null,u,arguments.length)},append:function(){return Ti(this,arguments,function(u){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var f=ot(this,u);f.appendChild(u)}})},prepend:function(){return Ti(this,arguments,function(u){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var f=ot(this,u);f.insertBefore(u,f.firstChild)}})},before:function(){return Ti(this,arguments,function(u){this.parentNode&&this.parentNode.insertBefore(u,this)})},after:function(){return Ti(this,arguments,function(u){this.parentNode&&this.parentNode.insertBefore(u,this.nextSibling)})},empty:function(){for(var u,f=0;(u=this[f])!=null;f++)u.nodeType===1&&(g.cleanData(tt(u,!1)),u.textContent="");return this},clone:function(u,f){return u=u??!1,f=f??u,this.map(function(){return g.clone(this,u,f)})},html:function(u){return Fn(this,function(f){var m=this[0]||{},_=0,E=this.length;if(f===void 0&&m.nodeType===1)return m.innerHTML;if(typeof f=="string"&&!Ne.test(f)&&!Le[(he.exec(f)||["",""])[1].toLowerCase()]){f=g.htmlPrefilter(f);try{for(;_<E;_++)m=this[_]||{},m.nodeType===1&&(g.cleanData(tt(m,!1)),m.innerHTML=f);m=0}catch{}}m&&this.empty().append(f)},null,u,arguments.length)},replaceWith:function(){var u=[];return Ti(this,arguments,function(f){var m=this.parentNode;g.inArray(this,u)<0&&(g.cleanData(tt(this)),m&&m.replaceChild(f,this))},u)}}),g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(u,f){g.fn[u]=function(m){for(var _,E=[],w=g(m),S=w.length-1,j=0;j<=S;j++)_=j===S?this:this.clone(!0),g(w[j])[f](_),o.apply(E,_.get());return this.pushStack(E)}});var li=new RegExp("^("+F+")(?!px)[a-z%]+$","i"),Zn=/^--/,ms=function(u){var f=u.ownerDocument.defaultView;return(!f||!f.opener)&&(f=n),f.getComputedStyle(u)},hc=function(u,f,m){var _,E,w={};for(E in f)w[E]=u.style[E],u.style[E]=f[E];_=m.call(u);for(E in f)u.style[E]=w[E];return _},ow=new RegExp(T.join("|"),"i");(function(){function u(){if(W){L.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",W.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",B.appendChild(L).appendChild(W);var ie=n.getComputedStyle(W);m=ie.top!=="1%",j=f(ie.marginLeft)===12,W.style.right="60%",w=f(ie.right)===36,_=f(ie.width)===36,W.style.position="absolute",E=f(W.offsetWidth/3)===12,B.removeChild(L),W=null}}function f(ie){return Math.round(parseFloat(ie))}var m,_,E,w,S,j,L=N.createElement("div"),W=N.createElement("div");W.style&&(W.style.backgroundClip="content-box",W.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle=W.style.backgroundClip==="content-box",g.extend(b,{boxSizingReliable:function(){return u(),_},pixelBoxStyles:function(){return u(),w},pixelPosition:function(){return u(),m},reliableMarginLeft:function(){return u(),j},scrollboxSize:function(){return u(),E},reliableTrDimensions:function(){var ie,le,Z,ve;return S==null&&(ie=N.createElement("table"),le=N.createElement("tr"),Z=N.createElement("div"),ie.style.cssText="position:absolute;left:-11111px;border-collapse:separate",le.style.cssText="box-sizing:content-box;border:1px solid",le.style.height="1px",Z.style.height="9px",Z.style.display="block",B.appendChild(ie).appendChild(le).appendChild(Z),ve=n.getComputedStyle(le),S=parseInt(ve.height,10)+parseInt(ve.borderTopWidth,10)+parseInt(ve.borderBottomWidth,10)===le.offsetHeight,B.removeChild(ie)),S}}))})();function pc(u,f,m){var _,E,w,S,j=Zn.test(f),L=u.style;return m=m||ms(u),m&&(S=m.getPropertyValue(f)||m[f],j&&S&&(S=S.replace(pe,"$1")||void 0),S===""&&!$(u)&&(S=g.style(u,f)),!b.pixelBoxStyles()&&li.test(S)&&ow.test(f)&&(_=L.width,E=L.minWidth,w=L.maxWidth,L.minWidth=L.maxWidth=L.width=S,S=m.width,L.width=_,L.minWidth=E,L.maxWidth=w)),S!==void 0?S+"":S}function Cm(u,f){return{get:function(){if(u()){delete this.get;return}return(this.get=f).apply(this,arguments)}}}var Jt=["Webkit","Moz","ms"],Xn=N.createElement("div").style,ft={};function er(u){for(var f=u[0].toUpperCase()+u.slice(1),m=Jt.length;m--;)if(u=Jt[m]+f,u in Xn)return u}function Vr(u){var f=g.cssProps[u]||ft[u];return f||(u in Xn?u:ft[u]=er(u)||u)}var hr=/^(none|table(?!-c[ea]).+)/,No={position:"absolute",visibility:"hidden",display:"block"},Xi={letterSpacing:"0",fontWeight:"400"};function gs(u,f,m){var _=A.exec(f);return _?Math.max(0,_[2]-(m||0))+(_[3]||"px"):f}function ys(u,f,m,_,E,w){var S=f==="width"?1:0,j=0,L=0,W=0;if(m===(_?"border":"content"))return 0;for(;S<4;S+=2)m==="margin"&&(W+=g.css(u,m+T[S],!0,E)),_?(m==="content"&&(L-=g.css(u,"padding"+T[S],!0,E)),m!=="margin"&&(L-=g.css(u,"border"+T[S]+"Width",!0,E))):(L+=g.css(u,"padding"+T[S],!0,E),m!=="padding"?L+=g.css(u,"border"+T[S]+"Width",!0,E):j+=g.css(u,"border"+T[S]+"Width",!0,E));return!_&&w>=0&&(L+=Math.max(0,Math.ceil(u["offset"+f[0].toUpperCase()+f.slice(1)]-w-L-j-.5))||0),L+W}function mc(u,f,m){var _=ms(u),E=!b.boxSizingReliable()||m,w=E&&g.css(u,"boxSizing",!1,_)==="border-box",S=w,j=pc(u,f,_),L="offset"+f[0].toUpperCase()+f.slice(1);if(li.test(j)){if(!m)return j;j="auto"}return(!b.boxSizingReliable()&&w||!b.reliableTrDimensions()&&Ce(u,"tr")||j==="auto"||!parseFloat(j)&&g.css(u,"display",!1,_)==="inline")&&u.getClientRects().length&&(w=g.css(u,"boxSizing",!1,_)==="border-box",S=L in u,S&&(j=u[L])),j=parseFloat(j)||0,j+ys(u,f,m||(w?"border":"content"),S,_,j)+"px"}g.extend({cssHooks:{opacity:{get:function(u,f){if(f){var m=pc(u,"opacity");return m===""?"1":m}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(u,f,m,_){if(!(!u||u.nodeType===3||u.nodeType===8||!u.style)){var E,w,S,j=an(f),L=Zn.test(f),W=u.style;if(L||(f=Vr(j)),S=g.cssHooks[f]||g.cssHooks[j],m!==void 0){if(w=typeof m,w==="string"&&(E=A.exec(m))&&E[1]&&(m=Se(u,f,E),w="number"),m==null||m!==m)return;w==="number"&&!L&&(m+=E&&E[3]||(g.cssNumber[j]?"":"px")),!b.clearCloneStyle&&m===""&&f.indexOf("background")===0&&(W[f]="inherit"),(!S||!("set"in S)||(m=S.set(u,m,_))!==void 0)&&(L?W.setProperty(f,m):W[f]=m)}else return S&&"get"in S&&(E=S.get(u,!1,_))!==void 0?E:W[f]}},css:function(u,f,m,_){var E,w,S,j=an(f),L=Zn.test(f);return L||(f=Vr(j)),S=g.cssHooks[f]||g.cssHooks[j],S&&"get"in S&&(E=S.get(u,!0,m)),E===void 0&&(E=pc(u,f,_)),E==="normal"&&f in Xi&&(E=Xi[f]),m===""||m?(w=parseFloat(E),m===!0||isFinite(w)?w||0:E):E}}),g.each(["height","width"],function(u,f){g.cssHooks[f]={get:function(m,_,E){if(_)return hr.test(g.css(m,"display"))&&(!m.getClientRects().length||!m.getBoundingClientRect().width)?hc(m,No,function(){return mc(m,f,E)}):mc(m,f,E)},set:function(m,_,E){var w,S=ms(m),j=!b.scrollboxSize()&&S.position==="absolute",L=j||E,W=L&&g.css(m,"boxSizing",!1,S)==="border-box",ie=E?ys(m,f,E,W,S):0;return W&&j&&(ie-=Math.ceil(m["offset"+f[0].toUpperCase()+f.slice(1)]-parseFloat(S[f])-ys(m,f,"border",!1,S)-.5)),ie&&(w=A.exec(_))&&(w[3]||"px")!=="px"&&(m.style[f]=_,_=g.css(m,f)),gs(m,_,ie)}}}),g.cssHooks.marginLeft=Cm(b.reliableMarginLeft,function(u,f){if(f)return(parseFloat(pc(u,"marginLeft"))||u.getBoundingClientRect().left-hc(u,{marginLeft:0},function(){return u.getBoundingClientRect().left}))+"px"}),g.each({margin:"",padding:"",border:"Width"},function(u,f){g.cssHooks[u+f]={expand:function(m){for(var _=0,E={},w=typeof m=="string"?m.split(" "):[m];_<4;_++)E[u+T[_]+f]=w[_]||w[_-2]||w[0];return E}},u!=="margin"&&(g.cssHooks[u+f].set=gs)}),g.fn.extend({css:function(u,f){return Fn(this,function(m,_,E){var w,S,j={},L=0;if(Array.isArray(_)){for(w=ms(m),S=_.length;L<S;L++)j[_[L]]=g.css(m,_[L],!1,w);return j}return E!==void 0?g.style(m,_,E):g.css(m,_)},u,f,arguments.length>1)}});function Pr(u,f,m,_,E){return new Pr.prototype.init(u,f,m,_,E)}g.Tween=Pr,Pr.prototype={constructor:Pr,init:function(u,f,m,_,E,w){this.elem=u,this.prop=m,this.easing=E||g.easing._default,this.options=f,this.start=this.now=this.cur(),this.end=_,this.unit=w||(g.cssNumber[m]?"":"px")},cur:function(){var u=Pr.propHooks[this.prop];return u&&u.get?u.get(this):Pr.propHooks._default.get(this)},run:function(u){var f,m=Pr.propHooks[this.prop];return this.options.duration?this.pos=f=g.easing[this.easing](u,this.options.duration*u,0,1,this.options.duration):this.pos=f=u,this.now=(this.end-this.start)*f+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),m&&m.set?m.set(this):Pr.propHooks._default.set(this),this}},Pr.prototype.init.prototype=Pr.prototype,Pr.propHooks={_default:{get:function(u){var f;return u.elem.nodeType!==1||u.elem[u.prop]!=null&&u.elem.style[u.prop]==null?u.elem[u.prop]:(f=g.css(u.elem,u.prop,""),!f||f==="auto"?0:f)},set:function(u){g.fx.step[u.prop]?g.fx.step[u.prop](u):u.elem.nodeType===1&&(g.cssHooks[u.prop]||u.elem.style[Vr(u.prop)]!=null)?g.style(u.elem,u.prop,u.now+u.unit):u.elem[u.prop]=u.now}}},Pr.propHooks.scrollTop=Pr.propHooks.scrollLeft={set:function(u){u.elem.nodeType&&u.elem.parentNode&&(u.elem[u.prop]=u.now)}},g.easing={linear:function(u){return u},swing:function(u){return .5-Math.cos(u*Math.PI)/2},_default:"swing"},g.fx=Pr.prototype.init,g.fx.step={};var zl,Dm,qce=/^(?:toggle|show|hide)$/,jce=/queueHooks$/;function aw(){Dm&&(N.hidden===!1&&n.requestAnimationFrame?n.requestAnimationFrame(aw):n.setTimeout(aw,g.fx.interval),g.fx.tick())}function sO(){return n.setTimeout(function(){zl=void 0}),zl=Date.now()}function xm(u,f){var m,_=0,E={height:u};for(f=f?1:0;_<4;_+=2-f)m=T[_],E["margin"+m]=E["padding"+m]=u;return f&&(E.opacity=E.width=u),E}function oO(u,f,m){for(var _,E=(bs.tweeners[f]||[]).concat(bs.tweeners["*"]),w=0,S=E.length;w<S;w++)if(_=E[w].call(m,f,u))return _}function Uce(u,f,m){var _,E,w,S,j,L,W,ie,le="width"in f||"height"in f,Z=this,ve={},ct=u.style,jt=u.nodeType&&ge(u),Ct=O.get(u,"fxshow");m.queue||(S=g._queueHooks(u,"fx"),S.unqueued==null&&(S.unqueued=0,j=S.empty.fire,S.empty.fire=function(){S.unqueued||j()}),S.unqueued++,Z.always(function(){Z.always(function(){S.unqueued--,g.queue(u,"fx").length||S.empty.fire()})}));for(_ in f)if(E=f[_],qce.test(E)){if(delete f[_],w=w||E==="toggle",E===(jt?"hide":"show"))if(E==="show"&&Ct&&Ct[_]!==void 0)jt=!0;else continue;ve[_]=Ct&&Ct[_]||g.style(u,_)}if(L=!g.isEmptyObject(f),!(!L&&g.isEmptyObject(ve))){le&&u.nodeType===1&&(m.overflow=[ct.overflow,ct.overflowX,ct.overflowY],W=Ct&&Ct.display,W==null&&(W=O.get(u,"display")),ie=g.css(u,"display"),ie==="none"&&(W?ie=W:(ye([u],!0),W=u.style.display||W,ie=g.css(u,"display"),ye([u]))),(ie==="inline"||ie==="inline-block"&&W!=null)&&g.css(u,"float")==="none"&&(L||(Z.done(function(){ct.display=W}),W==null&&(ie=ct.display,W=ie==="none"?"":ie)),ct.display="inline-block")),m.overflow&&(ct.overflow="hidden",Z.always(function(){ct.overflow=m.overflow[0],ct.overflowX=m.overflow[1],ct.overflowY=m.overflow[2]})),L=!1;for(_ in ve)L||(Ct?"hidden"in Ct&&(jt=Ct.hidden):Ct=O.access(u,"fxshow",{display:W}),w&&(Ct.hidden=!jt),jt&&ye([u],!0),Z.done(function(){jt||ye([u]),O.remove(u,"fxshow");for(_ in ve)g.style(u,_,ve[_])})),L=oO(jt?Ct[_]:0,_,Z),_ in Ct||(Ct[_]=L.start,jt&&(L.end=L.start,L.start=0))}}function $ce(u,f){var m,_,E,w,S;for(m in u)if(_=an(m),E=f[_],w=u[m],Array.isArray(w)&&(E=w[1],w=u[m]=w[0]),m!==_&&(u[_]=w,delete u[m]),S=g.cssHooks[_],S&&"expand"in S){w=S.expand(w),delete u[_];for(m in w)m in u||(u[m]=w[m],f[m]=E)}else f[_]=E}function bs(u,f,m){var _,E,w=0,S=bs.prefilters.length,j=g.Deferred().always(function(){delete L.elem}),L=function(){if(E)return!1;for(var le=zl||sO(),Z=Math.max(0,W.startTime+W.duration-le),ve=Z/W.duration||0,ct=1-ve,jt=0,Ct=W.tweens.length;jt<Ct;jt++)W.tweens[jt].run(ct);return j.notifyWith(u,[W,ct,Z]),ct<1&&Ct?Z:(Ct||j.notifyWith(u,[W,1,0]),j.resolveWith(u,[W]),!1)},W=j.promise({elem:u,props:g.extend({},f),opts:g.extend(!0,{specialEasing:{},easing:g.easing._default},m),originalProperties:f,originalOptions:m,startTime:zl||sO(),duration:m.duration,tweens:[],createTween:function(le,Z){var ve=g.Tween(u,W.opts,le,Z,W.opts.specialEasing[le]||W.opts.easing);return W.tweens.push(ve),ve},stop:function(le){var Z=0,ve=le?W.tweens.length:0;if(E)return this;for(E=!0;Z<ve;Z++)W.tweens[Z].run(1);return le?(j.notifyWith(u,[W,1,0]),j.resolveWith(u,[W,le])):j.rejectWith(u,[W,le]),this}}),ie=W.props;for($ce(ie,W.opts.specialEasing);w<S;w++)if(_=bs.prefilters[w].call(W,u,ie,W.opts),_)return v(_.stop)&&(g._queueHooks(W.elem,W.opts.queue).stop=_.stop.bind(_)),_;return g.map(ie,oO,W),v(W.opts.start)&&W.opts.start.call(u,W),W.progress(W.opts.progress).done(W.opts.done,W.opts.complete).fail(W.opts.fail).always(W.opts.always),g.fx.timer(g.extend(L,{elem:u,anim:W,queue:W.opts.queue})),W}g.Animation=g.extend(bs,{tweeners:{"*":[function(u,f){var m=this.createTween(u,f);return Se(m.elem,u,A.exec(f),m),m}]},tweener:function(u,f){v(u)?(f=u,u=["*"]):u=u.match(Yn);for(var m,_=0,E=u.length;_<E;_++)m=u[_],bs.tweeners[m]=bs.tweeners[m]||[],bs.tweeners[m].unshift(f)},prefilters:[Uce],prefilter:function(u,f){f?bs.prefilters.unshift(u):bs.prefilters.push(u)}}),g.speed=function(u,f,m){var _=u&&typeof u=="object"?g.extend({},u):{complete:m||!m&&f||v(u)&&u,duration:u,easing:m&&f||f&&!v(f)&&f};return g.fx.off?_.duration=0:typeof _.duration!="number"&&(_.duration in g.fx.speeds?_.duration=g.fx.speeds[_.duration]:_.duration=g.fx.speeds._default),(_.queue==null||_.queue===!0)&&(_.queue="fx"),_.old=_.complete,_.complete=function(){v(_.old)&&_.old.call(this),_.queue&&g.dequeue(this,_.queue)},_},g.fn.extend({fadeTo:function(u,f,m,_){return this.filter(ge).css("opacity",0).show().end().animate({opacity:f},u,m,_)},animate:function(u,f,m,_){var E=g.isEmptyObject(u),w=g.speed(f,m,_),S=function(){var j=bs(this,g.extend({},u),w);(E||O.get(this,"finish"))&&j.stop(!0)};return S.finish=S,E||w.queue===!1?this.each(S):this.queue(w.queue,S)},stop:function(u,f,m){var _=function(E){var w=E.stop;delete E.stop,w(m)};return typeof u!="string"&&(m=f,f=u,u=void 0),f&&this.queue(u||"fx",[]),this.each(function(){var E=!0,w=u!=null&&u+"queueHooks",S=g.timers,j=O.get(this);if(w)j[w]&&j[w].stop&&_(j[w]);else for(w in j)j[w]&&j[w].stop&&jce.test(w)&&_(j[w]);for(w=S.length;w--;)S[w].elem===this&&(u==null||S[w].queue===u)&&(S[w].anim.stop(m),E=!1,S.splice(w,1));(E||!m)&&g.dequeue(this,u)})},finish:function(u){return u!==!1&&(u=u||"fx"),this.each(function(){var f,m=O.get(this),_=m[u+"queue"],E=m[u+"queueHooks"],w=g.timers,S=_?_.length:0;for(m.finish=!0,g.queue(this,u,[]),E&&E.stop&&E.stop.call(this,!0),f=w.length;f--;)w[f].elem===this&&w[f].queue===u&&(w[f].anim.stop(!0),w.splice(f,1));for(f=0;f<S;f++)_[f]&&_[f].finish&&_[f].finish.call(this);delete m.finish})}}),g.each(["toggle","show","hide"],function(u,f){var m=g.fn[f];g.fn[f]=function(_,E,w){return _==null||typeof _=="boolean"?m.apply(this,arguments):this.animate(xm(f,!0),_,E,w)}}),g.each({slideDown:xm("show"),slideUp:xm("hide"),slideToggle:xm("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(u,f){g.fn[u]=function(m,_,E){return this.animate(f,m,_,E)}}),g.timers=[],g.fx.tick=function(){var u,f=0,m=g.timers;for(zl=Date.now();f<m.length;f++)u=m[f],!u()&&m[f]===u&&m.splice(f--,1);m.length||g.fx.stop(),zl=void 0},g.fx.timer=function(u){g.timers.push(u),g.fx.start()},g.fx.interval=13,g.fx.start=function(){Dm||(Dm=!0,aw())},g.fx.stop=function(){Dm=null},g.fx.speeds={slow:600,fast:200,_default:400},g.fn.delay=function(u,f){return u=g.fx&&g.fx.speeds[u]||u,f=f||"fx",this.queue(f,function(m,_){var E=n.setTimeout(m,u);_.stop=function(){n.clearTimeout(E)}})},(function(){var u=N.createElement("input"),f=N.createElement("select"),m=f.appendChild(N.createElement("option"));u.type="checkbox",b.checkOn=u.value!=="",b.optSelected=m.selected,u=N.createElement("input"),u.value="t",u.type="radio",b.radioValue=u.value==="t"})();var aO,lf=g.expr.attrHandle;g.fn.extend({attr:function(u,f){return Fn(this,g.attr,u,f,arguments.length>1)},removeAttr:function(u){return this.each(function(){g.removeAttr(this,u)})}}),g.extend({attr:function(u,f,m){var _,E,w=u.nodeType;if(!(w===3||w===8||w===2)){if(typeof u.getAttribute>"u")return g.prop(u,f,m);if((w!==1||!g.isXMLDoc(u))&&(E=g.attrHooks[f.toLowerCase()]||(g.expr.match.bool.test(f)?aO:void 0)),m!==void 0){if(m===null){g.removeAttr(u,f);return}return E&&"set"in E&&(_=E.set(u,m,f))!==void 0?_:(u.setAttribute(f,m+""),m)}return E&&"get"in E&&(_=E.get(u,f))!==null?_:(_=g.find.attr(u,f),_??void 0)}},attrHooks:{type:{set:function(u,f){if(!b.radioValue&&f==="radio"&&Ce(u,"input")){var m=u.value;return u.setAttribute("type",f),m&&(u.value=m),f}}}},removeAttr:function(u,f){var m,_=0,E=f&&f.match(Yn);if(E&&u.nodeType===1)for(;m=E[_++];)u.removeAttribute(m)}}),aO={set:function(u,f,m){return f===!1?g.removeAttr(u,m):u.setAttribute(m,m),m}},g.each(g.expr.match.bool.source.match(/\w+/g),function(u,f){var m=lf[f]||g.find.attr;lf[f]=function(_,E,w){var S,j,L=E.toLowerCase();return w||(j=lf[L],lf[L]=S,S=m(_,E,w)!=null?L:null,lf[L]=j),S}});var Vce=/^(?:input|select|textarea|button)$/i,Hce=/^(?:a|area)$/i;g.fn.extend({prop:function(u,f){return Fn(this,g.prop,u,f,arguments.length>1)},removeProp:function(u){return this.each(function(){delete this[g.propFix[u]||u]})}}),g.extend({prop:function(u,f,m){var _,E,w=u.nodeType;if(!(w===3||w===8||w===2))return(w!==1||!g.isXMLDoc(u))&&(f=g.propFix[f]||f,E=g.propHooks[f]),m!==void 0?E&&"set"in E&&(_=E.set(u,m,f))!==void 0?_:u[f]=m:E&&"get"in E&&(_=E.get(u,f))!==null?_:u[f]},propHooks:{tabIndex:{get:function(u){var f=g.find.attr(u,"tabindex");return f?parseInt(f,10):Vce.test(u.nodeName)||Hce.test(u.nodeName)&&u.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),b.optSelected||(g.propHooks.selected={get:function(u){var f=u.parentNode;return f&&f.parentNode&&f.parentNode.selectedIndex,null},set:function(u){var f=u.parentNode;f&&(f.selectedIndex,f.parentNode&&f.parentNode.selectedIndex)}}),g.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){g.propFix[this.toLowerCase()]=this});function gc(u){var f=u.match(Yn)||[];return f.join(" ")}function yc(u){return u.getAttribute&&u.getAttribute("class")||""}function cw(u){return Array.isArray(u)?u:typeof u=="string"?u.match(Yn)||[]:[]}g.fn.extend({addClass:function(u){var f,m,_,E,w,S;return v(u)?this.each(function(j){g(this).addClass(u.call(this,j,yc(this)))}):(f=cw(u),f.length?this.each(function(){if(_=yc(this),m=this.nodeType===1&&" "+gc(_)+" ",m){for(w=0;w<f.length;w++)E=f[w],m.indexOf(" "+E+" ")<0&&(m+=E+" ");S=gc(m),_!==S&&this.setAttribute("class",S)}}):this)},removeClass:function(u){var f,m,_,E,w,S;return v(u)?this.each(function(j){g(this).removeClass(u.call(this,j,yc(this)))}):arguments.length?(f=cw(u),f.length?this.each(function(){if(_=yc(this),m=this.nodeType===1&&" "+gc(_)+" ",m){for(w=0;w<f.length;w++)for(E=f[w];m.indexOf(" "+E+" ")>-1;)m=m.replace(" "+E+" "," ");S=gc(m),_!==S&&this.setAttribute("class",S)}}):this):this.attr("class","")},toggleClass:function(u,f){var m,_,E,w,S=typeof u,j=S==="string"||Array.isArray(u);return v(u)?this.each(function(L){g(this).toggleClass(u.call(this,L,yc(this),f),f)}):typeof f=="boolean"&&j?f?this.addClass(u):this.removeClass(u):(m=cw(u),this.each(function(){if(j)for(w=g(this),E=0;E<m.length;E++)_=m[E],w.hasClass(_)?w.removeClass(_):w.addClass(_);else(u===void 0||S==="boolean")&&(_=yc(this),_&&O.set(this,"__className__",_),this.setAttribute&&this.setAttribute("class",_||u===!1?"":O.get(this,"__className__")||""))}))},hasClass:function(u){var f,m,_=0;for(f=" "+u+" ";m=this[_++];)if(m.nodeType===1&&(" "+gc(yc(m))+" ").indexOf(f)>-1)return!0;return!1}});var zce=/\r/g;g.fn.extend({val:function(u){var f,m,_,E=this[0];return arguments.length?(_=v(u),this.each(function(w){var S;this.nodeType===1&&(_?S=u.call(this,w,g(this).val()):S=u,S==null?S="":typeof S=="number"?S+="":Array.isArray(S)&&(S=g.map(S,function(j){return j==null?"":j+""})),f=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()],(!f||!("set"in f)||f.set(this,S,"value")===void 0)&&(this.value=S))})):E?(f=g.valHooks[E.type]||g.valHooks[E.nodeName.toLowerCase()],f&&"get"in f&&(m=f.get(E,"value"))!==void 0?m:(m=E.value,typeof m=="string"?m.replace(zce,""):m??"")):void 0}}),g.extend({valHooks:{option:{get:function(u){var f=g.find.attr(u,"value");return f??gc(g.text(u))}},select:{get:function(u){var f,m,_,E=u.options,w=u.selectedIndex,S=u.type==="select-one",j=S?null:[],L=S?w+1:E.length;for(w<0?_=L:_=S?w:0;_<L;_++)if(m=E[_],(m.selected||_===w)&&!m.disabled&&(!m.parentNode.disabled||!Ce(m.parentNode,"optgroup"))){if(f=g(m).val(),S)return f;j.push(f)}return j},set:function(u,f){for(var m,_,E=u.options,w=g.makeArray(f),S=E.length;S--;)_=E[S],(_.selected=g.inArray(g.valHooks.option.get(_),w)>-1)&&(m=!0);return m||(u.selectedIndex=-1),w}}}}),g.each(["radio","checkbox"],function(){g.valHooks[this]={set:function(u,f){if(Array.isArray(f))return u.checked=g.inArray(g(u).val(),f)>-1}},b.checkOn||(g.valHooks[this].get=function(u){return u.getAttribute("value")===null?"on":u.value})});var uf=n.location,cO={guid:Date.now()},lw=/\?/;g.parseXML=function(u){var f,m;if(!u||typeof u!="string")return null;try{f=new n.DOMParser().parseFromString(u,"text/xml")}catch{}return m=f&&f.getElementsByTagName("parsererror")[0],(!f||m)&&g.error("Invalid XML: "+(m?g.map(m.childNodes,function(_){return _.textContent}).join(`
`):u)),f};var lO=/^(?:focusinfocus|focusoutblur)$/,uO=function(u){u.stopPropagation()};g.extend(g.event,{trigger:function(u,f,m,_){var E,w,S,j,L,W,ie,le,Z=[m||N],ve=d.call(u,"type")?u.type:u,ct=d.call(u,"namespace")?u.namespace.split("."):[];if(w=le=S=m=m||N,!(m.nodeType===3||m.nodeType===8)&&!lO.test(ve+g.event.triggered)&&(ve.indexOf(".")>-1&&(ct=ve.split("."),ve=ct.shift(),ct.sort()),L=ve.indexOf(":")<0&&"on"+ve,u=u[g.expando]?u:new g.Event(ve,typeof u=="object"&&u),u.isTrigger=_?2:3,u.namespace=ct.join("."),u.rnamespace=u.namespace?new RegExp("(^|\\.)"+ct.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,u.result=void 0,u.target||(u.target=m),f=f==null?[u]:g.makeArray(f,[u]),ie=g.event.special[ve]||{},!(!_&&ie.trigger&&ie.trigger.apply(m,f)===!1))){if(!_&&!ie.noBubble&&!x(m)){for(j=ie.delegateType||ve,lO.test(j+ve)||(w=w.parentNode);w;w=w.parentNode)Z.push(w),S=w;S===(m.ownerDocument||N)&&Z.push(S.defaultView||S.parentWindow||n)}for(E=0;(w=Z[E++])&&!u.isPropagationStopped();)le=w,u.type=E>1?j:ie.bindType||ve,W=(O.get(w,"events")||Object.create(null))[u.type]&&O.get(w,"handle"),W&&W.apply(w,f),W=L&&w[L],W&&W.apply&&fr(w)&&(u.result=W.apply(w,f),u.result===!1&&u.preventDefault());return u.type=ve,!_&&!u.isDefaultPrevented()&&(!ie._default||ie._default.apply(Z.pop(),f)===!1)&&fr(m)&&L&&v(m[ve])&&!x(m)&&(S=m[L],S&&(m[L]=null),g.event.triggered=ve,u.isPropagationStopped()&&le.addEventListener(ve,uO),m[ve](),u.isPropagationStopped()&&le.removeEventListener(ve,uO),g.event.triggered=void 0,S&&(m[L]=S)),u.result}},simulate:function(u,f,m){var _=g.extend(new g.Event,m,{type:u,isSimulated:!0});g.event.trigger(_,null,f)}}),g.fn.extend({trigger:function(u,f){return this.each(function(){g.event.trigger(u,f,this)})},triggerHandler:function(u,f){var m=this[0];if(m)return g.event.trigger(u,f,m,!0)}});var Wce=/\[\]$/,dO=/\r?\n/g,Gce=/^(?:submit|button|image|reset|file)$/i,Qce=/^(?:input|select|textarea|keygen)/i;function uw(u,f,m,_){var E;if(Array.isArray(f))g.each(f,function(w,S){m||Wce.test(u)?_(u,S):uw(u+"["+(typeof S=="object"&&S!=null?w:"")+"]",S,m,_)});else if(!m&&X(f)==="object")for(E in f)uw(u+"["+E+"]",f[E],m,_);else _(u,f)}g.param=function(u,f){var m,_=[],E=function(w,S){var j=v(S)?S():S;_[_.length]=encodeURIComponent(w)+"="+encodeURIComponent(j??"")};if(u==null)return"";if(Array.isArray(u)||u.jquery&&!g.isPlainObject(u))g.each(u,function(){E(this.name,this.value)});else for(m in u)uw(m,u[m],f,E);return _.join("&")},g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var u=g.prop(this,"elements");return u?g.makeArray(u):this}).filter(function(){var u=this.type;return this.name&&!g(this).is(":disabled")&&Qce.test(this.nodeName)&&!Gce.test(u)&&(this.checked||!Ee.test(u))}).map(function(u,f){var m=g(this).val();return m==null?null:Array.isArray(m)?g.map(m,function(_){return{name:f.name,value:_.replace(dO,`\r
`)}}):{name:f.name,value:m.replace(dO,`\r
`)}}).get()}});var Kce=/%20/g,Jce=/#.*$/,Yce=/([?&])_=[^&]*/,Zce=/^(.*?):[ \t]*([^\r\n]*)$/mg,Xce=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ele=/^(?:GET|HEAD)$/,tle=/^\/\//,fO={},dw={},hO="*/".concat("*"),fw=N.createElement("a");fw.href=uf.href;function pO(u){return function(f,m){typeof f!="string"&&(m=f,f="*");var _,E=0,w=f.toLowerCase().match(Yn)||[];if(v(m))for(;_=w[E++];)_[0]==="+"?(_=_.slice(1)||"*",(u[_]=u[_]||[]).unshift(m)):(u[_]=u[_]||[]).push(m)}}function mO(u,f,m,_){var E={},w=u===dw;function S(j){var L;return E[j]=!0,g.each(u[j]||[],function(W,ie){var le=ie(f,m,_);if(typeof le=="string"&&!w&&!E[le])return f.dataTypes.unshift(le),S(le),!1;if(w)return!(L=le)}),L}return S(f.dataTypes[0])||!E["*"]&&S("*")}function hw(u,f){var m,_,E=g.ajaxSettings.flatOptions||{};for(m in f)f[m]!==void 0&&((E[m]?u:_||(_={}))[m]=f[m]);return _&&g.extend(!0,u,_),u}function nle(u,f,m){for(var _,E,w,S,j=u.contents,L=u.dataTypes;L[0]==="*";)L.shift(),_===void 0&&(_=u.mimeType||f.getResponseHeader("Content-Type"));if(_){for(E in j)if(j[E]&&j[E].test(_)){L.unshift(E);break}}if(L[0]in m)w=L[0];else{for(E in m){if(!L[0]||u.converters[E+" "+L[0]]){w=E;break}S||(S=E)}w=w||S}if(w)return w!==L[0]&&L.unshift(w),m[w]}function rle(u,f,m,_){var E,w,S,j,L,W={},ie=u.dataTypes.slice();if(ie[1])for(S in u.converters)W[S.toLowerCase()]=u.converters[S];for(w=ie.shift();w;)if(u.responseFields[w]&&(m[u.responseFields[w]]=f),!L&&_&&u.dataFilter&&(f=u.dataFilter(f,u.dataType)),L=w,w=ie.shift(),w){if(w==="*")w=L;else if(L!=="*"&&L!==w){if(S=W[L+" "+w]||W["* "+w],!S){for(E in W)if(j=E.split(" "),j[1]===w&&(S=W[L+" "+j[0]]||W["* "+j[0]],S)){S===!0?S=W[E]:W[E]!==!0&&(w=j[0],ie.unshift(j[1]));break}}if(S!==!0)if(S&&u.throws)f=S(f);else try{f=S(f)}catch(le){return{state:"parsererror",error:S?le:"No conversion from "+L+" to "+w}}}}return{state:"success",data:f}}g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:uf.href,type:"GET",isLocal:Xce.test(uf.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":hO,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":g.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(u,f){return f?hw(hw(u,g.ajaxSettings),f):hw(g.ajaxSettings,u)},ajaxPrefilter:pO(fO),ajaxTransport:pO(dw),ajax:function(u,f){typeof u=="object"&&(f=u,u=void 0),f=f||{};var m,_,E,w,S,j,L,W,ie,le,Z=g.ajaxSetup({},f),ve=Z.context||Z,ct=Z.context&&(ve.nodeType||ve.jquery)?g(ve):g.event,jt=g.Deferred(),Ct=g.Callbacks("once memory"),wr=Z.statusCode||{},tr={},Hs={},zs="canceled",Ft={readyState:0,getResponseHeader:function(Vt){var In;if(L){if(!w)for(w={};In=Zce.exec(E);)w[In[1].toLowerCase()+" "]=(w[In[1].toLowerCase()+" "]||[]).concat(In[2]);In=w[Vt.toLowerCase()+" "]}return In==null?null:In.join(", ")},getAllResponseHeaders:function(){return L?E:null},setRequestHeader:function(Vt,In){return L==null&&(Vt=Hs[Vt.toLowerCase()]=Hs[Vt.toLowerCase()]||Vt,tr[Vt]=In),this},overrideMimeType:function(Vt){return L==null&&(Z.mimeType=Vt),this},statusCode:function(Vt){var In;if(Vt)if(L)Ft.always(Vt[Ft.status]);else for(In in Vt)wr[In]=[wr[In],Vt[In]];return this},abort:function(Vt){var In=Vt||zs;return m&&m.abort(In),bc(0,In),this}};if(jt.promise(Ft),Z.url=((u||Z.url||uf.href)+"").replace(tle,uf.protocol+"//"),Z.type=f.method||f.type||Z.method||Z.type,Z.dataTypes=(Z.dataType||"*").toLowerCase().match(Yn)||[""],Z.crossDomain==null){j=N.createElement("a");try{j.href=Z.url,j.href=j.href,Z.crossDomain=fw.protocol+"//"+fw.host!=j.protocol+"//"+j.host}catch{Z.crossDomain=!0}}if(Z.data&&Z.processData&&typeof Z.data!="string"&&(Z.data=g.param(Z.data,Z.traditional)),mO(fO,Z,f,Ft),L)return Ft;W=g.event&&Z.global,W&&g.active++===0&&g.event.trigger("ajaxStart"),Z.type=Z.type.toUpperCase(),Z.hasContent=!ele.test(Z.type),_=Z.url.replace(Jce,""),Z.hasContent?Z.data&&Z.processData&&(Z.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Z.data=Z.data.replace(Kce,"+")):(le=Z.url.slice(_.length),Z.data&&(Z.processData||typeof Z.data=="string")&&(_+=(lw.test(_)?"&":"?")+Z.data,delete Z.data),Z.cache===!1&&(_=_.replace(Yce,"$1"),le=(lw.test(_)?"&":"?")+"_="+cO.guid+++le),Z.url=_+le),Z.ifModified&&(g.lastModified[_]&&Ft.setRequestHeader("If-Modified-Since",g.lastModified[_]),g.etag[_]&&Ft.setRequestHeader("If-None-Match",g.etag[_])),(Z.data&&Z.hasContent&&Z.contentType!==!1||f.contentType)&&Ft.setRequestHeader("Content-Type",Z.contentType),Ft.setRequestHeader("Accept",Z.dataTypes[0]&&Z.accepts[Z.dataTypes[0]]?Z.accepts[Z.dataTypes[0]]+(Z.dataTypes[0]!=="*"?", "+hO+"; q=0.01":""):Z.accepts["*"]);for(ie in Z.headers)Ft.setRequestHeader(ie,Z.headers[ie]);if(Z.beforeSend&&(Z.beforeSend.call(ve,Ft,Z)===!1||L))return Ft.abort();if(zs="abort",Ct.add(Z.complete),Ft.done(Z.success),Ft.fail(Z.error),m=mO(dw,Z,f,Ft),!m)bc(-1,"No Transport");else{if(Ft.readyState=1,W&&ct.trigger("ajaxSend",[Ft,Z]),L)return Ft;Z.async&&Z.timeout>0&&(S=n.setTimeout(function(){Ft.abort("timeout")},Z.timeout));try{L=!1,m.send(tr,bc)}catch(Vt){if(L)throw Vt;bc(-1,Vt)}}function bc(Vt,In,ff,mw){var Ws,hf,Gs,ma,ga,es=In;L||(L=!0,S&&n.clearTimeout(S),m=void 0,E=mw||"",Ft.readyState=Vt>0?4:0,Ws=Vt>=200&&Vt<300||Vt===304,ff&&(ma=nle(Z,Ft,ff)),!Ws&&g.inArray("script",Z.dataTypes)>-1&&g.inArray("json",Z.dataTypes)<0&&(Z.converters["text script"]=function(){}),ma=rle(Z,ma,Ft,Ws),Ws?(Z.ifModified&&(ga=Ft.getResponseHeader("Last-Modified"),ga&&(g.lastModified[_]=ga),ga=Ft.getResponseHeader("etag"),ga&&(g.etag[_]=ga)),Vt===204||Z.type==="HEAD"?es="nocontent":Vt===304?es="notmodified":(es=ma.state,hf=ma.data,Gs=ma.error,Ws=!Gs)):(Gs=es,(Vt||!es)&&(es="error",Vt<0&&(Vt=0))),Ft.status=Vt,Ft.statusText=(In||es)+"",Ws?jt.resolveWith(ve,[hf,es,Ft]):jt.rejectWith(ve,[Ft,es,Gs]),Ft.statusCode(wr),wr=void 0,W&&ct.trigger(Ws?"ajaxSuccess":"ajaxError",[Ft,Z,Ws?hf:Gs]),Ct.fireWith(ve,[Ft,es]),W&&(ct.trigger("ajaxComplete",[Ft,Z]),--g.active||g.event.trigger("ajaxStop")))}return Ft},getJSON:function(u,f,m){return g.get(u,f,m,"json")},getScript:function(u,f){return g.get(u,void 0,f,"script")}}),g.each(["get","post"],function(u,f){g[f]=function(m,_,E,w){return v(_)&&(w=w||E,E=_,_=void 0),g.ajax(g.extend({url:m,type:f,dataType:w,data:_,success:E},g.isPlainObject(m)&&m))}}),g.ajaxPrefilter(function(u){var f;for(f in u.headers)f.toLowerCase()==="content-type"&&(u.contentType=u.headers[f]||"")}),g._evalUrl=function(u,f,m){return g.ajax({url:u,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(_){g.globalEval(_,f,m)}})},g.fn.extend({wrapAll:function(u){var f;return this[0]&&(v(u)&&(u=u.call(this[0])),f=g(u,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&f.insertBefore(this[0]),f.map(function(){for(var m=this;m.firstElementChild;)m=m.firstElementChild;return m}).append(this)),this},wrapInner:function(u){return v(u)?this.each(function(f){g(this).wrapInner(u.call(this,f))}):this.each(function(){var f=g(this),m=f.contents();m.length?m.wrapAll(u):f.append(u)})},wrap:function(u){var f=v(u);return this.each(function(m){g(this).wrapAll(f?u.call(this,m):u)})},unwrap:function(u){return this.parent(u).not("body").each(function(){g(this).replaceWith(this.childNodes)}),this}}),g.expr.pseudos.hidden=function(u){return!g.expr.pseudos.visible(u)},g.expr.pseudos.visible=function(u){return!!(u.offsetWidth||u.offsetHeight||u.getClientRects().length)},g.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch{}};var ile={0:200,1223:204},df=g.ajaxSettings.xhr();b.cors=!!df&&"withCredentials"in df,b.ajax=df=!!df,g.ajaxTransport(function(u){var f,m;if(b.cors||df&&!u.crossDomain)return{send:function(_,E){var w,S=u.xhr();if(S.open(u.type,u.url,u.async,u.username,u.password),u.xhrFields)for(w in u.xhrFields)S[w]=u.xhrFields[w];u.mimeType&&S.overrideMimeType&&S.overrideMimeType(u.mimeType),!u.crossDomain&&!_["X-Requested-With"]&&(_["X-Requested-With"]="XMLHttpRequest");for(w in _)S.setRequestHeader(w,_[w]);f=function(j){return function(){f&&(f=m=S.onload=S.onerror=S.onabort=S.ontimeout=S.onreadystatechange=null,j==="abort"?S.abort():j==="error"?typeof S.status!="number"?E(0,"error"):E(S.status,S.statusText):E(ile[S.status]||S.status,S.statusText,(S.responseType||"text")!=="text"||typeof S.responseText!="string"?{binary:S.response}:{text:S.responseText},S.getAllResponseHeaders()))}},S.onload=f(),m=S.onerror=S.ontimeout=f("error"),S.onabort!==void 0?S.onabort=m:S.onreadystatechange=function(){S.readyState===4&&n.setTimeout(function(){f&&m()})},f=f("abort");try{S.send(u.hasContent&&u.data||null)}catch(j){if(f)throw j}},abort:function(){f&&f()}}}),g.ajaxPrefilter(function(u){u.crossDomain&&(u.contents.script=!1)}),g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(u){return g.globalEval(u),u}}}),g.ajaxPrefilter("script",function(u){u.cache===void 0&&(u.cache=!1),u.crossDomain&&(u.type="GET")}),g.ajaxTransport("script",function(u){if(u.crossDomain||u.scriptAttrs){var f,m;return{send:function(_,E){f=g("<script>").attr(u.scriptAttrs||{}).prop({charset:u.scriptCharset,src:u.url}).on("load error",m=function(w){f.remove(),m=null,w&&E(w.type==="error"?404:200,w.type)}),N.head.appendChild(f[0])},abort:function(){m&&m()}}}});var gO=[],pw=/(=)\?(?=&|$)|\?\?/;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var u=gO.pop()||g.expando+"_"+cO.guid++;return this[u]=!0,u}}),g.ajaxPrefilter("json jsonp",function(u,f,m){var _,E,w,S=u.jsonp!==!1&&(pw.test(u.url)?"url":typeof u.data=="string"&&(u.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&pw.test(u.data)&&"data");if(S||u.dataTypes[0]==="jsonp")return _=u.jsonpCallback=v(u.jsonpCallback)?u.jsonpCallback():u.jsonpCallback,S?u[S]=u[S].replace(pw,"$1"+_):u.jsonp!==!1&&(u.url+=(lw.test(u.url)?"&":"?")+u.jsonp+"="+_),u.converters["script json"]=function(){return w||g.error(_+" was not called"),w[0]},u.dataTypes[0]="json",E=n[_],n[_]=function(){w=arguments},m.always(function(){E===void 0?g(n).removeProp(_):n[_]=E,u[_]&&(u.jsonpCallback=f.jsonpCallback,gO.push(_)),w&&v(E)&&E(w[0]),w=E=void 0}),"script"}),b.createHTMLDocument=(function(){var u=N.implementation.createHTMLDocument("").body;return u.innerHTML="<form></form><form></form>",u.childNodes.length===2})(),g.parseHTML=function(u,f,m){if(typeof u!="string")return[];typeof f=="boolean"&&(m=f,f=!1);var _,E,w;return f||(b.createHTMLDocument?(f=N.implementation.createHTMLDocument(""),_=f.createElement("base"),_.href=N.location.href,f.head.appendChild(_)):f=N),E=Vn.exec(u),w=!m&&[],E?[f.createElement(E[1])]:(E=Rr([u],f,w),w&&w.length&&g(w).remove(),g.merge([],E.childNodes))},g.fn.load=function(u,f,m){var _,E,w,S=this,j=u.indexOf(" ");return j>-1&&(_=gc(u.slice(j)),u=u.slice(0,j)),v(f)?(m=f,f=void 0):f&&typeof f=="object"&&(E="POST"),S.length>0&&g.ajax({url:u,type:E||"GET",dataType:"html",data:f}).done(function(L){w=arguments,S.html(_?g("<div>").append(g.parseHTML(L)).find(_):L)}).always(m&&function(L,W){S.each(function(){m.apply(this,w||[L.responseText,W,L])})}),this},g.expr.pseudos.animated=function(u){return g.grep(g.timers,function(f){return u===f.elem}).length},g.offset={setOffset:function(u,f,m){var _,E,w,S,j,L,W,ie=g.css(u,"position"),le=g(u),Z={};ie==="static"&&(u.style.position="relative"),j=le.offset(),w=g.css(u,"top"),L=g.css(u,"left"),W=(ie==="absolute"||ie==="fixed")&&(w+L).indexOf("auto")>-1,W?(_=le.position(),S=_.top,E=_.left):(S=parseFloat(w)||0,E=parseFloat(L)||0),v(f)&&(f=f.call(u,m,g.extend({},j))),f.top!=null&&(Z.top=f.top-j.top+S),f.left!=null&&(Z.left=f.left-j.left+E),"using"in f?f.using.call(u,Z):le.css(Z)}},g.fn.extend({offset:function(u){if(arguments.length)return u===void 0?this:this.each(function(E){g.offset.setOffset(this,u,E)});var f,m,_=this[0];if(_)return _.getClientRects().length?(f=_.getBoundingClientRect(),m=_.ownerDocument.defaultView,{top:f.top+m.pageYOffset,left:f.left+m.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var u,f,m,_=this[0],E={top:0,left:0};if(g.css(_,"position")==="fixed")f=_.getBoundingClientRect();else{for(f=this.offset(),m=_.ownerDocument,u=_.offsetParent||m.documentElement;u&&(u===m.body||u===m.documentElement)&&g.css(u,"position")==="static";)u=u.parentNode;u&&u!==_&&u.nodeType===1&&(E=g(u).offset(),E.top+=g.css(u,"borderTopWidth",!0),E.left+=g.css(u,"borderLeftWidth",!0))}return{top:f.top-E.top-g.css(_,"marginTop",!0),left:f.left-E.left-g.css(_,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var u=this.offsetParent;u&&g.css(u,"position")==="static";)u=u.offsetParent;return u||B})}}),g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(u,f){var m=f==="pageYOffset";g.fn[u]=function(_){return Fn(this,function(E,w,S){var j;if(x(E)?j=E:E.nodeType===9&&(j=E.defaultView),S===void 0)return j?j[f]:E[w];j?j.scrollTo(m?j.pageXOffset:S,m?S:j.pageYOffset):E[w]=S},u,_,arguments.length)}}),g.each(["top","left"],function(u,f){g.cssHooks[f]=Cm(b.pixelPosition,function(m,_){if(_)return _=pc(m,f),li.test(_)?g(m).position()[f]+"px":_})}),g.each({Height:"height",Width:"width"},function(u,f){g.each({padding:"inner"+u,content:f,"":"outer"+u},function(m,_){g.fn[_]=function(E,w){var S=arguments.length&&(m||typeof E!="boolean"),j=m||(E===!0||w===!0?"margin":"border");return Fn(this,function(L,W,ie){var le;return x(L)?_.indexOf("outer")===0?L["inner"+u]:L.document.documentElement["client"+u]:L.nodeType===9?(le=L.documentElement,Math.max(L.body["scroll"+u],le["scroll"+u],L.body["offset"+u],le["offset"+u],le["client"+u])):ie===void 0?g.css(L,W,j):g.style(L,W,ie,j)},f,S?E:void 0,S)}})}),g.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(u,f){g.fn[f]=function(m){return this.on(f,m)}}),g.fn.extend({bind:function(u,f,m){return this.on(u,null,f,m)},unbind:function(u,f){return this.off(u,null,f)},delegate:function(u,f,m,_){return this.on(f,u,m,_)},undelegate:function(u,f,m){return arguments.length===1?this.off(u,"**"):this.off(f,u||"**",m)},hover:function(u,f){return this.on("mouseenter",u).on("mouseleave",f||u)}}),g.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(u,f){g.fn[f]=function(m,_){return arguments.length>0?this.on(f,null,m,_):this.trigger(f)}});var sle=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;g.proxy=function(u,f){var m,_,E;if(typeof f=="string"&&(m=u[f],f=u,u=m),!!v(u))return _=i.call(arguments,2),E=function(){return u.apply(f||this,_.concat(i.call(arguments)))},E.guid=u.guid=u.guid||g.guid++,E},g.holdReady=function(u){u?g.readyWait++:g.ready(!0)},g.isArray=Array.isArray,g.parseJSON=JSON.parse,g.nodeName=Ce,g.isFunction=v,g.isWindow=x,g.camelCase=an,g.type=X,g.now=Date.now,g.isNumeric=function(u){var f=g.type(u);return(f==="number"||f==="string")&&!isNaN(u-parseFloat(u))},g.trim=function(u){return u==null?"":(u+"").replace(sle,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return g});var ole=n.jQuery,ale=n.$;return g.noConflict=function(u){return n.$===g&&(n.$=ale),u&&n.jQuery===g&&(n.jQuery=ole),g},typeof e>"u"&&(n.jQuery=n.$=g),g})});var Dee=y((Cee,RN)=>{(function(n){"use strict";if(typeof bootstrap=="function")bootstrap("promise",n);else if(typeof Cee=="object"&&typeof RN=="object")RN.exports=n();else if(typeof define=="function"&&define.amd)define(n);else if(typeof ses<"u")if(ses.ok())ses.makeQ=n;else return;else if(typeof window<"u"||typeof self<"u"){var e=typeof window<"u"?window:self,t=e.Q;e.Q=n(),e.Q.noConflict=function(){return e.Q=t,this}}else throw new Error("This environment was not anticipated by Q. Please file a bug.")})(function(){"use strict";var n=!1;try{throw new Error}catch(C){n=!!C.stack}var e=qe(),t,r=function(){},i=(function(){var C={task:void 0,next:null},D=C,F=!1,A=void 0,T=!1,B=[];function $(){for(var we,oe;C.next;)C=C.next,we=C.task,C.task=void 0,oe=C.domain,oe&&(C.domain=void 0,oe.enter()),ue(we,oe);for(;B.length;)we=B.pop(),ue(we);F=!1}function ue(we,oe){try{we()}catch(ye){if(T)throw oe&&oe.exit(),setTimeout($,0),oe&&oe.enter(),ye;setTimeout(function(){throw ye},0)}oe&&oe.exit()}if(i=function(we){D=D.next={task:we,domain:T&&process.domain,next:null},F||(F=!0,A())},typeof process=="object"&&process.toString()==="[object process]"&&process.nextTick)T=!0,A=function(){process.nextTick($)};else if(typeof setImmediate=="function")typeof window<"u"?A=setImmediate.bind(window,$):A=function(){setImmediate($)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel;ge.port1.onmessage=function(){A=Se,ge.port1.onmessage=$,$()};var Se=function(){ge.port2.postMessage(0)};A=function(){setTimeout($,0),Se()}}else A=function(){setTimeout($,0)};return i.runAfter=function(we){B.push(we),F||(F=!0,A())},i})(),s=Function.call;function o(C){return function(){return s.apply(C,arguments)}}var a=o(Array.prototype.slice),c=o(Array.prototype.reduce||function(C,D){var F=0,A=this.length;if(arguments.length===1)do{if(F in this){D=this[F++];break}if(++F>=A)throw new TypeError}while(!0);for(;F<A;F++)F in this&&(D=C(D,this[F],F));return D}),l=o(Array.prototype.indexOf||function(C){for(var D=0;D<this.length;D++)if(this[D]===C)return D;return-1}),d=o(Array.prototype.map||function(C,D){var F=this,A=[];return c(F,function(T,B,$){A.push(C.call(D,B,$,F))},void 0),A}),h=Object.create||function(C){function D(){}return D.prototype=C,new D},p=Object.defineProperty||function(C,D,F){return C[D]=F.value,C},b=o(Object.prototype.hasOwnProperty),v=Object.keys||function(C){var D=[];for(var F in C)b(C,F)&&D.push(F);return D},x=o(Object.prototype.toString);function N(C){return C===Object(C)}function k(C){return x(C)==="[object StopIteration]"||C instanceof ee}var ee;typeof ReturnValue<"u"?ee=ReturnValue:ee=function(C){this.value=C};var X="From previous event:";function ne(C,D){if(n&&D.stack&&typeof C=="object"&&C!==null&&C.stack){for(var F=[],A=D;A;A=A.source)A.stack&&(!C.__minimumStackCounter__||C.__minimumStackCounter__>A.stackCounter)&&(p(C,"__minimumStackCounter__",{value:A.stackCounter,configurable:!0}),F.unshift(A.stack));F.unshift(C.stack);var T=F.join(`
`+X+`
`),B=de(T);p(C,"stack",{value:B,configurable:!0})}}function de(C){for(var D=C.split(`
`),F=[],A=0;A<D.length;++A){var T=D[A];!Ce(T)&&!g(T)&&T&&F.push(T)}return F.join(`
`)}function g(C){return C.indexOf("(module.js:")!==-1||C.indexOf("(node.js:")!==-1}function xe(C){var D=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(C);if(D)return[D[1],Number(D[2])];var F=/at ([^ ]+):(\d+):(?:\d+)$/.exec(C);if(F)return[F[1],Number(F[2])];var A=/.*@(.+):(\d+)$/.exec(C);if(A)return[A[1],Number(A[2])]}function Ce(C){var D=xe(C);if(!D)return!1;var F=D[0],A=D[1];return F===t&&A>=e&&A<=Y}function qe(){if(n)try{throw new Error}catch(A){var C=A.stack.split(`
`),D=C[0].indexOf("@")>0?C[1]:C[2],F=xe(D);return F?(t=F[0],F[1]):void 0}}function H(C,D,F){return function(){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(D+" is deprecated, use "+F+" instead.",new Error("").stack),C.apply(C,arguments)}}function I(C){return C instanceof ae?C:Mr(C)?$t(C):Nn(C)}I.resolve=I,I.nextTick=i,I.longStackSupport=!1;var re=1;typeof process=="object"&&process&&process.env&&process.env.Q_DEBUG&&(I.longStackSupport=!0),I.defer=pe;function pe(){var C=[],D=[],F,A=h(pe.prototype),T=h(ae.prototype);if(T.promiseDispatch=function($,ue,ge){var Se=a(arguments);C?(C.push(Se),ue==="when"&&ge[1]&&D.push(ge[1])):I.nextTick(function(){F.promiseDispatch.apply(F,Se)})},T.valueOf=function(){if(C)return T;var $=kt(F);return en($)&&(F=$),$},T.inspect=function(){return F?F.inspect():{state:"pending"}},I.longStackSupport&&n)try{throw new Error}catch($){T.stack=$.stack.substring($.stack.indexOf(`
`)+1),T.stackCounter=re++}function B($){F=$,I.longStackSupport&&n&&(T.source=$),c(C,function(ue,ge){I.nextTick(function(){$.promiseDispatch.apply($,ge)})},void 0),C=void 0,D=void 0}return A.promise=T,A.resolve=function($){F||B(I($))},A.fulfill=function($){F||B(Nn($))},A.reject=function($){F||B(wn($))},A.notify=function($){F||c(D,function(ue,ge){I.nextTick(function(){ge($)})},void 0)},A}pe.prototype.makeNodeResolver=function(){var C=this;return function(D,F){D?C.reject(D):arguments.length>2?C.resolve(a(arguments,1)):C.resolve(F)}},I.Promise=fe,I.promise=fe;function fe(C){if(typeof C!="function")throw new TypeError("resolver must be a function.");var D=pe();try{C(D.resolve,D.reject,D.notify)}catch(F){D.reject(F)}return D.promise}fe.race=Ge,fe.all=an,fe.reject=wn,fe.resolve=I,I.passByCopy=function(C){return C},ae.prototype.passByCopy=function(){return this},I.join=function(C,D){return I(C).join(D)},ae.prototype.join=function(C){return I([this,C]).spread(function(D,F){if(D===F)return D;throw new Error("Q can't join: not the same: "+D+" "+F)})},I.race=Ge;function Ge(C){return fe(function(D,F){for(var A=0,T=C.length;A<T;A++)I(C[A]).then(D,F)})}ae.prototype.race=function(){return this.then(I.race)},I.makePromise=ae;function ae(C,D,F){D===void 0&&(D=function(B){return wn(new Error("Promise does not support operation: "+B))}),F===void 0&&(F=function(){return{state:"unknown"}});var A=h(ae.prototype);if(A.promiseDispatch=function(B,$,ue){var ge;try{C[$]?ge=C[$].apply(A,ue):ge=D.call(A,$,ue)}catch(Se){ge=wn(Se)}B&&B(ge)},A.inspect=F,F){var T=F();T.state==="rejected"&&(A.exception=T.reason),A.valueOf=function(){var B=F();return B.state==="pending"||B.state==="rejected"?A:B.value}}return A}ae.prototype.toString=function(){return"[object Promise]"},ae.prototype.then=function(C,D,F){var A=this,T=pe(),B=!1;function $(Se){try{return typeof C=="function"?C(Se):Se}catch(we){return wn(we)}}function ue(Se){if(typeof D=="function"){ne(Se,A);try{return D(Se)}catch(we){return wn(we)}}return wn(Se)}function ge(Se){return typeof F=="function"?F(Se):Se}return I.nextTick(function(){A.promiseDispatch(function(Se){B||(B=!0,T.resolve($(Se)))},"when",[function(Se){B||(B=!0,T.resolve(ue(Se)))}])}),A.promiseDispatch(void 0,"when",[void 0,function(Se){var we,oe=!1;try{we=ge(Se)}catch(ye){if(oe=!0,I.onerror)I.onerror(ye);else throw ye}oe||T.notify(we)}]),T.promise},I.tap=function(C,D){return I(C).tap(D)},ae.prototype.tap=function(C){return C=I(C),this.then(function(D){return C.fcall(D).thenResolve(D)})},I.when=dt;function dt(C,D,F,A){return I(C).then(D,F,A)}ae.prototype.thenResolve=function(C){return this.then(function(){return C})},I.thenResolve=function(C,D){return I(C).thenResolve(D)},ae.prototype.thenReject=function(C){return this.then(function(){throw C})},I.thenReject=function(C,D){return I(C).thenReject(D)},I.nearer=kt;function kt(C){if(en(C)){var D=C.inspect();if(D.state==="fulfilled")return D.value}return C}I.isPromise=en;function en(C){return C instanceof ae}I.isPromiseAlike=Mr;function Mr(C){return N(C)&&typeof C.then=="function"}I.isPending=Vn;function Vn(C){return en(C)&&C.inspect().state==="pending"}ae.prototype.isPending=function(){return this.inspect().state==="pending"},I.isFulfilled=Oe;function Oe(C){return!en(C)||C.inspect().state==="fulfilled"}ae.prototype.isFulfilled=function(){return this.inspect().state==="fulfilled"},I.isRejected=Kn;function Kn(C){return en(C)&&C.inspect().state==="rejected"}ae.prototype.isRejected=function(){return this.inspect().state==="rejected"};var Jn=[],Mt=[],Ci=[],vr=!0;function Di(){Jn.length=0,Mt.length=0,vr||(vr=!0)}function Yn(C,D){vr&&(typeof process=="object"&&typeof process.emit=="function"&&I.nextTick.runAfter(function(){l(Mt,C)!==-1&&(process.emit("unhandledRejection",D,C),Ci.push(C))}),Mt.push(C),D&&typeof D.stack<"u"?Jn.push(D.stack):Jn.push("(no stack) "+D))}function ur(C){if(vr){var D=l(Mt,C);D!==-1&&(typeof process=="object"&&typeof process.emit=="function"&&I.nextTick.runAfter(function(){var F=l(Ci,C);F!==-1&&(process.emit("rejectionHandled",Jn[D],C),Ci.splice(F,1))}),Mt.splice(D,1),Jn.splice(D,1))}}I.resetUnhandledRejections=Di,I.getUnhandledReasons=function(){return Jn.slice()},I.stopUnhandledRejectionTracking=function(){Di(),vr=!1},Di(),I.reject=wn;function wn(C){var D=ae({when:function(F){return F&&ur(this),F?F(C):this}},function(){return this},function(){return{state:"rejected",reason:C}});return Yn(D,C),D}I.fulfill=Nn;function Nn(C){return ae({when:function(){return C},get:function(D){return C[D]},set:function(D,F){C[D]=F},delete:function(D){delete C[D]},post:function(D,F){return D==null?C.apply(void 0,F):C[D].apply(C,F)},apply:function(D,F){return C.apply(D,F)},keys:function(){return v(C)}},void 0,function(){return{state:"fulfilled",value:C}})}function $t(C){var D=pe();return I.nextTick(function(){try{C.then(D.resolve,D.reject,D.notify)}catch(F){D.reject(F)}}),D.promise}I.master=Zi;function Zi(C){return ae({isDef:function(){}},function(F,A){return Kt(C,F,A)},function(){return I(C).inspect()})}I.spread=tn;function tn(C,D,F){return I(C).spread(D,F)}ae.prototype.spread=function(C,D){return this.all().then(function(F){return C.apply(void 0,F)},D)},I.async=on;function on(C){return function(){function D(B,$){var ue;if(typeof StopIteration>"u"){try{ue=F[B]($)}catch(ge){return wn(ge)}return ue.done?I(ue.value):dt(ue.value,A,T)}else{try{ue=F[B]($)}catch(ge){return k(ge)?I(ge.value):wn(ge)}return dt(ue,A,T)}}var F=C.apply(this,arguments),A=D.bind(D,"next"),T=D.bind(D,"throw");return A()}}I.spawn=Fn;function Fn(C){I.done(I.async(C)())}I.return=dr;function dr(C){throw new ee(C)}I.promised=Ln;function Ln(C){return function(){return tn([this,an(arguments)],function(D,F){return C.apply(D,F)})}}I.dispatch=Kt;function Kt(C,D,F){return I(C).dispatch(D,F)}ae.prototype.dispatch=function(C,D){var F=this,A=pe();return I.nextTick(function(){F.promiseDispatch(A.resolve,C,D)}),A.promise},I.get=function(C,D){return I(C).dispatch("get",[D])},ae.prototype.get=function(C){return this.dispatch("get",[C])},I.set=function(C,D,F){return I(C).dispatch("set",[D,F])},ae.prototype.set=function(C,D){return this.dispatch("set",[C,D])},I.del=I.delete=function(C,D){return I(C).dispatch("delete",[D])},ae.prototype.del=ae.prototype.delete=function(C){return this.dispatch("delete",[C])},I.mapply=I.post=function(C,D,F){return I(C).dispatch("post",[D,F])},ae.prototype.mapply=ae.prototype.post=function(C,D){return this.dispatch("post",[C,D])},I.send=I.mcall=I.invoke=function(C,D){return I(C).dispatch("post",[D,a(arguments,2)])},ae.prototype.send=ae.prototype.mcall=ae.prototype.invoke=function(C){return this.dispatch("post",[C,a(arguments,1)])},I.fapply=function(C,D){return I(C).dispatch("apply",[void 0,D])},ae.prototype.fapply=function(C){return this.dispatch("apply",[void 0,C])},I.try=I.fcall=function(C){return I(C).dispatch("apply",[void 0,a(arguments,1)])},ae.prototype.fcall=function(){return this.dispatch("apply",[void 0,a(arguments)])},I.fbind=function(C){var D=I(C),F=a(arguments,1);return function(){return D.dispatch("apply",[this,F.concat(a(arguments))])}},ae.prototype.fbind=function(){var C=this,D=a(arguments);return function(){return C.dispatch("apply",[this,D.concat(a(arguments))])}},I.keys=function(C){return I(C).dispatch("keys",[])},ae.prototype.keys=function(){return this.dispatch("keys",[])},I.all=an;function an(C){return dt(C,function(D){var F=0,A=pe();return c(D,function(T,B,$){var ue;en(B)&&(ue=B.inspect()).state==="fulfilled"?D[$]=ue.value:(++F,dt(B,function(ge){D[$]=ge,--F===0&&A.resolve(D)},A.reject,function(ge){A.notify({index:$,value:ge})}))},void 0),F===0&&A.resolve(D),A.promise})}ae.prototype.all=function(){return an(this)},I.any=fr;function fr(C){if(C.length===0)return I.resolve();var D=I.defer(),F=0;return c(C,function(A,T,B){var $=C[B];F++,dt($,ue,ge,Se);function ue(we){D.resolve(we)}function ge(we){if(F--,F===0){var oe=we||new Error(""+we);oe.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+oe.message,D.reject(oe)}}function Se(we){D.notify({index:B,value:we})}},void 0),D.promise}ae.prototype.any=function(){return fr(this)},I.allResolved=H(ai,"allResolved","allSettled");function ai(C){return dt(C,function(D){return D=d(D,I),dt(an(d(D,function(F){return dt(F,r,r)})),function(){return D})})}ae.prototype.allResolved=function(){return ai(this)},I.allSettled=O;function O(C){return I(C).allSettled()}ae.prototype.allSettled=function(){return this.then(function(C){return an(d(C,function(D){D=I(D);function F(){return D.inspect()}return D.then(F,F)}))})},I.fail=I.catch=function(C,D){return I(C).then(void 0,D)},ae.prototype.fail=ae.prototype.catch=function(C){return this.then(void 0,C)},I.progress=R;function R(C,D){return I(C).then(void 0,void 0,D)}ae.prototype.progress=function(C){return this.then(void 0,void 0,C)},I.fin=I.finally=function(C,D){return I(C).finally(D)},ae.prototype.fin=ae.prototype.finally=function(C){if(!C||typeof C.apply!="function")throw new Error("Q can't apply finally callback");return C=I(C),this.then(function(D){return C.fcall().then(function(){return D})},function(D){return C.fcall().then(function(){throw D})})},I.done=function(C,D,F,A){return I(C).done(D,F,A)},ae.prototype.done=function(C,D,F){var A=function(B){I.nextTick(function(){if(ne(B,T),I.onerror)I.onerror(B);else throw B})},T=C||D||F?this.then(C,D,F):this;typeof process=="object"&&process&&process.domain&&(A=process.domain.bind(A)),T.then(void 0,A)},I.timeout=function(C,D,F){return I(C).timeout(D,F)},ae.prototype.timeout=function(C,D){var F=pe(),A=setTimeout(function(){(!D||typeof D=="string")&&(D=new Error(D||"Timed out after "+C+" ms"),D.code="ETIMEDOUT"),F.reject(D)},C);return this.then(function(T){clearTimeout(A),F.resolve(T)},function(T){clearTimeout(A),F.reject(T)},F.notify),F.promise},I.delay=function(C,D){return D===void 0&&(D=C,C=void 0),I(C).delay(D)},ae.prototype.delay=function(C){return this.then(function(D){var F=pe();return setTimeout(function(){F.resolve(D)},C),F.promise})},I.nfapply=function(C,D){return I(C).nfapply(D)},ae.prototype.nfapply=function(C){var D=pe(),F=a(C);return F.push(D.makeNodeResolver()),this.fapply(F).fail(D.reject),D.promise},I.nfcall=function(C){var D=a(arguments,1);return I(C).nfapply(D)},ae.prototype.nfcall=function(){var C=a(arguments),D=pe();return C.push(D.makeNodeResolver()),this.fapply(C).fail(D.reject),D.promise},I.nfbind=I.denodeify=function(C){if(C===void 0)throw new Error("Q can't wrap an undefined function");var D=a(arguments,1);return function(){var F=D.concat(a(arguments)),A=pe();return F.push(A.makeNodeResolver()),I(C).fapply(F).fail(A.reject),A.promise}},ae.prototype.nfbind=ae.prototype.denodeify=function(){var C=a(arguments);return C.unshift(this),I.denodeify.apply(void 0,C)},I.nbind=function(C,D){var F=a(arguments,2);return function(){var A=F.concat(a(arguments)),T=pe();A.push(T.makeNodeResolver());function B(){return C.apply(D,arguments)}return I(B).fapply(A).fail(T.reject),T.promise}},ae.prototype.nbind=function(){var C=a(arguments,0);return C.unshift(this),I.nbind.apply(void 0,C)},I.nmapply=I.npost=function(C,D,F){return I(C).npost(D,F)},ae.prototype.nmapply=ae.prototype.npost=function(C,D){var F=a(D||[]),A=pe();return F.push(A.makeNodeResolver()),this.dispatch("post",[C,F]).fail(A.reject),A.promise},I.nsend=I.nmcall=I.ninvoke=function(C,D){var F=a(arguments,2),A=pe();return F.push(A.makeNodeResolver()),I(C).dispatch("post",[D,F]).fail(A.reject),A.promise},ae.prototype.nsend=ae.prototype.nmcall=ae.prototype.ninvoke=function(C){var D=a(arguments,1),F=pe();return D.push(F.makeNodeResolver()),this.dispatch("post",[C,D]).fail(F.reject),F.promise},I.nodeify=q;function q(C,D){return I(C).nodeify(D)}ae.prototype.nodeify=function(C){if(C)this.then(function(D){I.nextTick(function(){C(null,D)})},function(D){I.nextTick(function(){C(D)})});else return this},I.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var Y=qe();return I})});var jN=y((BN,qN)=>{(function(n,e){typeof BN=="object"&&typeof qN<"u"?qN.exports=e():typeof define=="function"&&define.amd?define(e):n.JSON5=e()})(BN,function(){"use strict";function n(z,se){return se={exports:{}},z(se,se.exports),se.exports}var e=n(function(z){var se=z.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=se)}),t=n(function(z){var se=z.exports={version:"2.6.5"};typeof __e=="number"&&(__e=se)}),r=t.version,i=function(z){return typeof z=="object"?z!==null:typeof z=="function"},s=function(z){if(!i(z))throw TypeError(z+" is not an object!");return z},o=function(z){try{return!!z()}catch{return!0}},a=!o(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7}),c=e.document,l=i(c)&&i(c.createElement),d=function(z){return l?c.createElement(z):{}},h=!a&&!o(function(){return Object.defineProperty(d("div"),"a",{get:function(){return 7}}).a!=7}),p=function(z,se){if(!i(z))return z;var Ne,Ie;if(se&&typeof(Ne=z.toString)=="function"&&!i(Ie=Ne.call(z))||typeof(Ne=z.valueOf)=="function"&&!i(Ie=Ne.call(z))||!se&&typeof(Ne=z.toString)=="function"&&!i(Ie=Ne.call(z)))return Ie;throw TypeError("Can't convert object to primitive value")},b=Object.defineProperty,v=a?Object.defineProperty:function(se,Ne,Ie){if(s(se),Ne=p(Ne,!0),s(Ie),h)try{return b(se,Ne,Ie)}catch{}if("get"in Ie||"set"in Ie)throw TypeError("Accessors not supported!");return"value"in Ie&&(se[Ne]=Ie.value),se},x={f:v},N=function(z,se){return{enumerable:!(z&1),configurable:!(z&2),writable:!(z&4),value:se}},k=a?function(z,se,Ne){return x.f(z,se,N(1,Ne))}:function(z,se,Ne){return z[se]=Ne,z},ee={}.hasOwnProperty,X=function(z,se){return ee.call(z,se)},ne=0,de=Math.random(),g=function(z){return"Symbol(".concat(z===void 0?"":z,")_",(++ne+de).toString(36))},xe=!1,Ce=n(function(z){var se="__core-js_shared__",Ne=e[se]||(e[se]={});(z.exports=function(Ie,Ue){return Ne[Ie]||(Ne[Ie]=Ue!==void 0?Ue:{})})("versions",[]).push({version:t.version,mode:xe?"pure":"global",copyright:"\xA9 2019 Denis Pushkarev (zloirock.ru)"})}),qe=Ce("native-function-to-string",Function.toString),H=n(function(z){var se=g("src"),Ne="toString",Ie=(""+qe).split(Ne);t.inspectSource=function(Ue){return qe.call(Ue)},(z.exports=function(Ue,ot,at,qn){var Cn=typeof at=="function";Cn&&(X(at,"name")||k(at,"name",ot)),Ue[ot]!==at&&(Cn&&(X(at,se)||k(at,se,Ue[ot]?""+Ue[ot]:Ie.join(String(ot)))),Ue===e?Ue[ot]=at:qn?Ue[ot]?Ue[ot]=at:k(Ue,ot,at):(delete Ue[ot],k(Ue,ot,at)))})(Function.prototype,Ne,function(){return typeof this=="function"&&this[se]||qe.call(this)})}),I=function(z){if(typeof z!="function")throw TypeError(z+" is not a function!");return z},re=function(z,se,Ne){if(I(z),se===void 0)return z;switch(Ne){case 1:return function(Ie){return z.call(se,Ie)};case 2:return function(Ie,Ue){return z.call(se,Ie,Ue)};case 3:return function(Ie,Ue,ot){return z.call(se,Ie,Ue,ot)}}return function(){return z.apply(se,arguments)}},pe="prototype",fe=function(z,se,Ne){var Ie=z&fe.F,Ue=z&fe.G,ot=z&fe.S,at=z&fe.P,qn=z&fe.B,Cn=Ue?e:ot?e[se]||(e[se]={}):(e[se]||{})[pe],Ao=Ue?t:t[se]||(t[se]={}),Ti=Ao[pe]||(Ao[pe]={}),ci,li,Zn,ms;Ue&&(Ne=se);for(ci in Ne)li=!Ie&&Cn&&Cn[ci]!==void 0,Zn=(li?Cn:Ne)[ci],ms=qn&&li?re(Zn,e):at&&typeof Zn=="function"?re(Function.call,Zn):Zn,Cn&&H(Cn,ci,Zn,z&fe.U),Ao[ci]!=Zn&&k(Ao,ci,ms),at&&Ti[ci]!=Zn&&(Ti[ci]=Zn)};e.core=t,fe.F=1,fe.G=2,fe.S=4,fe.P=8,fe.B=16,fe.W=32,fe.U=64,fe.R=128;var Ge=fe,ae=Math.ceil,dt=Math.floor,kt=function(z){return isNaN(z=+z)?0:(z>0?dt:ae)(z)},en=function(z){if(z==null)throw TypeError("Can't call method on  "+z);return z},Mr=function(z){return function(se,Ne){var Ie=String(en(se)),Ue=kt(Ne),ot=Ie.length,at,qn;return Ue<0||Ue>=ot?z?"":void 0:(at=Ie.charCodeAt(Ue),at<55296||at>56319||Ue+1===ot||(qn=Ie.charCodeAt(Ue+1))<56320||qn>57343?z?Ie.charAt(Ue):at:z?Ie.slice(Ue,Ue+2):(at-55296<<10)+(qn-56320)+65536)}},Vn=Mr(!1);Ge(Ge.P,"String",{codePointAt:function(se){return Vn(this,se)}});var Oe=t.String.codePointAt,Kn=Math.max,Jn=Math.min,Mt=function(z,se){return z=kt(z),z<0?Kn(z+se,0):Jn(z,se)},Ci=String.fromCharCode,vr=String.fromCodePoint;Ge(Ge.S+Ge.F*(!!vr&&vr.length!=1),"String",{fromCodePoint:function(se){for(var Ne=arguments,Ie=[],Ue=arguments.length,ot=0,at;Ue>ot;){if(at=+Ne[ot++],Mt(at,1114111)!==at)throw RangeError(at+" is not a valid code point");Ie.push(at<65536?Ci(at):Ci(((at-=65536)>>10)+55296,at%1024+56320))}return Ie.join("")}});var Di=t.String.fromCodePoint,Yn=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,ur=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,wn=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/,Nn={Space_Separator:Yn,ID_Start:ur,ID_Continue:wn},$t={isSpaceSeparator:function(se){return typeof se=="string"&&Nn.Space_Separator.test(se)},isIdStartChar:function(se){return typeof se=="string"&&(se>="a"&&se<="z"||se>="A"&&se<="Z"||se==="$"||se==="_"||Nn.ID_Start.test(se))},isIdContinueChar:function(se){return typeof se=="string"&&(se>="a"&&se<="z"||se>="A"&&se<="Z"||se>="0"&&se<="9"||se==="$"||se==="_"||se==="\u200C"||se==="\u200D"||Nn.ID_Continue.test(se))},isDigit:function(se){return typeof se=="string"&&/[0-9]/.test(se)},isHexDigit:function(se){return typeof se=="string"&&/[0-9A-Fa-f]/.test(se)}},Zi,tn,on,Fn,dr,Ln,Kt,an,fr,ai=function(se,Ne){Zi=String(se),tn="start",on=[],Fn=0,dr=1,Ln=0,Kt=void 0,an=void 0,fr=void 0;do Kt=F(),oe[tn]();while(Kt.type!=="eof");return typeof Ne=="function"?O({"":fr},"",Ne):fr};function O(z,se,Ne){var Ie=z[se];if(Ie!=null&&typeof Ie=="object")if(Array.isArray(Ie))for(var Ue=0;Ue<Ie.length;Ue++){var ot=String(Ue),at=O(Ie,ot,Ne);at===void 0?delete Ie[ot]:Object.defineProperty(Ie,ot,{value:at,writable:!0,enumerable:!0,configurable:!0})}else for(var qn in Ie){var Cn=O(Ie,qn,Ne);Cn===void 0?delete Ie[qn]:Object.defineProperty(Ie,qn,{value:Cn,writable:!0,enumerable:!0,configurable:!0})}return Ne.call(z,se,Ie)}var R,q,Y,C,D;function F(){for(R="default",q="",Y=!1,C=1;;){D=A();var z=B[R]();if(z)return z}}function A(){if(Zi[Fn])return String.fromCodePoint(Zi.codePointAt(Fn))}function T(){var z=A();return z===`
`?(dr++,Ln=0):z?Ln+=z.length:Ln++,z&&(Fn+=z.length),z}var B={default:function(){switch(D){case"	":case"\v":case"\f":case" ":case"\xA0":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":T();return;case"/":T(),R="comment";return;case void 0:return T(),$("eof")}if($t.isSpaceSeparator(D)){T();return}return B[tn]()},comment:function(){switch(D){case"*":T(),R="multiLineComment";return;case"/":T(),R="singleLineComment";return}throw he(T())},multiLineComment:function(){switch(D){case"*":T(),R="multiLineCommentAsterisk";return;case void 0:throw he(T())}T()},multiLineCommentAsterisk:function(){switch(D){case"*":T();return;case"/":T(),R="default";return;case void 0:throw he(T())}T(),R="multiLineComment"},singleLineComment:function(){switch(D){case`
`:case"\r":case"\u2028":case"\u2029":T(),R="default";return;case void 0:return T(),$("eof")}T()},value:function(){switch(D){case"{":case"[":return $("punctuator",T());case"n":return T(),ue("ull"),$("null",null);case"t":return T(),ue("rue"),$("boolean",!0);case"f":return T(),ue("alse"),$("boolean",!1);case"-":case"+":T()==="-"&&(C=-1),R="sign";return;case".":q=T(),R="decimalPointLeading";return;case"0":q=T(),R="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":q=T(),R="decimalInteger";return;case"I":return T(),ue("nfinity"),$("numeric",1/0);case"N":return T(),ue("aN"),$("numeric",NaN);case'"':case"'":Y=T()==='"',q="",R="string";return}throw he(T())},identifierNameStartEscape:function(){if(D!=="u")throw he(T());T();var se=we();switch(se){case"$":case"_":break;default:if(!$t.isIdStartChar(se))throw Le();break}q+=se,R="identifierName"},identifierName:function(){switch(D){case"$":case"_":case"\u200C":case"\u200D":q+=T();return;case"\\":T(),R="identifierNameEscape";return}if($t.isIdContinueChar(D)){q+=T();return}return $("identifier",q)},identifierNameEscape:function(){if(D!=="u")throw he(T());T();var se=we();switch(se){case"$":case"_":case"\u200C":case"\u200D":break;default:if(!$t.isIdContinueChar(se))throw Le();break}q+=se,R="identifierName"},sign:function(){switch(D){case".":q=T(),R="decimalPointLeading";return;case"0":q=T(),R="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":q=T(),R="decimalInteger";return;case"I":return T(),ue("nfinity"),$("numeric",C*(1/0));case"N":return T(),ue("aN"),$("numeric",NaN)}throw he(T())},zero:function(){switch(D){case".":q+=T(),R="decimalPoint";return;case"e":case"E":q+=T(),R="decimalExponent";return;case"x":case"X":q+=T(),R="hexadecimal";return}return $("numeric",C*0)},decimalInteger:function(){switch(D){case".":q+=T(),R="decimalPoint";return;case"e":case"E":q+=T(),R="decimalExponent";return}if($t.isDigit(D)){q+=T();return}return $("numeric",C*Number(q))},decimalPointLeading:function(){if($t.isDigit(D)){q+=T(),R="decimalFraction";return}throw he(T())},decimalPoint:function(){switch(D){case"e":case"E":q+=T(),R="decimalExponent";return}if($t.isDigit(D)){q+=T(),R="decimalFraction";return}return $("numeric",C*Number(q))},decimalFraction:function(){switch(D){case"e":case"E":q+=T(),R="decimalExponent";return}if($t.isDigit(D)){q+=T();return}return $("numeric",C*Number(q))},decimalExponent:function(){switch(D){case"+":case"-":q+=T(),R="decimalExponentSign";return}if($t.isDigit(D)){q+=T(),R="decimalExponentInteger";return}throw he(T())},decimalExponentSign:function(){if($t.isDigit(D)){q+=T(),R="decimalExponentInteger";return}throw he(T())},decimalExponentInteger:function(){if($t.isDigit(D)){q+=T();return}return $("numeric",C*Number(q))},hexadecimal:function(){if($t.isHexDigit(D)){q+=T(),R="hexadecimalInteger";return}throw he(T())},hexadecimalInteger:function(){if($t.isHexDigit(D)){q+=T();return}return $("numeric",C*Number(q))},string:function(){switch(D){case"\\":T(),q+=ge();return;case'"':if(Y)return T(),$("string",q);q+=T();return;case"'":if(!Y)return T(),$("string",q);q+=T();return;case`
`:case"\r":throw he(T());case"\u2028":case"\u2029":tt(D);break;case void 0:throw he(T())}q+=T()},start:function(){switch(D){case"{":case"[":return $("punctuator",T())}R="value"},beforePropertyName:function(){switch(D){case"$":case"_":q=T(),R="identifierName";return;case"\\":T(),R="identifierNameStartEscape";return;case"}":return $("punctuator",T());case'"':case"'":Y=T()==='"',R="string";return}if($t.isIdStartChar(D)){q+=T(),R="identifierName";return}throw he(T())},afterPropertyName:function(){if(D===":")return $("punctuator",T());throw he(T())},beforePropertyValue:function(){R="value"},afterPropertyValue:function(){switch(D){case",":case"}":return $("punctuator",T())}throw he(T())},beforeArrayValue:function(){if(D==="]")return $("punctuator",T());R="value"},afterArrayValue:function(){switch(D){case",":case"]":return $("punctuator",T())}throw he(T())},end:function(){throw he(T())}};function $(z,se){return{type:z,value:se,line:dr,column:Ln}}function ue(z){for(var se=0,Ne=z;se<Ne.length;se+=1){var Ie=Ne[se],Ue=A();if(Ue!==Ie)throw he(T());T()}}function ge(){var z=A();switch(z){case"b":return T(),"\b";case"f":return T(),"\f";case"n":return T(),`
`;case"r":return T(),"\r";case"t":return T(),"	";case"v":return T(),"\v";case"0":if(T(),$t.isDigit(A()))throw he(T());return"\0";case"x":return T(),Se();case"u":return T(),we();case`
`:case"\u2028":case"\u2029":return T(),"";case"\r":return T(),A()===`
`&&T(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw he(T());case void 0:throw he(T())}return T()}function Se(){var z="",se=A();if(!$t.isHexDigit(se)||(z+=T(),se=A(),!$t.isHexDigit(se)))throw he(T());return z+=T(),String.fromCodePoint(parseInt(z,16))}function we(){for(var z="",se=4;se-- >0;){var Ne=A();if(!$t.isHexDigit(Ne))throw he(T());z+=T()}return String.fromCodePoint(parseInt(z,16))}var oe={start:function(){if(Kt.type==="eof")throw ke();ye()},beforePropertyName:function(){switch(Kt.type){case"identifier":case"string":an=Kt.value,tn="afterPropertyName";return;case"punctuator":Ee();return;case"eof":throw ke()}},afterPropertyName:function(){if(Kt.type==="eof")throw ke();tn="beforePropertyValue"},beforePropertyValue:function(){if(Kt.type==="eof")throw ke();ye()},beforeArrayValue:function(){if(Kt.type==="eof")throw ke();if(Kt.type==="punctuator"&&Kt.value==="]"){Ee();return}ye()},afterPropertyValue:function(){if(Kt.type==="eof")throw ke();switch(Kt.value){case",":tn="beforePropertyName";return;case"}":Ee()}},afterArrayValue:function(){if(Kt.type==="eof")throw ke();switch(Kt.value){case",":tn="beforeArrayValue";return;case"]":Ee()}},end:function(){}};function ye(){var z;switch(Kt.type){case"punctuator":switch(Kt.value){case"{":z={};break;case"[":z=[];break}break;case"null":case"boolean":case"numeric":case"string":z=Kt.value;break}if(fr===void 0)fr=z;else{var se=on[on.length-1];Array.isArray(se)?se.push(z):Object.defineProperty(se,an,{value:z,writable:!0,enumerable:!0,configurable:!0})}if(z!==null&&typeof z=="object")on.push(z),Array.isArray(z)?tn="beforeArrayValue":tn="beforePropertyName";else{var Ne=on[on.length-1];Ne==null?tn="end":Array.isArray(Ne)?tn="afterArrayValue":tn="afterPropertyValue"}}function Ee(){on.pop();var z=on[on.length-1];z==null?tn="end":Array.isArray(z)?tn="afterArrayValue":tn="afterPropertyValue"}function he(z){return Bn(z===void 0?"JSON5: invalid end of input at "+dr+":"+Ln:"JSON5: invalid character '"+Wt(z)+"' at "+dr+":"+Ln)}function ke(){return Bn("JSON5: invalid end of input at "+dr+":"+Ln)}function Le(){return Ln-=5,Bn("JSON5: invalid identifier character at "+dr+":"+Ln)}function tt(z){console.warn("JSON5: '"+Wt(z)+"' in strings is not valid ECMAScript; consider escaping")}function Wt(z){var se={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(se[z])return se[z];if(z<" "){var Ne=z.charCodeAt(0).toString(16);return"\\x"+("00"+Ne).substring(Ne.length)}return z}function Bn(z){var se=new SyntaxError(z);return se.lineNumber=dr,se.columnNumber=Ln,se}var Rr=function(se,Ne,Ie){var Ue=[],ot="",at,qn,Cn="",Ao;if(Ne!=null&&typeof Ne=="object"&&!Array.isArray(Ne)&&(Ie=Ne.space,Ao=Ne.quote,Ne=Ne.replacer),typeof Ne=="function")qn=Ne;else if(Array.isArray(Ne)){at=[];for(var Ti=0,ci=Ne;Ti<ci.length;Ti+=1){var li=ci[Ti],Zn=void 0;typeof li=="string"?Zn=li:(typeof li=="number"||li instanceof String||li instanceof Number)&&(Zn=String(li)),Zn!==void 0&&at.indexOf(Zn)<0&&at.push(Zn)}}return Ie instanceof Number?Ie=Number(Ie):Ie instanceof String&&(Ie=String(Ie)),typeof Ie=="number"?Ie>0&&(Ie=Math.min(10,Math.floor(Ie)),Cn="          ".substr(0,Ie)):typeof Ie=="string"&&(Cn=Ie.substr(0,10)),ms("",{"":se});function ms(Jt,Xn){var ft=Xn[Jt];switch(ft!=null&&(typeof ft.toJSON5=="function"?ft=ft.toJSON5(Jt):typeof ft.toJSON=="function"&&(ft=ft.toJSON(Jt))),qn&&(ft=qn.call(Xn,Jt,ft)),ft instanceof Number?ft=Number(ft):ft instanceof String?ft=String(ft):ft instanceof Boolean&&(ft=ft.valueOf()),ft){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof ft=="string")return hc(ft,!1);if(typeof ft=="number")return String(ft);if(typeof ft=="object")return Array.isArray(ft)?Cm(ft):ow(ft)}function hc(Jt){for(var Xn={"'":.1,'"':.2},ft={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},er="",Vr=0;Vr<Jt.length;Vr++){var hr=Jt[Vr];switch(hr){case"'":case'"':Xn[hr]++,er+=hr;continue;case"\0":if($t.isDigit(Jt[Vr+1])){er+="\\x00";continue}}if(ft[hr]){er+=ft[hr];continue}if(hr<" "){var No=hr.charCodeAt(0).toString(16);er+="\\x"+("00"+No).substring(No.length);continue}er+=hr}var Xi=Ao||Object.keys(Xn).reduce(function(gs,ys){return Xn[gs]<Xn[ys]?gs:ys});return er=er.replace(new RegExp(Xi,"g"),ft[Xi]),Xi+er+Xi}function ow(Jt){if(Ue.indexOf(Jt)>=0)throw TypeError("Converting circular structure to JSON5");Ue.push(Jt);var Xn=ot;ot=ot+Cn;for(var ft=at||Object.keys(Jt),er=[],Vr=0,hr=ft;Vr<hr.length;Vr+=1){var No=hr[Vr],Xi=ms(No,Jt);if(Xi!==void 0){var gs=pc(No)+":";Cn!==""&&(gs+=" "),gs+=Xi,er.push(gs)}}var ys;if(er.length===0)ys="{}";else{var mc;if(Cn==="")mc=er.join(","),ys="{"+mc+"}";else{var Pr=`,
`+ot;mc=er.join(Pr),ys=`{
`+ot+mc+`,
`+Xn+"}"}}return Ue.pop(),ot=Xn,ys}function pc(Jt){if(Jt.length===0)return hc(Jt,!0);var Xn=String.fromCodePoint(Jt.codePointAt(0));if(!$t.isIdStartChar(Xn))return hc(Jt,!0);for(var ft=Xn.length;ft<Jt.length;ft++)if(!$t.isIdContinueChar(String.fromCodePoint(Jt.codePointAt(ft))))return hc(Jt,!0);return Jt}function Cm(Jt){if(Ue.indexOf(Jt)>=0)throw TypeError("Converting circular structure to JSON5");Ue.push(Jt);var Xn=ot;ot=ot+Cn;for(var ft=[],er=0;er<Jt.length;er++){var Vr=ms(String(er),Jt);ft.push(Vr!==void 0?Vr:"null")}var hr;if(ft.length===0)hr="[]";else if(Cn===""){var No=ft.join(",");hr="["+No+"]"}else{var Xi=`,
`+ot,gs=ft.join(Xi);hr=`[
`+ot+gs+`,
`+Xn+"]"}return Ue.pop(),ot=Xn,hr}},Or={parse:ai,stringify:Rr},Er=Or,xi=Er;return xi})});var vae=y((Uv,_ae)=>{(function(n,e){typeof Uv=="object"&&typeof _ae<"u"?e(Uv):typeof define=="function"&&define.amd?define(["exports"],e):(n=n||self,e(n.Diff={}))})(Uv,function(n){"use strict";function e(){}e.prototype={diff:function(R,q){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},C=Y.callback;typeof Y=="function"&&(C=Y,Y={}),this.options=Y;var D=this;function F(oe){return C?(setTimeout(function(){C(void 0,oe)},0),!0):oe}R=this.castInput(R),q=this.castInput(q),R=this.removeEmpty(this.tokenize(R)),q=this.removeEmpty(this.tokenize(q));var A=q.length,T=R.length,B=1,$=A+T,ue=[{newPos:-1,components:[]}],ge=this.extractCommon(ue[0],q,R,0);if(ue[0].newPos+1>=A&&ge+1>=T)return F([{value:this.join(q),count:q.length}]);function Se(){for(var oe=-1*B;oe<=B;oe+=2){var ye=void 0,Ee=ue[oe-1],he=ue[oe+1],ke=(he?he.newPos:0)-oe;Ee&&(ue[oe-1]=void 0);var Le=Ee&&Ee.newPos+1<A,tt=he&&0<=ke&&ke<T;if(!Le&&!tt){ue[oe]=void 0;continue}if(!Le||tt&&Ee.newPos<he.newPos?(ye=r(he),D.pushComponent(ye.components,void 0,!0)):(ye=Ee,ye.newPos++,D.pushComponent(ye.components,!0,void 0)),ke=D.extractCommon(ye,q,R,oe),ye.newPos+1>=A&&ke+1>=T)return F(t(D,ye.components,q,R,D.useLongestToken));ue[oe]=ye}B++}if(C)(function oe(){setTimeout(function(){if(B>$)return C();Se()||oe()},0)})();else for(;B<=$;){var we=Se();if(we)return we}},pushComponent:function(R,q,Y){var C=R[R.length-1];C&&C.added===q&&C.removed===Y?R[R.length-1]={count:C.count+1,added:q,removed:Y}:R.push({count:1,added:q,removed:Y})},extractCommon:function(R,q,Y,C){for(var D=q.length,F=Y.length,A=R.newPos,T=A-C,B=0;A+1<D&&T+1<F&&this.equals(q[A+1],Y[T+1]);)A++,T++,B++;return B&&R.components.push({count:B}),R.newPos=A,T},equals:function(R,q){return this.options.comparator?this.options.comparator(R,q):R===q||this.options.ignoreCase&&R.toLowerCase()===q.toLowerCase()},removeEmpty:function(R){for(var q=[],Y=0;Y<R.length;Y++)R[Y]&&q.push(R[Y]);return q},castInput:function(R){return R},tokenize:function(R){return R.split("")},join:function(R){return R.join("")}};function t(O,R,q,Y,C){for(var D=0,F=R.length,A=0,T=0;D<F;D++){var B=R[D];if(B.removed){if(B.value=O.join(Y.slice(T,T+B.count)),T+=B.count,D&&R[D-1].added){var ue=R[D-1];R[D-1]=R[D],R[D]=ue}}else{if(!B.added&&C){var $=q.slice(A,A+B.count);$=$.map(function(Se,we){var oe=Y[T+we];return oe.length>Se.length?oe:Se}),B.value=O.join($)}else B.value=O.join(q.slice(A,A+B.count));A+=B.count,B.added||(T+=B.count)}}var ge=R[F-1];return F>1&&typeof ge.value=="string"&&(ge.added||ge.removed)&&O.equals("",ge.value)&&(R[F-2].value+=ge.value,R.pop()),R}function r(O){return{newPos:O.newPos,components:O.components.slice(0)}}var i=new e;function s(O,R,q){return i.diff(O,R,q)}function o(O,R){if(typeof O=="function")R.callback=O;else if(O)for(var q in O)O.hasOwnProperty(q)&&(R[q]=O[q]);return R}var a=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,c=/\S/,l=new e;l.equals=function(O,R){return this.options.ignoreCase&&(O=O.toLowerCase(),R=R.toLowerCase()),O===R||this.options.ignoreWhitespace&&!c.test(O)&&!c.test(R)},l.tokenize=function(O){for(var R=O.split(/(\s+|[()[\]{}'"]|\b)/),q=0;q<R.length-1;q++)!R[q+1]&&R[q+2]&&a.test(R[q])&&a.test(R[q+2])&&(R[q]+=R[q+2],R.splice(q+1,2),q--);return R};function d(O,R,q){return q=o(q,{ignoreWhitespace:!0}),l.diff(O,R,q)}function h(O,R,q){return l.diff(O,R,q)}var p=new e;p.tokenize=function(O){var R=[],q=O.split(/(\n|\r\n)/);q[q.length-1]||q.pop();for(var Y=0;Y<q.length;Y++){var C=q[Y];Y%2&&!this.options.newlineIsToken?R[R.length-1]+=C:(this.options.ignoreWhitespace&&(C=C.trim()),R.push(C))}return R};function b(O,R,q){return p.diff(O,R,q)}function v(O,R,q){var Y=o(q,{ignoreWhitespace:!0});return p.diff(O,R,Y)}var x=new e;x.tokenize=function(O){return O.split(/(\S.+?[.!?])(?=\s+|$)/)};function N(O,R,q){return x.diff(O,R,q)}var k=new e;k.tokenize=function(O){return O.split(/([{}:;,]|\s+)/)};function ee(O,R,q){return k.diff(O,R,q)}function X(O){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?X=function(R){return typeof R}:X=function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},X(O)}function ne(O){return de(O)||g(O)||xe()}function de(O){if(Array.isArray(O)){for(var R=0,q=new Array(O.length);R<O.length;R++)q[R]=O[R];return q}}function g(O){if(Symbol.iterator in Object(O)||Object.prototype.toString.call(O)==="[object Arguments]")return Array.from(O)}function xe(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var Ce=Object.prototype.toString,qe=new e;qe.useLongestToken=!0,qe.tokenize=p.tokenize,qe.castInput=function(O){var R=this.options,q=R.undefinedReplacement,Y=R.stringifyReplacer,C=Y===void 0?function(D,F){return typeof F>"u"?q:F}:Y;return typeof O=="string"?O:JSON.stringify(I(O,null,null,C),C,"  ")},qe.equals=function(O,R){return e.prototype.equals.call(qe,O.replace(/,([\r\n])/g,"$1"),R.replace(/,([\r\n])/g,"$1"))};function H(O,R,q){return qe.diff(O,R,q)}function I(O,R,q,Y,C){R=R||[],q=q||[],Y&&(O=Y(C,O));var D;for(D=0;D<R.length;D+=1)if(R[D]===O)return q[D];var F;if(Ce.call(O)==="[object Array]"){for(R.push(O),F=new Array(O.length),q.push(F),D=0;D<O.length;D+=1)F[D]=I(O[D],R,q,Y,C);return R.pop(),q.pop(),F}if(O&&O.toJSON&&(O=O.toJSON()),X(O)==="object"&&O!==null){R.push(O),F={},q.push(F);var A=[],T;for(T in O)O.hasOwnProperty(T)&&A.push(T);for(A.sort(),D=0;D<A.length;D+=1)T=A[D],F[T]=I(O[T],R,q,Y,T);R.pop(),q.pop()}else F=O;return F}var re=new e;re.tokenize=function(O){return O.slice()},re.join=re.removeEmpty=function(O){return O};function pe(O,R,q){return re.diff(O,R,q)}function fe(O){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=O.split(/\r\n|[\n\v\f\r\x85]/),Y=O.match(/\r\n|[\n\v\f\r\x85]/g)||[],C=[],D=0;function F(){var B={};for(C.push(B);D<q.length;){var $=q[D];if(/^(\-\-\-|\+\+\+|@@)\s/.test($))break;var ue=/^(?:Index:|diff(?: -r \w+)+)\s+/.exec($);ue&&(B.index=$.substring(ue[0].length).trim()),D++}for(A(B),A(B),B.hunks=[];D<q.length;){var ge=q[D];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(ge))break;if(/^@@/.test(ge))B.hunks.push(T());else{if(ge&&R.strict)throw new Error("Unknown line "+(D+1)+" "+JSON.stringify(ge));D++}}}function A(B){var $=/^(---|\+\+\+)\s+/.exec(q[D]);if($){var ue=$[1]==="---"?"old":"new",ge=q[D].substring(3).trim().split("	",2),Se=ge[0].replace(/\\\\/g,"\\");Se.startsWith('"')&&Se.endsWith('"')&&(Se=Se.substr(1,Se.length-2)),B[ue+"FileName"]=Se,B[ue+"Header"]=(ge[1]||"").trim(),D++}}function T(){for(var B=D,$=q[D++],ue=$.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),ge={oldStart:+ue[1],oldLines:+ue[2]||1,newStart:+ue[3],newLines:+ue[4]||1,lines:[],linedelimiters:[]},Se=0,we=0;D<q.length&&!(q[D].indexOf("--- ")===0&&D+2<q.length&&q[D+1].indexOf("+++ ")===0&&q[D+2].indexOf("@@")===0);D++){var oe=q[D].length==0&&D!=q.length-1?" ":q[D][0];if(oe==="+"||oe==="-"||oe===" "||oe==="\\")ge.lines.push(q[D]),ge.linedelimiters.push(Y[D]||`
`),oe==="+"?Se++:oe==="-"?we++:oe===" "&&(Se++,we++);else break}if(!Se&&ge.newLines===1&&(ge.newLines=0),!we&&ge.oldLines===1&&(ge.oldLines=0),R.strict){if(Se!==ge.newLines)throw new Error("Added line count did not match for hunk at line "+(B+1));if(we!==ge.oldLines)throw new Error("Removed line count did not match for hunk at line "+(B+1))}return ge}for(;D<q.length;)F();return C}function Ge(O,R,q){var Y=!0,C=!1,D=!1,F=1;return function A(){if(Y&&!D){if(C?F++:Y=!1,O+F<=q)return F;D=!0}if(!C)return D||(Y=!0),R<=O-F?-F++:(C=!0,A())}}function ae(O,R){var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof R=="string"&&(R=fe(R)),Array.isArray(R)){if(R.length>1)throw new Error("applyPatch only works with a single input.");R=R[0]}var Y=O.split(/\r\n|[\n\v\f\r\x85]/),C=O.match(/\r\n|[\n\v\f\r\x85]/g)||[],D=R.hunks,F=q.compareLine||function(Ie,Ue,ot,at){return Ue===at},A=0,T=q.fuzzFactor||0,B=0,$=0,ue,ge;function Se(Ie,Ue){for(var ot=0;ot<Ie.lines.length;ot++){var at=Ie.lines[ot],qn=at.length>0?at[0]:" ",Cn=at.length>0?at.substr(1):at;if(qn===" "||qn==="-"){if(!F(Ue+1,Y[Ue],qn,Cn)&&(A++,A>T))return!1;Ue++}}return!0}for(var we=0;we<D.length;we++){for(var oe=D[we],ye=Y.length-oe.oldLines,Ee=0,he=$+oe.oldStart-1,ke=Ge(he,B,ye);Ee!==void 0;Ee=ke())if(Se(oe,he+Ee)){oe.offset=$+=Ee;break}if(Ee===void 0)return!1;B=oe.offset+oe.oldStart+oe.oldLines}for(var Le=0,tt=0;tt<D.length;tt++){var Wt=D[tt],Bn=Wt.oldStart+Wt.offset+Le-1;Le+=Wt.newLines-Wt.oldLines,Bn<0&&(Bn=0);for(var Rr=0;Rr<Wt.lines.length;Rr++){var Or=Wt.lines[Rr],Er=Or.length>0?Or[0]:" ",xi=Or.length>0?Or.substr(1):Or,z=Wt.linedelimiters[Rr];if(Er===" ")Bn++;else if(Er==="-")Y.splice(Bn,1),C.splice(Bn,1);else if(Er==="+")Y.splice(Bn,0,xi),C.splice(Bn,0,z),Bn++;else if(Er==="\\"){var se=Wt.lines[Rr-1]?Wt.lines[Rr-1][0]:null;se==="+"?ue=!0:se==="-"&&(ge=!0)}}}if(ue)for(;!Y[Y.length-1];)Y.pop(),C.pop();else ge&&(Y.push(""),C.push(`
`));for(var Ne=0;Ne<Y.length-1;Ne++)Y[Ne]=Y[Ne]+C[Ne];return Y.join("")}function dt(O,R){typeof O=="string"&&(O=fe(O));var q=0;function Y(){var C=O[q++];if(!C)return R.complete();R.loadFile(C,function(D,F){if(D)return R.complete(D);var A=ae(F,C,R);R.patched(C,A,function(T){if(T)return R.complete(T);Y()})})}Y()}function kt(O,R,q,Y,C,D,F){F||(F={}),typeof F.context>"u"&&(F.context=4);var A=b(q,Y,F);A.push({value:"",lines:[]});function T(Ee){return Ee.map(function(he){return" "+he})}for(var B=[],$=0,ue=0,ge=[],Se=1,we=1,oe=function(he){var ke=A[he],Le=ke.lines||ke.value.replace(/\n$/,"").split(`
`);if(ke.lines=Le,ke.added||ke.removed){var tt;if(!$){var Wt=A[he-1];$=Se,ue=we,Wt&&(ge=F.context>0?T(Wt.lines.slice(-F.context)):[],$-=ge.length,ue-=ge.length)}(tt=ge).push.apply(tt,ne(Le.map(function(Ne){return(ke.added?"+":"-")+Ne}))),ke.added?we+=Le.length:Se+=Le.length}else{if($)if(Le.length<=F.context*2&&he<A.length-2){var Bn;(Bn=ge).push.apply(Bn,ne(T(Le)))}else{var Rr,Or=Math.min(Le.length,F.context);(Rr=ge).push.apply(Rr,ne(T(Le.slice(0,Or))));var Er={oldStart:$,oldLines:Se-$+Or,newStart:ue,newLines:we-ue+Or,lines:ge};if(he>=A.length-2&&Le.length<=F.context){var xi=/\n$/.test(q),z=/\n$/.test(Y),se=Le.length==0&&ge.length>Er.oldLines;!xi&&se&&ge.splice(Er.oldLines,0,"\\ No newline at end of file"),(!xi&&!se||!z)&&ge.push("\\ No newline at end of file")}B.push(Er),$=0,ue=0,ge=[]}Se+=Le.length,we+=Le.length}},ye=0;ye<A.length;ye++)oe(ye);return{oldFileName:O,newFileName:R,oldHeader:C,newHeader:D,hunks:B}}function en(O,R,q,Y,C,D,F){var A=kt(O,R,q,Y,C,D,F),T=[];O==R&&T.push("Index: "+O),T.push("==================================================================="),T.push("--- "+A.oldFileName+(typeof A.oldHeader>"u"?"":"	"+A.oldHeader)),T.push("+++ "+A.newFileName+(typeof A.newHeader>"u"?"":"	"+A.newHeader));for(var B=0;B<A.hunks.length;B++){var $=A.hunks[B];T.push("@@ -"+$.oldStart+","+$.oldLines+" +"+$.newStart+","+$.newLines+" @@"),T.push.apply(T,$.lines)}return T.join(`
`)+`
`}function Mr(O,R,q,Y,C,D){return en(O,O,R,q,Y,C,D)}function Vn(O,R){return O.length!==R.length?!1:Oe(O,R)}function Oe(O,R){if(R.length>O.length)return!1;for(var q=0;q<R.length;q++)if(R[q]!==O[q])return!1;return!0}function Kn(O){var R=Kt(O.lines),q=R.oldLines,Y=R.newLines;q!==void 0?O.oldLines=q:delete O.oldLines,Y!==void 0?O.newLines=Y:delete O.newLines}function Jn(O,R,q){O=Mt(O,q),R=Mt(R,q);var Y={};(O.index||R.index)&&(Y.index=O.index||R.index),(O.newFileName||R.newFileName)&&(Ci(O)?Ci(R)?(Y.oldFileName=vr(Y,O.oldFileName,R.oldFileName),Y.newFileName=vr(Y,O.newFileName,R.newFileName),Y.oldHeader=vr(Y,O.oldHeader,R.oldHeader),Y.newHeader=vr(Y,O.newHeader,R.newHeader)):(Y.oldFileName=O.oldFileName,Y.newFileName=O.newFileName,Y.oldHeader=O.oldHeader,Y.newHeader=O.newHeader):(Y.oldFileName=R.oldFileName||O.oldFileName,Y.newFileName=R.newFileName||O.newFileName,Y.oldHeader=R.oldHeader||O.oldHeader,Y.newHeader=R.newHeader||O.newHeader)),Y.hunks=[];for(var C=0,D=0,F=0,A=0;C<O.hunks.length||D<R.hunks.length;){var T=O.hunks[C]||{oldStart:1/0},B=R.hunks[D]||{oldStart:1/0};if(Di(T,B))Y.hunks.push(Yn(T,F)),C++,A+=T.newLines-T.oldLines;else if(Di(B,T))Y.hunks.push(Yn(B,A)),D++,F+=B.newLines-B.oldLines;else{var $={oldStart:Math.min(T.oldStart,B.oldStart),oldLines:0,newStart:Math.min(T.newStart+F,B.oldStart+A),newLines:0,lines:[]};ur($,T.oldStart,T.lines,B.oldStart,B.lines),D++,C++,Y.hunks.push($)}}return Y}function Mt(O,R){if(typeof O=="string"){if(/^@@/m.test(O)||/^Index:/m.test(O))return fe(O)[0];if(!R)throw new Error("Must provide a base reference or pass in a patch");return kt(void 0,void 0,R,O)}return O}function Ci(O){return O.newFileName&&O.newFileName!==O.oldFileName}function vr(O,R,q){return R===q?R:(O.conflict=!0,{mine:R,theirs:q})}function Di(O,R){return O.oldStart<R.oldStart&&O.oldStart+O.oldLines<R.oldStart}function Yn(O,R){return{oldStart:O.oldStart,oldLines:O.oldLines,newStart:O.newStart+R,newLines:O.newLines,lines:O.lines}}function ur(O,R,q,Y,C){var D={offset:R,lines:q,index:0},F={offset:Y,lines:C,index:0};for(Zi(O,D,F),Zi(O,F,D);D.index<D.lines.length&&F.index<F.lines.length;){var A=D.lines[D.index],T=F.lines[F.index];if((A[0]==="-"||A[0]==="+")&&(T[0]==="-"||T[0]==="+"))wn(O,D,F);else if(A[0]==="+"&&T[0]===" "){var B;(B=O.lines).push.apply(B,ne(on(D)))}else if(T[0]==="+"&&A[0]===" "){var $;($=O.lines).push.apply($,ne(on(F)))}else A[0]==="-"&&T[0]===" "?Nn(O,D,F):T[0]==="-"&&A[0]===" "?Nn(O,F,D,!0):A===T?(O.lines.push(A),D.index++,F.index++):$t(O,on(D),on(F))}tn(O,D),tn(O,F),Kn(O)}function wn(O,R,q){var Y=on(R),C=on(q);if(dr(Y)&&dr(C)){if(Oe(Y,C)&&Ln(q,Y,Y.length-C.length)){var D;(D=O.lines).push.apply(D,ne(Y));return}else if(Oe(C,Y)&&Ln(R,C,C.length-Y.length)){var F;(F=O.lines).push.apply(F,ne(C));return}}else if(Vn(Y,C)){var A;(A=O.lines).push.apply(A,ne(Y));return}$t(O,Y,C)}function Nn(O,R,q,Y){var C=on(R),D=Fn(q,C);if(D.merged){var F;(F=O.lines).push.apply(F,ne(D.merged))}else $t(O,Y?D:C,Y?C:D)}function $t(O,R,q){O.conflict=!0,O.lines.push({conflict:!0,mine:R,theirs:q})}function Zi(O,R,q){for(;R.offset<q.offset&&R.index<R.lines.length;){var Y=R.lines[R.index++];O.lines.push(Y),R.offset++}}function tn(O,R){for(;R.index<R.lines.length;){var q=R.lines[R.index++];O.lines.push(q)}}function on(O){for(var R=[],q=O.lines[O.index][0];O.index<O.lines.length;){var Y=O.lines[O.index];if(q==="-"&&Y[0]==="+"&&(q="+"),q===Y[0])R.push(Y),O.index++;else break}return R}function Fn(O,R){for(var q=[],Y=[],C=0,D=!1,F=!1;C<R.length&&O.index<O.lines.length;){var A=O.lines[O.index],T=R[C];if(T[0]==="+")break;if(D=D||A[0]!==" ",Y.push(T),C++,A[0]==="+")for(F=!0;A[0]==="+";)q.push(A),A=O.lines[++O.index];T.substr(1)===A.substr(1)?(q.push(A),O.index++):F=!0}if((R[C]||"")[0]==="+"&&D&&(F=!0),F)return q;for(;C<R.length;)Y.push(R[C++]);return{merged:Y,changes:q}}function dr(O){return O.reduce(function(R,q){return R&&q[0]==="-"},!0)}function Ln(O,R,q){for(var Y=0;Y<q;Y++){var C=R[R.length-q+Y].substr(1);if(O.lines[O.index+Y]!==" "+C)return!1}return O.index+=q,!0}function Kt(O){var R=0,q=0;return O.forEach(function(Y){if(typeof Y!="string"){var C=Kt(Y.mine),D=Kt(Y.theirs);R!==void 0&&(C.oldLines===D.oldLines?R+=C.oldLines:R=void 0),q!==void 0&&(C.newLines===D.newLines?q+=C.newLines:q=void 0)}else q!==void 0&&(Y[0]==="+"||Y[0]===" ")&&q++,R!==void 0&&(Y[0]==="-"||Y[0]===" ")&&R++}),{oldLines:R,newLines:q}}function an(O){for(var R=[],q,Y,C=0;C<O.length;C++)q=O[C],q.added?Y=1:q.removed?Y=-1:Y=0,R.push([Y,q.value]);return R}function fr(O){for(var R=[],q=0;q<O.length;q++){var Y=O[q];Y.added?R.push("<ins>"):Y.removed&&R.push("<del>"),R.push(ai(Y.value)),Y.added?R.push("</ins>"):Y.removed&&R.push("</del>")}return R.join("")}function ai(O){var R=O;return R=R.replace(/&/g,"&amp;"),R=R.replace(/</g,"&lt;"),R=R.replace(/>/g,"&gt;"),R=R.replace(/"/g,"&quot;"),R}n.Diff=e,n.diffChars=s,n.diffWords=d,n.diffWordsWithSpace=h,n.diffLines=b,n.diffTrimmedLines=v,n.diffSentences=N,n.diffCss=ee,n.diffJson=H,n.diffArrays=pe,n.structuredPatch=kt,n.createTwoFilesPatch=en,n.createPatch=Mr,n.applyPatch=ae,n.applyPatches=dt,n.parsePatch=fe,n.merge=Jn,n.convertChangesToDMP=an,n.convertChangesToXML=fr,n.canonicalize=I,Object.defineProperty(n,"__esModule",{value:!0})})});var Nae=y(($$t,Aae)=>{var Pd=1e3,kd=Pd*60,Fd=kd*60,kl=Fd*24,iet=kl*7,set=kl*365.25;Aae.exports=function(n,e){e=e||{};var t=typeof n;if(t==="string"&&n.length>0)return oet(n);if(t==="number"&&isFinite(n))return e.long?cet(n):aet(n);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(n))};function oet(n){if(n=String(n),!(n.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(n);if(e){var t=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return t*set;case"weeks":case"week":case"w":return t*iet;case"days":case"day":case"d":return t*kl;case"hours":case"hour":case"hrs":case"hr":case"h":return t*Fd;case"minutes":case"minute":case"mins":case"min":case"m":return t*kd;case"seconds":case"second":case"secs":case"sec":case"s":return t*Pd;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function aet(n){var e=Math.abs(n);return e>=kl?Math.round(n/kl)+"d":e>=Fd?Math.round(n/Fd)+"h":e>=kd?Math.round(n/kd)+"m":e>=Pd?Math.round(n/Pd)+"s":n+"ms"}function cet(n){var e=Math.abs(n);return e>=kl?Kv(n,e,kl,"day"):e>=Fd?Kv(n,e,Fd,"hour"):e>=kd?Kv(n,e,kd,"minute"):e>=Pd?Kv(n,e,Pd,"second"):n+" ms"}function Kv(n,e,t,r){var i=e>=t*1.5;return Math.round(n/t)+" "+r+(i?"s":"")}});var Mae=y((V$t,Iae)=>{function uet(n){t.debug=t,t.default=t,t.coerce=c,t.disable=o,t.enable=i,t.enabled=a,t.humanize=Nae(),t.destroy=l,Object.keys(n).forEach(d=>{t[d]=n[d]}),t.names=[],t.skips=[],t.formatters={};function e(d){let h=0;for(let p=0;p<d.length;p++)h=(h<<5)-h+d.charCodeAt(p),h|=0;return t.colors[Math.abs(h)%t.colors.length]}t.selectColor=e;function t(d){let h,p=null,b,v;function x(...N){if(!x.enabled)return;let k=x,ee=Number(new Date),X=ee-(h||ee);k.diff=X,k.prev=h,k.curr=ee,h=ee,N[0]=t.coerce(N[0]),typeof N[0]!="string"&&N.unshift("%O");let ne=0;N[0]=N[0].replace(/%([a-zA-Z%])/g,(g,xe)=>{if(g==="%%")return"%";ne++;let Ce=t.formatters[xe];if(typeof Ce=="function"){let qe=N[ne];g=Ce.call(k,qe),N.splice(ne,1),ne--}return g}),t.formatArgs.call(k,N),(k.log||t.log).apply(k,N)}return x.namespace=d,x.useColors=t.useColors(),x.color=t.selectColor(d),x.extend=r,x.destroy=t.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(b!==t.namespaces&&(b=t.namespaces,v=t.enabled(d)),v),set:N=>{p=N}}),typeof t.init=="function"&&t.init(x),x}function r(d,h){let p=t(this.namespace+(typeof h>"u"?":":h)+d);return p.log=this.log,p}function i(d){t.save(d),t.namespaces=d,t.names=[],t.skips=[];let h=(typeof d=="string"?d:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let p of h)p[0]==="-"?t.skips.push(p.slice(1)):t.names.push(p)}function s(d,h){let p=0,b=0,v=-1,x=0;for(;p<d.length;)if(b<h.length&&(h[b]===d[p]||h[b]==="*"))h[b]==="*"?(v=b,x=p,b++):(p++,b++);else if(v!==-1)b=v+1,x++,p=x;else return!1;for(;b<h.length&&h[b]==="*";)b++;return b===h.length}function o(){let d=[...t.names,...t.skips.map(h=>"-"+h)].join(",");return t.enable(""),d}function a(d){for(let h of t.skips)if(s(d,h))return!1;for(let h of t.names)if(s(d,h))return!0;return!1}function c(d){return d instanceof Error?d.stack||d.message:d}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}Iae.exports=uet});var Rae=y((vi,Jv)=>{vi.formatArgs=fet;vi.save=het;vi.load=pet;vi.useColors=det;vi.storage=met();vi.destroy=(()=>{let n=!1;return()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();vi.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function det(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let n;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(n=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(n[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function fet(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+Jv.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;n.splice(1,0,e,"color: inherit");let t=0,r=0;n[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(t++,i==="%c"&&(r=t))}),n.splice(r,0,e)}vi.log=console.debug||console.log||(()=>{});function het(n){try{n?vi.storage.setItem("debug",n):vi.storage.removeItem("debug")}catch{}}function pet(){let n;try{n=vi.storage.getItem("debug")||vi.storage.getItem("DEBUG")}catch{}return!n&&typeof process<"u"&&"env"in process&&(n=process.env.DEBUG),n}function met(){try{return localStorage}catch{}}Jv.exports=Mae()(vi);var{formatters:get}=Jv.exports;get.j=function(n){try{return JSON.stringify(n)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Oae=y(()=>{});var Fr=null,Im=!1,xw=1,gle=null,pr=Symbol("SIGNAL");function Ze(n){let e=Fr;return Fr=n,e}function Rm(){return Fr}var Ql={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Kl(n){if(Im)throw new Error("");if(Fr===null)return;Fr.consumerOnSignalRead(n);let e=Fr.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=Fr.recomputing;if(r&&(t=e!==void 0?e.nextProducer:Fr.producers,t!==void 0&&t.producer===n)){Fr.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===Fr&&(!r||ble(i,Fr)))return;let s=Zl(Fr),o={producer:n,consumer:Fr,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};Fr.producersTail=o,e!==void 0?e.nextProducer=o:Fr.producers=o,s&&DO(n,o)}function EO(){xw++}function Tw(n){if(!(Zl(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===xw)){if(!n.producerMustRecompute(n)&&!Yl(n)){Dw(n);return}n.producerRecomputeValue(n),Dw(n)}}function Sw(n){if(n.consumers===void 0)return;let e=Im;Im=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||yle(r)}}finally{Im=e}}function Aw(){return Fr?.consumerAllowSignalWrites!==!1}function yle(n){n.dirty=!0,Sw(n),n.consumerMarkedDirty?.(n)}function Dw(n){n.dirty=!1,n.lastCleanEpoch=xw}function vc(n){return n&&wO(n),Ze(n)}function wO(n){n.producersTail=void 0,n.recomputing=!0}function Jl(n,e){Ze(e),n&&CO(n)}function CO(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(Zl(n))do t=Nw(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function Yl(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(Tw(t),r!==t.version))return!0}return!1}function ba(n){if(Zl(n)){let e=n.producers;for(;e!==void 0;)e=Nw(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function DO(n,e){let t=n.consumersTail,r=Zl(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)DO(i.producer,i)}function Nw(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Zl(e)){let s=e.producers;for(;s!==void 0;)s=Nw(s)}return t}function Zl(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Iw(n){gle?.(n)}function ble(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Mw(n,e){return Object.is(n,e)}function gf(n,e){let t=Object.create(_le);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Tw(t),Kl(t),t.value===Mm)throw t.error;return t.value};return r[pr]=t,Iw(t),r}var ww=Symbol("UNSET"),Cw=Symbol("COMPUTING"),Mm=Symbol("ERRORED"),_le=$e(K({},Ql),{value:ww,dirty:!0,error:null,equal:Mw,kind:"computed",producerMustRecompute(n){return n.value===ww||n.value===Cw},producerRecomputeValue(n){if(n.value===Cw)throw new Error("");let e=n.value;n.value=Cw;let t=vc(n),r,i=!1;try{r=n.computation(),Ze(null),i=e!==ww&&e!==Mm&&r!==Mm&&n.equal(e,r)}catch(s){r=Mm,n.error=s}finally{Jl(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function vle(){throw new Error}var xO=vle;function TO(n){xO(n)}function Rw(n){xO=n}var Ele=null;function Ow(n,e){let t=Object.create(bf);t.value=n,e!==void 0&&(t.equal=e);let r=()=>SO(t);return r[pr]=t,Iw(t),[r,o=>yf(t,o),o=>AO(t,o)]}function SO(n){return Kl(n),n.value}function yf(n,e){Aw()||TO(n),n.equal(n.value,e)||(n.value=e,wle(n))}function AO(n,e){Aw()||TO(n),yf(n,e(n.value))}var bf=$e(K({},Ql),{equal:Mw,value:void 0,kind:"signal"});function wle(n){n.version++,EO(),Sw(n),Ele?.(n)}function Pw(n){let e=Ze(null);try{return n()}finally{Ze(e)}}var kw=$e(K({},Ql),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function Fw(n){if(n.dirty=!1,n.version>0&&!Yl(n))return;n.version++;let e=vc(n);try{n.cleanup(),n.fn()}finally{Jl(n,e)}}function gt(n){return typeof n=="function"}function Xl(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Om=Xl(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ec(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var fn=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(gt(r))try{r()}catch(s){e=s instanceof Om?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{NO(s)}catch(o){e=e??[],o instanceof Om?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Om(e)}}add(e){var t;if(e&&e!==this)if(this.closed)NO(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ec(t,e)}remove(e){let{_finalizers:t}=this;t&&Ec(t,e),e instanceof n&&e._removeParent(this)}};fn.EMPTY=(()=>{let n=new fn;return n.closed=!0,n})();var Lw=fn.EMPTY;function Pm(n){return n instanceof fn||n&&"closed"in n&&gt(n.remove)&&gt(n.add)&&gt(n.unsubscribe)}function NO(n){gt(n)?n():n.unsubscribe()}var vs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var eu={setTimeout(n,e,...t){let{delegate:r}=eu;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=eu;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function km(n){eu.setTimeout(()=>{let{onUnhandledError:e}=vs;if(e)e(n);else throw n})}function wc(){}var IO=Bw("C",void 0,void 0);function MO(n){return Bw("E",void 0,n)}function RO(n){return Bw("N",n,void 0)}function Bw(n,e,t){return{kind:n,value:e,error:t}}var Cc=null;function tu(n){if(vs.useDeprecatedSynchronousErrorHandling){let e=!Cc;if(e&&(Cc={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Cc;if(Cc=null,t)throw r}}else n()}function OO(n){vs.useDeprecatedSynchronousErrorHandling&&Cc&&(Cc.errorThrown=!0,Cc.error=n)}var Dc=class extends fn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Pm(e)&&e.add(this)):this.destination=xle}static create(e,t,r){return new Es(e,t,r)}next(e){this.isStopped?jw(RO(e),this):this._next(e)}error(e){this.isStopped?jw(MO(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?jw(IO,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Cle=Function.prototype.bind;function qw(n,e){return Cle.call(n,e)}var Uw=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Fm(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Fm(r)}else Fm(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Fm(t)}}},Es=class extends Dc{constructor(e,t,r){super();let i;if(gt(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&vs.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&qw(e.next,s),error:e.error&&qw(e.error,s),complete:e.complete&&qw(e.complete,s)}):i=e}this.destination=new Uw(i)}};function Fm(n){vs.useDeprecatedSynchronousErrorHandling?OO(n):km(n)}function Dle(n){throw n}function jw(n,e){let{onStoppedNotification:t}=vs;t&&eu.setTimeout(()=>t(n,e))}var xle={closed:!0,next:wc,error:Dle,complete:wc};var nu=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Si(n){return n}function $w(...n){return Vw(n)}function Vw(n){return n.length===0?Si:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var et=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=Sle(t)?t:new Es(t,r,i);return tu(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=PO(r),new r((i,s)=>{let o=new Es({next:a=>{try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[nu](){return this}pipe(...t){return Vw(t)(this)}toPromise(t){return t=PO(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function PO(n){var e;return(e=n??vs.Promise)!==null&&e!==void 0?e:Promise}function Tle(n){return n&&gt(n.next)&&gt(n.error)&&gt(n.complete)}function Sle(n){return n&&n instanceof Dc||Tle(n)&&Pm(n)}function Ale(n){return gt(n?.lift)}function _t(n){return e=>{if(Ale(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function wt(n,e,t,r,i){return new Hw(n,e,t,r,i)}var Hw=class extends Dc{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var ru={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame,{delegate:r}=ru;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);let i=e(s=>{t=void 0,n(s)});return new fn(()=>t?.(i))},requestAnimationFrame(...n){let{delegate:e}=ru;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){let{delegate:e}=ru;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var kO=Xl(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ke=(()=>{class n extends et{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Lm(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new kO}next(t){tu(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){tu(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){tu(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Lw:(this.currentObservers=null,s.push(t),new fn(()=>{this.currentObservers=null,Ec(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new et;return t.source=this,t}}return n.create=(e,t)=>new Lm(e,t),n})(),Lm=class extends Ke{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Lw}};var nr=class extends Ke{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var _f={now(){return(_f.delegate||Date).now()},delegate:void 0};var vf=class extends Ke{constructor(e=1/0,t=1/0,r=_f){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){let o=t.now(),a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}};var Bm=class extends fn{constructor(e,t){super()}schedule(e,t=0){return this}};var Ef={setInterval(n,e,...t){let{delegate:r}=Ef;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Ef;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var iu=class extends Bm{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Ef.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Ef.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ec(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var su=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};su.now=_f.now;var ou=class extends su{constructor(e,t=su.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var xc=new ou(iu),FO=xc;var qm=class extends iu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return r!==null&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=ru.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);let{actions:s}=e;t!=null&&t===e._scheduled&&((i=s[s.length-1])===null||i===void 0?void 0:i.id)!==t&&(ru.cancelAnimationFrame(t),e._scheduled=void 0)}};var jm=class extends ou{flush(e){this._active=!0;let t;e?t=e.id:(t=this._scheduled,this._scheduled=void 0);let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}};var LO=new jm(qm);var Lr=new et(n=>n.complete());function Um(n){return n&&gt(n.schedule)}function zw(n){return n[n.length-1]}function $m(n){return gt(zw(n))?n.pop():void 0}function Ks(n){return Um(zw(n))?n.pop():void 0}function BO(n,e){return typeof zw(n)=="number"?n.pop():e}function vt(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s}function Hn(n,e){return function(t,r){e(t,r,n)}}function Ve(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function jO(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{l(r.next(d))}catch(h){o(h)}}function c(d){try{l(r.throw(d))}catch(h){o(h)}}function l(d){d.done?s(d.value):i(d.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function qO(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Tc(n){return this instanceof Tc?(this.v=n,this):new Tc(n)}function UO(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(b){return function(v){return Promise.resolve(v).then(b,h)}}function a(b,v){r[b]&&(i[b]=function(x){return new Promise(function(N,k){s.push([b,x,N,k])>1||c(b,x)})},v&&(i[b]=v(i[b])))}function c(b,v){try{l(r[b](v))}catch(x){p(s[0][3],x)}}function l(b){b.value instanceof Tc?Promise.resolve(b.value.v).then(d,h):p(s[0][2],b)}function d(b){c("next",b)}function h(b){c("throw",b)}function p(b,v){b(v),s.shift(),s.length&&c(s[0][0],s[0][1])}}function $O(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof qO=="function"?qO(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,c){o=n[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}var Vm=n=>n&&typeof n.length=="number"&&typeof n!="function";function Hm(n){return gt(n?.then)}function zm(n){return gt(n[nu])}function Wm(n){return Symbol.asyncIterator&&gt(n?.[Symbol.asyncIterator])}function Gm(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Nle(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Qm=Nle();function Km(n){return gt(n?.[Qm])}function Jm(n){return UO(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Tc(t.read());if(i)return yield Tc(void 0);yield yield Tc(r)}}finally{t.releaseLock()}})}function Ym(n){return gt(n?.getReader)}function cn(n){if(n instanceof et)return n;if(n!=null){if(zm(n))return Ile(n);if(Vm(n))return Mle(n);if(Hm(n))return Rle(n);if(Wm(n))return VO(n);if(Km(n))return Ole(n);if(Ym(n))return Ple(n)}throw Gm(n)}function Ile(n){return new et(e=>{let t=n[nu]();if(gt(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Mle(n){return new et(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function Rle(n){return new et(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,km)})}function Ole(n){return new et(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function VO(n){return new et(e=>{kle(n,e).catch(t=>e.error(t))})}function Ple(n){return VO(Jm(n))}function kle(n,e){var t,r,i,s;return jO(this,void 0,void 0,function*(){try{for(t=$O(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function di(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Zm(n,e=0){return _t((t,r)=>{t.subscribe(wt(r,i=>di(r,n,()=>r.next(i),e),()=>di(r,n,()=>r.complete(),e),i=>di(r,n,()=>r.error(i),e)))})}function Xm(n,e=0){return _t((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function HO(n,e){return cn(n).pipe(Xm(e),Zm(e))}function zO(n,e){return cn(n).pipe(Xm(e),Zm(e))}function WO(n,e){return new et(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function GO(n,e){return new et(t=>{let r;return di(t,e,()=>{r=n[Qm](),di(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>gt(r?.return)&&r.return()})}function eg(n,e){if(!n)throw new Error("Iterable cannot be null");return new et(t=>{di(t,e,()=>{let r=n[Symbol.asyncIterator]();di(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function QO(n,e){return eg(Jm(n),e)}function KO(n,e){if(n!=null){if(zm(n))return HO(n,e);if(Vm(n))return WO(n,e);if(Hm(n))return zO(n,e);if(Wm(n))return eg(n,e);if(Km(n))return GO(n,e);if(Ym(n))return QO(n,e)}throw Gm(n)}function Yt(n,e){return e?KO(n,e):cn(n)}function ze(...n){let e=Ks(n);return Yt(n,e)}function wf(n,e){let t=gt(n)?n:()=>n,r=i=>i.error(t());return new et(e?i=>e.schedule(r,0,i):r)}function Cf(n){return!!n&&(n instanceof et||gt(n.lift)&&gt(n.subscribe))}var Ro=Xl(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Df(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let s=new Es({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new Ro)}});n.subscribe(s)})}function JO(n){return n instanceof Date&&!isNaN(n)}function Et(n,e){return _t((t,r)=>{let i=0;t.subscribe(wt(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:Fle}=Array;function Lle(n,e){return Fle(e)?n(...e):n(e)}function tg(n){return Et(e=>Lle(n,e))}var{isArray:Ble}=Array,{getPrototypeOf:qle,prototype:jle,keys:Ule}=Object;function ng(n){if(n.length===1){let e=n[0];if(Ble(e))return{args:e,keys:null};if($le(e)){let t=Ule(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function $le(n){return n&&typeof n=="object"&&qle(n)===jle}function rg(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function au(...n){let e=Ks(n),t=$m(n),{args:r,keys:i}=ng(n);if(r.length===0)return Yt([],e);let s=new et(Vle(r,e,i?o=>rg(i,o):Si));return t?s.pipe(tg(t)):s}function Vle(n,e,t=Si){return r=>{YO(e,()=>{let{length:i}=n,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)YO(e,()=>{let l=Yt(n[c],e),d=!1;l.subscribe(wt(r,h=>{s[c]=h,d||(d=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function YO(n,e,t){n?di(t,n,e):e()}function ZO(n,e,t,r,i,s,o,a){let c=[],l=0,d=0,h=!1,p=()=>{h&&!c.length&&!l&&e.complete()},b=x=>l<r?v(x):c.push(x),v=x=>{s&&e.next(x),l++;let N=!1;cn(t(x,d++)).subscribe(wt(e,k=>{i?.(k),s?b(k):e.next(k)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;c.length&&l<r;){let k=c.shift();o?di(e,o,()=>v(k)):v(k)}p()}catch(k){e.error(k)}}))};return n.subscribe(wt(e,b,()=>{h=!0,p()})),()=>{a?.()}}function Cr(n,e,t=1/0){return gt(e)?Cr((r,i)=>Et((s,o)=>e(r,s,i,o))(cn(n(r,i))),t):(typeof e=="number"&&(t=e),_t((r,i)=>ZO(r,i,n,t)))}function _a(n=1/0){return Cr(Si,n)}function XO(){return _a(1)}function va(...n){return XO()(Yt(n,Ks(n)))}function xf(n){return new et(e=>{cn(n()).subscribe(e)})}function Tf(...n){let e=$m(n),{args:t,keys:r}=ng(n),i=new et(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),c=o,l=o;for(let d=0;d<o;d++){let h=!1;cn(t[d]).subscribe(wt(s,p=>{h||(h=!0,l--),a[d]=p},()=>c--,void 0,()=>{(!c||!h)&&(l||s.next(r?rg(r,a):a),s.complete())}))}});return e?i.pipe(tg(e)):i}function ig(n=0,e,t=FO){let r=-1;return e!=null&&(Um(e)?t=e:r=e),new et(i=>{let s=JO(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function Hle(n=0,e=xc){return n<0&&(n=0),ig(n,n,e)}function zle(...n){let e=Ks(n),t=BO(n,1/0),r=n;return r.length?r.length===1?cn(r[0]):_a(t)(Yt(r,e)):Lr}var Wle=new et(wc);function Mn(n,e){return _t((t,r)=>{let i=0;t.subscribe(wt(r,s=>n.call(e,s,i++)&&r.next(s)))})}function eP(n){return _t((e,t)=>{let r=!1,i=null,s=null,o=!1,a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;let l=i;i=null,t.next(l)}o&&t.complete()},c=()=>{s=null,o&&t.complete()};e.subscribe(wt(t,l=>{r=!0,i=l,s||cn(n(l)).subscribe(s=wt(t,a,c))},()=>{o=!0,(!r||!s||s.closed)&&t.complete()}))})}function sg(n,e=xc){return eP(()=>ig(n,e))}function Ea(n){return _t((e,t)=>{let r=null,i=!1,s;r=e.subscribe(wt(t,void 0,void 0,o=>{s=cn(n(o,Ea(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function wa(n,e){return gt(e)?Cr(n,e,1):Cr(n,1)}function Sf(n,e=xc){return _t((t,r)=>{let i=null,s=null,o=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=s;s=null,r.next(l)}};function c(){let l=o+n,d=e.now();if(d<l){i=this.schedule(void 0,l-d),r.add(i);return}a()}t.subscribe(wt(r,l=>{s=l,o=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}function Ww(n){return _t((e,t)=>{let r=!1;e.subscribe(wt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ai(n){return n<=0?()=>Lr:_t((e,t)=>{let r=0;e.subscribe(wt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function og(n,e=Si){return n=n??Gle,_t((t,r)=>{let i,s=!0;t.subscribe(wt(r,o=>{let a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}function Gle(n,e){return n===e}function tP(n=Qle){return _t((e,t)=>{let r=!1;e.subscribe(wt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Qle(){return new Ro}function Sc(n){return _t((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Oo(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Mn((i,s)=>n(i,s,r)):Si,Ai(1),t?Ww(e):tP(()=>new Ro))}function ag(n){return n<=0?()=>Lr:_t((e,t)=>{let r=[];e.subscribe(wt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function nP(){return _t((n,e)=>{let t,r=!1;n.subscribe(wt(e,i=>{let s=t;t=i,r&&e.next([s,i]),r=!0}))})}function Af(n={}){let{connector:e=()=>new Ke,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,c,l=0,d=!1,h=!1,p=()=>{a?.unsubscribe(),a=void 0},b=()=>{p(),o=c=void 0,d=h=!1},v=()=>{let x=o;b(),x?.unsubscribe()};return _t((x,N)=>{l++,!h&&!d&&p();let k=c=c??e();N.add(()=>{l--,l===0&&!h&&!d&&(a=Gw(v,i))}),k.subscribe(N),!o&&l>0&&(o=new Es({next:ee=>k.next(ee),error:ee=>{h=!0,p(),a=Gw(b,t,ee),k.error(ee)},complete:()=>{d=!0,p(),a=Gw(b,r),k.complete()}}),cn(x).subscribe(o))})(s)}}function Gw(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new Es({next:()=>{r.unsubscribe(),n()}});return cn(e(...t)).subscribe(r)}function cg(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,Af({connector:()=>new vf(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Nf(n){return Mn((e,t)=>n<=t)}function cu(...n){let e=Ks(n);return _t((t,r)=>{(e?va(n,t,e):va(n,t)).subscribe(r)})}function fi(n,e){return _t((t,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();t.subscribe(wt(r,c=>{i?.unsubscribe();let l=0,d=s++;cn(n(c,d)).subscribe(i=wt(r,h=>r.next(e?e(c,h,d,l++):h),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Ni(n){return _t((e,t)=>{cn(n).subscribe(wt(t,()=>t.complete(),wc)),!t.closed&&e.subscribe(t)})}function Kle(n,e=!1){return _t((t,r)=>{let i=0;t.subscribe(wt(r,s=>{let o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}function jn(n,e,t){let r=gt(n)||e||t?{next:n,error:e,complete:t}:n;return r?_t((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(wt(s,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),s.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Si}var Qw;function lg(){return Qw}function Js(n){let e=Qw;return Qw=n,e}var rP=Symbol("NotFound");function lu(n){return n===rP||n?.name==="\u0275NotFound"}var gg="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",Ae=class extends Error{code;constructor(e,t){super(Zs(e,t)),this.code=e}};function Jle(n){return`NG0${Math.abs(n)}`}function Zs(n,e){return`${Jle(n)}${e?": "+e:""}`}var du=globalThis;function Zt(n){for(let e in n)if(n[e]===Zt)return e;throw Error("")}function cP(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ko(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(ko).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function yg(n,e){return n?e?`${n} ${e}`:n:e||""}var Yle=Zt({__forward_ref__:Zt});function xa(n){return n.__forward_ref__=xa,n.toString=function(){return ko(this())},n}function Dr(n){return aC(n)?n():n}function aC(n){return typeof n=="function"&&n.hasOwnProperty(Yle)&&n.__forward_ref__===xa}function me(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Tt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ff(n){return Zle(n,bg)}function cC(n){return Ff(n)!==null}function Zle(n,e){return n.hasOwnProperty(e)&&n[e]||null}function Xle(n){let e=n?.[bg]??null;return e||null}function Jw(n){return n&&n.hasOwnProperty(dg)?n[dg]:null}var bg=Zt({\u0275prov:Zt}),dg=Zt({\u0275inj:Zt}),_e=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=me({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function lC(n){return n&&!!n.\u0275providers}var uC=Zt({\u0275cmp:Zt}),dC=Zt({\u0275dir:Zt}),fC=Zt({\u0275pipe:Zt}),hC=Zt({\u0275mod:Zt}),Mf=Zt({\u0275fac:Zt}),Oc=Zt({__NG_ELEMENT_ID__:Zt}),iP=Zt({__NG_ENV_ID__:Zt});function pC(n){return vg(n,"@NgModule"),n[hC]||null}function ws(n){return vg(n,"@Component"),n[uC]||null}function _g(n){return vg(n,"@Directive"),n[dC]||null}function mC(n){return vg(n,"@Pipe"),n[fC]||null}function vg(n,e){if(n==null)throw new Ae(-919,!1)}function Ta(n){return typeof n=="string"?n:n==null?"":String(n)}function lP(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Ta(n)}var uP=Zt({ngErrorCode:Zt}),eue=Zt({ngErrorMessage:Zt}),tue=Zt({ngTokenPath:Zt});function gC(n,e){return dP("",-200,e)}function Eg(n,e){throw new Ae(-201,!1)}function dP(n,e,t){let r=new Ae(e,n);return r[uP]=e,r[eue]=n,t&&(r[tue]=t),r}function nue(n){return n[uP]}var Yw;function fP(){return Yw}function Ii(n){let e=Yw;return Yw=n,e}function yC(n,e,t){let r=Ff(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Eg(n,"")}var rue={},Ac=rue,iue="__NG_DI_FLAG__",Zw=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Nc(t)||0;try{return this.injector.get(e,r&8?null:Ac,r)}catch(i){if(lu(i))return i;throw i}}};function sue(n,e=0){let t=lg();if(t===void 0)throw new Ae(-203,!1);if(t===null)return yC(n,void 0,e);{let r=oue(e),i=t.retrieve(n,r);if(lu(i)){if(r.optional)return null;throw i}return i}}function Pe(n,e=0){return(fP()||sue)(Dr(n),e)}function U(n,e){return Pe(n,Nc(e))}function Nc(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function oue(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Xw(n){let e=[];for(let t=0;t<n.length;t++){let r=Dr(n[t]);if(Array.isArray(r)){if(r.length===0)throw new Ae(900,!1);let i,s=0;for(let o=0;o<r.length;o++){let a=r[o],c=aue(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(Pe(i,s))}else e.push(Pe(r))}return e}function aue(n){return n[iue]}function Ic(n,e){let t=n.hasOwnProperty(Mf);return t?n[Mf]:null}function hP(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}function pP(n){return n.flat(Number.POSITIVE_INFINITY)}function wg(n,e){n.forEach(t=>Array.isArray(t)?wg(t,e):e(t))}function bC(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Lf(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function mP(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function gP(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function Cg(n,e,t){let r=fu(n,e);return r>=0?n[r|1]=t:(r=~r,gP(n,r,e,t)),r}function Dg(n,e){let t=fu(n,e);if(t>=0)return n[t|1]}function fu(n,e){return cue(n,e,1)}function cue(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}var Sa={},Br=[],Xs=new _e(""),_C=new _e("",-1),vC=new _e(""),Rf=class{get(e,t=Ac){if(t===Ac){let i=dP("",-201);throw i.name="\u0275NotFound",i}return t}};function Mi(n){return{\u0275providers:n}}function yP(n){return Mi([{provide:Xs,multi:!0,useValue:n}])}function bP(...n){return{\u0275providers:xg(!0,n),\u0275fromNgModule:!0}}function xg(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return wg(e,o=>{let a=o;fg(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&_P(i,s),t}function _P(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];EC(i,s=>{e(s,r)})}}function fg(n,e,t,r){if(n=Dr(n),!n)return!1;let i=null,s=Jw(n),o=!s&&ws(n);if(!s&&!o){let c=n.ngModule;if(s=Jw(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=n}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of c)fg(l,e,t,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{wg(s.imports,d=>{fg(d,e,t,r)&&(l||=[],l.push(d))})}finally{}l!==void 0&&_P(l,e)}if(!a){let l=Ic(i)||(()=>new i);e({provide:i,useFactory:l,deps:Br},i),e({provide:vC,useValue:i,multi:!0},i),e({provide:Xs,useValue:()=>Pe(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let l=n;EC(c,d=>{e(d,l)})}}else return!1;return i!==n&&n.providers!==void 0}function EC(n,e){for(let t of n)lC(t)&&(t=t.\u0275providers),Array.isArray(t)?EC(t,e):e(t)}var lue=Zt({provide:String,useValue:Zt});function vP(n){return n!==null&&typeof n=="object"&&lue in n}function uue(n){return!!(n&&n.useExisting)}function due(n){return!!(n&&n.useFactory)}function Mc(n){return typeof n=="function"}function EP(n){return!!n.useClass}var Bf=new _e(""),ug={},sP={},Kw;function hu(){return Kw===void 0&&(Kw=new Rf),Kw}var ln=class{},Rc=class extends ln{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,tC(e,o=>this.processProvider(o)),this.records.set(_C,uu(void 0,this)),i.has("environment")&&this.records.set(ln,uu(void 0,this));let s=this.records.get(Bf);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(vC,Br,{self:!0}))}retrieve(e,t){let r=Nc(t)||0;try{return this.get(e,Ac,r)}catch(i){if(lu(i))return i;throw i}}destroy(){If(this),this._destroyed=!0;let e=Ze(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ze(e)}}onDestroy(e){return If(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){If(this);let t=Js(this),r=Ii(void 0),i;try{return e()}finally{Js(t),Ii(r)}}get(e,t=Ac,r){if(If(this),e.hasOwnProperty(iP))return e[iP](this);let i=Nc(r),s,o=Js(this),a=Ii(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let d=gue(e)&&Ff(e);d&&this.injectableDefInScope(d)?l=uu(eC(e),ug):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let c=i&2?hu():this.parent;return t=i&8&&t===Ac?null:t,c.get(e,t)}catch(c){let l=nue(c);throw l===-200||l===-201?new Ae(l,null):c}finally{Ii(a),Js(o)}}resolveInjectorInitializers(){let e=Ze(null),t=Js(this),r=Ii(void 0),i;try{let s=this.get(Xs,Br,{self:!0});for(let o of s)o()}finally{Js(t),Ii(r),Ze(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(ko(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Dr(e);let t=Mc(e)?e:Dr(e&&e.provide),r=hue(e);if(!Mc(e)&&e.multi===!0){let i=this.records.get(t);i||(i=uu(void 0,ug,!0),i.factory=()=>Xw(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=Ze(null);try{if(t.value===sP)throw gC(ko(e));return t.value===ug&&(t.value=sP,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&mue(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Ze(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Dr(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function eC(n){let e=Ff(n),t=e!==null?e.factory:Ic(n);if(t!==null)return t;if(n instanceof _e)throw new Ae(204,!1);if(n instanceof Function)return fue(n);throw new Ae(204,!1)}function fue(n){if(n.length>0)throw new Ae(204,!1);let t=Xle(n);return t!==null?()=>t.factory(n):()=>new n}function hue(n){if(vP(n))return uu(void 0,n.useValue);{let e=wC(n);return uu(e,ug)}}function wC(n,e,t){let r;if(Mc(n)){let i=Dr(n);return Ic(i)||eC(i)}else if(vP(n))r=()=>Dr(n.useValue);else if(due(n))r=()=>n.useFactory(...Xw(n.deps||[]));else if(uue(n))r=(i,s)=>Pe(Dr(n.useExisting),s!==void 0&&s&8?8:void 0);else{let i=Dr(n&&(n.useClass||n.provide));if(pue(n))r=()=>new i(...Xw(n.deps));else return Ic(i)||eC(i)}return r}function If(n){if(n.destroyed)throw new Ae(205,!1)}function uu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function pue(n){return!!n.deps}function mue(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function gue(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function tC(n,e){for(let t of n)Array.isArray(t)?tC(t,e):t&&lC(t)?tC(t.\u0275providers,e):e(t)}function mr(n,e){let t;n instanceof Rc?(If(n),t=n):t=new Zw(n);let r,i=Js(t),s=Ii(void 0);try{return e()}finally{Js(i),Ii(s)}}function CC(){return fP()!==void 0||lg()!=null}var zr=0,Fe=1,it=2,Un=3,ns=4,Wr=5,Gr=6,pu=7,$n=8,Ri=9,eo=10,Ht=11,mu=12,DC=13,Pc=14,xr=15,Aa=16,kc=17,to=18,Fo=19,xC=20,Po=21,Tg=22,Ca=23,Oi=24,Fc=25,Lc=26,Gt=27,wP=1,Cs=6,no=7,qf=8,Bc=9,Tn=10;function Pi(n){return Array.isArray(n)&&typeof n[wP]=="object"}function ki(n){return Array.isArray(n)&&n[wP]===!0}function TC(n){return(n.flags&4)!==0}function ro(n){return n.componentOffset>-1}function gu(n){return(n.flags&1)===1}function io(n){return!!n.template}function qc(n){return(n[it]&512)!==0}function Na(n){return(n[it]&256)===256}var SC="svg",CP="math";function Fi(n){for(;Array.isArray(n);)n=n[zr];return n}function AC(n,e){return Fi(e[n])}function Li(n,e){return Fi(e[n.index])}function jc(n,e){return n.data[e]}function DP(n,e){return n[e]}function rs(n,e){let t=e[n];return Pi(t)?t:t[zr]}function xP(n){return(n[it]&4)===4}function Sg(n){return(n[it]&128)===128}function TP(n){return ki(n[Un])}function Bi(n,e){return e==null?null:n[e]}function NC(n){n[kc]=0}function IC(n){n[it]&1024||(n[it]|=1024,Sg(n)&&Uc(n))}function SP(n,e){for(;n>0;)e=e[Pc],n--;return e}function jf(n){return!!(n[it]&9216||n[Oi]?.dirty)}function Ag(n){n[eo].changeDetectionScheduler?.notify(8),n[it]&64&&(n[it]|=1024),jf(n)&&Uc(n)}function Uc(n){n[eo].changeDetectionScheduler?.notify(0);let e=Da(n);for(;e!==null&&!(e[it]&8192||(e[it]|=8192,!Sg(e)));)e=Da(e)}function MC(n,e){if(Na(n))throw new Ae(911,!1);n[Po]===null&&(n[Po]=[]),n[Po].push(e)}function AP(n,e){if(n[Po]===null)return;let t=n[Po].indexOf(e);t!==-1&&n[Po].splice(t,1)}function Da(n){let e=n[Un];return ki(e)?e[Un]:e}function RC(n){return n[pu]??=[]}function OC(n){return n.cleanup??=[]}function NP(n,e,t,r){let i=RC(e);i.push(t),n.firstCreatePass&&OC(n).push(r,i.length-1)}var yt={lFrame:$P(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var nC=!1;function IP(){return yt.lFrame.elementDepthCount}function MP(){yt.lFrame.elementDepthCount++}function PC(){yt.lFrame.elementDepthCount--}function Ng(){return yt.bindingsEnabled}function Ig(){return yt.skipHydrationRootTNode!==null}function kC(n){return yt.skipHydrationRootTNode===n}function RP(n){yt.skipHydrationRootTNode=n}function FC(){yt.skipHydrationRootTNode=null}function Xe(){return yt.lFrame.lView}function bn(){return yt.lFrame.tView}function Mg(n){return yt.lFrame.contextLView=n,n[$n]}function Rg(n){return yt.lFrame.contextLView=null,n}function gr(){let n=LC();for(;n!==null&&n.type===64;)n=n.parent;return n}function LC(){return yt.lFrame.currentTNode}function OP(){let n=yt.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function yu(n,e){let t=yt.lFrame;t.currentTNode=n,t.isParent=e}function BC(){return yt.lFrame.isParent}function qC(){yt.lFrame.isParent=!1}function PP(){return yt.lFrame.contextLView}function jC(){return nC}function Of(n){let e=nC;return nC=n,e}function UC(){let n=yt.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function kP(){return yt.lFrame.bindingIndex}function FP(n){return yt.lFrame.bindingIndex=n}function so(){return yt.lFrame.bindingIndex++}function Og(n){let e=yt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function LP(){return yt.lFrame.inI18n}function BP(n,e){let t=yt.lFrame;t.bindingIndex=t.bindingRootIndex=n,Pg(e)}function qP(){return yt.lFrame.currentDirectiveIndex}function Pg(n){yt.lFrame.currentDirectiveIndex=n}function jP(n){let e=yt.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function kg(){return yt.lFrame.currentQueryIndex}function Uf(n){yt.lFrame.currentQueryIndex=n}function yue(n){let e=n[Fe];return e.type===2?e.declTNode:e.type===1?n[Wr]:null}function $C(n,e,t){if(t&4){let i=e,s=n;for(;i=i.parent,i===null&&!(t&1);)if(i=yue(s),i===null||(s=s[Pc],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=yt.lFrame=UP();return r.currentTNode=e,r.lView=n,!0}function Fg(n){let e=UP(),t=n[Fe];yt.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function UP(){let n=yt.lFrame,e=n===null?null:n.child;return e===null?$P(n):e}function $P(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function VP(){let n=yt.lFrame;return yt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var VC=VP;function Lg(){let n=VP();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function HP(n){return(yt.lFrame.contextLView=SP(n,yt.lFrame.contextLView))[$n]}function oo(){return yt.lFrame.selectedIndex}function Ia(n){yt.lFrame.selectedIndex=n}function bu(){let n=yt.lFrame;return jc(n.tView,n.selectedIndex)}function HC(){yt.lFrame.currentNamespace=SC}function zC(){bue()}function bue(){yt.lFrame.currentNamespace=null}function WC(){return yt.lFrame.currentNamespace}var zP=!0;function Bg(){return zP}function Lo(n){zP=n}function rC(n,e=null,t=null,r){let i=GC(n,e,t,r);return i.resolveInjectorInitializers(),i}function GC(n,e=null,t=null,r,i=new Set){let s=[t||Br,bP(n)];return r=r||(typeof n=="object"?void 0:ko(n)),new Rc(s,e||hu(),r||null,i)}var Xt=class n{static THROW_IF_NOT_FOUND=Ac;static NULL=new Rf;static create(e,t){if(Array.isArray(e))return rC({name:""},t,e,"");{let r=e.name??"";return rC({name:r},e.parent,e.providers,r)}}static \u0275prov=me({token:n,providedIn:"any",factory:()=>Pe(_C)});static __NG_ELEMENT_ID__=-1},st=new _e(""),Qr=(()=>{class n{static __NG_ELEMENT_ID__=_ue;static __NG_ENV_ID__=t=>t}return n})(),hg=class extends Qr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Na(this._lView)}onDestroy(e){let t=this._lView;return MC(t,e),()=>AP(t,e)}};function _ue(){return new hg(Xe())}var WP=!1,ao=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new nr(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new et(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=me({token:n,providedIn:"root",factory:()=>new n})}return n})(),iC=class extends Ke{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,CC()&&(this.destroyRef=U(Qr,{optional:!0})??void 0,this.pendingTasks=U(ao,{optional:!0})??void 0)}emit(e){let t=Ze(null);try{super.next(e)}finally{Ze(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof fn&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},hn=iC;function pg(...n){}function QC(n){let e,t;function r(){n=pg;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function KC(n){return queueMicrotask(()=>n()),()=>{n=pg}}var JC="isAngularZone",Pf=JC+"_ID",vue=0,Nt=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new hn(!1);onMicrotaskEmpty=new hn(!1);onStable=new hn(!1);onError=new hn(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=WP}=e;if(typeof Zone>"u")throw new Ae(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,Cue(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(JC)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new Ae(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new Ae(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Eue,pg,pg);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},Eue={};function YC(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function wue(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){QC(()=>{n.callbackScheduled=!1,sC(n),n.isCheckStableRunning=!0,YC(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),sC(n)}function Cue(n){let e=()=>{wue(n)},t=vue++;n._inner=n._inner.fork({name:"angular",properties:{[JC]:!0,[Pf]:t,[Pf+t]:!0},onInvokeTask:(r,i,s,o,a,c)=>{if(Due(c))return r.invokeTask(s,o,a,c);try{return oP(n),r.invokeTask(s,o,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),aP(n)}},onInvoke:(r,i,s,o,a,c,l)=>{try{return oP(n),r.invoke(s,o,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!xue(c)&&e(),aP(n)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,sC(n),YC(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function sC(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function oP(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function aP(n){n._nesting--,YC(n)}var kf=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new hn;onMicrotaskEmpty=new hn;onStable=new hn;onError=new hn;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function Due(n){return GP(n,"__ignore_ng_zone__")}function xue(n){return GP(n,"__scheduler_tick__")}function GP(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var hi=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Ds=new _e("",{factory:()=>{let n=U(Nt),e=U(ln),t;return r=>{n.runOutsideAngular(()=>{e.destroyed&&!t?setTimeout(()=>{throw r}):(t??=e.get(hi),t.handleError(r))})}}}),QP={provide:Xs,useValue:()=>{let n=U(hi,{optional:!0})},multi:!0},Tue=new _e("",{factory:()=>{let n=U(st).defaultView;if(!n)return;let e=U(Ds),t=s=>{e(s.reason),s.preventDefault()},r=s=>{s.error?e(s.error):e(new Error(s.message,{cause:s})),s.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),U(Qr).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function Sue(){return Mi([yP(()=>void U(Tue))])}function zn(n,e){let[t,r,i]=Ow(n,e?.equal),s=t,o=s[pr];return s.set=r,s.update=i,s.asReadonly=KP.bind(s),s}function KP(){let n=this[pr];if(n.readonlyFn===void 0){let e=()=>this();e[pr]=n,n.readonlyFn=e}return n.readonlyFn}var _u=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=Aue}return n})();function Aue(){return new _u(Xe(),gr())}var Ys=class{},$f=new _e("",{factory:()=>!0});var ZC=new _e(""),Vf=(()=>{class n{internalPendingTasks=U(ao);scheduler=U(Ys);errorHandler=U(Ds);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=me({token:n,providedIn:"root",factory:()=>new n})}return n})(),qg=(()=>{class n{static \u0275prov=me({token:n,providedIn:"root",factory:()=>new oC})}return n})(),oC=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}},mg=class{[pr];constructor(e){this[pr]=e}destroy(){this[pr].destroy()}};function jg(n,e){let t=e?.injector??U(Xt),r=e?.manualCleanup!==!0?t.get(Qr):null,i,s=t.get(_u,null,{optional:!0}),o=t.get(Ys);return s!==null?(i=Mue(s.view,o,n),r instanceof hg&&r._lView===s.view&&(r=null)):i=Rue(n,t.get(qg),o),i.injector=t,r!==null&&(i.onDestroyFns=[r.onDestroy(()=>i.destroy())]),new mg(i)}var JP=$e(K({},kw),{cleanupFns:void 0,zone:null,onDestroyFns:null,run(){let n=Of(!1);try{Fw(this)}finally{Of(n)}},cleanup(){if(!this.cleanupFns?.length)return;let n=Ze(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],Ze(n)}}}),Nue=$e(K({},JP),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if(ba(this),this.onDestroyFns!==null)for(let n of this.onDestroyFns)n();this.cleanup(),this.scheduler.remove(this)}}),Iue=$e(K({},JP),{consumerMarkedDirty(){this.view[it]|=8192,Uc(this.view),this.notifier.notify(13)},destroy(){if(ba(this),this.onDestroyFns!==null)for(let n of this.onDestroyFns)n();this.cleanup(),this.view[Ca]?.delete(this)}});function Mue(n,e,t){let r=Object.create(Iue);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=YP(r,t),n[Ca]??=new Set,n[Ca].add(r),r.consumerMarkedDirty(r),r}function Rue(n,e,t){let r=Object.create(Nue);return r.fn=YP(r,n),r.scheduler=e,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function YP(n,e){return()=>{e(t=>(n.cleanupFns??=[]).push(t))}}function rr(n){return Pw(n)}var Ug={JSACTION:"jsaction"};function eh(n){return{toString:n}.toString()}function que(n){return typeof n=="function"}function qk(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Yg=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}},ji=(()=>{let n=()=>jk;return n.ngInherit=!0,n})();function jk(n){return n.type.prototype.ngOnChanges&&(n.setInput=Uue),jue}function jue(){let n=$k(this),e=n?.current;if(e){let t=n.previous;if(t===Sa)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Uue(n,e,t,r,i){let s=this.declaredInputs[r],o=$k(n)||$ue(n,{previous:Sa,current:null}),a=o.current||(o.current={}),c=o.previous,l=c[s];a[s]=new Yg(l&&l.currentValue,t,c===Sa),qk(n,e,i,t)}var Uk="__ngSimpleChanges__";function $k(n){return n[Uk]||null}function $ue(n,e){return n[Uk]=e}var ZP=[];var zt=function(n,e=null,t){for(let r=0;r<ZP.length;r++){let i=ZP[r];i(n,e,t)}},Bt=(function(n){return n[n.TemplateCreateStart=0]="TemplateCreateStart",n[n.TemplateCreateEnd=1]="TemplateCreateEnd",n[n.TemplateUpdateStart=2]="TemplateUpdateStart",n[n.TemplateUpdateEnd=3]="TemplateUpdateEnd",n[n.LifecycleHookStart=4]="LifecycleHookStart",n[n.LifecycleHookEnd=5]="LifecycleHookEnd",n[n.OutputStart=6]="OutputStart",n[n.OutputEnd=7]="OutputEnd",n[n.BootstrapApplicationStart=8]="BootstrapApplicationStart",n[n.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",n[n.BootstrapComponentStart=10]="BootstrapComponentStart",n[n.BootstrapComponentEnd=11]="BootstrapComponentEnd",n[n.ChangeDetectionStart=12]="ChangeDetectionStart",n[n.ChangeDetectionEnd=13]="ChangeDetectionEnd",n[n.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",n[n.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",n[n.AfterRenderHooksStart=16]="AfterRenderHooksStart",n[n.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",n[n.ComponentStart=18]="ComponentStart",n[n.ComponentEnd=19]="ComponentEnd",n[n.DeferBlockStateStart=20]="DeferBlockStateStart",n[n.DeferBlockStateEnd=21]="DeferBlockStateEnd",n[n.DynamicComponentStart=22]="DynamicComponentStart",n[n.DynamicComponentEnd=23]="DynamicComponentEnd",n[n.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",n[n.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",n})(Bt||{});function Vue(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=jk(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function Vk(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function zg(n,e,t){Hk(n,e,3,t)}function Wg(n,e,t,r){(n[it]&3)===t&&Hk(n,e,t,r)}function XC(n,e){let t=n[it];(t&3)===e&&(t&=16383,t+=1,n[it]=t)}function Hk(n,e,t,r){let i=r!==void 0?n[kc]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[kc]+=65536),(a<s||s==-1)&&(Hue(n,t,e,c),n[kc]=(n[kc]&4294901760)+c+2),c++}function XP(n,e){zt(Bt.LifecycleHookStart,n,e);let t=Ze(null);try{e.call(n)}finally{Ze(t),zt(Bt.LifecycleHookEnd,n,e)}}function Hue(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],a=n[o];i?n[it]>>14<n[kc]>>16&&(n[it]&3)===e&&(n[it]+=16384,XP(a,s)):XP(a,s)}var Eu=-1,Hc=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function zue(n){return(n.flags&8)!==0}function Wue(n){return(n.flags&16)!==0}function Gue(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{let s=i,o=t[++r];Que(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function zk(n){return n===3||n===4||n===6}function Que(n){return n.charCodeAt(0)===64}function Du(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?ek(n,t,i,null,e[++r]):ek(n,t,i,null,null))}}return n}function ek(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){i!==null&&(n[s+1]=i);return}s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),i!==null&&n.splice(s++,0,i)}function Wk(n){return n!==Eu}function Zg(n){return n&32767}function Kue(n){return n>>16}function Xg(n,e){let t=Kue(n),r=e;for(;t>0;)r=r[Pc],t--;return r}var h0=!0;function tk(n){let e=h0;return h0=n,e}var Jue=256,Gk=Jue-1,Qk=5,Yue=0,co={};function Zue(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Oc)&&(r=t[Oc]),r==null&&(r=t[Oc]=Yue++);let i=r&Gk,s=1<<i;e.data[n+(i>>Qk)]|=s}function ey(n,e){let t=Kk(n,e);if(t!==-1)return t;let r=e[Fe];r.firstCreatePass&&(n.injectorIndex=e.length,e0(r.data,n),e0(e,null),e0(r.blueprint,null));let i=K0(n,e),s=n.injectorIndex;if(Wk(i)){let o=Zg(i),a=Xg(i,e),c=a[Fe].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function e0(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Kk(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function K0(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=eF(i),r===null)return Eu;if(t++,i=i[Pc],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Eu}function p0(n,e,t){Zue(n,e,t)}function Xue(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let s=t[i];if(zk(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(s===e)return t[i+1];i=i+2}}}return null}function Jk(n,e,t){if(t&8||n!==void 0)return n;Eg(e,"NodeInjector")}function Yk(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Ri],s=Ii(void 0);try{return i?i.get(e,r,t&8):yC(e,r,t&8)}finally{Ii(s)}}return Jk(r,e,t)}function Zk(n,e,t,r=0,i){if(n!==null){if(e[it]&2048&&!(r&2)){let o=rde(n,e,t,r,co);if(o!==co)return o}let s=Xk(n,e,t,r,co);if(s!==co)return s}return Yk(e,t,r,i)}function Xk(n,e,t,r,i){let s=tde(t);if(typeof s=="function"){if(!$C(e,n,r))return r&1?Jk(i,t,r):Yk(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&8))Eg(t);else return o}finally{VC()}}else if(typeof s=="number"){let o=null,a=Kk(n,e),c=Eu,l=r&1?e[xr][Wr]:null;for((a===-1||r&4)&&(c=a===-1?K0(n,e):e[a+8],c===Eu||!rk(r,!1)?a=-1:(o=e[Fe],a=Zg(c),e=Xg(c,e)));a!==-1;){let d=e[Fe];if(nk(s,a,d.data)){let h=ede(a,e,t,o,r,l);if(h!==co)return h}c=e[a+8],c!==Eu&&rk(r,e[Fe].data[a+8]===l)&&nk(s,a,e)?(o=d,a=Zg(c),e=Xg(c,e)):a=-1}}return i}function ede(n,e,t,r,i,s){let o=e[Fe],a=o.data[n+8],c=r==null?ro(a)&&h0:r!=o&&(a.type&3)!==0,l=i&1&&s===a,d=Gg(a,o,t,c,l);return d!==null?Wf(e,o,d,a,i):co}function Gg(n,e,t,r,i){let s=n.providerIndexes,o=e.data,a=s&1048575,c=n.directiveStart,l=n.directiveEnd,d=s>>20,h=r?a:a+d,p=i?a+d:l;for(let b=h;b<p;b++){let v=o[b];if(b<c&&t===v||b>=c&&v.type===t)return b}if(i){let b=o[c];if(b&&io(b)&&b.type===t)return c}return null}function Wf(n,e,t,r,i){let s=n[t],o=e.data;if(s instanceof Hc){let a=s;if(a.resolving){let b=lP(o[t]);throw gC(b)}let c=tk(a.canSeeViewProviders);a.resolving=!0;let l=o[t].type||o[t],d,h=a.injectImpl?Ii(a.injectImpl):null,p=$C(n,r,0);try{s=n[t]=a.factory(void 0,i,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&Vue(t,o[t],e)}finally{h!==null&&Ii(h),tk(c),a.resolving=!1,VC()}}return s}function tde(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Oc)?n[Oc]:void 0;return typeof e=="number"?e>=0?e&Gk:nde:e}function nk(n,e,t){let r=1<<n;return!!(t[e+(n>>Qk)]&r)}function rk(n,e){return!(n&2)&&!(n&1&&e)}var Vc=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Zk(this._tNode,this._lView,e,Nc(r),t)}};function nde(){return new Vc(gr(),Xe())}function Uo(n){return eh(()=>{let e=n.prototype.constructor,t=e[Mf]||m0(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[Mf]||m0(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function m0(n){return aC(n)?()=>{let e=m0(Dr(n));return e&&e()}:Ic(n)}function rde(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[it]&2048&&!qc(o);){let a=Xk(s,o,t,r|2,co);if(a!==co)return a;let c=s.parent;if(!c){let l=o[xC];if(l){let d=l.get(t,co,r);if(d!==co)return d}c=eF(o),o=o[Pc]}s=c}return i}function eF(n){let e=n[Fe],t=e.type;return t===2?e.declTNode:t===1?n[Wr]:null}function py(n){return Xue(gr(),n)}function ide(){return Au(gr(),Xe())}function Au(n,e){return new _n(Li(n,e))}var _n=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=ide}return n})();function tF(n){return n instanceof _n?n.nativeElement:n}function sde(){return this._results[Symbol.iterator]()}var zc=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ke}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=pP(e);(this._changesDetected=!hP(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=sde},nF="ngSkipHydration",ode="ngskiphydration";function rF(n){let e=n.mergedAttrs;if(e===null)return!1;for(let t=0;t<e.length;t+=2){let r=e[t];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===ode)return!0}return!1}function iF(n){return n.hasAttribute(nF)}function ty(n){return(n.flags&128)===128}function sF(n){if(ty(n))return!0;let e=n.parent;for(;e;){if(ty(n)||rF(e))return!0;e=e.parent}return!1}var J0=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(J0||{}),oF=new Map,ade=0;function cde(){return ade++}function lde(n){oF.set(n[Fo],n)}function g0(n){oF.delete(n[Fo])}var ik="__ngContext__";function xu(n,e){Pi(e)?(n[ik]=e[Fo],lde(e)):n[ik]=e}function aF(n){return lF(n[mu])}function cF(n){return lF(n[ns])}function lF(n){for(;n!==null&&!ki(n);)n=n[ns];return n}var y0;function Y0(n){y0=n}function uF(){if(y0!==void 0)return y0;if(typeof document<"u")return document;throw new Ae(210,!1)}var mi=new _e("",{factory:()=>ude}),ude="ng";var my=new _e(""),Pa=new _e("",{providedIn:"platform",factory:()=>"unknown"}),Z0=new _e(""),Nu=new _e("",{factory:()=>U(st).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Iu=(()=>{class n{static \u0275prov=me({token:n,providedIn:"root",factory:()=>{let t=new n;return t.store=dde(U(st),U(mi)),t}});store={};onSerializeCallbacks={};get(t,r){return this.store[t]!==void 0?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(let t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();function dde(n,e){let t=n.getElementById(e+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var dF="h",fF="b",fde="f",hde="n",hF="e",pF="t",gy="c",X0="x",Gf="r",mF="i",gF="n",eD="d";var yF="di",bF="s",_F="p";var th=new _e(""),vF=!1,tD=new _e("",{factory:()=>vF});var nD=new _e(""),EF=!1,wF=new _e("",{factory:()=>[]}),CF=new _e(""),rD=new _e("",{factory:()=>new Map}),yy=new _e("");var nh="ngb";var DF=(n,e,t)=>{let r=n,i=r.__jsaction_fns??new Map,s=i.get(e)??[];s.push(t),i.set(e,s),r.__jsaction_fns=i},xF=(n,e)=>{let t=n,r=t.getAttribute(nh)??"",i=e.get(r)??new Set;i.has(t)||i.add(t),e.set(r,i)};var TF=n=>{n.removeAttribute(Ug.JSACTION),n.removeAttribute(nh),n.__jsaction_fns=void 0},SF=new _e("",{factory:()=>({})});function iD(n,e){let t=e?.__jsaction_fns?.get(n.type);if(!(!t||!e?.isConnected))for(let r of t)r(n)}var b0=new Map;function AF(n,e){return b0.set(n,e),()=>b0.delete(n)}var sk=!1,NF=(n,e,t,r)=>{};function pde(n,e,t,r){NF(n,e,t,r)}function IF(){sk||(NF=(n,e,t,r)=>{let i=n[Ri].get(mi);b0.get(i)?.(e,t,r)},sk=!0)}var by=new _e("");function rh(n){return(n.flags&32)===32}var mde="__nghData__",sD=mde,gde="__nghDeferData__",MF=gde;var Qg="ngh",RF="nghm",OF=()=>null;function yde(n,e,t=!1){let r=n.getAttribute(Qg);if(r==null)return null;let[i,s]=r.split("|");if(r=t?s:i,!r)return null;let o=s?`|${s}`:"",a=t?i:o,c={};if(r!==""){let d=e.get(Iu,null,{optional:!0});d!==null&&(c=d.get(sD,[])[Number(r)])}let l={data:c,firstChild:n.firstChild??null};return t&&(l.firstChild=n,_y(l,0,n.nextSibling)),a?n.setAttribute(Qg,a):n.removeAttribute(Qg),l}function PF(){OF=yde}function kF(n,e,t=!1){return OF(n,e,t)}function FF(n){let e=n._lView;return e[Fe].type===2?null:(qc(e)&&(e=e[Gt]),e)}function bde(n){return n.textContent?.replace(/\s/gm,"")}function _de(n){let e=uF(),t=e.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(s){let o=bde(s);return o==="ngetn"||o==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=t.nextNode();)i.push(r);for(let s of i)s.textContent==="ngetn"?s.replaceWith(e.createTextNode("")):s.remove()}function _y(n,e,t){n.segmentHeads??={},n.segmentHeads[e]=t}function _0(n,e){return n.segmentHeads?.[e]??null}function LF(n){return n.get(CF,!1,{optional:!0})}function vde(n,e){let t=n.data,r=t[hF]?.[e]??null;return r===null&&t[gy]?.[e]&&(r=oD(n,e)),r}function BF(n,e){return n.data[gy]?.[e]??null}function oD(n,e){let t=BF(n,e)??[],r=0;for(let i of t)r+=i[Gf]*(i[X0]??1);return r}function Ede(n){if(typeof n.disconnectedNodes>"u"){let e=n.data[eD];n.disconnectedNodes=e?new Set(e):null}return n.disconnectedNodes}function qF(n,e){if(typeof n.disconnectedNodes>"u"){let t=n.data[eD];n.disconnectedNodes=t?new Set(t):null}return!!Ede(n)?.has(e)}function vy(n,e){let t=n[Gr];return t!==null&&!Ig()&&!rh(e)&&!qF(t,e.index-Gt)}function wde(n,e){let t=e.get(by),i=e.get(Iu).get(MF,{}),s=!1,o=n,a=null,c=[];for(;!s&&o;){s=t.has(o);let l=t.hydrating.get(o);if(a===null&&l!=null){a=l.promise;break}c.unshift(o),o=i[o][_F]}return{parentBlockPromise:a,hydrationQueue:c}}function t0(n){return!!n&&n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===RF}function ok(n){for(;n&&n.nodeType===Node.TEXT_NODE;)n=n.previousSibling;return n}function jF(n){for(let r of n.body.childNodes)if(t0(r))return;let e=ok(n.body.previousSibling);if(t0(e))return;let t=ok(n.head.lastChild);if(!t0(t))throw new Ae(-507,!1)}function UF(n,e){let t=n.contentQueries;if(t!==null){let r=Ze(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let a=n.data[o];Uf(s),a.contentQueries(2,e[o],o)}}}finally{Ze(r)}}}function v0(n,e,t){Uf(0);let r=Ze(null);try{e(n,t)}finally{Ze(r)}}function aD(n,e,t){if(TC(e)){let r=Ze(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=n.data[o];if(a.contentQueries){let c=t[o];a.contentQueries(1,c,o)}}}finally{Ze(r)}}}var Ss=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n[n.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",n})(Ss||{});var $g;function Cde(){if($g===void 0&&($g=null,du.trustedTypes))try{$g=du.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return $g}function Ey(n){return Cde()?.createHTML(n)||n}var Bo=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gg})`}},E0=class extends Bo{getTypeName(){return"HTML"}},w0=class extends Bo{getTypeName(){return"Style"}},C0=class extends Bo{getTypeName(){return"Script"}},D0=class extends Bo{getTypeName(){return"URL"}},x0=class extends Bo{getTypeName(){return"ResourceURL"}};function As(n){return n instanceof Bo?n.changingThisBreaksApplicationSecurity:n}function ka(n,e){let t=$F(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${gg})`)}return t===e}function $F(n){return n instanceof Bo&&n.getTypeName()||null}function cD(n){return new E0(n)}function lD(n){return new w0(n)}function uD(n){return new C0(n)}function dD(n){return new D0(n)}function fD(n){return new x0(n)}function Dde(n){let e=new S0(n);return xde()?new T0(e):e}var T0=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Ey(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},S0=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Ey(e),t}};function xde(){try{return!!new window.DOMParser().parseFromString(Ey(""),"text/html")}catch{return!1}}var Tde=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ih(n){return n=String(n),n.match(Tde)?n:"unsafe:"+n}function $o(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function sh(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var VF=$o("area,br,col,hr,img,wbr"),HF=$o("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),zF=$o("rp,rt"),Sde=sh(zF,HF),Ade=sh(HF,$o("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Nde=sh(zF,$o("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ak=sh(VF,Ade,Nde,Sde),WF=$o("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ide=$o("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Mde=$o("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Rde=sh(WF,Ide,Mde),Ode=$o("script,style,template"),A0=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=Fde(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=kde(t);if(s){t=s;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=ck(e).toLowerCase();if(!ak.hasOwnProperty(t))return this.sanitizedSomething=!0,!Ode.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!Rde.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;WF[a]&&(c=ih(c)),this.buf.push(" ",o,'="',lk(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=ck(e).toLowerCase();ak.hasOwnProperty(t)&&!VF.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(lk(e))}};function Pde(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function kde(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw GF(e);return e}function Fde(n){let e=n.firstChild;if(e&&Pde(n,e))throw GF(e);return e}function ck(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function GF(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var Lde=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Bde=/([^\#-~ |!])/g;function lk(n){return n.replace(/&/g,"&amp;").replace(Lde,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(Bde,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Vg;function hD(n,e){let t=null;try{Vg=Vg||Dde(n);let r=e?String(e):"";t=Vg.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=Vg.getInertBodyElement(r)}while(r!==s);let a=new A0().sanitizeChildren(uk(t)||t);return Ey(a)}finally{if(t){let r=uk(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function uk(n){return"content"in n&&qde(n)?n.content:null}function qde(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var jde=/^>|^->|<!--|-->|--!>|<!-$/g,Ude=/(<|>)/g,$de="\u200B$1\u200B";function Vde(n){return n.replace(jde,e=>e.replace(Ude,$de))}function QF(n,e){return n.createText(e)}function Hde(n,e,t){n.setValue(e,t)}function KF(n,e){return n.createComment(Vde(e))}function pD(n,e,t){return n.createElement(e,t)}function ny(n,e,t,r,i){n.insertBefore(e,t,r,i)}function JF(n,e,t){n.appendChild(e,t)}function dk(n,e,t,r,i){r!==null?ny(n,e,t,r,i):JF(n,e,t)}function mD(n,e,t,r){n.removeChild(null,e,t,r)}function YF(n){n.textContent=""}function zde(n,e,t){n.setAttribute(e,"style",t)}function Wde(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function ZF(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&Gue(n,e,r),i!==null&&Wde(n,e,i),s!==null&&zde(n,e,s)}var qr=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(qr||{});function Gde(n){let e=Qde();return e?e.sanitize(qr.URL,n)||"":ka(n,"URL")?As(n):ih(Ta(n))}function Qde(){let n=Xe();return n&&n[eo].sanitizer}function XF(n){return n.ownerDocument.body}function e1(n){return n instanceof Function?n():n}function Kde(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}var t1="ng-template";function Jde(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Kde(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(gD(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function gD(n){return n.type===4&&n.value!==t1}function Yde(n,e,t){let r=n.type===4&&!t?t1:n.value;return e===r}function Zde(n,e,t){let r=4,i=n.attrs,s=i!==null?tfe(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!xs(r)&&!xs(c))return!1;if(o&&xs(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!Yde(n,c,t)||c===""&&e.length===1){if(xs(r))return!1;o=!0}}else if(r&8){if(i===null||!Jde(n,i,c,t)){if(xs(r))return!1;o=!0}}else{let l=e[++a],d=Xde(c,i,gD(n),t);if(d===-1){if(xs(r))return!1;o=!0;continue}if(l!==""){let h;if(d>s?h="":h=i[d+1].toLowerCase(),r&2&&l!==h){if(xs(r))return!1;o=!0}}}}return xs(r)||o}function xs(n){return(n&1)===0}function Xde(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return nfe(e,n)}function n1(n,e,t=!1){for(let r=0;r<e.length;r++)if(Zde(n,e[r],t))return!0;return!1}function efe(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function tfe(n){for(let e=0;e<n.length;e++){let t=n[e];if(zk(t))return e}return n.length}function nfe(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function rfe(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function fk(n,e){return n?":not("+e.trim()+")":e}function ife(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!xs(o)&&(e+=fk(s,i),i=""),r=o,s=s||!xs(r);t++}return i!==""&&(e+=fk(s,i)),e}function sfe(n){return n.map(ife).join(",")}function ofe(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!xs(i))break;i=s}r++}return t.length&&e.push(1,...t),e}var Jr={};function yD(n,e,t,r,i,s,o,a,c,l,d){let h=Gt+r,p=h+i,b=afe(h,p),v=typeof l=="function"?l():l;return b[Fe]={type:n,blueprint:b,template:t,queries:null,viewQuery:a,declTNode:e,data:b.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:d}}function afe(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Jr);return t}function cfe(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=yD(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function bD(n,e,t,r,i,s,o,a,c,l,d){let h=e.blueprint.slice();return h[zr]=i,h[it]=r|4|128|8|64|1024,(l!==null||n&&n[it]&2048)&&(h[it]|=2048),NC(h),h[Un]=h[Pc]=n,h[$n]=t,h[eo]=o||n&&n[eo],h[Ht]=a||n&&n[Ht],h[Ri]=c||n&&n[Ri]||null,h[Wr]=s,h[Fo]=cde(),h[Gr]=d,h[xC]=l,h[xr]=e.type==2?n[xr]:h,h}function lfe(n,e,t){let r=Li(e,n),i=cfe(t),s=n[eo].rendererFactory,o=_D(n,bD(n,i,null,r1(t),r,e,null,s.createRenderer(r,t),null,null,null));return n[e.index]=o}function r1(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function i1(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function _D(n,e){return n[mu]?n[DC][ns]=e:n[mu]=e,n[DC]=e,e}function wy(n=1){s1(bn(),Xe(),oo()+n,!1)}function s1(n,e,t,r){if(!r)if((e[it]&3)===3){let s=n.preOrderCheckHooks;s!==null&&zg(e,s,t)}else{let s=n.preOrderHooks;s!==null&&Wg(e,s,0,t)}Ia(t)}var Cy=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Cy||{});function N0(n,e,t,r){let i=Ze(null);try{let[s,o,a]=n.inputs[t],c=null;(o&Cy.SignalBased)!==0&&(c=e[s][pr]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,s):qk(e,c,s,r)}finally{Ze(i)}}var qo=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(qo||{}),ufe;function vD(n,e){return ufe(n,e)}var Wc=new Set,Dy=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(Dy||{}),lo=new _e(""),hk=new Set;function Yr(n){hk.has(n)||(hk.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var xy=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=me({token:n,providedIn:"root",factory:()=>new n})}return n})(),ED=[0,1,2,3],wD=(()=>{class n{ngZone=U(Nt);scheduler=U(Ys);errorHandler=U(hi,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){U(lo,{optional:!0})}execute(){let t=this.sequences.size>0;t&&zt(Bt.AfterRenderHooksStart),this.executing=!0;for(let r of ED)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let s=i.hooks[r];return s(i.pipelinedValue)},i.snapshot))}catch(s){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(s)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&zt(Bt.AfterRenderHooksEnd)}register(t){let{view:r}=t;r!==void 0?((r[Fc]??=[]).push(t),Uc(r),r[it]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Dy.AFTER_NEXT_RENDER,t):t()}static \u0275prov=me({token:n,providedIn:"root",factory:()=>new n})}return n})(),Qf=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,s,o=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=o,this.unregisterOnDestroy=s?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Fc];e&&(this.view[Fc]=e.filter(t=>t!==this))}};function Fa(n,e){let t=e?.injector??U(Xt);return Yr("NgAfterNextRender"),ffe(n,t,e,!0)}function dfe(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function ffe(n,e,t,r){let i=e.get(xy);i.impl??=e.get(wD);let s=e.get(lo,null,{optional:!0}),o=t?.manualCleanup!==!0?e.get(Qr):null,a=e.get(_u,null,{optional:!0}),c=new Qf(i.impl,dfe(n),a?.view,r,o,s?.snapshot(null));return i.impl.register(c),c}var o1=new _e("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:U(ln)})});function a1(n,e,t){let r=n.get(o1);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function hfe(n,e){let t=n.get(o1);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)t.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function pfe(n,e){for(let[t,r]of e)a1(n,r.animateFns)}function pk(n,e,t,r){let i=n?.[Lc]?.enter;e!==null&&i&&i.has(t.index)&&pfe(r,i)}function vu(n,e,t,r,i,s,o,a){if(i!=null){let c,l=!1;ki(i)?c=i:Pi(i)&&(l=!0,i=i[zr]);let d=Fi(i);n===0&&r!==null?(pk(a,r,s,t),o==null?JF(e,r,d):ny(e,r,d,o||null,!0)):n===1&&r!==null?(pk(a,r,s,t),ny(e,r,d,o||null,!0)):n===2?mk(a,s,t,h=>{mD(e,d,l,h)}):n===3&&mk(a,s,t,()=>{e.destroyNode(d)}),c!=null&&xfe(e,n,t,c,s,r,o)}}function mfe(n,e){c1(n,e),e[zr]=null,e[Wr]=null}function gfe(n,e,t,r,i,s){r[zr]=i,r[Wr]=e,Sy(n,r,t,1,i,s)}function c1(n,e){e[eo].changeDetectionScheduler?.notify(9),Sy(n,e,e[Ht],2,null,null)}function yfe(n){let e=n[mu];if(!e)return n0(n[Fe],n);for(;e;){let t=null;if(Pi(e))t=e[mu];else{let r=e[Tn];r&&(t=r)}if(!t){for(;e&&!e[ns]&&e!==n;)Pi(e)&&n0(e[Fe],e),e=e[Un];e===null&&(e=n),Pi(e)&&n0(e[Fe],e),t=e&&e[ns]}e=t}}function CD(n,e){let t=n[Bc],r=t.indexOf(e);t.splice(r,1)}function Ty(n,e){if(Na(e))return;let t=e[Ht];t.destroyNode&&Sy(n,e,t,3,null,null),yfe(e)}function n0(n,e){if(Na(e))return;let t=Ze(null);try{e[it]&=-129,e[it]|=256,e[Oi]&&ba(e[Oi]),vfe(n,e),_fe(n,e),e[Fe].type===1&&e[Ht].destroy();let r=e[Aa];if(r!==null&&ki(e[Un])){r!==e[Un]&&CD(r,e);let i=e[to];i!==null&&i.detachView(n)}g0(e)}finally{Ze(t)}}function mk(n,e,t,r){let i=n?.[Lc];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&Wc.add(n[Fo]),a1(t,()=>{if(i.leave&&i.leave.has(e.index)){let o=i.leave.get(e.index),a=[];if(o){for(let c=0;c<o.animateFns.length;c++){let l=o.animateFns[c],{promise:d}=l();a.push(d)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),bfe(n,r)}else n&&Wc.delete(n[Fo]),r(!1)},i)}function bfe(n,e){let t=n[Lc]?.running;if(t){t.then(()=>{n[Lc].running=void 0,Wc.delete(n[Fo]),e(!0)});return}e(!1)}function _fe(n,e){let t=n.cleanup,r=e[pu];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let a=t[o+3];a>=0?r[a]():r[-a].unsubscribe(),o+=2}else{let a=r[t[o+1]];t[o].call(a)}r!==null&&(e[pu]=null);let i=e[Po];if(i!==null){e[Po]=null;for(let o=0;o<i.length;o++){let a=i[o];a()}}let s=e[Ca];if(s!==null){e[Ca]=null;for(let o of s)o.destroy()}}function vfe(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Hc)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];zt(Bt.LifecycleHookStart,a,c);try{c.call(a)}finally{zt(Bt.LifecycleHookEnd,a,c)}}else{zt(Bt.LifecycleHookStart,i,s);try{s.call(i)}finally{zt(Bt.LifecycleHookEnd,i,s)}}}}}function l1(n,e,t){return Efe(n,e.parent,t)}function Efe(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[zr];if(ro(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Ss.None||i===Ss.Emulated)return null}return Li(r,t)}function u1(n,e,t){return Cfe(n,e,t)}function wfe(n,e,t){return n.type&40?Li(n,t):null}var Cfe=wfe,gk;function DD(n,e,t,r){let i=l1(n,r,e),s=e[Ht],o=r.parent||e[Wr],a=u1(o,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)dk(s,i,t[c],a,!1);else dk(s,i,t,a,!1);gk!==void 0&&gk(s,r,e,t,i)}function Hf(n,e){if(e!==null){let t=e.type;if(t&3)return Li(e,n);if(t&4)return I0(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Hf(n,r);{let i=n[e.index];return ki(i)?I0(-1,i):Fi(i)}}else{if(t&128)return Hf(n,e.next);if(t&32)return vD(e,n)()||Fi(n[e.index]);{let r=d1(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Da(n[xr]);return Hf(i,r)}else return Hf(n,e.next)}}}return null}function d1(n,e){if(e!==null){let r=n[xr][Wr],i=e.projection;return r.projection[i]}return null}function I0(n,e){let t=Tn+n+1;if(t<e.length){let r=e[t],i=r[Fe].firstChild;if(i!==null)return Hf(r,i)}return e[no]}function xD(n,e,t,r,i,s,o){for(;t!=null;){let a=r[Ri];if(t.type===128){t=t.next;continue}let c=r[t.index],l=t.type;if(o&&e===0&&(c&&xu(Fi(c),r),t.flags|=2),!rh(t))if(l&8)xD(n,e,t.child,r,i,s,!1),vu(e,n,a,i,c,t,s,r);else if(l&32){let d=vD(t,r),h;for(;h=d();)vu(e,n,a,i,h,t,s,r);vu(e,n,a,i,c,t,s,r)}else l&16?f1(n,e,r,t,i,s):vu(e,n,a,i,c,t,s,r);t=o?t.projectionNext:t.next}}function Sy(n,e,t,r,i,s){xD(t,r,n.firstChild,e,i,s,!1)}function Dfe(n,e,t){let r=e[Ht],i=l1(n,t,e),s=t.parent||e[Wr],o=u1(s,t,e);f1(r,0,e,t,i,o)}function f1(n,e,t,r,i,s){let o=t[xr],c=o[Wr].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];vu(e,n,t[Ri],i,d,r,s,t)}else{let l=c,d=o[Un];ty(r)&&(l.flags|=128),xD(n,e,l,d,i,s,!0)}}function xfe(n,e,t,r,i,s,o){let a=r[no],c=Fi(r);a!==c&&vu(e,n,t,s,a,i,o);for(let l=Tn;l<r.length;l++){let d=r[l];Sy(d[Fe],d,n,e,s,a)}}function Tfe(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:qo.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=qo.Important),n.setStyle(t,r,i,s))}}function h1(n,e,t,r,i){let s=oo(),o=r&2;try{Ia(-1),o&&e.length>Gt&&s1(n,e,Gt,!1);let a=o?Bt.TemplateUpdateStart:Bt.TemplateCreateStart;zt(a,i,t),t(r,i)}finally{Ia(s);let a=o?Bt.TemplateUpdateEnd:Bt.TemplateCreateEnd;zt(a,i,t)}}function Ay(n,e,t){Mfe(n,e,t),(t.flags&64)===64&&Rfe(n,e,t)}function oh(n,e,t=Li){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?t(e,n):n[o];n[i++]=a}}}function Sfe(n,e,t,r){let s=r.get(tD,vF)||t===Ss.ShadowDom||t===Ss.ExperimentalIsolatedShadowDom,o=n.selectRootElement(e,s);return Afe(o),o}function Afe(n){p1(n)}var p1=()=>null;function Nfe(n){iF(n)?YF(n):_de(n)}function m1(){p1=Nfe}function Ife(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function g1(n,e,t,r,i,s){let o=e[Fe];if(Ny(n,o,e,t,r)){ro(n)&&b1(e,n.index);return}n.type&3&&(t=Ife(t)),y1(n,e,t,r,i,s)}function y1(n,e,t,r,i,s){if(n.type&3){let o=Li(n,e);r=s!=null?s(r,n.value||"",t):r,i.setProperty(o,t,r)}else n.type&12}function b1(n,e){let t=rs(e,n);t[it]&16||(t[it]|=64)}function Mfe(n,e,t){let r=t.directiveStart,i=t.directiveEnd;ro(t)&&lfe(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||ey(t,e);let s=t.initialInputs;for(let o=r;o<i;o++){let a=n.data[o],c=Wf(e,n,o,t);if(xu(c,e),s!==null&&kfe(e,o-r,c,a,t,s),io(a)){let l=rs(t.index,e);l[$n]=Wf(e,n,o,t)}}}function Rfe(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=qP();try{Ia(s);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];Pg(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Ofe(c,l)}}finally{Ia(-1),Pg(o)}}function Ofe(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function TD(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let s=t[i];n1(e,s.selectors,!1)&&(r??=[],io(s)?r.unshift(s):r.push(s))}return r}function Pfe(n,e,t,r,i,s){let o=Li(n,e);_1(e[Ht],o,s,n.value,t,r,i)}function _1(n,e,t,r,i,s,o){if(s==null)n.removeAttribute(e,i,t);else{let a=o==null?Ta(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}function kfe(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;a+=2){let c=o[a],l=o[a+1];N0(r,t,c,l)}}function SD(n,e,t,r,i){let s=Gt+t,o=e[Fe],a=i(o,e,n,r,t);e[s]=a,yu(n,!0);let c=n.type===2;return c?(ZF(e[Ht],a,n),(IP()===0||gu(n))&&xu(a,e),MP()):xu(a,e),Bg()&&(!c||!rh(n))&&DD(o,e,a,n),n}function AD(n){let e=n;return BC()?qC():(e=e.parent,yu(e,!1)),e}function ND(n,e){let t=n[Ri];if(!t)return;let r;try{r=t.get(Ds,null)}catch{r=null}r?.(e)}function Ny(n,e,t,r,i){let s=n.inputs?.[r],o=n.hostDirectiveInputs?.[r],a=!1;if(o)for(let c=0;c<o.length;c+=2){let l=o[c],d=o[c+1],h=e.data[l];N0(h,t[l],d,i),a=!0}if(s)for(let c of s){let l=t[c],d=e.data[c];N0(d,l,r,i),a=!0}return a}function Ffe(n,e){let t=rs(e,n),r=t[Fe];Lfe(r,t);let i=t[zr];i!==null&&t[Gr]===null&&(t[Gr]=kF(i,t[Ri])),zt(Bt.ComponentStart);try{ID(r,t,t[$n])}finally{zt(Bt.ComponentEnd,t[$n])}}function Lfe(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function ID(n,e,t){Fg(e);try{let r=n.viewQuery;r!==null&&v0(1,r,t);let i=n.template;i!==null&&h1(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[to]?.finishViewCreation(n),n.staticContentQueries&&UF(n,e),n.staticViewQueries&&v0(2,n.viewQuery,t);let s=n.components;s!==null&&Bfe(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[it]&=-5,Lg()}}function Bfe(n,e){for(let t=0;t<e.length;t++)Ffe(n,e[t])}function Mu(n,e,t,r){let i=Ze(null);try{let s=e.tView,a=n[it]&4096?4096:16,c=bD(n,s,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[Aa]=l;let d=n[to];return d!==null&&(c[to]=d.createEmbeddedView(s)),ID(s,c,t),c}finally{Ze(i)}}function Gc(n,e){return!e||e.firstChild===null||ty(n)}function Kf(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(Fi(s)),ki(s)&&v1(s,r);let o=t.type;if(o&8)Kf(n,e,t.child,r);else if(o&32){let a=vD(t,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=d1(e,t);if(Array.isArray(a))r.push(...a);else{let c=Da(e[xr]);Kf(c[Fe],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function v1(n,e){for(let t=Tn;t<n.length;t++){let r=n[t],i=r[Fe].firstChild;i!==null&&Kf(r[Fe],r,i,e)}n[no]!==n[zr]&&e.push(n[no])}function E1(n){if(n[Fc]!==null){for(let e of n[Fc])e.impl.addSequence(e);n[Fc].length=0}}var w1=[];function qfe(n){return n[Oi]??jfe(n)}function jfe(n){let e=w1.pop()??Object.create($fe);return e.lView=n,e}function Ufe(n){n.lView[Oi]!==n&&(n.lView=null,w1.push(n))}var $fe=$e(K({},Ql),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Uc(n.lView)},consumerOnSignalRead(){this.lView[Oi]=this}});function Vfe(n){let e=n[Oi]??Object.create(Hfe);return e.lView=n,e}var Hfe=$e(K({},Ql),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Da(n.lView);for(;e&&!C1(e[Fe]);)e=Da(e);e&&IC(e)},consumerOnSignalRead(){this.lView[Oi]=this}});function C1(n){return n.type!==2}function D1(n){if(n[Ca]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Ca])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[it]&8192)}}var zfe=100;function x1(n,e=0){let r=n[eo].rendererFactory,i=!1;i||r.begin?.();try{Wfe(n,e)}finally{i||r.end?.()}}function Wfe(n,e){let t=jC();try{Of(!0),M0(n,e);let r=0;for(;jf(n);){if(r===zfe)throw new Ae(103,!1);r++,M0(n,1)}}finally{Of(t)}}function Gfe(n,e,t,r){if(Na(e))return;let i=e[it],s=!1,o=!1;Fg(e);let a=!0,c=null,l=null;s||(C1(n)?(l=qfe(e),c=vc(l)):Rm()===null?(a=!1,l=Vfe(e),c=vc(l)):e[Oi]&&(ba(e[Oi]),e[Oi]=null));try{NC(e),FP(n.bindingStartIndex),t!==null&&h1(n,e,t,2,r);let d=(i&3)===3;if(!s)if(d){let b=n.preOrderCheckHooks;b!==null&&zg(e,b,null)}else{let b=n.preOrderHooks;b!==null&&Wg(e,b,0,null),XC(e,0)}if(o||Qfe(e),D1(e),T1(e,0),n.contentQueries!==null&&UF(n,e),!s)if(d){let b=n.contentCheckHooks;b!==null&&zg(e,b)}else{let b=n.contentHooks;b!==null&&Wg(e,b,1),XC(e,1)}Jfe(n,e);let h=n.components;h!==null&&A1(e,h,0);let p=n.viewQuery;if(p!==null&&v0(2,p,r),!s)if(d){let b=n.viewCheckHooks;b!==null&&zg(e,b)}else{let b=n.viewHooks;b!==null&&Wg(e,b,2),XC(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Tg]){for(let b of e[Tg])b();e[Tg]=null}s||(E1(e),e[it]&=-73)}catch(d){throw s||Uc(e),d}finally{l!==null&&(Jl(l,c),a&&Ufe(l)),Lg()}}function T1(n,e){for(let t=aF(n);t!==null;t=cF(t))for(let r=Tn;r<t.length;r++){let i=t[r];S1(i,e)}}function Qfe(n){for(let e=aF(n);e!==null;e=cF(e)){if(!(e[it]&2))continue;let t=e[Bc];for(let r=0;r<t.length;r++){let i=t[r];IC(i)}}}function Kfe(n,e,t){zt(Bt.ComponentStart);let r=rs(e,n);try{S1(r,t)}finally{zt(Bt.ComponentEnd,r[$n])}}function S1(n,e){Sg(n)&&M0(n,e)}function M0(n,e){let r=n[Fe],i=n[it],s=n[Oi],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Yl(s)),o||=!1,s&&(s.dirty=!1),n[it]&=-9217,o)Gfe(r,n,r.template,n[$n]);else if(i&8192){let a=Ze(null);try{D1(n),T1(n,1);let c=r.components;c!==null&&A1(n,c,1),E1(n)}finally{Ze(a)}}}function A1(n,e,t){for(let r=0;r<e.length;r++)Kfe(n,e[r],t)}function Jfe(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Ia(~i);else{let s=i,o=t[++r],a=t[++r];BP(o,s);let c=e[s];zt(Bt.HostBindingsUpdateStart,c);try{a(2,c)}finally{zt(Bt.HostBindingsUpdateEnd,c)}}}}finally{Ia(-1)}}function Iy(n,e){let t=jC()?64:1088;for(n[eo].changeDetectionScheduler?.notify(e);n;){n[it]|=t;let r=Da(n);if(qc(n)&&!r)return n;n=r}return null}function N1(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function I1(n,e){let t=Tn+e;if(t<n.length)return n[t]}function Ru(n,e,t,r=!0){let i=e[Fe];if(Yfe(i,e,n,t),r){let o=I0(t,n),a=e[Ht],c=a.parentNode(n[no]);c!==null&&gfe(i,n[Wr],a,e,c,o)}let s=e[Gr];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function MD(n,e){let t=Jf(n,e);return t!==void 0&&Ty(t[Fe],t),t}function Jf(n,e){if(n.length<=Tn)return;let t=Tn+e,r=n[t];if(r){let i=r[Aa];i!==null&&i!==n&&CD(i,r),e>0&&(n[t-1][ns]=r[ns]);let s=Lf(n,Tn+e);mfe(r[Fe],r);let o=s[to];o!==null&&o.detachView(s[Fe]),r[Un]=null,r[ns]=null,r[it]&=-129}return r}function Yfe(n,e,t,r){let i=Tn+r,s=t.length;r>0&&(t[i-1][ns]=e),r<s-Tn?(e[ns]=t[i],bC(t,Tn+r,e)):(t.push(e),e[ns]=null),e[Un]=t;let o=e[Aa];o!==null&&t!==o&&M1(o,e);let a=e[to];a!==null&&a.insertView(n),Ag(e),e[it]|=128}function M1(n,e){let t=n[Bc],r=e[Un];if(Pi(r))n[it]|=2;else{let i=r[Un][xr];e[xr]!==i&&(n[it]|=2)}t===null?n[Bc]=[e]:t.push(e)}var Ma=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[Fe];return Kf(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[$n]}set context(e){this._lView[$n]=e}get destroyed(){return Na(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Un];if(ki(e)){let t=e[qf],r=t?t.indexOf(this):-1;r>-1&&(Jf(e,r),Lf(t,r))}this._attachedToViewContainer=!1}Ty(this._lView[Fe],this._lView)}onDestroy(e){MC(this._lView,e)}markForCheck(){Iy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[it]&=-129}reattach(){Ag(this._lView),this._lView[it]|=128}detectChanges(){this._lView[it]|=1024,x1(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=qc(this._lView),t=this._lView[Aa];t!==null&&!e&&CD(t,this._lView),c1(this._lView[Fe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Ae(902,!1);this._appRef=e;let t=qc(this._lView),r=this._lView[Aa];r!==null&&!t&&M1(r,this._lView),Ag(this._lView)}};var Ra=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Zfe;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let s=Mu(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Ma(s)}}return n})();function Zfe(){return My(gr(),Xe())}function My(n,e){return n.type&4?new Ra(e,n,Au(n,e)):null}function Ou(n,e,t,r,i){let s=n.data[e];if(s===null)s=Xfe(n,e,t,r,i),LP()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=OP();s.injectorIndex=o===null?-1:o.injectorIndex}return yu(s,!0),s}function Xfe(n,e,t,r,i){let s=LC(),o=BC(),a=o?s:s&&s.parent,c=n.data[e]=the(n,a,t,e,r,i);return ehe(n,c,s,o),c}function ehe(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function the(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Ig()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var nhe=new RegExp(`^(\\d+)*(${fF}|${dF})*(.*)`);function rhe(n){let e=n.match(nhe),[t,r,i,s]=e,o=r?parseInt(r,10):i,a=[];for(let[c,l,d]of s.matchAll(/(f|n)(\d*)/g)){let h=parseInt(d,10)||1;a.push(l,h)}return[o,...a]}function ihe(n){return!n.prev&&n.parent?.type===8}function r0(n){return n.index-Gt}function she(n,e){let t=n.i18nNodes;if(t)return t.get(e)}function Ry(n,e,t,r){let i=r0(r),s=she(n,i);if(s===void 0){let o=n.data[gF];if(o?.[i])s=ahe(o[i],t);else if(e.firstChild===r)s=n.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(ihe(r)){let l=r0(r.parent);s=_0(n,l)}else{let l=Li(c,t);if(a)s=l.firstChild;else{let d=r0(c),h=_0(n,d);if(c.type===2&&h){let b=oD(n,d)+1;s=Oy(b,h)}else s=l.nextSibling}}}}return s}function Oy(n,e){let t=e;for(let r=0;r<n;r++)t=t.nextSibling;return t}function ohe(n,e){let t=n;for(let r=0;r<e.length;r+=2){let i=e[r],s=e[r+1];for(let o=0;o<s;o++)switch(i){case fde:t=t.firstChild;break;case hde:t=t.nextSibling;break}}return t}function ahe(n,e){let[t,...r]=rhe(n),i;if(t===dF)i=e[xr][zr];else if(t===fF)i=XF(e[xr][zr]);else{let s=Number(t);i=Fi(e[s+Gt])}return ohe(i,r)}var che=!1;function R1(n){che=n}function lhe(n){let e=n[Gr];if(e){let{i18nNodes:t,dehydratedIcuData:r}=e;if(t&&r){let i=n[Ht];for(let s of r.values())uhe(i,t,s)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function uhe(n,e,t){for(let r of t.node.cases[t.case]){let i=e.get(r.index-Gt);i&&mD(n,i,!1)}}function Py(n){let e=n[Cs]??[],r=n[Un][Ht],i=[];for(let s of e)s.data[yF]!==void 0?i.push(s):O1(s,r);n[Cs]=i}function dhe(n){let{lContainer:e}=n,t=e[Cs];if(t===null)return;let i=e[Un][Ht];for(let s of t)O1(s,i)}function O1(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[Gf];for(;t<i;){let s=r.nextSibling;mD(e,r,!1),r=s,t++}}}function ky(n){Py(n);let e=n[zr];Pi(e)&&ry(e);for(let t=Tn;t<n.length;t++)ry(n[t])}function ry(n){lhe(n);let e=n[Fe];for(let t=Gt;t<e.bindingStartIndex;t++)if(ki(n[t])){let r=n[t];ky(r)}else Pi(n[t])&&ry(n[t])}function RD(n){let e=n._views;for(let t of e){let r=FF(t);r!==null&&r[zr]!==null&&(Pi(r)?ry(r):ky(r))}}function fhe(n,e,t,r){n!==null&&(t.cleanup(e),ky(n.lContainer),RD(r))}function hhe(n,e){let t=[];for(let r of e)for(let i=0;i<(r[X0]??1);i++){let s={data:r,firstChild:null};r[Gf]>0&&(s.firstChild=n,n=Oy(r[Gf],n)),t.push(s)}return[n,t]}var P1=()=>null,k1=()=>null;function F1(){P1=phe,k1=mhe}function phe(n,e){return B1(n,e)?n[Cs].shift():(Py(n),null)}function Yf(n,e){return P1(n,e)}function mhe(n,e,t){if(e.tView.ssrId===null)return null;let r=Yf(n,e.tView.ssrId);return t[Fe].firstUpdatePass&&r===null&&ghe(t,e),r}function L1(n,e,t){return k1(n,e,t)}function ghe(n,e){let t=e;for(;t;){if(yk(n,t))return;if((t.flags&256)===256)break;t=t.prev}for(t=e.next;t&&(t.flags&512)===512;){if(yk(n,t))return;t=t.next}}function B1(n,e){let t=n[Cs];return!e||t===null||t.length===0?!1:t[0].data[mF]===e}function yk(n,e){let t=e.tView?.ssrId;if(t==null)return!1;let r=n[e.index];return ki(r)&&B1(r,t)?(Py(r),!0):!1}var q1=class{},Fy=class{},R0=class{resolveComponentFactory(e){throw new Ae(917,!1)}},ah=class{static NULL=new R0},pi=class{},Vo=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>yhe()}return n})();function yhe(){let n=Xe(),e=gr(),t=rs(e.index,n);return(Pi(t)?t:n)[Ht]}var j1=(()=>{class n{static \u0275prov=me({token:n,providedIn:"root",factory:()=>null})}return n})();var Kg={},wu=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Kg,r);return i!==Kg||t===Kg?i:this.parentInjector.get(e,t,r)}};function iy(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=yg(i,a);else if(s==2){let c=a,l=e[++o];r=yg(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function jr(n,e=0){let t=Xe();if(t===null)return Pe(n,e);let r=gr();return Zk(r,t,Dr(n),e)}function OD(){let n="invalid";throw new Error(n)}function U1(n,e,t,r,i){let s=r===null?null:{"":-1},o=i(n,t);if(o!==null){let a=o,c=null,l=null;for(let d of o)if(d.resolveHostDirectives!==null){[a,c,l]=d.resolveHostDirectives(o);break}vhe(n,e,t,a,s,c,l)}s!==null&&r!==null&&bhe(t,r,s)}function bhe(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new Ae(-301,!1);r.push(e[i],s)}}function _he(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function vhe(n,e,t,r,i,s,o){let a=r.length,c=null;for(let p=0;p<a;p++){let b=r[p];c===null&&io(b)&&(c=b,_he(n,t,p)),p0(ey(t,e),n,b.type)}The(t,n.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let p=0;p<a;p++){let b=r[p];b.providersResolver&&b.providersResolver(b)}let l=!1,d=!1,h=i1(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let p=0;p<a;p++){let b=r[p];if(t.mergedAttrs=Du(t.mergedAttrs,b.hostAttrs),whe(n,t,e,h,b),xhe(h,b,i),o!==null&&o.has(b)){let[x,N]=o.get(b);t.directiveToIndex.set(b.type,[h,x+t.directiveStart,N+t.directiveStart])}else(s===null||!s.has(b))&&t.directiveToIndex.set(b.type,h);b.contentQueries!==null&&(t.flags|=4),(b.hostBindings!==null||b.hostAttrs!==null||b.hostVars!==0)&&(t.flags|=64);let v=b.type.prototype;!l&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!d&&(v.ngOnChanges||v.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),h++}Ehe(n,t,s)}function Ehe(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))bk(0,e,i,r),bk(1,e,i,r),vk(e,r,!1);else{let s=t.get(i);_k(0,e,s,r),_k(1,e,s,r),vk(e,r,!0)}}}function bk(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o;n===0?o=e.inputs??={}:o=e.outputs??={},o[s]??=[],o[s].push(r),$1(e,s)}}function _k(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o=i[s],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[o]??=[],a[o].push(r,s),$1(e,o)}}function $1(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function vk(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:s}=n;if(r===null||!t&&i===null||t&&s===null||gD(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let o=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let l=i[c];for(let d of l)if(d===e){o??=[],o.push(c,r[a+1]);break}}else if(t&&s.hasOwnProperty(c)){let l=s[c];for(let d=0;d<l.length;d+=2)if(l[d]===e){o??=[],o.push(l[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(o)}function whe(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=Ic(i.type,!0)),o=new Hc(s,io(i),jr,null);n.blueprint[r]=o,t[r]=o,Che(n,e,r,i1(n,t,i.hostVars,Jr),i)}function Che(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;Dhe(o)!=a&&o.push(a),o.push(t,r,s)}}function Dhe(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function xhe(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;io(e)&&(t[""]=n)}}function The(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function PD(n,e,t,r,i,s,o,a){let c=e[Fe],l=c.consts,d=Bi(l,o),h=Ou(c,n,t,r,d);return s&&U1(c,e,h,Bi(l,a),i),h.mergedAttrs=Du(h.mergedAttrs,h.attrs),h.attrs!==null&&iy(h,h.attrs,!1),h.mergedAttrs!==null&&iy(h,h.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,h),h}function kD(n,e){Vk(n,e),TC(e)&&n.queries.elementEnd(e)}function She(n,e,t,r,i,s){let o=e.consts,a=Bi(o,i),c=Ou(e,n,t,r,a);if(c.mergedAttrs=Du(c.mergedAttrs,c.attrs),s!=null){let l=Bi(o,s);c.localNames=[];for(let d=0;d<l.length;d+=2)c.localNames.push(l[d],-1)}return c.attrs!==null&&iy(c,c.attrs,!1),c.mergedAttrs!==null&&iy(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function V1(n,e,t){return n[e]=t}function Kr(n,e,t){if(t===Jr)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function H1(n,e,t,r){let i=Kr(n,e,t);return Kr(n,e+1,r)||i}function Ahe(n,e,t,r,i){let s=H1(n,e,t,r);return Kr(n,e+2,i)||s}function i0(n,e,t){return function r(i){let s=ro(n)?rs(n.index,e):e;Iy(s,5);let o=e[$n],a=Ek(e,o,t,i),c=r.__ngNextListenerFn__;for(;c;)a=Ek(e,o,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function Ek(n,e,t,r){let i=Ze(null);try{return zt(Bt.OutputStart,e,t),t(r)!==!1}catch(s){return ND(n,s),!1}finally{zt(Bt.OutputEnd,e,t),Ze(i)}}function Nhe(n,e,t,r,i,s,o,a){let c=gu(n),l=!1,d=null;if(!r&&c&&(d=Mhe(e,t,s,n.index)),d!==null){let h=d.__ngLastListenerFn__||d;h.__ngNextListenerFn__=o,d.__ngLastListenerFn__=o,l=!0}else{let h=Li(n,t),p=r?r(h):h;pde(t,p,s,a);let b=i.listen(p,s,a);if(!Ihe(s)){let v=r?x=>r(Fi(x[n.index])):n.index;z1(v,e,t,s,a,b,!1)}}return l}function Ihe(n){return n.startsWith("animation")||n.startsWith("transition")}function Mhe(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===t&&i[s+1]===r){let a=e[pu],c=i[s+2];return a&&a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function z1(n,e,t,r,i,s,o){let a=e.firstCreatePass?OC(e):null,c=RC(t),l=c.length;c.push(i,s),a&&a.push(r,n,l,(l+1)*(o?-1:1))}function wk(n,e,t,r,i,s){let o=e[t],a=e[Fe],l=a.data[t].outputs[r],h=o[l].subscribe(s);z1(n.index,a,e,i,s,h,!0)}var O0=Symbol("BINDING");var sy=class extends ah{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ws(e);return new Oa(t,this.ngModule)}};function Rhe(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],s={propName:t,templateName:e,isSignal:(r&Cy.SignalBased)!==0};return i&&(s.transform=i),s})}function Ohe(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function Phe(n,e,t){let r=e instanceof ln?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new wu(t,r):t}function khe(n){let e=n.get(pi,null);if(e===null)throw new Ae(407,!1);let t=n.get(j1,null),r=n.get(Ys,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function Fhe(n,e){let t=W1(n);return pD(e,t,t==="svg"?SC:t==="math"?CP:null)}function W1(n){return(n.selectors[0][0]||"div").toLowerCase()}var Oa=class extends Fy{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Rhe(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Ohe(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=sfe(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,s,o){zt(Bt.DynamicComponentStart);let a=Ze(null);try{let c=this.componentDef,l=Lhe(r,c,o,s),d=Phe(c,i||this.ngModule,e),h=khe(d),p=h.rendererFactory.createRenderer(null,c),b=r?Sfe(p,r,c.encapsulation,d):Fhe(c,p),v=o?.some(Ck)||s?.some(k=>typeof k!="function"&&k.bindings.some(Ck)),x=bD(null,l,null,512|r1(c),null,null,h,p,d,null,kF(b,d,!0));x[Gt]=b,Fg(x);let N=null;try{let k=PD(Gt,x,2,"#host",()=>l.directiveRegistry,!0,0);ZF(p,b,k),xu(b,x),Ay(l,x,k),aD(l,k,x),kD(l,k),t!==void 0&&qhe(k,this.ngContentSelectors,t),N=rs(k.index,x),x[$n]=N[$n],ID(l,x,null)}catch(k){throw N!==null&&g0(N),g0(x),k}finally{zt(Bt.DynamicComponentEnd),Lg()}return new oy(this.componentType,x,!!v)}finally{Ze(a)}}};function Lhe(n,e,t,r){let i=n?["ng-version","21.0.9"]:ofe(e.selectors[0]),s=null,o=null,a=0;if(t)for(let d of t)a+=d[O0].requiredVars,d.create&&(d.targetIdx=0,(s??=[]).push(d)),d.update&&(d.targetIdx=0,(o??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let h=r[d];if(typeof h!="function")for(let p of h.bindings){a+=p[O0].requiredVars;let b=d+1;p.create&&(p.targetIdx=b,(s??=[]).push(p)),p.update&&(p.targetIdx=b,(o??=[]).push(p))}}let c=[e];if(r)for(let d of r){let h=typeof d=="function"?d:d.type,p=_g(h);c.push(p)}return yD(0,null,Bhe(s,o),1,a,c,null,null,null,[i],null)}function Bhe(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function Ck(n){let e=n[O0].kind;return e==="input"||e==="twoWay"}var oy=class extends q1{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=jc(t[Fe],Gt),this.location=Au(this._tNode,t),this.instance=rs(this._tNode.index,t)[$n],this.hostView=this.changeDetectorRef=new Ma(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,s=Ny(r,i[Fe],i,e,t);this.previousInputValues.set(e,t);let o=rs(r.index,i);Iy(o,1)}get injector(){return new Vc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function qhe(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null&&s.length?Array.from(s):null)}}var is=(()=>{class n{static __NG_ELEMENT_ID__=jhe}return n})();function jhe(){let n=gr();return Q1(n,Xe())}var Uhe=is,G1=class extends Uhe{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Au(this._hostTNode,this._hostLView)}get injector(){return new Vc(this._hostTNode,this._hostLView)}get parentInjector(){let e=K0(this._hostTNode,this._hostLView);if(Wk(e)){let t=Xg(e,this._hostLView),r=Zg(e),i=t[Fe].data[r+8];return new Vc(i,t)}else return new Vc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Dk(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Tn}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Yf(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,i,Gc(this._hostTNode,o)),a}createComponent(e,t,r,i,s,o,a){let c=e&&!que(e),l;if(c)l=t;else{let N=t||{};l=N.index,r=N.injector,i=N.projectableNodes,s=N.environmentInjector||N.ngModuleRef,o=N.directives,a=N.bindings}let d=c?e:new Oa(ws(e)),h=r||this.parentInjector;if(!s&&d.ngModule==null){let k=(c?h:this.parentInjector).get(ln,null);k&&(s=k)}let p=ws(d.componentType??{}),b=Yf(this._lContainer,p?.id??null),v=b?.firstChild??null,x=d.create(h,i,v,s,o,a);return this.insertImpl(x.hostView,l,Gc(this._hostTNode,b)),x}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(TP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Un],l=new G1(c,c[Wr],c[Un]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return Ru(o,i,s,r),e.attachToViewContainerRef(),bC(s0(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Dk(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Jf(this._lContainer,t);r&&(Lf(s0(this._lContainer),t),Ty(r[Fe],r))}detach(e){let t=this._adjustIndex(e,-1),r=Jf(this._lContainer,t);return r&&Lf(s0(this._lContainer),t)!=null?new Ma(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Dk(n){return n[qf]}function s0(n){return n[qf]||(n[qf]=[])}function Q1(n,e){let t,r=e[n.index];return ki(r)?t=r:(t=N1(r,e,null,n),e[n.index]=t,_D(e,t)),K1(t,e,n,r),new G1(t,n,e)}function $he(n,e){let t=n[Ht],r=t.createComment(""),i=Li(e,n),s=t.parentNode(i);return ny(t,s,r,t.nextSibling(i),!1),r}var K1=J1,FD=()=>!1;function Vhe(n,e,t){return FD(n,e,t)}function J1(n,e,t,r){if(n[no])return;let i;t.type&8?i=Fi(r):i=$he(e,t),n[no]=i}function Hhe(n,e,t){if(n[no]&&n[Cs])return!0;let r=t[Gr],i=e.index-Gt;if(!r||sF(e)||qF(r,i))return!1;let o=_0(r,i),a=r.data[gy]?.[i],[c,l]=hhe(o,a);return n[no]=c,n[Cs]=l,!0}function zhe(n,e,t,r){FD(n,t,e)||J1(n,e,t,r)}function Y1(){K1=zhe,FD=Hhe}var P0=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},k0=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)BD(e,t).matches!==null&&this.queries[t].setDirty()}},ay=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=Jhe(e):this.predicate=e}},F0=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},L0=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,t,Whe(t,s)),this.matchTNodeWithReadOption(e,t,Gg(t,e,s,!1,!1))}else r===Ra?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Gg(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===_n||i===is||i===Ra&&t.type&4)this.addMatch(t.index,-2);else{let s=Gg(t,e,i,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function Whe(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function Ghe(n,e){return n.type&11?Au(n,e):n.type&4?My(n,e):null}function Qhe(n,e,t,r){return t===-1?Ghe(e,n):t===-2?Khe(n,e,r):Wf(n,n[Fe],t,e)}function Khe(n,e,t){if(t===_n)return Au(e,n);if(t===Ra)return My(e,n);if(t===is)return Q1(e,n)}function Z1(n,e,t,r){let i=e[to].queries[r];if(i.matches===null){let s=n.data,o=t.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let l=o[c];if(l<0)a.push(null);else{let d=s[l];a.push(Qhe(e,d,o[c+1],t.metadata.read))}}i.matches=a}return i.matches}function B0(n,e,t,r){let i=n.queries.getByIndex(t),s=i.matches;if(s!==null){let o=Z1(n,e,i,t);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let l=s[a+1],d=e[-c];for(let h=Tn;h<d.length;h++){let p=d[h];p[Aa]===p[Un]&&B0(p[Fe],p,l,r)}if(d[Bc]!==null){let h=d[Bc];for(let p=0;p<h.length;p++){let b=h[p];B0(b[Fe],b,l,r)}}}}}return r}function LD(n,e){return n[to].queries[e].queryList}function X1(n,e,t){let r=new zc((t&4)===4);return NP(n,e,r,r.destroy),(e[to]??=new k0).queries.push(new P0(r))-1}function eL(n,e,t){let r=bn();return r.firstCreatePass&&(nL(r,new ay(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),X1(r,Xe(),e)}function tL(n,e,t,r){let i=bn();if(i.firstCreatePass){let s=gr();nL(i,new ay(e,t,r),s.index),Yhe(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return X1(i,Xe(),t)}function Jhe(n){return n.split(",").map(e=>e.trim())}function nL(n,e,t){n.queries===null&&(n.queries=new F0),n.queries.track(new L0(e,t))}function Yhe(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function BD(n,e){return n.queries.getByIndex(e)}function rL(n,e){let t=n[Fe],r=BD(t,e);return r.crossesNgTemplate?B0(t,n,e,[]):Z1(t,n,r,e)}function iL(n,e,t){let r,i=gf(()=>{r._dirtyCounter();let s=Zhe(r,n);if(e&&s===void 0)throw new Ae(-951,!1);return s});return r=i[pr],r._dirtyCounter=zn(0),r._flatValue=void 0,i}function qD(n){return iL(!0,!1,n)}function jD(n){return iL(!0,!0,n)}function sL(n,e){let t=n[pr];t._lView=Xe(),t._queryIndex=e,t._queryList=LD(t._lView,e),t._queryList.onDirty(()=>t._dirtyCounter.update(r=>r+1))}function Zhe(n,e){let t=n._lView,r=n._queryIndex;if(t===void 0||r===void 0||t[it]&4)return e?void 0:Br;let i=LD(t,r),s=rL(t,r);return i.reset(s,tF),e?i.first:i._changesDetected||n._flatValue===void 0?n._flatValue=i.toArray():n._flatValue}var jo=class{},Ly=class{};var cy=class extends jo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new sy(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let s=pC(e);this._bootstrapComponents=e1(s.bootstrap),this._r3Injector=GC(e,t,[{provide:jo,useValue:this},{provide:ah,useValue:this.componentFactoryResolver},...r],ko(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ly=class extends Ly{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new cy(this.moduleType,e,[])}};var Zf=class extends jo{injector;componentFactoryResolver=new sy(this);instance=null;constructor(e){super();let t=new Rc([...e.providers,{provide:jo,useValue:this},{provide:ah,useValue:this.componentFactoryResolver}],e.parent||hu(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Kc(n,e,t=null){return new Zf({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Xhe=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=xg(!1,t.type),i=r.length>0?Kc([r],this._injector,""):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=me({token:n,providedIn:"environment",factory:()=>new n(Pe(ln))})}return n})();function Rn(n){return eh(()=>{let e=oL(n),t=$e(K({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===J0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Xhe).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Ss.Emulated,styles:n.styles||Br,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Yr("NgStandalone"),aL(t);let r=n.dependencies;return t.directiveDefs=xk(r,epe),t.pipeDefs=xk(r,mC),t.id=rpe(t),t})}function epe(n){return ws(n)||_g(n)}function It(n){return eh(()=>({type:n.type,bootstrap:n.bootstrap||Br,declarations:n.declarations||Br,imports:n.imports||Br,exports:n.exports||Br,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function tpe(n,e){if(n==null)return Sa;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,a,c;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s,c=i[3]||null):(s=i,o=i,a=Cy.None,c=null),t[s]=[r,a,c],e[s]=o}return t}function npe(n){if(n==null)return Sa;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function un(n){return eh(()=>{let e=oL(n);return aL(e),e})}function oL(n){let e={};return{type:n.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Sa,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Br,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:tpe(n.inputs,e),outputs:npe(n.outputs),debugInfo:null}}function aL(n){n.features?.forEach(e=>e(n))}function xk(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let s=e(i);s!==null&&r.push(s)}return r}:null}function rpe(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let s of r.join("|"))e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ipe(n){return Object.getPrototypeOf(n.prototype).constructor}function Zr(n){let e=ipe(n.type),t=!0,r=[n];for(;e;){let i;if(io(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Ae(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let o=n;o.inputs=o0(n.inputs),o.declaredInputs=o0(n.declaredInputs),o.outputs=o0(n.outputs);let a=i.hostBindings;a&&lpe(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&ape(n,c),l&&cpe(n,l),spe(n,i),cP(n.outputs,i.outputs),io(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===Zr&&(t=!1)}}e=Object.getPrototypeOf(e)}ope(r)}function spe(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function ope(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Du(i.hostAttrs,t=Du(t,i.hostAttrs))}}function o0(n){return n===Sa?{}:n===Br?[]:n}function ape(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function cpe(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,s)=>{e(r,i,s),t(r,i,s)}:n.contentQueries=e}function lpe(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function cL(n,e,t,r,i,s,o,a){if(t.firstCreatePass){n.mergedAttrs=Du(n.mergedAttrs,n.attrs);let d=n.tView=yD(2,n,i,s,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),d.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),yu(n,!1);let c=lL(t,e,n,r);Bg()&&DD(t,e,c,n),xu(c,e);let l=N1(c,e,c,n);e[r+Gt]=l,_D(e,l),Vhe(l,n,e)}function upe(n,e,t,r,i,s,o,a,c,l,d){let h=t+Gt,p;return e.firstCreatePass?(p=Ou(e,h,4,o||null,a||null),Ng()&&U1(e,n,p,Bi(e.consts,l),TD),Vk(e,p)):p=e.data[h],cL(p,n,e,t,r,i,s,c),gu(p)&&Ay(e,n,p),l!=null&&oh(n,p,d),p}function Tu(n,e,t,r,i,s,o,a,c,l,d){let h=t+Gt,p;if(e.firstCreatePass){if(p=Ou(e,h,4,o||null,a||null),l!=null){let b=Bi(e.consts,l);p.localNames=[];for(let v=0;v<b.length;v+=2)p.localNames.push(b[v],-1)}}else p=e.data[h];return cL(p,n,e,t,r,i,s,c),l!=null&&oh(n,p,d),p}function By(n,e,t,r,i,s,o,a){let c=Xe(),l=bn(),d=Bi(l.consts,s);return upe(c,l,n,e,t,r,i,d,void 0,o,a),By}function UD(n,e,t,r,i,s,o,a){let c=Xe(),l=bn(),d=Bi(l.consts,s);return Tu(c,l,n,e,t,r,i,d,void 0,o,a),UD}var lL=uL;function uL(n,e,t,r){return Lo(!0),e[Ht].createComment("")}function dpe(n,e,t,r){let i=!vy(e,t);Lo(i);let s=e[Gr]?.data[pF]?.[r]??null;if(s!==null&&t.tView!==null&&t.tView.ssrId===null&&(t.tView.ssrId=s),i)return uL(n,e);let o=e[Gr],a=Ry(o,n,e,t);_y(o,r,a);let c=oD(o,r);return Oy(c,a)}function dL(){lL=dpe}var qi=(function(n){return n[n.NOT_STARTED=0]="NOT_STARTED",n[n.IN_PROGRESS=1]="IN_PROGRESS",n[n.COMPLETE=2]="COMPLETE",n[n.FAILED=3]="FAILED",n})(qi||{}),Tk=0,fpe=1,Wn=(function(n){return n[n.Placeholder=0]="Placeholder",n[n.Loading=1]="Loading",n[n.Complete=2]="Complete",n[n.Error=3]="Error",n})(Wn||{});var hpe=0,ch=1;var ppe=4,mpe=5;var gpe=7,Cu=8,ype=9,$D=(function(n){return n[n.Manual=0]="Manual",n[n.Playthrough=1]="Playthrough",n})($D||{});function Jg(n,e){let t=_pe(n),r=e[t];if(r!==null){for(let i of r)i();e[t]=null}}function bpe(n){Jg(1,n),Jg(0,n),Jg(2,n)}function _pe(n){let e=ppe;return n===1?e=mpe:n===2&&(e=ype),e}function fL(n){return n+1}function Pu(n,e){let t=n[Fe],r=fL(e.index);return n[r]}function lh(n,e){let t=fL(e.index);return n.data[t]}function vpe(n,e,t){let r=e[Fe],i=lh(r,t);switch(n){case Wn.Complete:return i.primaryTmplIndex;case Wn.Loading:return i.loadingTmplIndex;case Wn.Error:return i.errorTmplIndex;case Wn.Placeholder:return i.placeholderTmplIndex;default:return null}}function Sk(n,e){return e===Wn.Placeholder?n.placeholderBlockConfig?.[Tk]??null:e===Wn.Loading?n.loadingBlockConfig?.[Tk]??null:null}function Epe(n){return n.loadingBlockConfig?.[fpe]??null}function Ak(n,e){if(!n||n.length===0)return e;let t=new Set(n);for(let r of e)t.add(r);return n.length===t.size?n:Array.from(t)}function wpe(n,e){let t=e.primaryTmplIndex+Gt;return jc(n,t)}var Cpe=(()=>{class n{cachedInjectors=new Map;getOrCreateInjector(t,r,i,s){if(!this.cachedInjectors.has(t)){let o=i.length>0?Kc(i,r,s):null;this.cachedInjectors.set(t,o)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=me({token:n,providedIn:"environment",factory:()=>new n})}return n})();var hL=new _e("");function a0(n,e,t){return n.get(Cpe).getOrCreateInjector(e,n,t,"")}function Dpe(n,e,t){if(n instanceof wu){let i=n.injector,s=n.parentInjector,o=a0(s,e,t);return new wu(i,o)}let r=n.get(ln);if(r!==n){let i=a0(r,e,t);return new wu(n,i)}return a0(n,e,t)}function $c(n,e,t,r=!1){let i=t[Un],s=i[Fe];if(Na(i))return;let o=Pu(i,e),a=o[ch],c=o[gpe];if(!(c!==null&&n<c)&&Nk(a,n)&&Nk(o[hpe]??-1,n)){let l=lh(s,e),h=!r&&!0&&(Epe(l)!==null||Sk(l,Wn.Loading)!==null||Sk(l,Wn.Placeholder))?Spe:Tpe;try{h(n,o,t,e,i)}catch(p){ND(i,p)}}}function xpe(n,e){let t=n[Cs]?.findIndex(i=>i.data[bF]===e[ch])??-1;return{dehydratedView:t>-1?n[Cs][t]:null,dehydratedViewIx:t}}function Tpe(n,e,t,r,i){zt(Bt.DeferBlockStateStart);let s=vpe(n,i,r);if(s!==null){e[ch]=n;let o=i[Fe],a=s+Gt,c=jc(o,a),l=0;MD(t,l);let d;if(n===Wn.Complete){let v=lh(o,r),x=v.providers;x&&x.length>0&&(d=Dpe(i[Ri],v,x))}let{dehydratedView:h,dehydratedViewIx:p}=xpe(t,e),b=Mu(i,c,null,{injector:d,dehydratedView:h});if(Ru(t,b,l,Gc(c,h)),Iy(b,2),p>-1&&t[Cs]?.splice(p,1),(n===Wn.Complete||n===Wn.Error)&&Array.isArray(e[Cu])){for(let v of e[Cu])v();e[Cu]=null}}zt(Bt.DeferBlockStateEnd)}function Nk(n,e){return n<e}function Ik(n,e,t){n.loadingPromise.then(()=>{n.loadingState===qi.COMPLETE?$c(Wn.Complete,e,t):n.loadingState===qi.FAILED&&$c(Wn.Error,e,t)})}var Spe=null;var qy=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function uh(n){return typeof n=="function"&&n[pr]!==void 0}function VD(n){return uh(n)&&typeof n.set=="function"}var HD=new _e(""),zD=new _e(""),pL=(()=>{class n{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(t,r,i){this._ngZone=t,this.registry=r,CC()&&(this._destroyRef=U(Qr,{optional:!0})??void 0),WD||(gL(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){let t=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{Nt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{t.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t()},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static \u0275fac=function(r){return new(r||n)(Pe(Nt),Pe(mL),Pe(zD))};static \u0275prov=me({token:n,factory:n.\u0275fac})}return n})(),mL=(()=>{class n{_applications=new Map;registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return WD?.findTestabilityInTree(this,t,r)??null}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function gL(n){WD=n}var WD;function Jc(n){return!!n&&typeof n.then=="function"}function yL(n){return!!n&&typeof n.subscribe=="function"}var GD=new _e("");function jy(n){return Mi([{provide:GD,multi:!0,useValue:n}])}var QD=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=U(GD,{optional:!0})??[];injector=U(Xt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=mr(this.injector,i);if(Jc(s))t.push(s);else if(yL(s)){let o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});t.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ho=new _e("");function bL(){Rw(()=>{let n="";throw new Ae(600,n)})}function _L(n){return n.isBoundToModule}var Ape=10;var Tr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=U(Ds);afterRenderManager=U(xy);zonelessEnabled=U($f);rootEffectScheduler=U(qg);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ke;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=U(ao);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Et(t=>!t))}constructor(){U(lo,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=U(ln);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Xt.NULL){return this._injector.get(Nt).run(()=>{zt(Bt.BootstrapComponentStart);let o=t instanceof Fy;if(!this._injector.get(QD).done){let v="";throw new Ae(405,v)}let c;o?c=t:c=this._injector.get(ah).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let l=_L(c)?void 0:this._injector.get(jo),d=r||c.selector,h=c.create(i,[],d,l),p=h.location.nativeElement,b=h.injector.get(HD,null);return b?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),zf(this.components,h),b?.unregisterApplication(p)}),this._loadComponent(h),zt(Bt.BootstrapComponentEnd,h),h})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){zt(Bt.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Dy.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw zt(Bt.ChangeDetectionEnd),new Ae(101,!1);let t=Ze(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ze(t),this.afterTick.next(),zt(Bt.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(pi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<Ape;){zt(Bt.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{zt(Bt.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!jf(i))continue;let s=r&&!this.zonelessEnabled?0:1;x1(i,s),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>jf(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;zf(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Ho,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>zf(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Ae(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zf(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Npe(){let n,e;return{promise:new Promise((r,i)=>{n=r,e=i}),resolve:n,reject:e}}function vL(n,e,t){let r=e[Ri],i=e[Fe];if(n.loadingState!==qi.NOT_STARTED)return n.loadingPromise??Promise.resolve();let s=Pu(e,t),o=wpe(i,n);n.loadingState=qi.IN_PROGRESS,Jg(1,s);let a=n.dependencyResolverFn,c=r.get(Vf).add();return a?(n.loadingPromise=Promise.allSettled(a()).then(l=>{let d=!1,h=[],p=[];for(let b of l)if(b.status==="fulfilled"){let v=b.value,x=ws(v)||_g(v);if(x)h.push(x);else{let N=mC(v);N&&p.push(N)}}else{d=!0;break}if(d){if(n.loadingState=qi.FAILED,n.errorTmplIndex===null){let v=new Ae(-750,!1);ND(e,v)}}else{n.loadingState=qi.COMPLETE;let b=o.tView;if(h.length>0){b.directiveRegistry=Ak(b.directiveRegistry,h);let v=h.map(N=>N.type),x=xg(!1,...v);n.providers=x}p.length>0&&(b.pipeRegistry=Ak(b.pipeRegistry,p))}}),n.loadingPromise.finally(()=>{n.loadingPromise=null,c()})):(n.loadingPromise=Promise.resolve().then(()=>{n.loadingPromise=null,n.loadingState=qi.COMPLETE,c()}),n.loadingPromise)}function Ipe(n,e){return e[Ri].get(hL,null,{optional:!0})?.behavior!==$D.Manual}function Mpe(n,e,t){let r=e[Fe],i=e[t.index];if(!Ipe(n,e))return;let s=Pu(e,t),o=lh(r,t);switch(bpe(s),o.loadingState){case qi.NOT_STARTED:$c(Wn.Loading,t,i),vL(o,e,t),o.loadingState===qi.IN_PROGRESS&&Ik(o,t,i);break;case qi.IN_PROGRESS:$c(Wn.Loading,t,i),Ik(o,t,i);break;case qi.COMPLETE:$c(Wn.Complete,t,i);break;case qi.FAILED:$c(Wn.Error,t,i);break;default:}}async function EL(n,e,t){let r=n.get(by);if(r.hydrating.has(e))return;let{parentBlockPromise:s,hydrationQueue:o}=wde(e,n);if(o.length===0)return;s!==null&&o.shift(),Ppe(r,o),s!==null&&await s;let a=o[0];r.has(a)?await Mk(n,o,t):r.awaitParentBlock(a,async()=>await Mk(n,o,t))}async function Mk(n,e,t){let r=n.get(by),i=r.hydrating,s=n.get(ao),o=s.add();for(let c=0;c<e.length;c++){let l=e[c],d=r.get(l);if(d!=null){if(await Fpe(d),await kpe(n),Rpe(d)){dhe(d),Rk(e.slice(c),r);break}i.get(l).resolve()}else{Ope(c,e,r),Rk(e.slice(c),r);break}}let a=e[e.length-1];await i.get(a)?.promise,s.remove(o),t&&t(e),fhe(r.get(a),e,r,n.get(Tr))}function Rpe(n){return Pu(n.lView,n.tNode)[ch]===Wn.Error}function Ope(n,e,t){let r=n-1,i=r>-1?t.get(e[r]):null;i&&ky(i.lContainer)}function Rk(n,e){let t=e.hydrating;for(let r in n)t.get(r)?.reject();e.cleanup(n)}function Ppe(n,e){for(let t of e)n.hydrating.set(t,Npe())}function kpe(n){return new Promise(e=>Fa(e,{injector:n}))}async function Fpe(n){let{tNode:e,lView:t}=n,r=Pu(t,e);return new Promise(i=>{Lpe(r,i),Mpe(2,t,e)})}function Lpe(n,e){Array.isArray(n[Cu])||(n[Cu]=[]),n[Cu].push(e)}function KD(n,e){let t=Xe(),r=so();if(Kr(t,r,e)){let i=bn(),s=bu();if(Ny(s,i,t,n,e))ro(s)&&b1(t,s.index);else{let a=Li(s,t);_1(t[Ht],a,null,s.value,n,e,null)}}return KD}function ss(n,e,t,r){let i=Xe(),s=so();if(Kr(i,s,e)){let o=bn(),a=bu();Pfe(a,i,n,e,t,r)}return ss}var Mut=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var q0=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,t){this.attach(t,this.detach(e))}};function c0(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function Bpe(n,e,t,r){let i,s,o=0,a=n.length-1,c=void 0;if(Array.isArray(e)){Ze(r);let l=e.length-1;for(Ze(null);o<=a&&o<=l;){let d=n.at(o),h=e[o],p=c0(o,d,o,h,t);if(p!==0){p<0&&n.updateValue(o,h),o++;continue}let b=n.at(a),v=e[l],x=c0(a,b,l,v,t);if(x!==0){x<0&&n.updateValue(a,v),a--,l--;continue}let N=t(o,d),k=t(a,b),ee=t(o,h);if(Object.is(ee,k)){let X=t(l,v);Object.is(X,N)?(n.swap(o,a),n.updateValue(a,v),l--,a--):n.move(a,o),n.updateValue(o,h),o++;continue}if(i??=new uy,s??=Pk(n,o,a,t),j0(n,i,o,ee))n.updateValue(o,h),o++,a++;else if(s.has(ee))i.set(N,n.detach(o)),a--;else{let X=n.create(o,e[o]);n.attach(o,X),o++,a++}}for(;o<=l;)Ok(n,i,t,o,e[o]),o++}else if(e!=null){Ze(r);let l=e[Symbol.iterator]();Ze(null);let d=l.next();for(;!d.done&&o<=a;){let h=n.at(o),p=d.value,b=c0(o,h,o,p,t);if(b!==0)b<0&&n.updateValue(o,p),o++,d=l.next();else{i??=new uy,s??=Pk(n,o,a,t);let v=t(o,p);if(j0(n,i,o,v))n.updateValue(o,p),o++,a++,d=l.next();else if(!s.has(v))n.attach(o,n.create(o,p)),o++,a++,d=l.next();else{let x=t(o,h);i.set(x,n.detach(o)),a--}}}for(;!d.done;)Ok(n,i,t,n.length,d.value),d=l.next()}for(;o<=a;)n.destroy(n.detach(a--));i?.forEach(l=>{n.destroy(l)})}function j0(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function Ok(n,e,t,r,i){if(j0(n,e,r,t(r,i)))n.updateValue(r,i);else{let s=n.create(r,i);n.attach(r,s)}}function Pk(n,e,t,r){let i=new Set;for(let s=e;s<=t;s++)i.add(r(s,n.at(s)));return i}var uy=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function JD(n,e,t,r,i,s,o,a){Yr("NgControlFlow");let c=Xe(),l=bn(),d=Bi(l.consts,s);return Tu(c,l,n,e,t,r,i,d,256,o,a),YD}function YD(n,e,t,r,i,s,o,a){Yr("NgControlFlow");let c=Xe(),l=bn(),d=Bi(l.consts,s);return Tu(c,l,n,e,t,r,i,d,512,o,a),YD}function ZD(n,e){Yr("NgControlFlow");let t=Xe(),r=so(),i=t[r]!==Jr?t[r]:-1,s=i!==-1?dy(t,Gt+i):void 0,o=0;if(Kr(t,r,n)){let a=Ze(null);try{if(s!==void 0&&MD(s,o),n!==-1){let c=Gt+n,l=dy(t,c),d=H0(t[Fe],c),h=L1(l,d,t),p=Mu(t,d,e,{dehydratedView:h});Ru(l,p,o,Gc(d,h))}}finally{Ze(a)}}else if(s!==void 0){let a=I1(s,o);a!==void 0&&(a[$n]=e)}}var U0=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Tn}};function wL(n,e){return e}var $0=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function CL(n,e,t,r,i,s,o,a,c,l,d,h,p){Yr("NgControlFlow");let b=Xe(),v=bn(),x=c!==void 0,N=Xe(),k=a?o.bind(N[xr][$n]):o,ee=new $0(x,k);N[Gt+n]=ee,Tu(b,v,n+1,e,t,r,i,Bi(v.consts,s),256),x&&Tu(b,v,n+2,c,l,d,h,Bi(v.consts,p),512)}var V0=class extends q0{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-Tn}at(e){return this.getLView(e)[$n].$implicit}attach(e,t){let r=t[Gr];this.needsIndexUpdate||=e!==this.length,Ru(this.lContainer,t,e,Gc(this.templateTNode,r)),qpe(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,jpe(this.lContainer,e),Upe(this.lContainer,e)}create(e,t){let r=Yf(this.lContainer,this.templateTNode.tView.ssrId);return Mu(this.hostLView,this.templateTNode,new U0(this.lContainer,t,e),{dehydratedView:r})}destroy(e){Ty(e[Fe],e)}updateValue(e,t){this.getLView(e)[$n].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[$n].$index=e}getLView(e){return $pe(this.lContainer,e)}};function DL(n){let e=Ze(null),t=oo();try{let r=Xe(),i=r[Fe],s=r[t],o=t+1,a=dy(r,o);if(s.liveCollection===void 0){let l=H0(i,o);s.liveCollection=new V0(a,r,l)}else s.liveCollection.reset();let c=s.liveCollection;if(Bpe(c,n,s.trackByFn,e),c.updateIndexes(),s.hasEmptyBlock){let l=so(),d=c.length===0;if(Kr(r,l,d)){let h=t+2,p=dy(r,h);if(d){let b=H0(i,h),v=L1(p,b,r),x=Mu(r,b,void 0,{dehydratedView:v});Ru(p,x,0,Gc(b,v))}else i.firstUpdatePass&&Py(p),MD(p,0)}}}finally{Ze(e)}}function dy(n,e){return n[e]}function qpe(n,e){if(n.length<=Tn)return;let t=Tn+e,r=n[t],i=r?r[Lc]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let s=r[Ri];hfe(s,i),Wc.delete(r[Fo]),i.detachedLeaveAnimationFns=void 0}}function jpe(n,e){if(n.length<=Tn)return;let t=Tn+e,r=n[t],i=r?r[Lc]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function Upe(n,e){return Jf(n,e)}function $pe(n,e){return I1(n,e)}function H0(n,e){return jc(n,e)}function Uy(n,e,t){let r=Xe(),i=so();if(Kr(r,i,e)){let s=bn(),o=bu();g1(o,r,n,e,r[Ht],t)}return Uy}function z0(n,e,t,r,i){Ny(e,n,t,i?"class":"style",r)}function dh(n,e,t,r){let i=Xe(),s=i[Fe],o=n+Gt,a=s.firstCreatePass?PD(o,i,2,e,TD,Ng(),t,r):s.data[o];if(SD(a,i,n,e,XD),gu(a)){let c=i[Fe];Ay(c,i,a),aD(c,a,i)}return r!=null&&oh(i,a),dh}function fh(){let n=bn(),e=gr(),t=AD(e);return n.firstCreatePass&&kD(n,t),kC(t)&&FC(),PC(),t.classesWithoutHost!=null&&zue(t)&&z0(n,t,Xe(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&Wue(t)&&z0(n,t,Xe(),t.stylesWithoutHost,!1),fh}function ku(n,e,t,r){return dh(n,e,t,r),fh(),ku}function Yc(n,e,t,r){let i=Xe(),s=i[Fe],o=n+Gt,a=s.firstCreatePass?She(o,s,2,e,t,r):s.data[o];return SD(a,i,n,e,XD),r!=null&&oh(i,a),Yc}function Zc(){let n=gr(),e=AD(n);return kC(e)&&FC(),PC(),Zc}function zo(n,e,t,r){return Yc(n,e,t,r),Zc(),zo}var XD=(n,e,t,r,i)=>(Lo(!0),pD(e[Ht],r,WC()));function Vpe(n,e,t,r,i){let s=!vy(e,t);if(Lo(s),s)return pD(e[Ht],r,WC());let o=e[Gr],a=Ry(o,n,e,t);return BF(o,i)&&_y(o,i,a.nextSibling),o&&(rF(t)||iF(a))&&ro(t)&&(RP(t),YF(a)),a}function xL(){XD=Vpe}function ex(n,e,t){let r=Xe(),i=r[Fe],s=n+Gt,o=i.firstCreatePass?PD(s,r,8,"ng-container",TD,Ng(),e,t):i.data[s];if(SD(o,r,n,"ng-container",SL),gu(o)){let a=r[Fe];Ay(a,r,o),aD(a,o,r)}return t!=null&&oh(r,o),ex}function tx(){let n=bn(),e=gr(),t=AD(e);return n.firstCreatePass&&kD(n,t),tx}function TL(n,e,t){return ex(n,e,t),tx(),TL}var SL=(n,e,t,r,i)=>(Lo(!0),KF(e[Ht],""));function Hpe(n,e,t,r,i){let s,o=!vy(e,t);if(Lo(o),o)return KF(e[Ht],"");let a=e[Gr],c=Ry(a,n,e,t),l=vde(a,i);return _y(a,i,c),s=Oy(l,c),s}function AL(){SL=Hpe}function nx(){return Xe()}function NL(n,e,t){let r=Xe(),i=so();if(Kr(r,i,e)){let s=bn(),o=bu();y1(o,r,n,e,r[Ht],t)}return NL}var hh="en-US";var zpe=hh;function IL(n){typeof n=="string"&&(zpe=n.toLowerCase().replace(/_/g,"-"))}function La(n,e,t){let r=Xe(),i=bn(),s=gr();return ML(i,r,r[Ht],s,n,e,t),La}function ML(n,e,t,r,i,s,o){let a=!0,c=null;if((r.type&3||o)&&(c??=i0(r,e,s),Nhe(r,n,e,o,t,i,s,c)&&(a=!1)),a){let l=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let h=0;h<d.length;h+=2){let p=d[h],b=d[h+1];c??=i0(r,e,s),wk(r,e,p,b,i,c)}if(l&&l.length)for(let h of l)c??=i0(r,e,s),wk(r,e,h,i,i,c)}}function rx(n=1){return HP(n)}function Wpe(n,e){let t=null,r=efe(n);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){t=i;continue}if(r===null?n1(n,s,!0):rfe(r,s))return i}return t}function Ns(n){let e=Xe()[xr][Wr];if(!e.projection){let t=n?n.length:1,r=e.projection=mP(t,null),i=r.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=n?Wpe(s,n):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s)}s=s.next}}}function Ui(n,e=0,t,r,i,s){let o=Xe(),a=bn(),c=r?n+1:null;c!==null&&Tu(o,a,c,r,i,s,null,t);let l=Ou(a,Gt+n,16,null,t||null);l.projection===null&&(l.projection=e),qC();let h=!o[Gr]||Ig();o[xr][Wr].projection[l.projection]===null&&c!==null?Gpe(o,a,c):h&&!rh(l)&&Dfe(a,o,l)}function Gpe(n,e,t){let r=Gt+t,i=e.data[r],s=n[r],o=Yf(s,i.tView.ssrId),a=Mu(n,i,void 0,{dehydratedView:o});Ru(s,a,0,Gc(i,o))}function ph(n,e,t,r){return tL(n,e,t,r),ph}function mh(n,e,t){return eL(n,e,t),mh}function gh(n){let e=Xe(),t=bn(),r=kg();Uf(r+1);let i=BD(t,r);if(n.dirty&&xP(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let s=rL(e,r);n.reset(s,tF),n.notifyOnChanges()}return!0}return!1}function yh(){return LD(Xe(),kg())}function RL(n,e,t,r,i){return sL(e,tL(n,t,r,i)),RL}function OL(n,e,t,r){return sL(n,eL(e,t,r)),OL}function Qpe(n=1){Uf(kg()+n)}function ix(n){let e=PP();return DP(e,Gt+n)}function Hg(n,e){return n<<17|e<<2}function Qc(n){return n>>17&32767}function Kpe(n){return(n&2)==2}function Jpe(n,e){return n&131071|e<<17}function W0(n){return n|2}function Su(n){return(n&131068)>>2}function l0(n,e){return n&-131069|e<<2}function Ype(n){return(n&1)===1}function G0(n){return n|1}function Zpe(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Qc(o),c=Su(o);n[r]=t;let l=!1,d;if(Array.isArray(t)){let h=t;d=h[1],(d===null||fu(h,d)>0)&&(l=!0)}else d=t;if(i)if(c!==0){let p=Qc(n[a+1]);n[r+1]=Hg(p,a),p!==0&&(n[p+1]=l0(n[p+1],r)),n[a+1]=Jpe(n[a+1],r)}else n[r+1]=Hg(a,0),a!==0&&(n[a+1]=l0(n[a+1],r)),a=r;else n[r+1]=Hg(c,0),a===0?a=r:n[c+1]=l0(n[c+1],r),c=r;l&&(n[r+1]=W0(n[r+1])),kk(n,d,r,!0),kk(n,d,r,!1),Xpe(e,d,n,r,s),o=Hg(a,c),s?e.classBindings=o:e.styleBindings=o}function Xpe(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&fu(s,e)>=0&&(t[r+1]=G0(t[r+1]))}function kk(n,e,t,r){let i=n[t+1],s=e===null,o=r?Qc(i):Su(i),a=!1;for(;o!==0&&(a===!1||s);){let c=n[o],l=n[o+1];eme(c,e)&&(a=!0,n[o+1]=r?G0(l):W0(l)),o=r?Qc(l):Su(l)}a&&(n[t+1]=r?W0(i):G0(i))}function eme(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?fu(n,e)>=0:!1}var Ts={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function tme(n){return n.substring(Ts.key,Ts.keyEnd)}function nme(n){return rme(n),PL(n,kL(n,0,Ts.textEnd))}function PL(n,e){let t=Ts.textEnd;return t===e?-1:(e=Ts.keyEnd=ime(n,Ts.key=e,t),kL(n,e,t))}function rme(n){Ts.key=0,Ts.keyEnd=0,Ts.value=0,Ts.valueEnd=0,Ts.textEnd=n.length}function kL(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function ime(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function $y(n,e,t){return FL(n,e,t,!1),$y}function yr(n,e){return FL(n,e,null,!0),yr}function Fu(n){ome(fme,sme,n,!0)}function sme(n,e){for(let t=nme(e);t>=0;t=PL(e,t))Cg(n,tme(e),!0)}function FL(n,e,t,r){let i=Xe(),s=bn(),o=Og(2);if(s.firstUpdatePass&&BL(s,n,o,r),e!==Jr&&Kr(i,o,e)){let a=s.data[oo()];qL(s,a,i,i[Ht],n,i[o+1]=pme(e,t),r,o)}}function ome(n,e,t,r){let i=bn(),s=Og(2);i.firstUpdatePass&&BL(i,null,s,r);let o=Xe();if(t!==Jr&&Kr(o,s,t)){let a=i.data[oo()];if(jL(a,r)&&!LL(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=yg(c,t||"")),z0(i,a,o,t,r)}else hme(i,a,o,o[Ht],o[s+1],o[s+1]=dme(n,e,t),r,s)}}function LL(n,e){return e>=n.expandoStartIndex}function BL(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[oo()],o=LL(n,t);jL(s,r)&&e===null&&!o&&(e=!1),e=ame(i,s,e,r),Zpe(i,s,e,t,o,r)}}function ame(n,e,t,r){let i=jP(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=u0(null,n,e,t,r),t=Xf(t,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==i)if(t=u0(i,n,e,t,r),s===null){let c=cme(n,e,r);c!==void 0&&Array.isArray(c)&&(c=u0(null,n,e,c[1],r),c=Xf(c,e.attrs,r),lme(n,e,r,c))}else s=ume(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function cme(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Su(r)!==0)return n[Qc(r)]}function lme(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Qc(i)]=r}function ume(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=n[s].hostAttrs;r=Xf(r,o,t)}return Xf(r,e.attrs,t)}function u0(n,e,t,r,i){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],r=Xf(r,s.hostAttrs,i),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Xf(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Cg(n,o,t?!0:e[++s]))}return n===void 0?null:n}function dme(n,e,t){if(t==null||t==="")return Br;let r=[],i=As(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function fme(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&Cg(n,r,t)}function hme(n,e,t,r,i,s,o,a){i===Jr&&(i=Br);let c=0,l=0,d=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;d!==null||h!==null;){let p=c<i.length?i[c+1]:void 0,b=l<s.length?s[l+1]:void 0,v=null,x;d===h?(c+=2,l+=2,p!==b&&(v=h,x=b)):h===null||d!==null&&d<h?(c+=2,v=d):(l+=2,v=h,x=b),v!==null&&qL(n,e,t,r,v,x,o,a),d=c<i.length?i[c]:null,h=l<s.length?s[l]:null}}function qL(n,e,t,r,i,s,o,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],d=Ype(l)?Fk(c,e,t,i,Su(l),o):void 0;if(!fy(d)){fy(s)||Kpe(l)&&(s=Fk(c,null,t,i,a,o));let h=AC(oo(),t);Tfe(r,o,h,i,s)}}function Fk(n,e,t,r,i,s){let o=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),d=l?c[1]:c,h=d===null,p=t[i+1];p===Jr&&(p=h?Br:void 0);let b=h?Dg(p,r):d===r?p:void 0;if(l&&!fy(b)&&(b=Dg(c,r)),fy(b)&&(a=b,o))return a;let v=n[i+1];i=o?Qc(v):Su(v)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Dg(c,r))}return a}function fy(n){return n!==void 0}function pme(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=ko(As(n)))),n}function jL(n,e){return(n.flags&(e?8:16))!==0}function UL(n,e=""){let t=Xe(),r=bn(),i=n+Gt,s=r.firstCreatePass?Ou(r,i,1,e,null):r.data[i],o=$L(r,t,s,e,n);t[i]=o,Bg()&&DD(r,t,o,s),yu(s,!1)}var $L=(n,e,t,r,i)=>(Lo(!0),QF(e[Ht],r));function mme(n,e,t,r,i){let s=!vy(e,t);if(Lo(s),s)return QF(e[Ht],r);let o=e[Gr];return Ry(o,n,e,t)}function VL(){$L=mme}function HL(n,e,t,r=""){return Kr(n,so(),t)?e+Ta(t)+r:Jr}function gme(n,e,t,r,i,s=""){let o=kP(),a=H1(n,o,t,i);return Og(2),a?e+Ta(t)+r+Ta(i)+s:Jr}function sx(n){return ox("",n),sx}function ox(n,e,t){let r=Xe(),i=HL(r,n,e,t);return i!==Jr&&WL(r,oo(),i),ox}function zL(n,e,t,r,i){let s=Xe(),o=gme(s,n,e,t,r,i);return o!==Jr&&WL(s,oo(),o),zL}function WL(n,e,t){let r=AC(e,n);Hde(n[Ht],r,t)}function GL(n,e,t){VD(e)&&(e=e());let r=Xe(),i=so();if(Kr(r,i,e)){let s=bn(),o=bu();g1(o,r,n,e,r[Ht],t)}return GL}function yme(n,e){let t=VD(n);return t&&n.set(e),t}function QL(n,e){let t=Xe(),r=bn(),i=gr();return ML(r,t,t[Ht],i,n,e),QL}function bme(n){return Kr(Xe(),so(),n)?Ta(n):Jr}function _me(n,e,t=""){return HL(Xe(),n,e,t)}function Lk(n,e,t){let r=bn();r.firstCreatePass&&KL(e,r.data,r.blueprint,io(n),t)}function KL(n,e,t,r,i){if(n=Dr(n),Array.isArray(n))for(let s=0;s<n.length;s++)KL(n[s],e,t,r,i);else{let s=bn(),o=Xe(),a=gr(),c=Mc(n)?n:Dr(n.provide),l=wC(n),d=a.providerIndexes&1048575,h=a.directiveStart,p=a.providerIndexes>>20;if(Mc(n)||!n.multi){let b=new Hc(l,i,jr,null),v=f0(c,e,i?d:d+p,h);v===-1?(p0(ey(a,o),s,c),d0(s,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(b),o.push(b)):(t[v]=b,o[v]=b)}else{let b=f0(c,e,d+p,h),v=f0(c,e,d,d+p),x=b>=0&&t[b],N=v>=0&&t[v];if(i&&!N||!i&&!x){p0(ey(a,o),s,c);let k=wme(i?Eme:vme,t.length,i,r,l,n);!i&&N&&(t[v].providerFactory=k),d0(s,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(k),o.push(k)}else{let k=JL(t[i?v:b],l,!i&&r);d0(s,n,b>-1?b:v,k)}!i&&r&&N&&t[v].componentProviders++}}}function d0(n,e,t,r){let i=Mc(e),s=EP(e);if(i||s){let c=(s?Dr(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=l.indexOf(t);d===-1?l.push(t,[r,c]):l[d+1].push(r,c)}else l.push(t,c)}}}function JL(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function f0(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function vme(n,e,t,r,i){return Q0(this.multi,[])}function Eme(n,e,t,r,i){let s=this.multi,o;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Wf(r,r[Fe],this.providerFactory.index,i);o=c.slice(0,a),Q0(s,o);for(let l=a;l<c.length;l++)o.push(c[l])}else o=[],Q0(s,o);return o}function Q0(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function wme(n,e,t,r,i,s){let o=new Hc(n,t,jr,null);return o.multi=[],o.index=e,o.componentProviders=0,JL(o,i,r&&!t),o}function Ba(n,e){return t=>{t.providersResolver=(r,i)=>Lk(r,i?i(n):n,!1),e&&(t.viewProvidersResolver=(r,i)=>Lk(r,i?i(e):e,!0))}}function Cme(n,e,t){return xme(Xe(),UC(),n,e,t)}function Dme(n,e,t,r,i){return Tme(Xe(),UC(),n,e,t,r,i)}function YL(n,e){let t=n[e];return t===Jr?void 0:t}function xme(n,e,t,r,i,s){let o=e+t;return Kr(n,o,i)?V1(n,o+1,s?r.call(s,i):r(i)):YL(n,o+1)}function Tme(n,e,t,r,i,s,o,a){let c=e+t;return Ahe(n,c,i,s,o)?V1(n,c+3,a?r.call(a,i,s,o):r(i,s,o)):YL(n,c+3)}function ZL(n,e){return My(n,e)}var hy=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},ax=(()=>{class n{compileModuleSync(t){return new ly(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=pC(t),s=e1(i.declarations).reduce((o,a)=>{let c=ws(a);return c&&o.push(new Oa(c)),o},[]);return new hy(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var XL=(()=>{class n{applicationErrorHandler=U(Ds);appRef=U(Tr);taskService=U(ao);ngZone=U(Nt);zonelessEnabled=U($f);tracing=U(lo,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new fn;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Pf):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(U(ZC,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?KC:QC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Pf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,KC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Sme(){return Yr("NgZoneless"),Mi([...cx(),[]])}function cx(){return[{provide:Ys,useExisting:XL},{provide:Nt,useClass:kf},{provide:$f,useValue:!0}]}function Ame(){return typeof $localize<"u"&&$localize.locale||hh}var lx=new _e("",{factory:()=>U(lx,{optional:!0,skipSelf:!0})||Ame()});function qa(n,e){return gf(n,e?.equal)}var px={JSACTION:"__jsaction",OWNER:"__owner"},rB={};function Nme(n){return n[px.JSACTION]}function eB(n,e){n[px.JSACTION]=e}function Ime(n){return rB[n]}function Mme(n,e){rB[n]=e}var Je={AUXCLICK:"auxclick",CHANGE:"change",CLICK:"click",CLICKMOD:"clickmod",CLICKONLY:"clickonly",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEUP:"mouseup",MOUSEDOWN:"mousedown",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",POINTERUP:"pointerup",POINTERDOWN:"pointerdown",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERMOVE:"pointermove",POINTERCANCEL:"pointercancel",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",ERROR:"error",LOAD:"load",UNLOAD:"unload",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",INPUT:"input",SCROLL:"scroll",TOGGLE:"toggle",CUSTOM:"_custom"},Rme=[Je.MOUSEENTER,Je.MOUSELEAVE,"pointerenter","pointerleave"],Lut=[Je.CLICK,Je.DBLCLICK,Je.FOCUSIN,Je.FOCUSOUT,Je.KEYDOWN,Je.KEYUP,Je.KEYPRESS,Je.MOUSEOVER,Je.MOUSEOUT,Je.SUBMIT,Je.TOUCHSTART,Je.TOUCHEND,Je.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],Ome=[Je.FOCUS,Je.BLUR,Je.ERROR,Je.LOAD,Je.TOGGLE],mx=n=>Ome.indexOf(n)>=0;function Pme(n){return n===Je.MOUSEENTER?Je.MOUSEOVER:n===Je.MOUSELEAVE?Je.MOUSEOUT:n===Je.POINTERENTER?Je.POINTEROVER:n===Je.POINTERLEAVE?Je.POINTEROUT:n}function kme(n,e,t,r){let i=!1;mx(e)&&(i=!0);let s=typeof r=="boolean"?{capture:i,passive:r}:i;return n.addEventListener(e,t,s),{eventType:e,handler:t,capture:i,passive:r}}function Fme(n,e){if(n.removeEventListener){let t=typeof e.passive=="boolean"?{capture:e.capture}:e.capture;n.removeEventListener(e.eventType,e.handler,t)}else n.detachEvent&&n.detachEvent(`on${e.eventType}`,e.handler)}function Lme(n){n.preventDefault?n.preventDefault():n.returnValue=!1}var tB=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function Bme(n){return n.which===2||n.which==null&&n.button===4}function qme(n){return tB&&n.metaKey||!tB&&n.ctrlKey||Bme(n)||n.shiftKey}function jme(n,e,t){let r=n.relatedTarget;return(n.type===Je.MOUSEOVER&&e===Je.MOUSEENTER||n.type===Je.MOUSEOUT&&e===Je.MOUSELEAVE||n.type===Je.POINTEROVER&&e===Je.POINTERENTER||n.type===Je.POINTEROUT&&e===Je.POINTERLEAVE)&&(!r||r!==t&&!t.contains(r))}function Ume(n,e){let t={};for(let r in n){if(r==="srcElement"||r==="target")continue;let i=r,s=n[i];typeof s!="function"&&(t[i]=s)}return n.type===Je.MOUSEOVER?t.type=Je.MOUSEENTER:n.type===Je.MOUSEOUT?t.type=Je.MOUSELEAVE:n.type===Je.POINTEROVER?t.type=Je.POINTERENTER:t.type=Je.POINTERLEAVE,t.target=t.srcElement=e,t.bubbles=!1,t._originalEvent=n,t}var $me=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),Wy=class{element;handlerInfos=[];constructor(e){this.element=e}addEventListener(e,t,r){$me&&(this.element.style.cursor="pointer"),this.handlerInfos.push(kme(this.element,e,t(this.element),r))}cleanUp(){for(let e=0;e<this.handlerInfos.length;e++)Fme(this.element,this.handlerInfos[e]);this.handlerInfos=[]}},Vme={NAMESPACE_ACTION_SEPARATOR:".",EVENT_ACTION_SEPARATOR:":"};function ja(n){return n.eventType}function gx(n,e){n.eventType=e}function Hy(n){return n.event}function iB(n,e){n.event=e}function sB(n){return n.targetElement}function oB(n,e){n.targetElement=e}function aB(n){return n.eic}function Hme(n,e){n.eic=e}function zme(n){return n.timeStamp}function Wme(n,e){n.timeStamp=e}function zy(n){return n.eia}function cB(n,e,t){n.eia=[e,t]}function ux(n){n.eia=void 0}function Vy(n){return n[1]}function Gme(n){return n.eirp}function lB(n,e){n.eirp=e}function uB(n){return n.eir}function dB(n,e){n.eir=e}function fB(n){return{eventType:n.eventType,event:n.event,targetElement:n.targetElement,eic:n.eic,eia:n.eia,timeStamp:n.timeStamp,eirp:n.eirp,eiack:n.eiack,eir:n.eir}}function Qme(n,e,t,r,i,s,o,a){return{eventType:n,event:e,targetElement:t,eic:r,timeStamp:i,eia:s,eirp:o,eiack:a}}var dx=class n{eventInfo;constructor(e){this.eventInfo=e}getEventType(){return ja(this.eventInfo)}setEventType(e){gx(this.eventInfo,e)}getEvent(){return Hy(this.eventInfo)}setEvent(e){iB(this.eventInfo,e)}getTargetElement(){return sB(this.eventInfo)}setTargetElement(e){oB(this.eventInfo,e)}getContainer(){return aB(this.eventInfo)}setContainer(e){Hme(this.eventInfo,e)}getTimestamp(){return zme(this.eventInfo)}setTimestamp(e){Wme(this.eventInfo,e)}getAction(){let e=zy(this.eventInfo);if(e)return{name:e[0],element:e[1]}}setAction(e){if(!e){ux(this.eventInfo);return}cB(this.eventInfo,e.name,e.element)}getIsReplay(){return Gme(this.eventInfo)}setIsReplay(e){lB(this.eventInfo,e)}getResolved(){return uB(this.eventInfo)}setResolved(e){dB(this.eventInfo,e)}clone(){return new n(fB(this.eventInfo))}},Kme={},Jme=/\s*;\s*/,Yme=Je.CLICK,fx=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:e=!1,clickModSupport:t=!0}={}){this.syntheticMouseEventSupport=e,this.clickModSupport=t}resolveEventType(e){this.clickModSupport&&ja(e)===Je.CLICK&&qme(Hy(e))?gx(e,Je.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(e)}resolveAction(e){uB(e)||(this.populateAction(e,sB(e)),dB(e,!0))}resolveParentAction(e){let t=zy(e),r=t&&Vy(t);ux(e);let i=r&&this.getParentNode(r);i&&this.populateAction(e,i)}populateAction(e,t){let r=t;for(;r&&r!==aB(e)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,e),!zy(e));)r=this.getParentNode(r);let i=zy(e);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(e),this.syntheticMouseEventSupport&&(ja(e)===Je.MOUSEENTER||ja(e)===Je.MOUSELEAVE||ja(e)===Je.POINTERENTER||ja(e)===Je.POINTERLEAVE)))if(jme(Hy(e),ja(e),Vy(i))){let s=Ume(Hy(e),Vy(i));iB(e,s),oB(e,Vy(i))}else ux(e)}getParentNode(e){let t=e[px.OWNER];if(t)return t;let r=e.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(e,t){let r=this.parseActions(e),i=r[ja(t)];i!==void 0&&cB(t,i,e),this.a11yClickSupport&&this.populateClickOnlyAction(e,t,r)}parseActions(e){let t=Nme(e);if(!t){let r=e.getAttribute(Ug.JSACTION);if(!r)t=Kme,eB(e,t);else{if(t=Ime(r),!t){t={};let i=r.split(Jme);for(let s=0;s<i.length;s++){let o=i[s];if(!o)continue;let a=o.indexOf(Vme.EVENT_ACTION_SEPARATOR),c=a!==-1,l=c?o.substr(0,a).trim():Yme,d=c?o.substr(a+1).trim():o;t[l]=d}Mme(r,t)}eB(e,t)}}return t}addA11yClickSupport(e,t,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=e,this.preventDefaultForA11yClick=t,this.populateClickOnlyAction=r}},hB=(function(n){return n[n.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",n})(hB||{}),hx=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(e,{actionResolver:t,eventReplayer:r}={}){this.dispatchDelegate=e,this.actionResolver=t,this.eventReplayer=r}dispatch(e){let t=new dx(e);this.actionResolver?.resolveEventType(e),this.actionResolver?.resolveAction(e);let r=t.getAction();if(r&&Zme(r.element,t)&&Lme(t.getEvent()),this.eventReplayer&&t.getIsReplay()){this.scheduleEventInfoWrapperReplay(t);return}this.dispatchDelegate(t)}scheduleEventInfoWrapperReplay(e){this.replayEventInfoWrappers.push(e),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function Zme(n,e){return n.tagName==="A"&&(e.getEventType()===Je.CLICK||e.getEventType()===Je.CLICKMOD)}var pB=Symbol.for("propagationStopped"),yx={REPLAY:101};var Xme="`preventDefault` called during event replay.";var ege="`composedPath` called during event replay.",Gy=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(e,t=!0){this.dispatchDelegate=e,this.clickModSupport=t,this.actionResolver=new fx({clickModSupport:t}),this.dispatcher=new hx(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(e){this.dispatcher.dispatch(e)}dispatchToDelegate(e){for(e.getIsReplay()&&rge(e),tge(e);e.getAction();){if(ige(e),mx(e.getEventType())&&e.getAction().element!==e.getTargetElement()||(this.dispatchDelegate(e.getEvent(),e.getAction().name),nge(e)))return;this.actionResolver.resolveParentAction(e.eventInfo)}}};function tge(n){let e=n.getEvent(),t=n.getEvent().stopPropagation.bind(e),r=()=>{e[pB]=!0,t()};Xc(e,"stopPropagation",r),Xc(e,"stopImmediatePropagation",r)}function nge(n){return!!n.getEvent()[pB]}function rge(n){let e=n.getEvent(),t=n.getTargetElement(),r=e.preventDefault.bind(e);Xc(e,"target",t),Xc(e,"eventPhase",yx.REPLAY),Xc(e,"preventDefault",()=>{throw r(),new Error(Xme+"")}),Xc(e,"composedPath",()=>{throw new Error(ege+"")})}function ige(n){let e=n.getEvent(),t=n.getAction()?.element;t&&Xc(e,"currentTarget",t,{configurable:!0})}function Xc(n,e,t,{configurable:r=!1}={}){Object.defineProperty(n,e,{value:t,configurable:r})}function mB(n,e){n.ecrd(t=>{e.dispatch(t)},hB.I_AM_THE_JSACTION_FRAMEWORK)}function sge(n){return n?.q??[]}function oge(n){n&&(nB(n.c,n.et,n.h),nB(n.c,n.etc,n.h,!0))}function nB(n,e,t,r){for(let i=0;i<e.length;i++)n.removeEventListener(e[i],t,r)}var age=!1,gB=(()=>{class n{static MOUSE_SPECIAL_SUPPORT=age;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(t){this.containerManager=t}handleEvent(t,r,i){let s=Qme(t,r,r.target,i,Date.now());this.handleEventInfo(s)}handleEventInfo(t){if(!this.dispatcher){lB(t,!0),this.queuedEventInfos?.push(t);return}this.dispatcher(t)}addEvent(t,r,i){if(t in this.eventHandlers||!this.containerManager||!n.MOUSE_SPECIAL_SUPPORT&&Rme.indexOf(t)>=0)return;let s=(a,c,l)=>{this.handleEvent(a,c,l)};this.eventHandlers[t]=s;let o=Pme(r||t);if(o!==t){let a=this.browserEventTypeToExtraEventTypes[o]||[];a.push(t),this.browserEventTypeToExtraEventTypes[o]=a}this.containerManager.addEventListener(o,a=>c=>{s(t,c,a)},i)}replayEarlyEvents(t=window._ejsa){t&&(this.replayEarlyEventInfos(t.q),oge(t),delete window._ejsa)}replayEarlyEventInfos(t){for(let r=0;r<t.length;r++){let i=t[r],s=this.getEventTypesForBrowserEventType(i.eventType);for(let o=0;o<s.length;o++){let a=fB(i);gx(a,s[o]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(t){let r=[];return this.eventHandlers[t]&&r.push(t),this.browserEventTypeToExtraEventTypes[t]&&r.push(...this.browserEventTypeToExtraEventTypes[t]),r}handler(t){return this.eventHandlers[t]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(t,r){this.ecrd(t,r)}ecrd(t,r){if(this.dispatcher=t,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return n})();function yB(n,e=window){return sge(e._ejsas?.[n])}function bx(n,e=window){e._ejsas&&(e._ejsas[n]=void 0)}var xB=Symbol("InputSignalNode#UNSET"),vge=$e(K({},bf),{transformFn:void 0,applyValueToInputSignal(n,e){yf(n,e)}});function TB(n,e){let t=Object.create(vge);t.value=n,t.transformFn=e?.transform;function r(){if(Kl(t),t.value===xB){let i=null;throw new Ae(-950,i)}return t.value}return r[pr]=t,r}var _h=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>py(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function bB(n,e){return TB(n,e)}function Ege(n){return TB(xB,n)}var SB=(bB.required=Ege,bB);function _B(n,e){return qD(e)}function wge(n,e){return jD(e)}var vmt=(_B.required=wge,_B);function vB(n,e){return qD(e)}function Cge(n,e){return jD(e)}var Emt=(vB.required=Cge,vB);var vx=new _e(""),Dge=new _e("");function bh(n){return!n.moduleRef}function xge(n){let e=bh(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Nt);return t.run(()=>{bh(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Ds),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),bh(n)){let s=()=>e.destroy(),o=n.platformInjector.get(vx);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(vx);o.add(s),n.moduleRef.onDestroy(()=>{zf(n.allPlatformModules,n.moduleRef),i.unsubscribe(),o.delete(s)})}return Sge(r,t,()=>{let s=e.get(ao),o=s.add(),a=e.get(QD);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(lx,hh);if(IL(c||hh),!e.get(Dge,!0))return bh(n)?e.get(Tr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(bh(n)){let d=e.get(Tr);return n.rootComponent!==void 0&&d.bootstrap(n.rootComponent),d}else return Tge?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void s.remove(o))})})}var Tge;function Sge(n,e,t){try{let r=t();return Jc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Ky=null;function Age(n=[],e){return Xt.create({name:e,providers:[{provide:Bf,useValue:"platform"},{provide:vx,useValue:new Set([()=>Ky=null])},...n]})}function Nge(n=[]){if(Ky)return Ky;let e=Age(n);return Ky=e,bL(),Ige(e),e}function Ige(n){let e=n.get(my,null);mr(n,()=>{e?.forEach(t=>t())})}function wmt(){return!1}var el=(()=>{class n{static __NG_ELEMENT_ID__=Mge}return n})();function Mge(n){return Rge(gr(),Xe(),(n&16)===16)}function Rge(n,e,t){if(ro(n)&&!t){let r=rs(n.index,e);return new Ma(r,r)}else if(n.type&175){let r=e[xr];return new Ma(r,e)}return null}function AB(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;zt(Bt.BootstrapApplicationStart);try{let s=i?.injector??Nge(r),o=[cx(),QP,...t||[]],a=new Zf({providers:o,parent:s,debugName:"",runEnvironmentInitializers:!1});return xge({r3Injector:a.injector,platformInjector:s,rootComponent:e})}catch(s){return Promise.reject(s)}finally{zt(Bt.BootstrapApplicationEnd)}}var Qy=new WeakSet,EB="";function wB(n){return n.get(nD,EF)}function NB(){let n=[{provide:nD,useFactory:()=>{let e=!0;{let t=U(mi);e=!!window._ejsas?.[t]}return e&&Yr("NgEventReplay"),e}}];return n.push({provide:Xs,useValue:()=>{let e=U(Tr),{injector:t}=e;if(!Qy.has(e)){let r=U(rD);if(wB(t)){IF();let i=t.get(mi),s=AF(i,(o,a,c)=>{o.nodeType===Node.ELEMENT_NODE&&(DF(o,a,c),xF(o,r))});e.onDestroy(s)}}},multi:!0},{provide:Ho,useFactory:()=>{let e=U(Tr),{injector:t}=e;return()=>{if(!wB(t)||Qy.has(e))return;Qy.add(e);let r=t.get(mi);e.onDestroy(()=>{Qy.delete(e),bx(r)}),e.whenStable().then(()=>{if(e.destroyed)return;let i=t.get(SF);Oge(i,t);let s=t.get(rD);s.get(EB)?.forEach(TF),s.delete(EB);let o=i.instance;LF(t)?e.onDestroy(()=>o.cleanUp()):o.cleanUp()})}},multi:!0}),n}var Oge=(n,e)=>{let t=e.get(mi),r=window._ejsas[t],i=n.instance=new gB(new Wy(r.c));for(let a of r.et)i.addEvent(a);for(let a of r.etc)i.addEvent(a);let s=yB(t);i.replayEarlyEventInfos(s),bx(t);let o=new Gy(a=>{Pge(e,a,a.currentTarget)});mB(i,o)};function Pge(n,e,t){let r=(t&&t.getAttribute(nh))??"";/d\d+/.test(r)?kge(r,n,e,t):e.eventPhase===yx.REPLAY&&iD(e,t)}function kge(n,e,t,r){let i=e.get(wF);i.push({event:t,currentTarget:r}),EL(e,n,Fge(i))}function Fge(n){return e=>{let t=new Set(e),r=[];for(let{event:i,currentTarget:s}of n){let o=s.getAttribute(nh);t.has(o)?iD(i,s):r.push({event:i,currentTarget:s})}n.length=0,n.push(...r)}}var CB=!1;function Lge(){CB||(CB=!0,PF(),xL(),VL(),AL(),dL(),Y1(),F1(),m1())}function Bge(n){return n.whenStable()}function IB(){let n=[{provide:th,useFactory:()=>{let e=!0;return e=!!U(Iu,{optional:!0})?.get(sD,null),e&&Yr("NgHydration"),e}},{provide:Xs,useValue:()=>{R1(!1);let e=U(st);U(th)&&(jF(e),Lge())},multi:!0}];return n.push({provide:tD,useFactory:()=>U(th)},{provide:Ho,useFactory:()=>{if(U(th)){let e=U(Tr);return()=>{Bge(e).then(()=>{e.destroyed||RD(e)})}}return()=>{}},multi:!0}),Mi(n)}function gi(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Cx(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}var qge="\u{1F170}\uFE0F",MB=!1;function Cmt(n){if(!MB)return;let{startLabel:e}=RB(n);performance.mark(e)}function Dmt(n){if(!MB)return;let{startLabel:e,labelName:t,endLabel:r}=RB(n);performance.mark(r),performance.measure(t,e,r),performance.clearMarks(e),performance.clearMarks(r)}function RB(n){let e=`${qge}:${n}`;return{labelName:e,startLabel:`start:${e}`,endLabel:`end:${e}`}}var _x=Symbol("NOT_SET"),OB=new Set,jge=$e(K({},bf),{kind:"afterRenderEffectPhase",consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,value:_x,cleanup:null,consumerMarkedDirty(){if(this.sequence.impl.executing){if(this.sequence.lastPhase===null||this.sequence.lastPhase<this.phase)return;this.sequence.erroredOrDestroyed=!0}this.sequence.scheduler.notify(7)},phaseFn(n){if(this.sequence.lastPhase=this.phase,!this.dirty)return this.signal;if(this.dirty=!1,this.value!==_x&&!Yl(this))return this.signal;try{for(let i of this.cleanup??OB)i()}finally{this.cleanup?.clear()}let e=[];n!==void 0&&e.push(n),e.push(this.registerCleanupFn);let t=vc(this),r;try{r=this.userFn.apply(null,e)}finally{Jl(this,t)}return(this.value===_x||!this.equal(this.value,r))&&(this.value=r,this.version++),this.signal}}),Ex=class extends Qf{scheduler;lastPhase=null;nodes=[void 0,void 0,void 0,void 0];onDestroyFns=null;constructor(e,t,r,i,s,o=null){super(e,[void 0,void 0,void 0,void 0],r,!1,s.get(Qr),o),this.scheduler=i;for(let a of ED){let c=t[a];if(c===void 0)continue;let l=Object.create(jge);l.sequence=this,l.phase=a,l.userFn=c,l.dirty=!0,l.signal=()=>(Kl(l),l.value),l.signal[pr]=l,l.registerCleanupFn=d=>(l.cleanup??=new Set).add(d),this.nodes[a]=l,this.hooks[a]=d=>l.phaseFn(d)}}afterRun(){super.afterRun(),this.lastPhase=null}destroy(){if(this.onDestroyFns!==null)for(let e of this.onDestroyFns)e();super.destroy();for(let e of this.nodes)if(e)try{for(let t of e.cleanup??OB)t()}finally{ba(e)}}};function xmt(n,e){let t=e?.injector??U(Xt),r=t.get(Ys),i=t.get(xy),s=t.get(lo,null,{optional:!0});i.impl??=t.get(wD);let o=n;typeof o=="function"&&(o={mixedReadWrite:n});let a=t.get(_u,null,{optional:!0}),c=new Ex(i.impl,[o.earlyRead,o.write,o.mixedReadWrite,o.read],a?.view,r,t,s?.snapshot(null));return i.impl.register(c),c}function Jy(n,e){let t=ws(n),r=e.elementInjector||hu();return new Oa(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector,e.directives,e.bindings)}function PB(n){let e=ws(n);if(!e)return null;let t=new Oa(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}function Tmt(...n){return n.reduce((e,t)=>Object.assign(e,t,{providers:[...e.providers,...t.providers]}),{providers:[]})}var kB=null;function Wo(){return kB}function Dx(n){kB??=n}var vh=class{},Lu=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:()=>U(FB),providedIn:"platform"})}return n})(),xx=new _e(""),FB=(()=>{class n extends Lu{_location;_history;_doc=U(st);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Wo().getBaseHref(this._doc)}onPopState(t){let r=Wo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Wo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Yy(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function LB(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Is(n){return n&&n[0]!=="?"?`?${n}`:n}var uo=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:()=>U(Xy),providedIn:"root"})}return n})(),Zy=new _e(""),Xy=(()=>{class n extends uo{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??U(st).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Yy(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Is(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Is(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Is(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Pe(Lu),Pe(Zy,8))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ua=(()=>{class n{_subject=new Ke;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=Vge(LB(BB(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Is(r))}normalize(t){return n.stripTrailingSlash($ge(this._basePath,BB(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Is(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Is(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Is;static joinWithSlash=Yy;static stripTrailingSlash=LB;static \u0275fac=function(r){return new(r||n)(Pe(uo))};static \u0275prov=me({token:n,factory:()=>Uge(),providedIn:"root"})}return n})();function Uge(){return new Ua(Pe(uo))}function $ge(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function BB(n){return n.replace(/\/index.html$/,"")}function Vge(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var eb=(()=>{class n extends uo{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Yy(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Is(s))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Is(s))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Pe(Lu),Pe(Zy,8))};static \u0275prov=me({token:n,factory:n.\u0275fac})}return n})();var Tx=/\s+/,qB=[],zge=(()=>{class n{_ngEl;_renderer;initialClasses=qB;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(Tx):qB}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Tx):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Tx).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(jr(_n),jr(Vo))};static \u0275dir=un({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Wge=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||n)(jr(is))};static \u0275dir=un({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[ji]})}return n})();var jB=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=It({type:n});static \u0275inj=Tt({})}return n})();function tb(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var tl=class{};var Ax="browser";function $B(n){return n===Ax}var VB=(()=>{class n{static \u0275prov=me({token:n,providedIn:"root",factory:()=>new Sx(U(st),window)})}return n})(),Sx=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo($e(K({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=Qge(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(Zs(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,s=r.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo($e(K({},t),{left:i-o[0],top:s-o[1]}))}};function Qge(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var UB=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}};var Bu=class{_doc;constructor(e){this._doc=e}manager},nb=(()=>{class n extends Bu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,s){return t.addEventListener(r,i,s),()=>this.removeEventListener(t,r,i,s)}removeEventListener(t,r,i,s){return t.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||n)(Pe(st))};static \u0275prov=me({token:n,factory:n.\u0275fac})}return n})(),Ch=new _e(""),Rx=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(o=>{o.manager=this});let i=t.filter(o=>!(o instanceof nb));this._plugins=i.slice().reverse();let s=t.find(o=>o instanceof nb);s&&this._plugins.push(s)}addEventListener(t,r,i,s){return this._findPluginFor(r).addEventListener(t,r,i,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new Ae(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Pe(Ch),Pe(Nt))};static \u0275prov=me({token:n,factory:n.\u0275fac})}return n})(),Nx="ng-app-id";function HB(n){for(let e of n)e.remove()}function zB(n,e){let t=e.createElement("style");return t.textContent=n,t}function Kge(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Nx}="${e}"],link[${Nx}="${e}"]`);if(i)for(let s of i)s.removeAttribute(Nx),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&t.set(s.textContent,{usage:0,elements:[s]})}function Mx(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Ox=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,Kge(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,zB);r?.forEach(i=>this.addUsage(i,this.external,Mx))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let s=r.get(t);s?s.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(HB(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])HB(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,zB(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Mx(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Pe(st),Pe(mi),Pe(Nu,8),Pe(Pa))};static \u0275prov=me({token:n,factory:n.\u0275fac})}return n})(),Ix={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Px=/%COMP%/g;var GB="%COMP%",Jge=`_nghost-${GB}`,Yge=`_ngcontent-${GB}`,Zge=!0,Xge=new _e("",{factory:()=>Zge});function eye(n){return Yge.replace(Px,n)}function tye(n){return Jge.replace(Px,n)}function QB(n,e){return e.map(t=>t.replace(Px,n))}var kx=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(t,r,i,s,o,a,c=null,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.ngZone=a,this.nonce=c,this.tracingService=l,this.defaultRenderer=new Eh(t,o,a,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof ib?i.applyToHost(t):i instanceof wh&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.tracingService;switch(r.encapsulation){case Ss.Emulated:s=new ib(c,l,r,this.appId,d,o,a,h);break;case Ss.ShadowDom:return new rb(c,t,r,o,a,this.nonce,h,l);case Ss.ExperimentalIsolatedShadowDom:return new rb(c,t,r,o,a,this.nonce,h);default:s=new wh(c,l,r,d,o,a,h);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Pe(Rx),Pe(Ox),Pe(mi),Pe(Xge),Pe(st),Pe(Nt),Pe(Nu),Pe(lo,8))};static \u0275prov=me({token:n,factory:n.\u0275fac})}return n})(),Eh=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Ix[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(WB(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(WB(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Ae(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=Ix[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Ix[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(qo.DashCase|qo.Important)?e.style.setProperty(t,r,i&qo.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&qo.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Wo().getGlobalEventTarget(this.doc,e),!e))throw new Ae(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,t,s)),this.eventManager.addEventListener(e,t,s,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function WB(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var rb=class extends Eh{hostEl;sharedStylesHost;shadowRoot;constructor(e,t,r,i,s,o,a,c){super(e,i,s,a),this.hostEl=t,this.sharedStylesHost=c,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=QB(r.id,l);for(let h of l){let p=document.createElement("style");o&&p.setAttribute("nonce",o),p.textContent=h,this.shadowRoot.appendChild(p)}let d=r.getExternalStyles?.();if(d)for(let h of d){let p=Mx(h,i);o&&p.setAttribute("nonce",o),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},wh=class extends Eh{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=c?QB(c,l):l,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Wc.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ib=class extends wh{contentAttr;hostAttr;constructor(e,t,r,i,s,o,a,c){let l=i+"-"+r.id;super(e,t,r,s,o,a,c,l),this.contentAttr=eye(l),this.hostAttr=tye(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var sb=class n extends vh{supportsDOMEvents=!0;static makeCurrent(){Dx(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=nye();return t==null?null:rye(t)}resetBaseElement(){Dh=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return tb(document.cookie,e)}},Dh=null;function nye(){return Dh=Dh||document.head.querySelector("base"),Dh?Dh.getAttribute("href"):null}function rye(n){return new URL(n,document.baseURI).pathname}var iye=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:n.\u0275fac})}return n})(),KB=["alt","control","meta","shift"],sye={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},oye={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},JB=(()=>{class n extends Bu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,s){let o=n.parseEventName(r),a=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wo().onAndCancel(t,o.domEventName,a,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),KB.forEach(l=>{let d=r.indexOf(l);d>-1&&(r.splice(d,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(t,r){let i=sye[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),KB.forEach(o=>{if(o!==i){let a=oye[o];a(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Pe(st))};static \u0275prov=me({token:n,factory:n.\u0275fac})}return n})();function aye(n,e,t){let r=K({rootComponent:n,platformRef:t?.platformRef},cye(e));return AB(r)}function cye(n){return{appProviders:[...hye,...n?.providers??[]],platformProviders:fye}}function lye(){sb.makeCurrent()}function uye(){return new hi}function dye(){return Y0(document),document}var fye=[{provide:Pa,useValue:Ax},{provide:my,useValue:lye,multi:!0},{provide:st,useFactory:dye}];var hye=[{provide:Bf,useValue:"root"},{provide:hi,useFactory:uye},{provide:Ch,useClass:nb,multi:!0},{provide:Ch,useClass:JB,multi:!0},kx,Ox,Rx,{provide:pi,useExisting:kx},{provide:tl,useClass:iye},[]];var Qo=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),s=t.slice(r+1).trim();this.addHeaderEntry(i,s)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Lx=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}},Bx=class{encodeKey(e){return YB(e)}encodeValue(e){return YB(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function pye(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=t.get(o)||[];c.push(a),t.set(o,c)}),t}var mye=/%(\d[a-f0-9])/gi,gye={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function YB(n){return encodeURIComponent(n).replace(mye,(e,t)=>gye[t]??e)}function ob(n){return`${n}`}var Go=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Bx,e.fromString){if(e.fromObject)throw new Ae(2805,!1);this.map=pye(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(ob):[ob(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(ob(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(ob(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};function yye(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function ZB(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function XB(n){return typeof Blob<"u"&&n instanceof Blob}function eq(n){return typeof FormData<"u"&&n instanceof FormData}function bye(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var tq="Content-Type",nq="Accept",rq="text/plain",iq="application/json",_ye=`${iq}, ${rq}, */*`,qu=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let s;if(yye(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s){if(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,this.keepalive=!!s.keepalive,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),s.priority&&(this.priority=s.priority),s.cache&&(this.cache=s.cache),s.credentials&&(this.credentials=s.credentials),typeof s.timeout=="number"){if(s.timeout<1||!Number.isInteger(s.timeout))throw new Ae(2822,"");this.timeout=s.timeout}s.mode&&(this.mode=s.mode),s.redirect&&(this.redirect=s.redirect),s.integrity&&(this.integrity=s.integrity),s.referrer&&(this.referrer=s.referrer),s.referrerPolicy&&(this.referrerPolicy=s.referrerPolicy),this.transferCache=s.transferCache}if(this.headers??=new Qo,this.context??=new Lx,!this.params)this.params=new Go,this.urlWithParams=t;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||ZB(this.body)||XB(this.body)||eq(this.body)||bye(this.body)?this.body:this.body instanceof Go?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||eq(this.body)?null:XB(this.body)?this.body.type||null:ZB(this.body)?null:typeof this.body=="string"?rq:this.body instanceof Go?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?iq:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.keepalive??this.keepalive,o=e.priority||this.priority,a=e.cache||this.cache,c=e.mode||this.mode,l=e.redirect||this.redirect,d=e.credentials||this.credentials,h=e.referrer||this.referrer,p=e.integrity||this.integrity,b=e.referrerPolicy||this.referrerPolicy,v=e.transferCache??this.transferCache,x=e.timeout??this.timeout,N=e.body!==void 0?e.body:this.body,k=e.withCredentials??this.withCredentials,ee=e.reportProgress??this.reportProgress,X=e.headers||this.headers,ne=e.params||this.params,de=e.context??this.context;return e.setHeaders!==void 0&&(X=Object.keys(e.setHeaders).reduce((g,xe)=>g.set(xe,e.setHeaders[xe]),X)),e.setParams&&(ne=Object.keys(e.setParams).reduce((g,xe)=>g.set(xe,e.setParams[xe]),ne)),new n(t,r,N,{params:ne,headers:X,context:de,reportProgress:ee,responseType:i,withCredentials:k,transferCache:v,keepalive:s,cache:a,priority:o,timeout:x,mode:c,redirect:l,credentials:d,referrer:h,integrity:p,referrerPolicy:b})}},nl=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(nl||{}),xh=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(e,t=200,r="OK"){this.headers=e.headers||new Qo,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.responseType=e.responseType,this.ok=this.status>=200&&this.status<300}},qx=class n extends xh{constructor(e={}){super(e)}type=nl.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Uu=class n extends xh{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=nl.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected,responseType:e.responseType??this.responseType})}},ju=class extends xh{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},vye=200,Eye=204;var wye=/^\)\]\}',?\n/;var Cye=(()=>{class n{xhrFactory;tracingService=U(lo,{optional:!0});constructor(t){this.xhrFactory=t}maybePropagateTrace(t){return this.tracingService?.propagate?this.tracingService.propagate(t):t}handle(t){if(t.method==="JSONP")throw new Ae(-2800,!1);let r=this.xhrFactory;return ze(null).pipe(fi(()=>new et(s=>{let o=r.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((N,k)=>o.setRequestHeader(N,k.join(","))),t.headers.has(nq)||o.setRequestHeader(nq,_ye),!t.headers.has(tq)){let N=t.detectContentTypeHeader();N!==null&&o.setRequestHeader(tq,N)}if(t.timeout&&(o.timeout=t.timeout),t.responseType){let N=t.responseType.toLowerCase();o.responseType=N!=="json"?N:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let N=o.statusText||"OK",k=new Qo(o.getAllResponseHeaders()),ee=o.responseURL||t.url;return c=new qx({headers:k,status:o.status,statusText:N,url:ee}),c},d=this.maybePropagateTrace(()=>{let{headers:N,status:k,statusText:ee,url:X}=l(),ne=null;k!==Eye&&(ne=typeof o.response>"u"?o.responseText:o.response),k===0&&(k=ne?vye:0);let de=k>=200&&k<300;if(t.responseType==="json"&&typeof ne=="string"){let g=ne;ne=ne.replace(wye,"");try{ne=ne!==""?JSON.parse(ne):null}catch(xe){ne=g,de&&(de=!1,ne={error:xe,text:ne})}}de?(s.next(new Uu({body:ne,headers:N,status:k,statusText:ee,url:X||void 0})),s.complete()):s.error(new ju({error:ne,headers:N,status:k,statusText:ee,url:X||void 0}))}),h=this.maybePropagateTrace(N=>{let{url:k}=l(),ee=new ju({error:N,status:o.status||0,statusText:o.statusText||"Unknown Error",url:k||void 0});s.error(ee)}),p=h;t.timeout&&(p=this.maybePropagateTrace(N=>{let{url:k}=l(),ee=new ju({error:new DOMException("Request timed out","TimeoutError"),status:o.status||0,statusText:o.statusText||"Request timeout",url:k||void 0});s.error(ee)}));let b=!1,v=this.maybePropagateTrace(N=>{b||(s.next(l()),b=!0);let k={type:nl.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(k.total=N.total),t.responseType==="text"&&o.responseText&&(k.partialText=o.responseText),s.next(k)}),x=this.maybePropagateTrace(N=>{let k={type:nl.UploadProgress,loaded:N.loaded};N.lengthComputable&&(k.total=N.total),s.next(k)});return o.addEventListener("load",d),o.addEventListener("error",h),o.addEventListener("timeout",p),o.addEventListener("abort",h),t.reportProgress&&(o.addEventListener("progress",v),a!==null&&o.upload&&o.upload.addEventListener("progress",x)),o.send(a),s.next({type:nl.Sent}),()=>{o.removeEventListener("error",h),o.removeEventListener("abort",h),o.removeEventListener("load",d),o.removeEventListener("timeout",p),t.reportProgress&&(o.removeEventListener("progress",v),a!==null&&o.upload&&o.upload.removeEventListener("progress",x)),o.readyState!==o.DONE&&o.abort()}})))}static \u0275fac=function(r){return new(r||n)(Pe(tl))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Dye(n,e){return e(n)}function xye(n,e,t){return(r,i)=>mr(t,()=>e(r,s=>n(s,i)))}var Tye=new _e("",{factory:()=>[]}),jx=new _e(""),Sye=new _e("",{factory:()=>!0});var Aye=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=Pe(Cye),i},providedIn:"root"})}return n})();var Nye=(()=>{class n{backend;injector;chain=null;pendingTasks=U(Vf);contributeToStability=U(Sye);constructor(t,r){this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Tye),...this.injector.get(jx,[])]));this.chain=r.reduceRight((i,s)=>xye(i,s,this.injector),Dye)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Sc(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(Pe(Aye),Pe(ln))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Iye=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=Pe(Nye),i},providedIn:"root"})}return n})();function Fx(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer,referrerPolicy:n.referrerPolicy}}var Ux=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof qu)s=t;else{let c;i.headers instanceof Qo?c=i.headers:c=new Qo(i.headers);let l;i.params&&(i.params instanceof Go?l=i.params:l=new Go({fromObject:i.params})),s=new qu(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,referrerPolicy:i.referrerPolicy,integrity:i.integrity,timeout:i.timeout})}let o=ze(s).pipe(wa(c=>this.handler.handle(c)));if(t instanceof qu||i.observe==="events")return o;let a=o.pipe(Mn(c=>c instanceof Uu));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Et(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Ae(2806,!1);return c.body}));case"blob":return a.pipe(Et(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Ae(2807,!1);return c.body}));case"text":return a.pipe(Et(c=>{if(c.body!==null&&typeof c.body!="string")throw new Ae(2808,!1);return c.body}));case"json":default:return a.pipe(Et(c=>c.body))}case"response":return a;default:throw new Ae(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Go().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Fx(i,r))}post(t,r,i={}){return this.request("POST",t,Fx(i,r))}put(t,r,i={}){return this.request("PUT",t,Fx(i,r))}static \u0275fac=function(r){return new(r||n)(Pe(Iye))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Mye=new _e(""),Rye="b",Oye="h",Pye="s",kye="st",Fye="u",Lye="rt",$x=new _e(""),Bye=["GET","HEAD"];function qye(n,e){let b=U($x),{isCacheActive:t}=b,r=mf(b,["isCacheActive"]),{transferCache:i,method:s}=n;if(!t||i===!1||s==="POST"&&!r.includePostRequests&&!i||s!=="POST"&&!Bye.includes(s)||!r.includeRequestsWithAuthHeaders&&jye(n)||r.filter?.(n)===!1)return e(n);let o=U(Iu);if(U(Mye,{optional:!0}))throw new Ae(2803,!1);let c=n.url,l=Uye(n,c),d=o.get(l,null),h=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(h=i.includeHeaders),d){let{[Rye]:v,[Lye]:x,[Oye]:N,[Pye]:k,[kye]:ee,[Fye]:X}=d,ne=v;switch(x){case"arraybuffer":ne=new TextEncoder().encode(v).buffer;break;case"blob":ne=new Blob([v]);break}let de=new Qo(N);return ze(new Uu({body:ne,headers:de,status:k,statusText:ee,url:X}))}return e(n)}function jye(n){return n.headers.has("authorization")||n.headers.has("proxy-authorization")}function sq(n){return[...n.keys()].sort().map(e=>`${e}=${n.getAll(e)}`).join("&")}function Uye(n,e){let{params:t,method:r,responseType:i}=n,s=sq(t),o=n.serializeBody();o instanceof URLSearchParams?o=sq(o):typeof o!="string"&&(o="");let a=[r,i,e,o,s].join("|"),c=$ye(a);return c}function $ye(n){let e=0;for(let t of n)e=Math.imul(31,e)+t.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function oq(n){return[{provide:$x,useFactory:()=>(Yr("NgHttpTransferCache"),K({isCacheActive:!0},n))},{provide:jx,useValue:qye,multi:!0},{provide:Ho,multi:!0,useFactory:()=>{let e=U(Tr),t=U($x);return()=>{e.whenStable().then(()=>{t.isCacheActive=!1})}}}]}var aq=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Pe(st))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Vx=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=Pe(Hye),i},providedIn:"root"})}return n})(),Hye=(()=>{class n extends Vx{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case qr.NONE:return r;case qr.HTML:return ka(r,"HTML")?As(r):hD(this._doc,String(r)).toString();case qr.STYLE:return ka(r,"Style")?As(r):r;case qr.SCRIPT:if(ka(r,"Script"))return As(r);throw new Ae(5200,!1);case qr.URL:return ka(r,"URL")?As(r):ih(String(r));case qr.RESOURCE_URL:if(ka(r,"ResourceURL"))return As(r);throw new Ae(5201,!1);default:throw new Ae(5202,!1)}}bypassSecurityTrustHtml(t){return cD(t)}bypassSecurityTrustStyle(t){return lD(t)}bypassSecurityTrustScript(t){return uD(t)}bypassSecurityTrustUrl(t){return dD(t)}bypassSecurityTrustResourceUrl(t){return fD(t)}static \u0275fac=function(r){return new(r||n)(Pe(st))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ab=(function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n[n.I18nSupport=2]="I18nSupport",n[n.EventReplay=3]="EventReplay",n[n.IncrementalHydration=4]="IncrementalHydration",n})(ab||{});function zye(n,e=[],t={}){return{\u0275kind:n,\u0275providers:e}}function lbt(){return zye(ab.EventReplay,NB())}function ubt(...n){let e=[],t=new Set;for(let{\u0275providers:i,\u0275kind:s}of n)t.add(s),i.length&&e.push(i);let r=t.has(ab.HttpTransferCacheOptions);return Mi([[],IB(),t.has(ab.NoHttpTransferCache)||r?[]:oq({}),e])}function Th(n){return n.buttons===0||n.detail===0}function Sh(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var zx;function uq(){if(zx==null){let n=typeof document<"u"?document.head:null;zx=!!(n&&(n.createShadowRoot||n.attachShadow))}return zx}function Wx(n){if(uq()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Gx(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){let e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Ms(n){return n.composedPath?n.composedPath()[0]:n.target}var Qx;try{Qx=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Qx=!1}var ir=(()=>{class n{_platformId=U(Pa);isBrowser=this._platformId?$B(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Qx)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ah;function dq(){if(Ah==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ah=!0}))}finally{Ah=Ah||!1}return Ah}function $u(n){return dq()?n:!!n.capture}function fq(n,e=0){return hq(n)?Number(n):arguments.length===2?e:0}function hq(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function fo(n){return n instanceof _n?n.nativeElement:n}var pq=new _e("cdk-input-modality-detector-options"),mq={ignoreKeys:[18,17,224,91,16]},gq=650,Kx={passive:!0,capture:!0},yq=(()=>{class n{_platform=U(ir);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new nr(null);_options;_lastTouchMs=0;_onKeydown=t=>{this._options?.ignoreKeys?.some(r=>r===t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ms(t))};_onMousedown=t=>{Date.now()-this._lastTouchMs<gq||(this._modality.next(Th(t)?"keyboard":"mouse"),this._mostRecentTarget=Ms(t))};_onTouchstart=t=>{if(Sh(t)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ms(t)};constructor(){let t=U(Nt),r=U(st),i=U(pq,{optional:!0});if(this._options=K(K({},mq),i),this.modalityDetected=this._modality.pipe(Nf(1)),this.modalityChanged=this.modalityDetected.pipe(og()),this._platform.isBrowser){let s=U(pi).createRenderer(null,null);this._listenerCleanups=t.runOutsideAngular(()=>[s.listen(r,"keydown",this._onKeydown,Kx),s.listen(r,"mousedown",this._onMousedown,Kx),s.listen(r,"touchstart",this._onTouchstart,Kx)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(t=>t())}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Nh=(function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n})(Nh||{}),bq=new _e("cdk-focus-monitor-default-options"),cb=$u({passive:!0,capture:!0}),lb=(()=>{class n{_ngZone=U(Nt);_platform=U(ir);_inputModalityDetector=U(yq);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=U(st);_stopInputModalityDetector=new Ke;constructor(){let t=U(bq,{optional:!0});this._detectionMode=t?.detectionMode||Nh.IMMEDIATE}_rootNodeFocusAndBlurListener=t=>{let r=Ms(t);for(let i=r;i;i=i.parentElement)t.type==="focus"?this._onFocus(t,i):this._onBlur(t,i)};monitor(t,r=!1){let i=fo(t);if(!this._platform.isBrowser||i.nodeType!==1)return ze();let s=Wx(i)||this._document,o=this._elementInfo.get(i);if(o)return r&&(o.checkChildren=!0),o.subject;let a={checkChildren:r,subject:new Ke,rootNode:s};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){let r=fo(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){let s=fo(t),o=this._document.activeElement;s===o?this._getClosestElementsInfo(s).forEach(([a,c])=>this._originChanged(a,r,c)):(this._setOrigin(r),typeof s.focus=="function"&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===Nh.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused",r==="touch"),t.classList.toggle("cdk-keyboard-focused",r==="keyboard"),t.classList.toggle("cdk-mouse-focused",r==="mouse"),t.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&r,this._detectionMode===Nh.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?gq:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(t,r){let i=this._elementInfo.get(r),s=Ms(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){let i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,cb),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,cb)}),this._rootNodeFocusListenerCount.set(r,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ni(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){let r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,cb),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,cb),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){let r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!r||r===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let s=t.labels;if(s){for(let o=0;o<s.length;o++)if(s[o].contains(r))return!0}return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wye=(()=>{class n{_elementRef=U(_n);_focusMonitor=U(lb);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new hn;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,t.nodeType===1&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(r=>{this._focusOrigin=r,this.cdkFocusChange.emit(r)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=un({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return n})();var ub=new WeakMap,Ko=(()=>{class n{_appRef;_injector=U(Xt);_environmentInjector=U(ln);load(t){let r=this._appRef=this._appRef||this._injector.get(Tr),i=ub.get(r);i||(i={loaders:new Set,refs:[]},ub.set(r,i),r.onDestroy(()=>{ub.get(r)?.refs.forEach(s=>s.destroy()),ub.delete(r)})),i.loaders.has(t)||(i.loaders.add(t),i.refs.push(Jy(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ih=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Rn({type:n,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(r,i){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return n})();function Jx(n){return Array.isArray(n)?n:[n]}var _q=new Set,rl,db=(()=>{class n{_platform=U(ir);_nonce=U(Nu,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Qye}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&Gye(t,this._nonce),this._matchMedia(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Gye(n,e){if(!_q.has(n))try{rl||(rl=document.createElement("style"),e&&rl.setAttribute("nonce",e),rl.setAttribute("type","text/css"),document.head.appendChild(rl)),rl.sheet&&(rl.sheet.insertRule(`@media ${n} {body{ }}`,0),_q.add(n))}catch(t){console.error(t)}}function Qye(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var Yx=(()=>{class n{_mediaMatcher=U(db);_zone=U(Nt);_queries=new Map;_destroySubject=new Ke;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return vq(Jx(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let i=vq(Jx(t)).map(o=>this._registerQuery(o).observable),s=au(i);return s=va(s.pipe(Ai(1)),s.pipe(Nf(1),Sf(0))),s.pipe(Et(o=>{let a={matches:!1,breakpoints:{}};return o.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let r=this._mediaMatcher.matchMedia(t),s={observable:new et(o=>{let a=c=>this._zone.run(()=>o.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(cu(r),Et(({matches:o})=>({query:t,matches:o})),Ni(this._destroySubject)),mql:r};return this._queries.set(t,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vq(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var Kye=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var fb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=It({type:n});static \u0275inj=Tt({providers:[Kye]})}return n})();var Jye=(()=>{class n{_platform=U(ir);constructor(){}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return Zye(t)&&getComputedStyle(t).visibility==="visible"}isTabbable(t){if(!this._platform.isBrowser)return!1;let r=Yye(obe(t));if(r&&(Eq(r)===-1||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),s=Eq(t);return t.hasAttribute("contenteditable")?s!==-1:i==="iframe"||i==="object"||this._platform.WEBKIT&&this._platform.IOS&&!ibe(t)?!1:i==="audio"?t.hasAttribute("controls")?s!==-1:!1:i==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||t.hasAttribute("controls"):t.tabIndex>=0}isFocusable(t,r){return sbe(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Yye(n){try{return n.frameElement}catch{return null}}function Zye(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function Xye(n){let e=n.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function ebe(n){return nbe(n)&&n.type=="hidden"}function tbe(n){return rbe(n)&&n.hasAttribute("href")}function nbe(n){return n.nodeName.toLowerCase()=="input"}function rbe(n){return n.nodeName.toLowerCase()=="a"}function Dq(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let e=n.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function Eq(n){if(!Dq(n))return null;let e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function ibe(n){let e=n.nodeName.toLowerCase(),t=e==="input"&&n.type;return t==="text"||t==="password"||e==="select"||e==="textarea"}function sbe(n){return ebe(n)?!1:Xye(n)||tbe(n)||n.hasAttribute("contenteditable")||Dq(n)}function obe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var Xx=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_enabled=!0;constructor(e,t,r,i,s=!1,o){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._injector=o,s||this.attachAnchors()}destroy(){let e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){let r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){let t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let r=0;r<t.length;r++){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let r=t.length-1;r>=0;r--){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?Fa(e,{injector:this._injector}):setTimeout(e)}},xq=(()=>{class n{_checker=U(Jye);_ngZone=U(Nt);_document=U(st);_injector=U(Xt);constructor(){U(Ko).load(Ih)}create(t,r=!1){return new Xx(t,this._checker,this._ngZone,this._document,r,this._injector)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),abe=(()=>{class n{_elementRef=U(_n);_focusTrapFactory=U(xq);focusTrap;_previouslyFocusedElement=null;get enabled(){return this.focusTrap?.enabled||!1}set enabled(t){this.focusTrap&&(this.focusTrap.enabled=t)}autoCapture;constructor(){U(ir).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(t){let r=t.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Gx(),this.focusTrap?.focusInitialElementWhenReady()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=un({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",gi],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",gi]},exportAs:["cdkTrapFocus"],features:[ji]})}return n})(),Tq=new _e("liveAnnouncerElement",{providedIn:"root",factory:()=>null}),Sq=new _e("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),cbe=0,lbe=(()=>{class n{_ngZone=U(Nt);_defaultOptions=U(Sq,{optional:!0});_liveElement;_document=U(st);_previousTimeout;_currentPromise;_currentResolve;constructor(){let t=U(Tq,{optional:!0});this._liveElement=t||this._createLiveElement()}announce(t,...r){let i=this._defaultOptions,s,o;return r.length===1&&typeof r[0]=="number"?o=r[0]:[s,o]=r,this.clear(),clearTimeout(this._previousTimeout),s||(s=i&&i.politeness?i.politeness:"polite"),o==null&&i&&(o=i.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,typeof o=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let s=0;s<r.length;s++)r[s].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),i.id=`cdk-live-announcer-${cbe++}`,this._document.body.appendChild(i),i}_exposeAnnouncerToModals(t){let r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){let s=r[i],o=s.getAttribute("aria-owns");o?o.indexOf(t)===-1&&s.setAttribute("aria-owns",o+" "+t):s.setAttribute("aria-owns",t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var $a=(function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n})($a||{}),wq="cdk-high-contrast-black-on-white",Cq="cdk-high-contrast-white-on-black",Zx="cdk-high-contrast-active",Aq=(()=>{class n{_platform=U(ir);_hasCheckedHighContrastMode;_document=U(st);_breakpointSubscription;constructor(){this._breakpointSubscription=U(Yx).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return $a.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return $a.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return $a.BLACK_ON_WHITE}return $a.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(Zx,wq,Cq),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===$a.BLACK_ON_WHITE?t.add(Zx,wq):r===$a.WHITE_ON_BLACK&&t.add(Zx,Cq)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ube=(()=>{class n{constructor(){U(Aq)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||n)};static \u0275mod=It({type:n});static \u0275inj=Tt({imports:[fb]})}return n})();var eT={},tT=class n{_appId=U(mi);static _infix=`a${Math.floor(Math.random()*1e5).toString()}`;getId(e,t=!1){return this._appId!=="ng"&&(e+=this._appId),eT.hasOwnProperty(e)||(eT[e]=0),`${e}${t?n._infix+"-":""}${eT[e]++}`}static \u0275fac=function(t){return new(t||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})};var dbe=200,hb=class{_letterKeyStream=new Ke;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new Ke;selectedItem=this._selectedItem;constructor(e,t){let r=typeof t?.debounceInterval=="number"?t.debounceInterval:dbe;t?.skipPredicate&&(this._skipPredicateFn=t.skipPredicate),this.setItems(e),this._setupKeyHandler(r)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(e){this._selectedItemIndex=e}setItems(e){this._items=e}handleKey(e){let t=e.keyCode;e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(e){this._letterKeyStream.pipe(jn(t=>this._pressedLetters.push(t)),Sf(e),Mn(()=>this._pressedLetters.length>0),Et(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(t=>{for(let r=1;r<this._items.length+1;r++){let i=(this._selectedItemIndex+r)%this._items.length,s=this._items[i];if(!this._skipPredicateFn?.(s)&&s.getLabel?.().toLocaleUpperCase().trim().indexOf(t)===0){this._selectedItem.next(s);break}}this._pressedLetters=[]})}};function Nq(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var Vu=class{_items;_activeItemIndex=zn(-1);_activeItem=zn(null);_wrap=!1;_typeaheadSubscription=fn.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=e=>e.disabled;constructor(e,t){this._items=e,e instanceof zc?this._itemChangesSubscription=e.changes.subscribe(r=>this._itemsChanged(r.toArray())):uh(e)&&(this._effectRef=jg(()=>this._itemsChanged(e()),{injector:t}))}tabOut=new Ke;change=new Ke;skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){this._typeaheadSubscription.unsubscribe();let t=this._getItemsArray();return this._typeahead=new hb(t,{debounceInterval:typeof e=="number"?e:void 0,skipPredicate:r=>this._skipPredicateFn(r)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(r=>{this.setActiveItem(r)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){let t=this._activeItem();this.updateActiveItem(e),this._activeItem()!==t&&this.change.next(this._activeItemIndex())}onKeydown(e){let t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:this.tabOut.next();return;case 40:if(this._vertical&&i){this.setNextItemActive();break}else return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&i){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&i){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&i){let s=this._activeItemIndex()-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&i){let s=this._activeItemIndex()+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}else return;default:(i||Nq(e,"shiftKey"))&&this._typeahead?.handleKey(e);return}this._typeahead?.reset(),e.preventDefault()}get activeItemIndex(){return this._activeItemIndex()}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex()<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex()<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let t=this._getItemsArray(),r=typeof e=="number"?e:t.indexOf(e),i=t[r];this._activeItem.set(i??null),this._activeItemIndex.set(r),this._typeahead?.setCurrentSelectedItemIndex(r)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let t=this._getItemsArray();for(let r=1;r<=t.length;r++){let i=(this._activeItemIndex()+e*r+t.length)%t.length,s=t[i];if(!this._skipPredicateFn(s)){this.setActiveItem(i);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex()+e,e)}_setActiveItemByIndex(e,t){let r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(e+=t,!r[e])return;this.setActiveItem(e)}}_getItemsArray(){return uh(this._items)?this._items():this._items instanceof zc?this._items.toArray():this._items}_itemsChanged(e){this._typeahead?.setItems(e);let t=this._activeItem();if(t){let r=e.indexOf(t);r>-1&&r!==this._activeItemIndex()&&(this._activeItemIndex.set(r),this._typeahead?.setCurrentSelectedItemIndex(r))}}};var nT=class extends Vu{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}};var Iq=class extends Vu{_origin="program";setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}};var Rq=" ";function fbe(n,e,t){let r=mb(n,e);t=t.trim(),!r.some(i=>i.trim()===t)&&(r.push(t),n.setAttribute(e,r.join(Rq)))}function hbe(n,e,t){let r=mb(n,e);t=t.trim();let i=r.filter(s=>s!==t);i.length?n.setAttribute(e,i.join(Rq)):n.removeAttribute(e)}function mb(n,e){return n.getAttribute(e)?.match(/\S+/g)??[]}var Oq="cdk-describedby-message",pb="cdk-describedby-host",iT=0,K_t=(()=>{class n{_platform=U(ir);_document=U(st);_messageRegistry=new Map;_messagesContainer=null;_id=`${iT++}`;constructor(){U(Ko).load(Ih),this._id=U(mi)+"-"+iT++}describe(t,r,i){if(!this._canBeDescribed(t,r))return;let s=rT(r,i);typeof r!="string"?(Mq(r,this._id),this._messageRegistry.set(s,{messageElement:r,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(r,i),this._isElementDescribedByMessage(t,s)||this._addMessageReference(t,s)}removeDescription(t,r,i){if(!r||!this._isElementNode(t))return;let s=rT(r,i);if(this._isElementDescribedByMessage(t,s)&&this._removeMessageReference(t,s),typeof r=="string"){let o=this._messageRegistry.get(s);o&&o.referenceCount===0&&this._deleteMessageElement(s)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let t=this._document.querySelectorAll(`[${pb}="${this._id}"]`);for(let r=0;r<t.length;r++)this._removeCdkDescribedByReferenceIds(t[r]),t[r].removeAttribute(pb);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,r){let i=this._document.createElement("div");Mq(i,this._id),i.textContent=t,r&&i.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(rT(t,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;let t="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let s=0;s<r.length;s++)r[s].remove();let i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(t),i.classList.add("cdk-visually-hidden"),this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(t){let r=mb(t,"aria-describedby").filter(i=>i.indexOf(Oq)!=0);t.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(t,r){let i=this._messageRegistry.get(r);fbe(t,"aria-describedby",i.messageElement.id),t.setAttribute(pb,this._id),i.referenceCount++}_removeMessageReference(t,r){let i=this._messageRegistry.get(r);i.referenceCount--,hbe(t,"aria-describedby",i.messageElement.id),t.removeAttribute(pb)}_isElementDescribedByMessage(t,r){let i=mb(t,"aria-describedby"),s=this._messageRegistry.get(r),o=s&&s.messageElement.id;return!!o&&i.indexOf(o)!=-1}_canBeDescribed(t,r){if(!this._isElementNode(t))return!1;if(r&&typeof r=="object")return!0;let i=r==null?"":`${r}`.trim(),s=t.getAttribute("aria-label");return i?!s||s.trim()!==i:!1}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rT(n,e){return typeof n=="string"?`${e||""}/${n}`:n}function Mq(n,e){n.id||(n.id=`${Oq}-${e}-${iT++}`)}var gb;function pbe(){if(gb===void 0&&(gb=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(gb=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return gb}function Hu(n){return pbe()?.createHTML(n)||n}var il;function svt(){if(il==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return il=!1,il;if(document.documentElement?.style&&"scrollBehavior"in document.documentElement.style)il=!0;else{let n=Element.prototype.scrollTo;n?il=!/\{\s*\[native code\]\s*\}/.test(n.toString()):il=!1}}return il}function avt(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var hvt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=It({type:n});static \u0275inj=Tt({})}return n})(),pvt={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var mbe=new _e("MATERIAL_ANIMATIONS"),Pq=null;function gbe(){return U(mbe,{optional:!0})?.animationsDisabled||U(Z0,{optional:!0})==="NoopAnimations"?"di-disabled":(Pq??=U(db).matchMedia("(prefers-reduced-motion)").matches,Pq?"reduced-motion":"enabled")}function Va(){return gbe()!=="enabled"}function vvt(n){return n==null?"":typeof n=="string"?n:`${n}px`}function wvt(n){return n!=null&&`${n}`!="false"}var os=(function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n})(os||{}),sT=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=os.HIDDEN;constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i}fadeOut(){this._renderer.fadeOutRipple(this)}},kq=$u({passive:!0,capture:!0}),oT=class{_events=new Map;addHandler(e,t,r,i){let s=this._events.get(t);if(s){let o=s.get(r);o?o.add(i):s.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,kq)})}removeHandler(e,t,r){let i=this._events.get(e);if(!i)return;let s=i.get(t);s&&(s.delete(r),s.size===0&&i.delete(t),i.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,kq)))}_delegateEventHandler=e=>{let t=Ms(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(s=>s.handleEvent(e))})}},Mh={enterDuration:225,exitDuration:150},ybe=800,Fq=$u({passive:!0,capture:!0}),Lq=["mousedown","touchstart"],Bq=["mouseup","mouseleave","touchend","touchcancel"],bbe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Rn({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return n})(),Rh=class n{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new oT;constructor(e,t,r,i,s){this._target=e,this._ngZone=t,this._platform=i,i.isBrowser&&(this._containerElement=fo(r)),s&&s.get(Ko).load(bbe)}fadeInRipple(e,t,r={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=K(K({},Mh),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);let o=r.radius||_be(e,t,i),a=e-i.left,c=t-i.top,l=s.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-o}px`,d.style.top=`${c-o}px`,d.style.height=`${o*2}px`,d.style.width=`${o*2}px`,r.color!=null&&(d.style.backgroundColor=r.color),d.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(d);let h=window.getComputedStyle(d),p=h.transitionProperty,b=h.transitionDuration,v=p==="none"||b==="0s"||b==="0s, 0s"||i.width===0&&i.height===0,x=new sT(this,d,r,v);d.style.transform="scale3d(1, 1, 1)",x.state=os.FADING_IN,r.persistent||(this._mostRecentTransientRipple=x);let N=null;return!v&&(l||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let k=()=>{N&&(N.fallbackTimer=null),clearTimeout(X),this._finishRippleTransition(x)},ee=()=>this._destroyRipple(x),X=setTimeout(ee,l+100);d.addEventListener("transitionend",k),d.addEventListener("transitioncancel",ee),N={onTransitionEnd:k,onTransitionCancel:ee,fallbackTimer:X}}),this._activeRipples.set(x,N),(v||!l)&&this._finishRippleTransition(x),x}fadeOutRipple(e){if(e.state===os.FADING_OUT||e.state===os.HIDDEN)return;let t=e.element,r=K(K({},Mh),e.config.animation);t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=os.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=fo(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,Lq.forEach(r=>{n._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Bq.forEach(t=>{this._triggerElement.addEventListener(t,this,Fq)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===os.FADING_IN?this._startFadeOutTransition(e):e.state===os.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=os.VISIBLE,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=os.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=Th(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+ybe;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Sh(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===os.VISIBLE||e.config.terminateOnPointerUp&&e.state===os.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(Lq.forEach(t=>n._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(Bq.forEach(t=>e.removeEventListener(t,this,Fq)),this._pointerUpEventsRegistered=!1))}};function _be(n,e,t){let r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}var aT=new _e("mat-ripple-global-options"),Fvt=(()=>{class n{_elementRef=U(_n);_animationsDisabled=Va();color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let t=U(Nt),r=U(ir),i=U(aT,{optional:!0}),s=U(Xt);this._globalOptions=i||{},this._rippleRenderer=new Rh(this,t,this._elementRef,r,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:K(K(K({},this._globalOptions.animation),this._animationsDisabled?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return typeof t=="number"?this._rippleRenderer.fadeInRipple(t,r,K(K({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,K(K({},this.rippleConfig),t))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=un({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,i){r&2&&yr("mat-ripple-unbounded",i.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})();var vbe={capture:!0},Ebe=["focus","mousedown","mouseenter","touchstart"],cT="mat-ripple-loader-uninitialized",lT="mat-ripple-loader-class-name",qq="mat-ripple-loader-centered",yb="mat-ripple-loader-disabled",jq=(()=>{class n{_document=U(st);_animationsDisabled=Va();_globalRippleOptions=U(aT,{optional:!0});_platform=U(ir);_ngZone=U(Nt);_injector=U(Xt);_eventCleanups;_hosts=new Map;constructor(){let t=U(pi).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>Ebe.map(r=>t.listen(this._document,r,this._onInteraction,vbe)))}ngOnDestroy(){let t=this._hosts.keys();for(let r of t)this.destroyRipple(r);this._eventCleanups.forEach(r=>r())}configureRipple(t,r){t.setAttribute(cT,this._globalRippleOptions?.namespace??""),(r.className||!t.hasAttribute(lT))&&t.setAttribute(lT,r.className||""),r.centered&&t.setAttribute(qq,""),r.disabled&&t.setAttribute(yb,"")}setDisabled(t,r){let i=this._hosts.get(t);i?(i.target.rippleDisabled=r,!r&&!i.hasSetUpEvents&&(i.hasSetUpEvents=!0,i.renderer.setupTriggerEvents(t))):r?t.setAttribute(yb,""):t.removeAttribute(yb)}_onInteraction=t=>{let r=Ms(t);if(r instanceof HTMLElement){let i=r.closest(`[${cT}="${this._globalRippleOptions?.namespace??""}"]`);i&&this._createRipple(i)}};_createRipple(t){if(!this._document||this._hosts.has(t))return;t.querySelector(".mat-ripple")?.remove();let r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(lT)),t.append(r);let i=this._globalRippleOptions,s=this._animationsDisabled?0:i?.animation?.enterDuration??Mh.enterDuration,o=this._animationsDisabled?0:i?.animation?.exitDuration??Mh.exitDuration,a={rippleDisabled:this._animationsDisabled||i?.disabled||t.hasAttribute(yb),rippleConfig:{centered:t.hasAttribute(qq),terminateOnPointerUp:i?.terminateOnPointerUp,animation:{enterDuration:s,exitDuration:o}}},c=new Rh(a,this._ngZone,r,this._platform,this._injector),l=!a.rippleDisabled;l&&c.setupTriggerEvents(t),this._hosts.set(t,{target:a,renderer:c,hasSetUpEvents:l}),t.removeAttribute(cT)}destroyRipple(t){let r=this._hosts.get(t);r&&(r.renderer._removeTriggerEvents(),this._hosts.delete(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Uq=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Rn({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(r,i){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus-visible::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return n})();var wbe=["mat-icon-button",""],Cbe=["*"],Dbe=new _e("MAT_BUTTON_CONFIG");function $q(n){return n==null?void 0:Cx(n)}var uT=(()=>{class n{_elementRef=U(_n);_ngZone=U(Nt);_animationsDisabled=Va();_config=U(Dbe,{optional:!0});_focusMonitor=U(lb);_cleanupClick;_renderer=U(Vo);_rippleLoader=U(jq);_isAnchor;_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;tabIndex;set _tabindex(t){this.tabIndex=t}constructor(){U(Ko).load(Uq);let t=this._elementRef.nativeElement;this._isAnchor=t.tagName==="A",this.disabledInteractive=this._config?.disabledInteractive??!1,this.color=this._config?.color??null,this._rippleLoader?.configureRipple(t,{className:"mat-mdc-button-ripple"})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0),this._isAnchor&&this._setupAsAnchor()}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this._isAnchor?this.disabled||null:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}_getTabIndex(){return this._isAnchor?this.disabled&&!this.disabledInteractive?-1:this.tabIndex:this.tabIndex}_setupAsAnchor(){this._cleanupClick=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"click",t=>{this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=un({type:n,hostAttrs:[1,"mat-mdc-button-base"],hostVars:13,hostBindings:function(r,i){r&2&&(ss("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled())("tabindex",i._getTabIndex()),Fu(i.color?"mat-"+i.color:""),yr("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("mat-unthemed",!i.color)("_mat-animation-noopable",i._animationsDisabled))},inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",gi],disabled:[2,"disabled","disabled",gi],ariaDisabled:[2,"aria-disabled","ariaDisabled",gi],disabledInteractive:[2,"disabledInteractive","disabledInteractive",gi],tabIndex:[2,"tabIndex","tabIndex",$q],_tabindex:[2,"tabindex","_tabindex",$q]}})}return n})(),xbe=(()=>{class n extends uT{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Rn({type:n,selectors:[["button","mat-icon-button",""],["a","mat-icon-button",""],["button","matIconButton",""],["a","matIconButton",""]],hostAttrs:[1,"mdc-icon-button","mat-mdc-icon-button"],exportAs:["matButton","matAnchor"],features:[Zr],attrs:wbe,ngContentSelectors:Cbe,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){r&1&&(Ns(),zo(0,"span",0),Ui(1),zo(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%));flex-shrink:0;text-align:center;width:var(--mat-icon-button-state-layer-size, 40px);height:var(--mat-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mat-icon-button-state-layer-size, 40px) - var(--mat-icon-button-icon-size, 24px)) / 2);font-size:var(--mat-icon-button-icon-size, 24px);color:var(--mat-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus-visible>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-icon-button-touch-target-size, 48px);display:var(--mat-icon-button-touch-target-display, block);left:50%;width:var(--mat-icon-button-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mat-icon-button-icon-size, 24px);height:var(--mat-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%))}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();var Tbe=new _e("cdk-dir-doc",{providedIn:"root",factory:()=>U(st)}),Sbe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Vq(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?Sbe.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Hq=(()=>{class n{get value(){return this.valueSignal()}valueSignal=zn("ltr");change=new hn;constructor(){let t=U(Tbe,{optional:!0});if(t){let r=t.body?t.body.dir:null,i=t.documentElement?t.documentElement.dir:null;this.valueSignal.set(Vq(r||i||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var sr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=It({type:n});static \u0275inj=Tt({})}return n})();var bb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=It({type:n});static \u0275inj=Tt({imports:[sr]})}return n})();var Abe=["matButton",""],Nbe=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Ibe=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var zq=new Map([["text",["mat-mdc-button"]],["filled",["mdc-button--unelevated","mat-mdc-unelevated-button"]],["elevated",["mdc-button--raised","mat-mdc-raised-button"]],["outlined",["mdc-button--outlined","mat-mdc-outlined-button"]],["tonal",["mat-tonal-button"]]]),pEt=(()=>{class n extends uT{get appearance(){return this._appearance}set appearance(t){this.setAppearance(t||this._config?.defaultAppearance||"text")}_appearance=null;constructor(){super();let t=Mbe(this._elementRef.nativeElement);t&&this.setAppearance(t)}setAppearance(t){if(t===this._appearance)return;let r=this._elementRef.nativeElement.classList,i=this._appearance?zq.get(this._appearance):null,s=zq.get(t);i&&r.remove(...i),r.add(...s),this._appearance=t}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Rn({type:n,selectors:[["button","matButton",""],["a","matButton",""],["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""],["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:[1,"mdc-button"],inputs:{appearance:[0,"matButton","appearance"]},exportAs:["matButton","matAnchor"],features:[Zr],attrs:Abe,ngContentSelectors:Ibe,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){r&1&&(Ns(Nbe),zo(0,"span",0),Ui(1),Yc(2,"span",1),Ui(3,1),Zc(),Ui(4,2),zo(5,"span",2)(6,"span",3)),r&2&&yr("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mat-mdc-button-base .mat-icon{min-height:fit-content;flex-shrink:0}@media(hover: none){.mat-mdc-button-base:hover>span.mat-mdc-button-persistent-ripple::before{opacity:0}}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-button-text-horizontal-padding, 12px);height:var(--mat-button-text-container-height, 40px);font-family:var(--mat-button-text-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-text-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-text-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-text-label-text-transform);font-weight:var(--mat-button-text-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mat-button-text-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mat-button-text-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-text-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-button-text-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-button-text-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-text-touch-target-size, 48px);display:var(--mat-button-text-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-filled-container-height, 40px);font-family:var(--mat-button-filled-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-filled-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-filled-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-filled-label-text-transform);font-weight:var(--mat-button-filled-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-filled-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-button-filled-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-filled-touch-target-size, 48px);display:var(--mat-button-filled-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mat-button-filled-label-text-color, var(--mat-sys-on-primary));background-color:var(--mat-button-filled-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mat-button-filled-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mat-button-protected-container-elevation-shadow, var(--mat-sys-level1));height:var(--mat-button-protected-container-height, 40px);font-family:var(--mat-button-protected-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-protected-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-protected-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-protected-label-text-transform);font-weight:var(--mat-button-protected-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-protected-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-button-protected-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-protected-touch-target-size, 48px);display:var(--mat-button-protected-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-raised-button:not(:disabled){color:var(--mat-button-protected-label-text-color, var(--mat-sys-primary));background-color:var(--mat-button-protected-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mat-button-protected-container-shape, var(--mat-sys-corner-full))}@media(hover: hover){.mat-mdc-raised-button:hover{box-shadow:var(--mat-button-protected-hover-container-elevation-shadow, var(--mat-sys-level2))}}.mat-mdc-raised-button:focus{box-shadow:var(--mat-button-protected-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mat-button-protected-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-protected-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-protected-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mat-button-protected-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-outlined-container-height, 40px);font-family:var(--mat-button-outlined-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-outlined-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-outlined-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-outlined-label-text-transform);font-weight:var(--mat-button-outlined-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mat-button-outlined-container-shape, var(--mat-sys-corner-full));border-width:var(--mat-button-outlined-outline-width, 1px);padding:0 var(--mat-button-outlined-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-button-outlined-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-outlined-touch-target-size, 48px);display:var(--mat-button-outlined-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-outlined-button:not(:disabled){color:var(--mat-button-outlined-label-text-color, var(--mat-sys-primary));border-color:var(--mat-button-outlined-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mat-button-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-tonal-container-height, 40px);font-family:var(--mat-button-tonal-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-tonal-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-tonal-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-tonal-label-text-transform);font-weight:var(--mat-button-tonal-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-tonal-horizontal-padding, 24px)}.mat-tonal-button:not(:disabled){color:var(--mat-button-tonal-label-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-tonal-container-color, var(--mat-sys-secondary-container))}.mat-tonal-button,.mat-tonal-button .mdc-button__ripple{border-radius:var(--mat-button-tonal-container-shape, var(--mat-sys-corner-full))}.mat-tonal-button[disabled],.mat-tonal-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-tonal-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-tonal-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-tonal-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}[dir=rtl] .mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}.mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}[dir=rtl] .mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}.mat-tonal-button .mat-ripple-element{background-color:var(--mat-button-tonal-ripple-color, color-mix(in srgb, var(--mat-sys-on-secondary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-tonal-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-tonal-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-tonal-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-tonal-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-tonal-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-tonal-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-tonal-touch-target-size, 48px);display:var(--mat-button-tonal-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button,.mat-tonal-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon,.mat-tonal-button .mdc-button__label,.mat-tonal-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator,.mat-tonal-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-raised-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus-visible>.mat-focus-indicator::before,.mat-tonal-button:focus-visible>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable,.mat-tonal-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon,.mat-tonal-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-tonal-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();function Mbe(n){return n.hasAttribute("mat-raised-button")?"elevated":n.hasAttribute("mat-stroked-button")?"outlined":n.hasAttribute("mat-flat-button")?"filled":n.hasAttribute("mat-button")?"text":null}var mEt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=It({type:n});static \u0275inj=Tt({imports:[bb,sr]})}return n})();var bEt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=It({type:n});static \u0275inj=Tt({imports:[sr]})}return n})();var Wq=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=It({type:n});static \u0275inj=Tt({imports:[sr]})}return n})();function Gq(n){return Error(`Unable to find icon with the name "${n}"`)}function Rbe(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function Qq(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Kq(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var Jo=class{url;svgText;options;svgElement;constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}},Yq=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(t,r,i,s){this._httpClient=t,this._sanitizer=r,this._errorHandler=s,this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,s){return this._addSvgIconConfig(t,r,new Jo(i,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,s){let o=this._sanitizer.sanitize(qr.HTML,i);if(!o)throw Kq(i);let a=Hu(o);return this._addSvgIconConfig(t,r,new Jo("",a,s))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Jo(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){let s=this._sanitizer.sanitize(qr.HTML,r);if(!s)throw Kq(r);let o=Hu(s);return this._addSvgIconSetConfig(t,new Jo("",o,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){let r=this._sanitizer.sanitize(qr.RESOURCE_URL,t);if(!r)throw Qq(t);let i=this._cachedIconsByUrl.get(r);return i?ze(_b(i)):this._loadSvgIconFromConfig(new Jo(t,null)).pipe(jn(s=>this._cachedIconsByUrl.set(r,s)),Et(s=>_b(s)))}getNamedSvgIcon(t,r=""){let i=Jq(r,t),s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,t),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);let o=this._iconSetConfigs.get(r);return o?this._getSvgFromIconSetConfigs(t,o):wf(Gq(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?ze(_b(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Et(r=>_b(r)))}_getSvgFromIconSetConfigs(t,r){let i=this._extractIconWithNameFromAnySet(t,r);if(i)return ze(i);let s=r.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(Ea(a=>{let l=`Loading icon set URL: ${this._sanitizer.sanitize(qr.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(l)),ze(null)})));return Tf(s).pipe(Et(()=>{let o=this._extractIconWithNameFromAnySet(t,r);if(!o)throw Gq(t);return o}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){let s=r[i];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){let o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,t,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(jn(r=>t.svgText=r),Et(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?ze(null):this._fetchIcon(t).pipe(jn(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){let s=t.querySelector(`[id="${r}"]`);if(!s)return null;let o=s.cloneNode(!0);if(o.removeAttribute("id"),o.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(o,i);if(o.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(o),i);let a=this._svgElementFromString(Hu("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,i)}_svgElementFromString(t){let r=this._document.createElement("DIV");r.innerHTML=t;let i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){let r=this._svgElementFromString(Hu("<svg></svg>")),i=t.attributes;for(let s=0;s<i.length;s++){let{name:o,value:a}=i[s];o!=="id"&&r.setAttribute(o,a)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){let{url:r,options:i}=t,s=i?.withCredentials??!1;if(!this._httpClient)throw Rbe();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let o=this._sanitizer.sanitize(qr.RESOURCE_URL,r);if(!o)throw Qq(r);let a=this._inProgressUrlFetches.get(o);if(a)return a;let c=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(Et(l=>Hu(l)),Sc(()=>this._inProgressUrlFetches.delete(o)),Af());return this._inProgressUrlFetches.set(o,c),c}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(Jq(t,r),i),this}_addSvgIconSetConfig(t,r){let i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){let r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){let s=this._resolvers[i](r,t);if(s)return Obe(s)?new Jo(s.url,null,s.options):new Jo(s,null)}}static \u0275fac=function(r){return new(r||n)(Pe(Ux,8),Pe(Vx),Pe(st,8),Pe(hi))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _b(n){return n.cloneNode(!0)}function Jq(n,e){return n+":"+e}function Obe(n){return!!(n.url&&n.options)}var Pbe=["*"],kbe=new _e("MAT_ICON_DEFAULT_OPTIONS"),Fbe=new _e("mat-icon-location",{providedIn:"root",factory:()=>{let n=U(st),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),Zq=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Lbe=Zq.map(n=>`[${n}]`).join(", "),Bbe=/^url\(['"]?#(.*?)['"]?\)$/,jEt=(()=>{class n{_elementRef=U(_n);_iconRegistry=U(Yq);_location=U(Fbe);_errorHandler=U(hi);_defaultColor;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(t){let r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(t){let r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=fn.EMPTY;constructor(){let t=U(new _h("aria-hidden"),{optional:!0}),r=U(kbe,{optional:!0});r&&(r.color&&(this.color=this._defaultColor=r.color),r.fontSet&&(this.fontSet=r.fontSet)),t||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];let r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let t=this._elementsWithExternalReferences;if(t&&t.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){let t=this._elementRef.nativeElement,r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let i=t.childNodes[r];(i.nodeType!==1||i.nodeName.toLowerCase()==="svg")&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return typeof t=="string"?t.trim().split(" ")[0]:t}_prependPathToReferences(t){let r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){let r=t.querySelectorAll(Lbe),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)Zq.forEach(o=>{let a=r[s],c=a.getAttribute(o),l=c?c.match(Bbe):null;if(l){let d=i.get(a);d||(d=[],i.set(a,d)),d.push({name:o,value:l[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){let[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Ai(1)).subscribe(s=>this._setSvgElement(s),s=>{let o=`Error retrieving icon ${r}:${i}! ${s.message}`;this._errorHandler.handleError(new Error(o))})}}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Rn({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,i){r&2&&(ss("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),Fu(i.color?"mat-"+i.color:""),yr("mat-icon-inline",i.inline)("mat-icon-no-color",i.color!=="primary"&&i.color!=="accent"&&i.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",gi],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:Pbe,decls:1,vars:0,template:function(r,i){r&1&&(Ns(),Ui(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return n})(),UEt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=It({type:n});static \u0275inj=Tt({imports:[sr]})}return n})();var qbe=(()=>{class n{_listeners=[];notify(t,r){for(let i of this._listeners)i(t,r)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(r=>t!==r)}}ngOnDestroy(){this._listeners=[]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var dT=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new Ke;constructor(e=!1,t,r=!0,i){this._multiple=e,this._emitChanges=r,this.compareWith=i,t&&t.length&&(e?t.forEach(s=>this._markSelected(s)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(r=>this._markSelected(r));let t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(r=>this._unmarkSelected(r));let t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);let t=this.selected,r=new Set(e.map(s=>this._getConcreteValue(s)));e.forEach(s=>this._markSelected(s)),t.filter(s=>!r.has(this._getConcreteValue(s,r))).forEach(s=>this._unmarkSelected(s));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();let t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){e.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(e,t){if(this.compareWith){t=t??this._selection;for(let r of t)if(this.compareWith(e,r))return r;return e}else return e}};var uwt=new _e("");function pT(n){return n==null||mT(n)===0}function mT(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var aj=new _e(""),cj=new _e(""),jbe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Xq=class{static min(e){return Ube(e)}static max(e){return $be(e)}static required(e){return Vbe(e)}static requiredTrue(e){return Hbe(e)}static email(e){return zbe(e)}static minLength(e){return Wbe(e)}static maxLength(e){return Gbe(e)}static pattern(e){return Qbe(e)}static nullValidator(e){return lj()}static compose(e){return mj(e)}static composeAsync(e){return gj(e)}};function Ube(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function $be(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Vbe(n){return pT(n.value)?{required:!0}:null}function Hbe(n){return n.value===!0?null:{required:!0}}function zbe(n){return pT(n.value)||jbe.test(n.value)?null:{email:!0}}function Wbe(n){return e=>{let t=e.value?.length??mT(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function Gbe(n){return e=>{let t=e.value?.length??mT(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function Qbe(n){if(!n)return lj;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(pT(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function lj(n){return null}function uj(n){return n!=null}function dj(n){return Jc(n)?Yt(n):n}function fj(n){let e={};return n.forEach(t=>{e=t!=null?K(K({},e),t):e}),Object.keys(e).length===0?null:e}function hj(n,e){return e.map(t=>t(n))}function Kbe(n){return!n.validate}function pj(n){return n.map(e=>Kbe(e)?e:t=>e.validate(t))}function mj(n){if(!n)return null;let e=n.filter(uj);return e.length==0?null:function(t){return fj(hj(t,e))}}function gT(n){return n!=null?mj(pj(n)):null}function gj(n){if(!n)return null;let e=n.filter(uj);return e.length==0?null:function(t){let r=hj(t,e).map(dj);return Tf(r).pipe(Et(fj))}}function yT(n){return n!=null?gj(pj(n)):null}function ej(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function yj(n){return n._rawValidators}function bj(n){return n._rawAsyncValidators}function fT(n){return n?Array.isArray(n)?n:[n]:[]}function Eb(n,e){return Array.isArray(n)?n.includes(e):n===e}function tj(n,e){let t=fT(e);return fT(n).forEach(i=>{Eb(t,i)||t.push(i)}),t}function nj(n,e){return fT(e).filter(t=>!Eb(n,t))}var wb=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=gT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=yT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Gu=class extends wb{name;get formDirective(){return null}get path(){return null}},rj=class extends wb{_parent=null;name=null;valueAccessor=null};var Oh="VALID",vb="INVALID",zu="PENDING",Ph="DISABLED",Ha=class{},Cb=class extends Ha{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Fh=class extends Ha{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Lh=class extends Ha{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Wu=class extends Ha{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Db=class extends Ha{source;constructor(e){super(),this.source=e}},xb=class extends Ha{source;constructor(e){super(),this.source=e}};function _j(n){return(Ib(n)?n.validators:n)||null}function Jbe(n){return Array.isArray(n)?gT(n):n||null}function vj(n,e){return(Ib(e)?e.asyncValidators:n)||null}function Ybe(n){return Array.isArray(n)?yT(n):n||null}function Ib(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Zbe(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new Ae(1e3,"");if(!r[t])throw new Ae(1001,"")}function Xbe(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new Ae(1002,"")})}var Tb=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return rr(this.statusReactive)}set status(e){rr(()=>this.statusReactive.set(e))}_status=qa(()=>this.statusReactive());statusReactive=zn(void 0);get valid(){return this.status===Oh}get invalid(){return this.status===vb}get pending(){return this.status==zu}get disabled(){return this.status===Ph}get enabled(){return this.status!==Ph}errors;get pristine(){return rr(this.pristineReactive)}set pristine(e){rr(()=>this.pristineReactive.set(e))}_pristine=qa(()=>this.pristineReactive());pristineReactive=zn(!0);get dirty(){return!this.pristine}get touched(){return rr(this.touchedReactive)}set touched(e){rr(()=>this.touchedReactive.set(e))}_touched=qa(()=>this.touchedReactive());touchedReactive=zn(!1);get untouched(){return!this.touched}_events=new Ke;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(tj(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(tj(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(nj(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(nj(e,this._rawAsyncValidators))}hasValidator(e){return Eb(this._rawValidators,e)}hasAsyncValidator(e){return Eb(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched($e(K({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Lh(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Lh(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty($e(K({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Fh(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Fh(!0,r))}markAsPending(e={}){this.status=zu;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Wu(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending($e(K({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ph,this.errors=null,this._forEachChild(i=>{i.disable($e(K({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cb(this.value,r)),this._events.next(new Wu(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors($e(K({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Oh,this._forEachChild(r=>{r.enable($e(K({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors($e(K({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Oh||this.status===zu)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cb(this.value,t)),this._events.next(new Wu(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity($e(K({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ph:Oh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=zu,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=dj(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Wu(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new hn,this.statusChanges=new hn}_calculateStatus(){return this._allControlsDisabled()?Ph:this.errors?vb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zu)?zu:this._anyControlsHaveStatus(vb)?vb:Oh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Fh(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Lh(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ib(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Jbe(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Ybe(this._rawAsyncValidators)}},Sb=class extends Tb{constructor(e,t,r){super(_j(t),vj(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Xbe(this,!0,e),Object.keys(e).forEach(r=>{Zbe(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,$e(K({},t),{onlySelf:!0}))}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new xb(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ej=new _e("",{factory:()=>wj}),wj="always";function hT(n,e,t=wj){bT(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),t_e(n,e),r_e(n,e),n_e(n,e),e_e(n,e)}function ij(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Nb(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ab(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function e_e(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function bT(n,e){let t=yj(n);e.validator!==null?n.setValidators(ej(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=bj(n);e.asyncValidator!==null?n.setAsyncValidators(ej(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Ab(e._rawValidators,i),Ab(e._rawAsyncValidators,i)}function Nb(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=yj(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let i=bj(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}let r=()=>{};return Ab(e._rawValidators,r),Ab(e._rawAsyncValidators,r),t}function t_e(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Cj(n,e)})}function n_e(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Cj(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function Cj(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function r_e(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function Dj(n,e){n==null,bT(n,e)}function i_e(n,e){return Nb(n,e)}function xj(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function s_e(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var o_e={provide:Gu,useExisting:xa(()=>a_e)},kh=Promise.resolve(),a_e=(()=>{class n extends Gu{callSetDisabledState;get submitted(){return rr(this.submittedReactive)}_submitted=qa(()=>this.submittedReactive());submittedReactive=zn(!1);_directives=new Set;form;ngSubmit=new hn;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Sb({},gT(t),yT(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){kh.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),hT(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){kh.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){kh.then(()=>{let r=this._findContainer(t.path),i=new Sb({});Dj(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){kh.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){kh.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),xj(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new Db(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(jr(aj,10),jr(cj,10),jr(Ej,8))};static \u0275dir=un({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&La("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ba([o_e]),Zr]})}return n})();function sj(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function oj(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var c_e=class extends Tb{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(_j(t),vj(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ib(t)&&(t.nonNullable||t.initialValueIsDefault)&&(oj(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),t.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new xb(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){sj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){sj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){oj(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var l_e=n=>n instanceof c_e;var u_e=(()=>{class n extends Gu{callSetDisabledState;get submitted(){return rr(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=qa(()=>this._submittedReactive());_submittedReactive=zn(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this.onChanges(t)}ngOnDestroy(){this.onDestroy()}onChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(Nb(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(t){let r=this.form.get(t.path);return hT(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){ij(t.control||null,t,!1),s_e(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}getFormArray(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}updateModel(t,r){this.form.get(t.path).setValue(r)}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1)}onSubmit(t){return this.submitted=!0,xj(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Db(this.control)),t?.target?.method==="dialog"}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(ij(r||null,t),l_e(i)&&(hT(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);Dj(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&i_e(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){bT(this.form,this),this._oldForm&&Nb(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(r){return new(r||n)(jr(aj,10),jr(cj,10),jr(Ej,8))};static \u0275dir=un({type:n,features:[Zr,ji]})}return n})();var d_e={provide:Gu,useExisting:xa(()=>f_e)},f_e=(()=>{class n extends u_e{form=null;ngSubmit=new hn;get control(){return this.form}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Uo(n)))(i||n)}})();static \u0275dir=un({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&La("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ba([d_e]),Zr]})}return n})();var mwt=(()=>{class n{_animationsDisabled=Va();state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Rn({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(r,i){r&2&&yr("mat-pseudo-checkbox-indeterminate",i.state==="indeterminate")("mat-pseudo-checkbox-checked",i.state==="checked")("mat-pseudo-checkbox-disabled",i.disabled)("mat-pseudo-checkbox-minimal",i.appearance==="minimal")("mat-pseudo-checkbox-full",i.appearance==="full")("_mat-animation-noopable",i._animationsDisabled)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(r,i){},styles:[`.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-minimal-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-minimal-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-pseudo-checkbox-full-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-pseudo-checkbox-full-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-pseudo-checkbox-full-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-full-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-pseudo-checkbox-full-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-full-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}
`],encapsulation:2,changeDetection:0})}return n})();var Tj=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=It({type:n});static \u0275inj=Tt({imports:[sr]})}return n})();var xwt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=It({type:n});static \u0275inj=Tt({imports:[fb,bb,Tj,sr,Wq]})}return n})();var _T=class{_box;_destroyed=new Ke;_resizeSubject=new Ke;_resizeObserver;_elementObservables=new Map;constructor(e){this._box=e,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new et(t=>{let r=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),r.unsubscribe(),this._elementObservables.delete(e)}}).pipe(Mn(t=>t.some(r=>r.target===e)),cg({bufferSize:1,refCount:!0}),Ni(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},Rwt=(()=>{class n{_cleanupErrorListener;_observers=new Map;_ngZone=U(Nt);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,t]of this._observers)t.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(t,r){let i=r?.box||"content-box";return this._observers.has(i)||this._observers.set(i,new _T(i)),this._observers.get(i).observe(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var h_e=20,Jwt=(()=>{class n{_ngZone=U(Nt);_platform=U(ir);_renderer=U(pi).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new Ke;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=h_e){return this._platform.isBrowser?new et(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=t>0?this._scrolled.pipe(sg(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):ze()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){let i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Mn(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){let r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_scrollableContainsElement(t,r){let i=fo(r),s=t.getElementRef().nativeElement;do if(i==s)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var p_e=20,Ywt=(()=>{class n{_platform=U(ir);_listeners;_viewportSize;_change=new Ke;_document=U(st);constructor(){let t=U(Nt),r=U(pi).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=s=>this._change.next(s);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect(),o=-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,a=-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:o,left:a}}change(t=p_e){return t>0?this._change.pipe(sg(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Sj=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=It({type:n});static \u0275inj=Tt({})}return n})(),Zwt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=It({type:n});static \u0275inj=Tt({imports:[sr,Sj,sr,Sj]})}return n})();var Bh=class{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},vT=class extends Bh{component;viewContainerRef;injector;projectableNodes;constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.projectableNodes=i}},ET=class extends Bh{templateRef;viewContainerRef;context;injector;constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},wT=class extends Bh{element;constructor(e){super(),this.element=e instanceof _n?e.nativeElement:e}},Mb=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof vT)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof ET)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof wT)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},Aj=class extends Mb{outletElement;_appRef;_defaultInjector;constructor(e,t,r){super(),this.outletElement=e,this._appRef=t,this._defaultInjector=r}attachComponentPortal(e){let t;if(e.viewContainerRef){let r=e.injector||e.viewContainerRef.injector,i=r.get(jo,null,{optional:!0})||void 0;t=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:r,ngModuleRef:i,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>t.destroy())}else{let r=this._appRef,i=e.injector||this._defaultInjector||Xt.NULL,s=i.get(ln,r.injector);t=Jy(e.component,{elementInjector:i,environmentInjector:s,projectableNodes:e.projectableNodes||void 0}),r.attachView(t.hostView),this.setDisposeFn(()=>{r.viewCount>0&&r.detachView(t.hostView),t.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=e,t}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);i!==-1&&t.remove(i)}),this._attachedPortal=e,r}attachDomPortal=e=>{let t=e.element;t.parentNode;let r=this.outletElement.ownerDocument.createComment("dom-portal");t.parentNode.insertBefore(r,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(t,r)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var sCt=(()=>{class n extends Mb{_moduleRef=U(jo,{optional:!0});_document=U(st);_viewContainerRef=U(is);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}attached=new hn;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);let r=t.viewContainerRef!=null?t.viewContainerRef:this._viewContainerRef,i=r.createComponent(t.component,{index:r.length,injector:t.injector||r.injector,projectableNodes:t.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return r!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachDomPortal=t=>{let r=t.element;r.parentNode;let i=this._document.createComment("dom-portal");t.setAttachedHost(this),r.parentNode.insertBefore(i,r),this._getRootNode().appendChild(r),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(r,i)})};_getRootNode(){let t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static \u0275fac=function(r){return new(r||n)};static \u0275dir=un({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Zr]})}return n})(),oCt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=It({type:n});static \u0275inj=Tt({})}return n})();var lCt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=It({type:n});static \u0275inj=Tt({imports:[sr]})}return n})();var mt="primary",Kh=Symbol("RouteTitle"),ST=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function cl(n){return new ST(n)}function Lj(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Lb(n){return new Promise((e,t)=>{n.pipe(Oo()).subscribe({next:r=>e(r),error:r=>t(r)})})}function m_e(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ho(n[t],e[t]))return!1;return!0}function ho(n,e){let t=n?AT(n):void 0,r=e?AT(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!Bj(n[i],e[i]))return!1;return!0}function AT(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Bj(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function qj(n){return n.length>0?n[n.length-1]:null}function ll(n){return Cf(n)?n:Jc(n)?Yt(Promise.resolve(n)):ze(n)}function jj(n){return Cf(n)?Lb(n):Promise.resolve(n)}var g_e={exact:$j,subset:Vj},Uj={exact:y_e,subset:b_e,ignored:()=>!0};function Nj(n,e,t){return g_e[t.paths](n.root,e.root,t.matrixParams)&&Uj[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function y_e(n,e){return ho(n,e)}function $j(n,e,t){if(!ol(n.segments,e.segments)||!Pb(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!$j(n.children[r],e.children[r],t))return!1;return!0}function b_e(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Bj(n[t],e[t]))}function Vj(n,e,t){return Hj(n,e,e.segments,t)}function Hj(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!ol(i,t)||e.hasChildren()||!Pb(i,t,r))}else if(n.segments.length===t.length){if(!ol(n.segments,t)||!Pb(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!Vj(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!ol(n.segments,i)||!Pb(n.segments,i,r)||!n.children[mt]?!1:Hj(n.children[mt],e,s,r)}}function Pb(n,e,t){return e.every((r,i)=>Uj[t](n[i].parameters,r.parameters))}var Os=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Qt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=cl(this.queryParams),this._queryParamMap}toString(){return w_e.serialize(this)}},Qt=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kb(this)}},za=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=cl(this.parameters),this._parameterMap}toString(){return Wj(this)}};function v_e(n,e){return ol(n,e)&&n.every((t,r)=>ho(t.parameters,e[r].parameters))}function ol(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function E_e(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===mt&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==mt&&(t=t.concat(e(i,r)))}),t}var ul=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:()=>new Yo,providedIn:"root"})}return n})(),Yo=class{parse(e){let t=new IT(e);return new Os(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${qh(e.root,!0)}`,r=x_e(e.queryParams),i=typeof e.fragment=="string"?`#${C_e(e.fragment)}`:"";return`${t}${r}${i}`}},w_e=new Yo;function kb(n){return n.segments.map(e=>Wj(e)).join("/")}function qh(n,e){if(!n.hasChildren())return kb(n);if(e){let t=n.children[mt]?qh(n.children[mt],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==mt&&r.push(`${i}:${qh(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=E_e(n,(r,i)=>i===mt?[qh(n.children[mt],!1)]:[`${i}:${qh(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[mt]!=null?`${kb(n)}/${t[0]}`:`${kb(n)}/(${t.join("//")})`}}function zj(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rb(n){return zj(n).replace(/%3B/gi,";")}function C_e(n){return encodeURI(n)}function NT(n){return zj(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fb(n){return decodeURIComponent(n)}function Ij(n){return Fb(n.replace(/\+/g,"%20"))}function Wj(n){return`${NT(n.path)}${D_e(n.parameters)}`}function D_e(n){return Object.entries(n).map(([e,t])=>`;${NT(e)}=${NT(t)}`).join("")}function x_e(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Rb(t)}=${Rb(i)}`).join("&"):`${Rb(t)}=${Rb(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var T_e=/^[^\/()?;#]+/;function CT(n){let e=n.match(T_e);return e?e[0]:""}var S_e=/^[^\/()?;=#]+/;function A_e(n){let e=n.match(S_e);return e?e[0]:""}var N_e=/^[^=?&#]+/;function I_e(n){let e=n.match(N_e);return e?e[0]:""}var M_e=/^[^&#]+/;function R_e(n){let e=n.match(M_e);return e?e[0]:""}var IT=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qt([],{}):new Qt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[mt]=new Qt(e,t)),r}parseSegment(){let e=CT(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Ae(4009,!1);return this.capture(e),new za(Fb(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=A_e(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=CT(this.remaining);i&&(r=i,this.capture(r))}e[Fb(t)]=Fb(r)}parseQueryParam(e){let t=I_e(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=R_e(this.remaining);o&&(r=o,this.capture(r))}let i=Ij(t),s=Ij(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=CT(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Ae(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=mt);let o=this.parseChildren();t[s??mt]=Object.keys(o).length===1&&o[mt]?o[mt]:new Qt([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Ae(4011,!1)}};function Gj(n){return n.segments.length>0?new Qt([],{[mt]:n}):n}function Qj(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=Qj(i);if(r===mt&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new Qt(n.segments,e);return O_e(t)}function O_e(n){if(n.numberOfChildren===1&&n.children[mt]){let e=n.children[mt];return new Qt(n.segments.concat(e.segments),e.children)}return n}function Zu(n){return n instanceof Os}function Kj(n,e,t=null,r=null,i=new Yo){let s=Jj(n);return Yj(s,e,t,r,i)}function Jj(n){let e;function t(s){let o={};for(let c of s.children){let l=t(c);o[c.outlet]=l}let a=new Qt(s.url,o);return s===n&&(e=a),a}let r=t(n.root),i=Gj(r);return e??i}function Yj(n,e,t,r,i){let s=n;for(;s.parent;)s=s.parent;if(e.length===0)return DT(s,s,s,t,r,i);let o=P_e(e);if(o.toRoot())return DT(s,s,new Qt([],{}),t,r,i);let a=k_e(o,s,n),c=a.processChildren?Uh(a.segmentGroup,a.index,o.commands):Xj(a.segmentGroup,a.index,o.commands);return DT(s,a.segmentGroup,c,t,r,i)}function Bb(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Vh(n){return typeof n=="object"&&n!=null&&n.outlets}function Mj(n,e,t){n||="\u0275";let r=new Os;return r.queryParams={[n]:e},t.parse(t.serialize(r)).queryParams[n]}function DT(n,e,t,r,i,s){let o={};for(let[l,d]of Object.entries(r??{}))o[l]=Array.isArray(d)?d.map(h=>Mj(l,h,s)):Mj(l,d,s);let a;n===e?a=t:a=Zj(n,e,t);let c=Gj(Qj(a));return new Os(c,o,i)}function Zj(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=Zj(s,e,t)}),new Qt(n.segments,r)}var qb=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Bb(r[0]))throw new Ae(4003,!1);let i=r.find(Vh);if(i&&i!==qj(r))throw new Ae(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function P_e(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new qb(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new qb(t,e,r)}var Ku=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function k_e(n,e,t){if(n.isAbsolute)return new Ku(e,!0,0);if(!t)return new Ku(e,!1,NaN);if(t.parent===null)return new Ku(t,!0,0);let r=Bb(n.commands[0])?0:1,i=t.segments.length-1+r;return F_e(t,i,n.numberOfDoubleDots)}function F_e(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Ae(4005,!1);i=r.segments.length}return new Ku(r,!1,i-s)}function L_e(n){return Vh(n[0])?n[0].outlets:{[mt]:n}}function Xj(n,e,t){if(n??=new Qt([],{}),n.segments.length===0&&n.hasChildren())return Uh(n,e,t);let r=B_e(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new Qt(n.segments.slice(0,r.pathIndex),{});return s.children[mt]=new Qt(n.segments.slice(r.pathIndex),n.children),Uh(s,0,i)}else return r.match&&i.length===0?new Qt(n.segments,{}):r.match&&!n.hasChildren()?MT(n,e,t):r.match?Uh(n,0,i):MT(n,e,t)}function Uh(n,e,t){if(t.length===0)return new Qt(n.segments,{});{let r=L_e(t),i={};if(Object.keys(r).some(s=>s!==mt)&&n.children[mt]&&n.numberOfChildren===1&&n.children[mt].segments.length===0){let s=Uh(n.children[mt],e,t);return new Qt(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Xj(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Qt(n.segments,i)}}function B_e(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],a=t[r];if(Vh(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Oj(c,l,o))return s;r+=2}else{if(!Oj(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function MT(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(Vh(s)){let c=q_e(s.outlets);return new Qt(r,c)}if(i===0&&Bb(t[0])){let c=n.segments[e];r.push(new za(c.path,Rj(t[0]))),i++;continue}let o=Vh(s)?s.outlets[mt]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Bb(a)?(r.push(new za(o,Rj(a))),i+=2):(r.push(new za(o,{})),i++)}return new Qt(r,{})}function q_e(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=MT(new Qt([],{}),0,r))}),e}function Rj(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Oj(n,e,t){return n==t.path&&ho(e,t.parameters)}var Ju="imperative",or=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(or||{}),Vi=class{id;url;constructor(e,t){this.id=e,this.url=t}},Wa=class extends Vi{type=or.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ps=class extends Vi{urlAfterRedirects;type=or.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Xr=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Xr||{}),Xu=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Xu||{}),po=class extends Vi{reason;code;type=or.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},mo=class extends Vi{reason;code;type=or.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},ed=class extends Vi{error;target;type=or.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Hh=class extends Vi{urlAfterRedirects;state;type=or.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jb=class extends Vi{urlAfterRedirects;state;type=or.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ub=class extends Vi{urlAfterRedirects;state;shouldActivate;type=or.GuardsCheckEnd;constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},$b=class extends Vi{urlAfterRedirects;state;type=or.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vb=class extends Vi{urlAfterRedirects;state;type=or.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hb=class{route;type=or.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},zb=class{route;type=or.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Wb=class{snapshot;type=or.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gb=class{snapshot;type=or.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qb=class{snapshot;type=or.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kb=class{snapshot;type=or.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},td=class{routerEvent;position;anchor;type=or.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},zh=class{},nd=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function j_e(n){return!(n instanceof zh)&&!(n instanceof nd)}function U_e(n,e){return n.providers&&!n._injector&&(n._injector=Kc(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Rs(n){return n.outlet||mt}function $_e(n,e){let t=n.filter(r=>Rs(r)===e);return t.push(...n.filter(r=>Rs(r)!==e)),t}function sd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Jb=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return sd(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new dl(this.rootInjector)}},dl=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Jb(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Pe(ln))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Yb=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=RT(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=RT(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=OT(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return OT(e,this._root).map(t=>t.value)}};function RT(n,e){if(n===e.value)return e;for(let t of e.children){let r=RT(n,t);if(r)return r}return null}function OT(n,e){if(n===e.value)return[e];for(let t of e.children){let r=OT(n,t);if(r.length)return r.unshift(e),r}return[]}var $i=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Qu(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Wh=class extends Yb{snapshot;constructor(e,t){super(e),this.snapshot=t,qT(this,e)}toString(){return this.snapshot.toString()}};function eU(n){let e=V_e(n),t=new nr([new za("",{})]),r=new nr({}),i=new nr({}),s=new nr({}),o=new nr(""),a=new Zo(t,r,s,o,i,mt,n,e.root);return a.snapshot=e.root,new Wh(new $i(a,[]),e)}function V_e(n){let e={},t={},r={},s=new al([],e,r,"",t,mt,n,null,{});return new Gh("",new $i(s,[]))}var Zo=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Et(l=>l[Kh]))??ze(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Et(e=>cl(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Et(e=>cl(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Zb(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:K(K({},e.params),n.params),data:K(K({},e.data),n.data),resolve:K(K(K(K({},n.data),e.data),i?.data),n._resolvedData)}:r={params:K({},n.params),data:K({},n.data),resolve:K(K({},n.data),n._resolvedData??{})},i&&nU(i)&&(r.resolve[Kh]=i.title),r}var al=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Kh]}constructor(e,t,r,i,s,o,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=cl(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=cl(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Gh=class extends Yb{url;constructor(e,t){super(t),this.url=e,qT(this,t)}toString(){return tU(this._root)}};function qT(n,e){e.value._routerState=n,e.children.forEach(t=>qT(n,t))}function tU(n){let e=n.children.length>0?` { ${n.children.map(tU).join(", ")} } `:"";return`${n.value}${e}`}function xT(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ho(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ho(e.params,t.params)||n.paramsSubject.next(t.params),m_e(e.url,t.url)||n.urlSubject.next(t.url),ho(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function PT(n,e){let t=ho(n.params,e.params)&&v_e(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||PT(n.parent,e.parent))}function nU(n){return typeof n.title=="string"||n.title===null}var rU=new _e(""),jT=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=mt;activateEvents=new hn;deactivateEvents=new hn;attachEvents=new hn;detachEvents=new hn;routerOutletData=SB();parentContexts=U(dl);location=U(is);changeDetector=U(el);inputBinder=U(Jh,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ae(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ae(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ae(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Ae(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new kT(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=un({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ji]})}return n})(),kT=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Zo?this.route:e===dl?this.childContexts:e===rU?this.outletData:this.parent.get(e,t)}},Jh=new _e(""),UT=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=au([r.queryParams,r.params,r.data]).pipe(fi(([s,o,a],c)=>(a=K(K(K({},s),o),a),c===0?ze(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let o=PB(r.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:n.\u0275fac})}return n})(),$T=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Rn({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ku(0,"router-outlet")},dependencies:[jT],encapsulation:2})}return n})();function VT(n){let e=n.children&&n.children.map(VT),t=e?$e(K({},n),{children:e}):K({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==mt&&(t.component=$T),t}function H_e(n,e,t){let r=Qh(n,e._root,t?t._root:void 0);return new Wh(r,e)}function Qh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=z_e(n,e,t);return new $i(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Qh(n,a)),o}}let r=W_e(e.value),i=e.children.map(s=>Qh(n,s));return new $i(r,i)}}function z_e(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Qh(n,r,i);return Qh(n,r)})}function W_e(n){return new Zo(new nr(n.url),new nr(n.params),new nr(n.queryParams),new nr(n.fragment),new nr(n.data),n.outlet,n.component,n)}var rd=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},iU="ngNavigationCancelingError";function Xb(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Zu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=sU(!1,Xr.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function sU(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[iU]=!0,t.cancellationCode=e,t}function G_e(n){return oU(n)&&Zu(n.url)}function oU(n){return!!n&&n[iU]}var Q_e=(n,e,t,r)=>Et(i=>(new FT(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),FT=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),xT(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Qu(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Qu(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Qu(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Qu(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Kb(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Gb(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(xT(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),xT(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},e_=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Yu=class{component;route;constructor(e,t){this.component=e,this.route=t}};function K_e(n,e,t){let r=n._root,i=e?e._root:null;return jh(r,i,t,[r.value])}function J_e(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function od(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!cC(n)?n:e.get(n):r}function jh(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Qu(e);return n.children.forEach(o=>{Y_e(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>$h(a,t.getContext(o),i)),i}function Y_e(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=Z_e(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new e_(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?jh(n,e,a?a.children:null,r,i):jh(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Yu(a.outlet.component,o))}else o&&$h(e,a,i),i.canActivateChecks.push(new e_(r)),s.component?jh(n,null,a?a.children:null,r,i):jh(n,null,t,r,i);return i}function Z_e(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ol(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ol(n.url,e.url)||!ho(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!PT(n,e)||!ho(n.queryParams,e.queryParams);case"paramsChange":default:return!PT(n,e)}}function $h(n,e,t){let r=Qu(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?$h(o,e.children.getContext(s),t):$h(o,null,t):$h(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Yu(e.outlet.component,i)):t.canDeactivateChecks.push(new Yu(null,i)):t.canDeactivateChecks.push(new Yu(null,i))}function Yh(n){return typeof n=="function"}function X_e(n){return typeof n=="boolean"}function eve(n){return n&&Yh(n.canLoad)}function tve(n){return n&&Yh(n.canActivate)}function nve(n){return n&&Yh(n.canActivateChild)}function rve(n){return n&&Yh(n.canDeactivate)}function ive(n){return n&&Yh(n.canMatch)}function aU(n){return n instanceof Ro||n?.name==="EmptyError"}var Ob=Symbol("INITIAL_VALUE");function id(){return fi(n=>au(n.map(e=>e.pipe(Ai(1),cu(Ob)))).pipe(Et(e=>{for(let t of e)if(t!==!0){if(t===Ob)return Ob;if(t===!1||sve(t))return t}return!0}),Mn(e=>e!==Ob),Ai(1)))}function sve(n){return Zu(n)||n instanceof rd}function cU(n){return n.aborted?ze(void 0).pipe(Ai(1)):new et(e=>{let t=()=>{e.next(),e.complete()};return n.addEventListener("abort",t),()=>n.removeEventListener("abort",t)})}function lU(n){return Ni(cU(n))}function ove(n,e){return Cr(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?ze($e(K({},t),{guardsResult:!0})):ave(o,r,i,n).pipe(Cr(a=>a&&X_e(a)?cve(r,s,n,e):ze(a)),Et(a=>$e(K({},t),{guardsResult:a})))})}function ave(n,e,t,r){return Yt(n).pipe(Cr(i=>hve(i.component,i.route,t,e,r)),Oo(i=>i!==!0,!0))}function cve(n,e,t,r){return Yt(e).pipe(wa(i=>va(uve(i.route.parent,r),lve(i.route,r),fve(n,i.path,t),dve(n,i.route,t))),Oo(i=>i!==!0,!0))}function lve(n,e){return n!==null&&e&&e(new Qb(n)),ze(!0)}function uve(n,e){return n!==null&&e&&e(new Wb(n)),ze(!0)}function dve(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ze(!0);let i=r.map(s=>xf(()=>{let o=sd(e)??t,a=od(s,o),c=tve(a)?a.canActivate(e,n):mr(o,()=>a(e,n));return ll(c).pipe(Oo())}));return ze(i).pipe(id())}function fve(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>J_e(o)).filter(o=>o!==null).map(o=>xf(()=>{let a=o.guards.map(c=>{let l=sd(o.node)??t,d=od(c,l),h=nve(d)?d.canActivateChild(r,n):mr(l,()=>d(r,n));return ll(h).pipe(Oo())});return ze(a).pipe(id())}));return ze(s).pipe(id())}function hve(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return ze(!0);let o=s.map(a=>{let c=sd(e)??i,l=od(a,c),d=rve(l)?l.canDeactivate(n,e,t,r):mr(c,()=>l(n,e,t,r));return ll(d).pipe(Oo())});return ze(o).pipe(id())}function pve(n,e,t,r,i){let s=e.canLoad;if(s===void 0||s.length===0)return ze(!0);let o=s.map(a=>{let c=od(a,n),l=eve(c)?c.canLoad(e,t):mr(n,()=>c(e,t)),d=ll(l);return i?d.pipe(lU(i)):d});return ze(o).pipe(id(),uU(r))}function uU(n){return $w(jn(e=>{if(typeof e!="boolean")throw Xb(n,e)}),Et(e=>e===!0))}function mve(n,e,t,r,i){let s=e.canMatch;if(!s||s.length===0)return ze(!0);let o=s.map(a=>{let c=od(a,n),l=ive(c)?c.canMatch(e,t):mr(n,()=>c(e,t)),d=ll(l);return i?d.pipe(lU(i)):d});return ze(o).pipe(id(),uU(r))}var sl=class dU extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,dU.prototype)}},LT=class fU extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,fU.prototype)}};function gve(n){throw new Ae(4e3,!1)}function yve(n){throw sU(!1,Xr.GuardRejected)}var bve=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}async lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[mt])throw gve(`${e.redirectTo}`);i=i.children[mt]}}async applyRedirectCommands(e,t,r,i,s){let o=await _ve(t,i,s);if(o instanceof Os)throw new LT(o);let a=this.applyRedirectCreateUrlTree(o,this.urlSerializer.parse(o),e,r);if(o[0]==="/")throw new LT(a);return a}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new Os(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Qt(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new Ae(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function _ve(n,e,t){if(typeof n=="string")return Promise.resolve(n);let r=n,{queryParams:i,fragment:s,routeConfig:o,url:a,outlet:c,params:l,data:d,title:h}=e;return Lb(ll(mr(t,()=>r({params:l,data:d,queryParams:i,fragment:s,routeConfig:o,url:a,outlet:c,title:h}))))}var BT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function vve(n,e,t,r,i,s){let o=hU(n,e,t);return o.matched?(r=U_e(e,r),mve(r,e,t,i,s).pipe(Et(a=>a===!0?o:K({},BT)))):ze(o)}function hU(n,e,t){if(e.path==="**")return Eve(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?K({},BT):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Lj)(t,n,e);if(!i)return K({},BT);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?K(K({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Eve(n){return{matched:!0,parameters:n.length>0?qj(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Pj(n,e,t,r){return t.length>0&&Dve(n,t,r)?{segmentGroup:new Qt(e,Cve(r,new Qt(t,n.children))),slicedSegments:[]}:t.length===0&&xve(n,t,r)?{segmentGroup:new Qt(n.segments,wve(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Qt(n.segments,n.children),slicedSegments:t}}function wve(n,e,t,r){let i={};for(let s of t)if(n_(n,e,s)&&!r[Rs(s)]){let o=new Qt([],{});i[Rs(s)]=o}return K(K({},r),i)}function Cve(n,e){let t={};t[mt]=e;for(let r of n)if(r.path===""&&Rs(r)!==mt){let i=new Qt([],{});t[Rs(r)]=i}return t}function Dve(n,e,t){return t.some(r=>n_(n,e,r)&&Rs(r)!==mt)}function xve(n,e,t){return t.some(r=>n_(n,e,r))}function n_(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Tve(n,e,t){return e.length===0&&!n.children[t]}var Sve=class{};async function Ave(n,e,t,r,i,s,o="emptyOnly",a){return new Ive(n,e,t,r,i,o,s,a).recognize()}var Nve=31,Ive=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,s,o,a,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new bve(this.urlSerializer,this.urlTree)}noMatchError(e){return new Ae(4002,`'${e.segmentGroup}'`)}async recognize(){let e=Pj(this.urlTree.root,[],[],this.config).segmentGroup,{children:t,rootSnapshot:r}=await this.match(e),i=new $i(r,t),s=new Gh("",i),o=Kj(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}async match(e){let t=new al([],Object.freeze({}),Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),mt,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,e,mt,t),rootSnapshot:t}}catch(r){if(r instanceof LT)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof sl?this.noMatchError(r):r}}async processSegmentGroup(e,t,r,i,s){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,t,r,s);let o=await this.processSegment(e,t,r,r.segments,i,!0,s);return o instanceof $i?[o]:[]}async processChildren(e,t,r,i){let s=[];for(let c of Object.keys(r.children))c==="primary"?s.unshift(c):s.push(c);let o=[];for(let c of s){let l=r.children[c],d=$_e(t,c),h=await this.processSegmentGroup(e,d,l,c,i);o.push(...h)}let a=pU(o);return Mve(a),a}async processSegment(e,t,r,i,s,o,a){for(let c of t)try{return await this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,s,o,a)}catch(l){if(l instanceof sl||aU(l))continue;throw l}if(Tve(r,i,s))return new Sve;throw new sl(r)}async processSegmentAgainstRoute(e,t,r,i,s,o,a,c){if(Rs(r)!==o&&(o===mt||!n_(i,s,r)))throw new sl(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,s,o,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,c);throw new sl(i)}async expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,a){let{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:h,remainingSegments:p}=hU(t,i,s);if(!c)throw new sl(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Nve&&(this.allowRedirects=!1));let b=new al(s,l,Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,kj(i),Rs(i),i.component??i._loadedComponent??null,i,Fj(i)),v=Zb(b,a,this.paramsInheritanceStrategy);if(b.params=Object.freeze(v.params),b.data=Object.freeze(v.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let x=await this.applyRedirects.applyRedirectCommands(d,i.redirectTo,h,b,e),N=await this.applyRedirects.lineralizeSegments(i,x);return this.processSegment(e,r,t,N.concat(p),o,!1,a)}async matchSegmentAgainstRoute(e,t,r,i,s,o){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await Lb(vve(t,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(t.children={}),!a?.matched)throw new sl(t);e=r._injector??e;let{routes:c}=await this.getChildConfig(e,r,i),l=r._loadedInjector??e,{parameters:d,consumedSegments:h,remainingSegments:p}=a,b=new al(h,d,Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,kj(r),Rs(r),r.component??r._loadedComponent??null,r,Fj(r)),v=Zb(b,o,this.paramsInheritanceStrategy);b.params=Object.freeze(v.params),b.data=Object.freeze(v.data);let{segmentGroup:x,slicedSegments:N}=Pj(t,h,p,c);if(N.length===0&&x.hasChildren()){let X=await this.processChildren(l,c,x,b);return new $i(b,X)}if(c.length===0&&N.length===0)return new $i(b,[]);let k=Rs(r)===s,ee=await this.processSegment(l,c,x,N,k?mt:s,!0,b);return new $i(b,ee instanceof $i?[ee]:[])}async getChildConfig(e,t,r){if(t.children)return{routes:t.children,injector:e};if(t.loadChildren){if(t._loadedRoutes!==void 0)return{routes:t._loadedRoutes,injector:t._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await Lb(pve(e,t,r,this.urlSerializer,this.abortSignal))){let s=await this.configLoader.loadChildren(e,t);return t._loadedRoutes=s.routes,t._loadedInjector=s.injector,s}throw yve(t)}return{routes:[],injector:e}}};function Mve(n){n.sort((e,t)=>e.value.outlet===mt?-1:t.value.outlet===mt?1:e.value.outlet.localeCompare(t.value.outlet))}function Rve(n){let e=n.value.routeConfig;return e&&e.path===""}function pU(n){let e=[],t=new Set;for(let r of n){if(!Rve(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=pU(r.children);e.push(new $i(r.value,i))}return e.filter(r=>!t.has(r))}function kj(n){return n.data||{}}function Fj(n){return n.resolve||{}}var Ove=new _e("",{factory:()=>Ave});function Pve(n,e,t,r,i,s,o){let a=n.get(Ove);return Cr(c=>ze(c).pipe(fi(l=>a(n,e,t,r,l.extractedUrl,i,s,o)),Et(({state:l,tree:d})=>$e(K({},c),{targetSnapshot:l,urlAfterRedirects:d}))))}function kve(n,e){return Cr(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ze(t);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let l of mU(c))o.add(l);let a=0;return Yt(o).pipe(wa(c=>s.has(c)?Fve(c,r,n,e):(c.data=Zb(c,c.parent,n).resolve,ze(void 0))),jn(()=>a++),ag(1),Cr(c=>a===o.size?ze(t):Lr))})}function mU(n){let e=n.children.map(t=>mU(t)).flat();return[n,...e]}function Fve(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!nU(i)&&(s[Kh]=i.title),xf(()=>(n.data=Zb(n,n.parent,t).resolve,Lve(s,n,e,r).pipe(Et(o=>(n._resolvedData=o,n.data=K(K({},n.data),o),null)))))}function Lve(n,e,t,r){let i=AT(n);if(i.length===0)return ze({});let s={};return Yt(i).pipe(Cr(o=>Bve(n[o],e,t,r).pipe(Oo(),jn(a=>{if(a instanceof rd)throw Xb(new Yo,a);s[o]=a}))),ag(1),Et(()=>s),Ea(o=>aU(o)?Lr:wf(o)))}function Bve(n,e,t,r){let i=sd(e)??r,s=od(n,i),o=s.resolve?s.resolve(e,t):mr(i,()=>s(e,t));return ll(o)}function TT(n){return fi(e=>{let t=n(e);return t?Yt(t).pipe(Et(()=>e)):ze(e)})}var HT=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===mt);return r}getResolvedTitleForRoute(t){return t.data[Kh]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:()=>U(gU),providedIn:"root"})}return n})(),gU=(()=>{class n extends HT{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Pe(aq))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fl=new _e("",{factory:()=>({})}),hl=new _e(""),r_=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=U(ax);async loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let s=await jj(mr(t,()=>r.loadComponent())),o=await _U(bU(s));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o,o}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let s=await yU(r,this.compiler,t,this.onLoadEndListener);return r._loadedRoutes=s.routes,r._loadedInjector=s.injector,s}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();async function yU(n,e,t,r){let i=await jj(mr(t,()=>n.loadChildren())),s=await _U(bU(i)),o;s instanceof Ly||Array.isArray(s)?o=s:o=await e.compileModuleAsync(s),r&&r(n);let a,c,l=!1;return Array.isArray(o)?(c=o,l=!0):(a=o.create(t).injector,c=a.get(hl,[],{optional:!0,self:!0}).flat()),{routes:c.map(VT),injector:a}}function qve(n){return n&&typeof n=="object"&&"default"in n}function bU(n){return qve(n)?n.default:n}async function _U(n){return n}var i_=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:()=>U(jve),providedIn:"root"})}return n})(),jve=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zT=new _e(""),WT=new _e("");function vU(n,e,t){let r=n.get(WT),i=n.get(st);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),Uve(n)));a.updateCallbackDone.catch(l=>{}),a.ready.catch(l=>{}),a.finished.catch(l=>{});let{onViewTransitionCreated:c}=r;return c&&mr(n,()=>c({transition:a,from:e,to:t})),o}function Uve(n){return new Promise(e=>{Fa({read:()=>setTimeout(e)},{injector:n})})}var $ve=()=>{},GT=new _e(""),s_=(()=>{class n{currentNavigation=zn(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=zn(null);events=new Ke;transitionAbortWithErrorSubject=new Ke;configLoader=U(r_);environmentInjector=U(ln);destroyRef=U(Qr);urlSerializer=U(ul);rootContexts=U(dl);location=U(Ua);inputBindingEnabled=U(Jh,{optional:!0})!==null;titleStrategy=U(HT);options=U(fl,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=U(i_);createViewTransition=U(zT,{optional:!0});navigationErrorHandler=U(GT,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ze(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Hb(i)),r=i=>this.events.next(new zb(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;rr(()=>{this.transitions?.next($e(K({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(t){return this.transitions=new nr(null),this.transitions.pipe(Mn(r=>r!==null),fi(r=>{let i=!1,s=new AbortController;return ze(r).pipe(fi(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Xr.SupersededByNewNavigation),Lr;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:a?$e(K({},a),{previousNavigation:null}):null,abort:()=>s.abort()});let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&l!=="reload")return this.events.next(new mo(o.id,this.urlSerializer.serialize(o.rawUrl),"",Xu.IgnoredSameUrlNavigation)),o.resolve(!1),Lr;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return ze(o).pipe(fi(d=>(this.events.next(new Wa(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),d.id!==this.navigationId?Lr:Promise.resolve(d))),Pve(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy,s.signal),jn(d=>{r.targetSnapshot=d.targetSnapshot,r.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation.update(p=>(p.finalUrl=d.urlAfterRedirects,p));let h=new Hh(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:d,extractedUrl:h,source:p,restoredState:b,extras:v}=o,x=new Wa(d,this.urlSerializer.serialize(h),p,b);this.events.next(x);let N=eU(this.rootComponentType).snapshot;return this.currentTransition=r=$e(K({},o),{targetSnapshot:N,urlAfterRedirects:h,extras:$e(K({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(k=>(k.finalUrl=h,k)),ze(r)}else return this.events.next(new mo(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Xu.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Lr}),jn(o=>{let a=new jb(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),Et(o=>(this.currentTransition=r=$e(K({},o),{guards:K_e(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),ove(this.environmentInjector,o=>this.events.next(o)),jn(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Xb(this.urlSerializer,o.guardsResult);let a=new Ub(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Mn(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Xr.GuardRejected),!1)),TT(o=>{if(o.guards.canActivateChecks.length!==0)return ze(o).pipe(jn(a=>{let c=new $b(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),fi(a=>{let c=!1;return ze(a).pipe(kve(this.paramsInheritanceStrategy,this.environmentInjector),jn({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Xr.NoDataFromResolver)}}))}),jn(a=>{let c=new Vb(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),TT(o=>{let a=l=>{let d=[];if(l.routeConfig?._loadedComponent)l.component=l.routeConfig?._loadedComponent;else if(l.routeConfig?.loadComponent){let h=sd(l)??this.environmentInjector;d.push(this.configLoader.loadComponent(h,l.routeConfig).then(p=>{l.component=p}))}for(let h of l.children)d.push(...a(h));return d},c=a(o.targetSnapshot.root);return c.length===0?ze(o):Yt(Promise.all(c).then(()=>o))}),TT(()=>this.afterPreactivation()),fi(()=>{let{currentSnapshot:o,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return c?Yt(c).pipe(Et(()=>r)):ze(r)}),Et(o=>{let a=H_e(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=$e(K({},o),{targetRouterState:a}),this.currentNavigation.update(c=>(c.targetRouterState=a,c)),r}),jn(()=>{this.events.next(new zh)}),Q_e(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Ai(1),Ni(cU(s.signal).pipe(Mn(()=>!i&&!r.targetRouterState),jn(()=>{this.cancelNavigationTransition(r,s.signal.reason+"",Xr.Aborted)}))),jn({next:o=>{i=!0,this.currentNavigation.update(a=>(a.abort=$ve,a)),this.lastSuccessfulNavigation.set(rr(this.currentNavigation)),this.events.next(new Ps(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Ni(this.transitionAbortWithErrorSubject.pipe(jn(o=>{throw o}))),Sc(()=>{s.abort(),i||this.cancelNavigationTransition(r,"",Xr.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Ea(o=>{if(this.destroyed)return r.resolve(!1),Lr;if(i=!0,oU(o))this.events.next(new po(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),G_e(o)?this.events.next(new nd(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let a=new ed(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let c=mr(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof rd){let{message:l,cancellationCode:d}=Xb(this.urlSerializer,c);this.events.next(new po(r.id,this.urlSerializer.serialize(r.extractedUrl),l,d)),this.events.next(new nd(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Lr}))}))}cancelNavigationTransition(t,r,i){let s=new po(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=rr(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Vve(n){return n!==Ju}var EU=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:()=>U(Hve),providedIn:"root"})}return n})(),t_=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},Hve=(()=>{class n extends t_{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Uo(n)))(i||n)}})();static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),QT=(()=>{class n{urlSerializer=U(ul);options=U(fl,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=U(Ua);urlHandlingStrategy=U(i_);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Os;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let s=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,o=i??s;return o instanceof Os?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=eU(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:()=>U(wU),providedIn:"root"})}return n})(),wU=(()=>{class n extends QT{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Wa?this.updateStateMemento():t instanceof mo?this.commitTransition(r):t instanceof Hh?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof zh?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof po&&t.code!==Xr.SupersededByNewNavigation&&t.code!==Xr.Redirect?this.restoreHistory(r):t instanceof ed?this.restoreHistory(r,!0):t instanceof Ps&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:s,state:o}=r;if(this.location.isCurrentPathEqualTo(t)||s){let a=this.browserPageId,c=K(K({},o),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=K(K({},o),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===t.finalUrl&&s===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Uo(n)))(i||n)}})();static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function o_(n,e){n.events.pipe(Mn(t=>t instanceof Ps||t instanceof po||t instanceof ed||t instanceof mo),Et(t=>t instanceof Ps||t instanceof mo?0:(t instanceof po?t.code===Xr.Redirect||t.code===Xr.SupersededByNewNavigation:!1)?2:1),Mn(t=>t!==2),Ai(1)).subscribe(()=>{e()})}var zve={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Wve={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ga=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=U(qy);stateManager=U(QT);options=U(fl,{optional:!0})||{};pendingTasks=U(ao);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=U(s_);urlSerializer=U(ul);location=U(Ua);urlHandlingStrategy=U(i_);injector=U(ln);_events=new Ke;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=U(EU);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=U(hl,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!U(Jh,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new fn;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=rr(this.navigationTransitions.currentNavigation);if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof po&&r.code!==Xr.Redirect&&r.code!==Xr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ps)this.navigated=!0;else if(r instanceof nd){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=K({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Vve(i.source)},o);this.scheduleNavigation(a,Ju,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}j_e(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ju,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let c=K({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s).catch(c=>{this.disposed||this.injector.get(Ds)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return rr(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(VT),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:o,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=K(K({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let p=i?i.snapshot:this.routerState.snapshot.root;h=Jj(p)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),h=this.currentUrlTree.root}return Yj(h,t,d,l??null,this.urlSerializer)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Zu(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Ju,null,r)}navigate(t,r={skipLocationChange:!1}){return Gve(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(Zs(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=K({},zve):r===!1?i=K({},Wve):i=r,Zu(t))return Nj(this.currentUrlTree,t,i);let s=this.parseUrl(t);return Nj(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,l;o?(a=o.resolve,c=o.reject,l=o.promise):l=new Promise((h,p)=>{a=h,c=p});let d=this.pendingTasks.add();return o_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Gve(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Ae(4008,!1)}var Zh=class{};var CU=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,s){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Mn(t=>t instanceof Ps),wa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription?.unsubscribe()}processRoutes(t,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Kc(s.providers,t,""));let o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Yt(i).pipe(_a())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=Yt(this.loader.loadChildren(t,r)):i=ze(null);let s=i.pipe(Cr(o=>o===null?ze(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(t,r);return Yt([s,o]).pipe(_a())}else return s})}static \u0275fac=function(r){return new(r||n)(Pe(Ga),Pe(ln),Pe(Zh),Pe(r_))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),DU=new _e(""),Qve=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Ju;restoredId=0;store={};constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Wa?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ps?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof mo&&t.code===Xu.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof td))return;let r={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,r):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(async()=>{await new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new td(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){OD()};static \u0275prov=me({token:n,factory:n.\u0275fac})}return n})();function Kve(n,...e){return Mi([{provide:hl,multi:!0,useValue:n},[],{provide:Zo,useFactory:xU},{provide:Ho,multi:!0,useFactory:TU},e.map(t=>t.\u0275providers)])}function xU(){return U(Ga).routerState.root}function ad(n,e){return{\u0275kind:n,\u0275providers:e}}function TU(){let n=U(Xt);return e=>{let t=n.get(Tr);if(e!==t.components[0])return;let r=n.get(Ga),i=n.get(SU);n.get(JT)===1&&r.initialNavigation(),n.get(IU,null,{optional:!0})?.setUpPreloading(),n.get(DU,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var SU=new _e("",{factory:()=>new Ke}),JT=new _e("",{factory:()=>1});function AU(){let n=[{provide:yy,useValue:!0},{provide:JT,useValue:0},jy(()=>{let e=U(Xt);return e.get(xx,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(Ga),s=e.get(SU);o_(i,()=>{r(!0)}),e.get(s_).afterPreactivation=()=>(r(!0),s.closed?ze(void 0):s),i.initialNavigation()}))})];return ad(2,n)}function NU(){let n=[jy(()=>{U(Ga).setUpLocationChangeListener()}),{provide:JT,useValue:2}];return ad(3,n)}var IU=new _e("");function MU(n){return ad(0,[{provide:IU,useExisting:CU},{provide:Zh,useExisting:n}])}function Jve(){return ad(6,[{provide:uo,useClass:eb}])}function RU(){return ad(8,[UT,{provide:Jh,useExisting:UT}])}function OU(n){Yr("NgRouterViewTransitions");let e=[{provide:zT,useValue:vU},{provide:WT,useValue:K({skipNextTransition:!!n?.skipInitialTransition},n)}];return ad(9,e)}var PU=[Ua,{provide:ul,useClass:Yo},Ga,dl,{provide:Zo,useFactory:xU},r_,[]],Yve=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[PU,[],{provide:hl,multi:!0,useValue:t},[],r?.errorHandler?{provide:GT,useValue:r.errorHandler}:[],{provide:fl,useValue:r||{}},r?.useHash?Xve():eEe(),Zve(),r?.preloadingStrategy?MU(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?tEe(r):[],r?.bindToComponentInputs?RU().\u0275providers:[],r?.enableViewTransitions?OU().\u0275providers:[],nEe()]}}static forChild(t){return{ngModule:n,providers:[{provide:hl,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=It({type:n});static \u0275inj=Tt({})}return n})();function Zve(){return{provide:DU,useFactory:()=>{let n=U(VB),e=U(Nt),t=U(fl),r=U(s_),i=U(ul);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Qve(i,r,n,e,t)}}}function Xve(){return{provide:uo,useClass:eb}}function eEe(){return{provide:uo,useClass:Xy}}function tEe(n){return[n.initialNavigation==="disabled"?NU().\u0275providers:[],n.initialNavigation==="enabledBlocking"?AU().\u0275providers:[]]}var KT=new _e("");function nEe(){return[{provide:KT,useFactory:TU},{provide:Ho,multi:!0,useExisting:KT}]}var eHt=M(Hx(),1);var lte=M(c$(),1),ute=M(_$(),1),dte=M(CS(),1),fte=M(UV(),1),hte=M(AS(),1),pte=M(v_(),1),mte=M(JV(),1),gte=M(az(),1),yte=M(PS(),1),bte=M(kS(),1),_te=M(LS(),1),vte=M(gz(),1),Ete=M(bz(),1),wte=M(h3(),1),Cte=M($S(),1),Dte=M(m3(),1),xte=M(_3(),1),Tte=M(E3(),1),Ste=M(C3(),1),Ate=M(T3(),1),Nte=M(QW(),1),Ite=M(JW(),1),Mte=M(ZW(),1),Rte=M(e8(),1),Ote=M(n8(),1),Pte=M(i8(),1),kte=M(Y8(),1),Fte=M(nG(),1),Lte=M(iG(),1),Bte=M(m_(),1),qte=M(gG(),1),jte=M(bG(),1),Ute=M(vG(),1),$te=M(wG(),1),Vte=M(xA(),1),Hte=M(HS(),1),zte=M(SG(),1),Wte=M(IG(),1),Gte=M(KG(),1),Qte=M(ZG(),1),Kte=M(e4(),1),Jte=M(s4(),1),Yte=M(c4(),1),Zte=M(u4(),1),Xte=M(f4(),1),ene=M(p4(),1),tne=M(g4(),1),nne=M(v4(),1),rne=M(w4(),1),ine=M(T4(),1),sne=M(P4(),1),one=M(F4(),1),ane=M(H4(),1),cne=M(G4(),1),lne=M(ls(),1),une=M(jA(),1),dne=M(e6(),1),fne=M(s6(),1),hne=M(a6(),1),pne=M(l6(),1),mne=M(m6(),1),gne=M(b6(),1),yne=M(w6(),1),bne=M(zA(),1),_ne=M(x6(),1),vne=M(A6(),1),Ene=M(GA(),1),wne=M(I6(),1),Cne=M(O6(),1),Dne=M(L6(),1),xne=M(q6(),1),Tne=M(U6(),1),Sne=M(OS(),1),Ane=M(V6(),1),Nne=M(z6(),1),Ine=M(G6(),1),Mne=M(K6(),1),Rne=M(e5(),1),One=M(n5(),1),Pne=M(OA(),1),kne=M(FA(),1),Fne=M(i5(),1),Lne=M(o5(),1),Bne=M(c5(),1),qne=M(u5(),1),jne=M(f5(),1),Une=M(m5(),1),$ne=M(y5(),1),Vne=M(D_(),1),Hne=M(_5(),1),zne=M(D5(),1),Wne=M(T5(),1),Gne=M(I5(),1),Qne=M(j_(),1),Kne=M(QA(),1),Jne=M(yi(),1),Yne=M(k5(),1),Zne=M(j5(),1),Xne=M($5(),1),ere=M(H5(),1),tre=M(K5(),1),nre=M(Z5(),1),rre=M(e9(),1),ire=M(s9(),1),sre=M(c9(),1),ore=M(f9(),1),are=M(p9(),1),cre=M(_l(),1),lre=M(Pt(),1),ure=M(v9(),1),dre=M(ti(),1),fre=M(ii(),1),hre=M(w9(),1),pre=M(Ya(),1),mre=M(A9(),1),gre=M(I9(),1),yre=M(R9(),1),bre=M(P9(),1),_re=M(F9(),1),vre=M(x_(),1),Ere=M(B9(),1),wre=M(go(),1),Cre=M(eN(),1),Dre=M(sp(),1),xre=M(aA(),1),Tre=M(U9(),1),Sre=M(V9(),1),Are=M(W9(),1),Nre=M(J9(),1),Ire=M(Z9(),1),Mre=M(eQ(),1),Rre=M(tN(),1),Ore=M(Gn(),1),Pre=M(On(),1),kre=M(gd(),1),Fre=M(Y_(),1),Lre=M(cQ(),1),Bre=M(cA(),1),qre=M(Dp(),1),jre=M(as(),1),Ure=M(El(),1),$re=M(uQ(),1),Vre=M(fQ(),1),Hre=M(pQ(),1),zre=M(gQ(),1),Wre=M(bQ(),1),Gre=M(vQ(),1),Qre=M(wQ(),1),Kre=M(br(),1),Jre=M(ri(),1),Yre=M(ds(),1),Zre=M(TQ(),1),Xre=M(AQ(),1),eie=M(IQ(),1),tie=M(OQ(),1),nie=M(kQ(),1),rie=M(wp(),1),iie=M(LQ(),1),sie=M(qQ(),1),oie=M(UQ(),1),aie=M(VQ(),1),cie=M(WQ(),1),lie=M(QQ(),1),uie=M(ZQ(),1),die=M(e7(),1),fie=M(IS(),1),hie=M(n7(),1),pie=M(NA(),1),mie=M(i7(),1),gie=M(o7(),1),yie=M(c7(),1),bie=M(u7(),1),_ie=M(f7(),1),vie=M(p7(),1),Eie=M(ev(),1),wie=M(u_(),1),Cie=M(CA(),1),Die=M(b7(),1),xie=M(v7(),1),Tie=M(x7(),1),Sie=M(M7(),1),Aie=M(O7(),1),Nie=M(V7(),1),Iie=M(W7(),1),Mie=M(X7(),1),Rie=M(tK(),1),Oie=M(rK(),1),Pie=M(EK(),1),kie=M(CK(),1),Fie=M(xK(),1),Lie=M(SK(),1),Bie=M(hN(),1),qie=M(IK(),1),jie=M(RK(),1),Uie=M(FK(),1),$ie=M(sN(),1),Vie=M(yA(),1),Hie=M(BK(),1),zie=M(zK(),1),Wie=M(mN(),1),Gie=M(GK(),1),Qie=M(KK(),1),Kie=M(ZK(),1),Jie=M(nJ(),1),Yie=M(aJ(),1),Zie=M(lJ(),1),Xie=M(dJ(),1),ese=M(pJ(),1),tse=M(bJ(),1),nse=M(vJ(),1),rse=M(wJ(),1),ise=M(DJ(),1),sse=M(TJ(),1),ose=M(AJ(),1),ase=M(IJ(),1),cse=M(RJ(),1),lse=M(PJ(),1),use=M(qJ(),1),dse=M(WJ(),1),fse=M(QJ(),1),hse=M(JJ(),1),pse=M(nY(),1),mse=M(iY(),1),gse=M(aY(),1),yse=M(lY(),1),bse=M(hY(),1),_se=M(gY(),1),vse=M(EY(),1),Ese=M(CY(),1),wse=M(xY(),1),Cse=M(SY(),1),Dse=M(NY(),1),xse=M(MY(),1),Tse=M(PY(),1),Sse=M(FY(),1),Ase=M(BY(),1),Nse=M(jY(),1),Ise=M($Y(),1),Mse=M(HY(),1),Rse=M(N_(),1),Ose=M(b_(),1),Pse=M(WY(),1),kse=M(QY(),1),Fse=M(JY(),1),Lse=M(ZY(),1),Bse=M(eZ(),1),qse=M(nZ(),1),jse=M(iZ(),1),Use=M(oZ(),1),$se=M(cZ(),1),Vse=M(uZ(),1),Hse=M(fZ(),1),zse=M(pZ(),1),Wse=M(MZ(),1),Gse=M(CN(),1),Qse=M(OZ(),1),Kse=M(kZ(),1),Jse=M(LZ(),1),Yse=M($Z(),1),Zse=M(cd(),1),Xse=M(Lt(),1),eoe=M($A(),1),toe=M(HZ(),1),noe=M(Xo(),1),roe=M(BA(),1),ioe=M(qA(),1),soe=M(WZ(),1),ooe=M(AA(),1),aoe=M(KZ(),1),coe=M(rn(),1),loe=M(YZ(),1),uoe=M(XZ(),1),doe=M(iX(),1),foe=M(aX(),1),hoe=M(uX(),1),poe=M(pX(),1),moe=M(gX(),1),goe=M(EX(),1),yoe=M(TX(),1),boe=M(NX(),1),_oe=M(MX(),1),voe=M(OX(),1),Eoe=M(kX(),1),woe=M(LX(),1),Coe=M(qX(),1),Doe=M(UX(),1),xoe=M(cv(),1),Toe=M(NN(),1),Soe=M(WX(),1),Aoe=M(QX(),1),Noe=M(JX(),1),Ioe=M(T_(),1),Moe=M(Tl(),1),Roe=M(ZX(),1),Ooe=M(eee(),1),Poe=M(zS(),1),koe=M(nee(),1),Foe=M(oee(),1),Loe=M(lee(),1),Boe=M(dee(),1),qoe=M(hee(),1),joe=M(gee(),1),Uoe=M(bee(),1),$oe=M(vee(),1),Hoe=M(wee(),1),V1t=M(Dee(),1);var DYe=Math.pow(10,8)*24*60*60*1e3,dPt=-DYe;var ON=6e4,PN=36e5;var xYe=3600;var xee=xYe*24,fPt=xee*7,TYe=xee*365.2425,SYe=TYe/12,hPt=SYe*3,kN=Symbol.for("constructDateFrom");function dv(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&kN in n?n[kN](e):n instanceof Date?new n.constructor(e):new Date(e)}function FN(n,e){return dv(e||n,n)}function Tee(n,e){let t=()=>dv(e?.in,NaN),r=e?.additionalDigits??2,i=MYe(n),s;if(i.date){let l=RYe(i.date,r);s=OYe(l.restDateString,l.year)}if(!s||isNaN(+s))return t();let o=+s,a=0,c;if(i.time&&(a=PYe(i.time),isNaN(a)))return t();if(i.timezone){if(c=kYe(i.timezone),isNaN(c))return t()}else{let l=new Date(o+a),d=FN(0,e?.in);return d.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),d.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),d}return FN(o+a+c,e?.in)}var fv={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},AYe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,NYe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,IYe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function MYe(n){let e={},t=n.split(fv.dateTimeDelimiter),r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],fv.timeZoneDelimiter.test(e.date)&&(e.date=n.split(fv.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){let i=fv.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function RYe(n,e){let t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};let i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:n.slice((r[1]||r[2]).length)}}function OYe(n,e){if(e===null)return new Date(NaN);let t=n.match(AYe);if(!t)return new Date(NaN);let r=!!t[4],i=Np(t[1]),s=Np(t[2])-1,o=Np(t[3]),a=Np(t[4]),c=Np(t[5])-1;if(r)return jYe(e,a,c)?FYe(e,a,c):new Date(NaN);{let l=new Date(0);return!BYe(e,s,o)||!qYe(e,i)?new Date(NaN):(l.setUTCFullYear(e,s,Math.max(i,o)),l)}}function Np(n){return n?parseInt(n):1}function PYe(n){let e=n.match(NYe);if(!e)return NaN;let t=LN(e[1]),r=LN(e[2]),i=LN(e[3]);return UYe(t,r,i)?t*PN+r*ON+i*1e3:NaN}function LN(n){return n&&parseFloat(n.replace(",","."))||0}function kYe(n){if(n==="Z")return 0;let e=n.match(IYe);if(!e)return 0;let t=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return $Ye(r,i)?t*(r*PN+i*ON):NaN}function FYe(n,e,t){let r=new Date(0);r.setUTCFullYear(n,0,4);let i=r.getUTCDay()||7,s=(e-1)*7+t+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var LYe=[31,null,31,30,31,30,31,31,30,31,30,31];function See(n){return n%400===0||n%4===0&&n%100!==0}function BYe(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(LYe[e]||(See(n)?29:28))}function qYe(n,e){return e>=1&&e<=(See(n)?366:365)}function jYe(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function UYe(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function $Ye(n,e){return e>=0&&e<=59}var sXe=M(jN(),1);var H1t=M(Hx(),1);function Ip(n,e){return function(){return n.apply(e,arguments)}}var{toString:VYe}=Object.prototype,{getPrototypeOf:$N}=Object,{iterator:pv,toStringTag:Nee}=Symbol,mv=(n=>e=>{let t=VYe.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),qs=n=>(n=n.toLowerCase(),e=>mv(e)===n),gv=n=>e=>typeof e===n,{isArray:Dd}=Array,Cd=gv("undefined");function Mp(n){return n!==null&&!Cd(n)&&n.constructor!==null&&!Cd(n.constructor)&&bi(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}var Iee=qs("ArrayBuffer");function HYe(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Iee(n.buffer),e}var zYe=gv("string"),bi=gv("function"),Mee=gv("number"),Rp=n=>n!==null&&typeof n=="object",WYe=n=>n===!0||n===!1,hv=n=>{if(mv(n)!=="object")return!1;let e=$N(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Nee in n)&&!(pv in n)},GYe=n=>{if(!Rp(n)||Mp(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},QYe=qs("Date"),KYe=qs("File"),JYe=qs("Blob"),YYe=qs("FileList"),ZYe=n=>Rp(n)&&bi(n.pipe),XYe=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||bi(n.append)&&((e=mv(n))==="formdata"||e==="object"&&bi(n.toString)&&n.toString()==="[object FormData]"))},eZe=qs("URLSearchParams"),[tZe,nZe,rZe,iZe]=["ReadableStream","Request","Response","Headers"].map(qs),sZe=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Op(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Dd(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{if(Mp(n))return;let s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length,a;for(r=0;r<o;r++)a=s[r],e.call(null,n[a],a,n)}}function Ree(n,e){if(Mp(n))return null;e=e.toLowerCase();let t=Object.keys(n),r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}var Al=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Oee=n=>!Cd(n)&&n!==Al;function UN(){let{caseless:n,skipUndefined:e}=Oee(this)&&this||{},t={},r=(i,s)=>{let o=n&&Ree(t,s)||s;hv(t[o])&&hv(i)?t[o]=UN(t[o],i):hv(i)?t[o]=UN({},i):Dd(i)?t[o]=i.slice():(!e||!Cd(i))&&(t[o]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Op(arguments[i],r);return t}var oZe=(n,e,t,{allOwnKeys:r}={})=>(Op(e,(i,s)=>{t&&bi(i)?Object.defineProperty(n,s,{value:Ip(i,t),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(n,s,{value:i,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:r}),n),aZe=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),cZe=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),Object.defineProperty(n.prototype,"constructor",{value:n,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},lZe=(n,e,t,r)=>{let i,s,o,a={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)o=i[s],(!r||r(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&$N(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},uZe=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;let r=n.indexOf(e,t);return r!==-1&&r===t},dZe=n=>{if(!n)return null;if(Dd(n))return n;let e=n.length;if(!Mee(e))return null;let t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},fZe=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&$N(Uint8Array)),hZe=(n,e)=>{let r=(n&&n[pv]).call(n),i;for(;(i=r.next())&&!i.done;){let s=i.value;e.call(n,s[0],s[1])}},pZe=(n,e)=>{let t,r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},mZe=qs("HTMLFormElement"),gZe=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),Aee=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),yZe=qs("RegExp"),Pee=(n,e)=>{let t=Object.getOwnPropertyDescriptors(n),r={};Op(t,(i,s)=>{let o;(o=e(i,s,n))!==!1&&(r[s]=o||i)}),Object.defineProperties(n,r)},bZe=n=>{Pee(n,(e,t)=>{if(bi(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;let r=n[t];if(bi(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},_Ze=(n,e)=>{let t={},r=i=>{i.forEach(s=>{t[s]=!0})};return Dd(n)?r(n):r(String(n).split(e)),t},vZe=()=>{},EZe=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function wZe(n){return!!(n&&bi(n.append)&&n[Nee]==="FormData"&&n[pv])}var CZe=n=>{let e=new Array(10),t=(r,i)=>{if(Rp(r)){if(e.indexOf(r)>=0)return;if(Mp(r))return r;if(!("toJSON"in r)){e[i]=r;let s=Dd(r)?[]:{};return Op(r,(o,a)=>{let c=t(o,i+1);!Cd(c)&&(s[a]=c)}),e[i]=void 0,s}}return r};return t(n,0)},DZe=qs("AsyncFunction"),xZe=n=>n&&(Rp(n)||bi(n))&&bi(n.then)&&bi(n.catch),kee=((n,e)=>n?setImmediate:e?((t,r)=>(Al.addEventListener("message",({source:i,data:s})=>{i===Al&&s===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Al.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",bi(Al.postMessage)),TZe=typeof queueMicrotask<"u"?queueMicrotask.bind(Al):typeof process<"u"&&process.nextTick||kee,SZe=n=>n!=null&&bi(n[pv]),Q={isArray:Dd,isArrayBuffer:Iee,isBuffer:Mp,isFormData:XYe,isArrayBufferView:HYe,isString:zYe,isNumber:Mee,isBoolean:WYe,isObject:Rp,isPlainObject:hv,isEmptyObject:GYe,isReadableStream:tZe,isRequest:nZe,isResponse:rZe,isHeaders:iZe,isUndefined:Cd,isDate:QYe,isFile:KYe,isBlob:JYe,isRegExp:yZe,isFunction:bi,isStream:ZYe,isURLSearchParams:eZe,isTypedArray:fZe,isFileList:YYe,forEach:Op,merge:UN,extend:oZe,trim:sZe,stripBOM:aZe,inherits:cZe,toFlatObject:lZe,kindOf:mv,kindOfTest:qs,endsWith:uZe,toArray:dZe,forEachEntry:hZe,matchAll:pZe,isHTMLForm:mZe,hasOwnProperty:Aee,hasOwnProp:Aee,reduceDescriptors:Pee,freezeMethods:bZe,toObjectSet:_Ze,toCamelCase:gZe,noop:vZe,toFiniteNumber:EZe,findKey:Ree,global:Al,isContextDefined:Oee,isSpecCompliantForm:wZe,toJSONObject:CZe,isAsyncFn:DZe,isThenable:xZe,setImmediate:kee,asap:TZe,isIterable:SZe};var AZe=(()=>{class n extends Error{static from(t,r,i,s,o,a){let c=new n(t.message,r||t.code,i,s,o);return c.cause=t,c.name=t.name,a&&Object.assign(c,a),c}constructor(t,r,i,s,o){super(t),this.name="AxiosError",this.isAxiosError=!0,r&&(this.code=r),i&&(this.config=i),s&&(this.request=s),o&&(this.response=o,this.status=o.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}}return n.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE",n.ERR_BAD_OPTION="ERR_BAD_OPTION",n.ECONNABORTED="ECONNABORTED",n.ETIMEDOUT="ETIMEDOUT",n.ERR_NETWORK="ERR_NETWORK",n.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS",n.ERR_DEPRECATED="ERR_DEPRECATED",n.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE",n.ERR_BAD_REQUEST="ERR_BAD_REQUEST",n.ERR_CANCELED="ERR_CANCELED",n.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT",n.ERR_INVALID_URL="ERR_INVALID_URL",n})(),lt=AZe;var yv=null;function VN(n){return Q.isPlainObject(n)||Q.isArray(n)}function Lee(n){return Q.endsWith(n,"[]")?n.slice(0,-2):n}function Fee(n,e,t){return n?n.concat(e).map(function(i,s){return i=Lee(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function NZe(n){return Q.isArray(n)&&!n.some(VN)}var IZe=Q.toFlatObject(Q,{},null,function(e){return/^is[A-Z]/.test(e)});function MZe(n,e,t){if(!Q.isObject(n))throw new TypeError("target must be an object");e=e||new(yv||FormData),t=Q.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,N){return!Q.isUndefined(N[x])});let r=t.metaTokens,i=t.visitor||d,s=t.dots,o=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(e);if(!Q.isFunction(i))throw new TypeError("visitor must be a function");function l(v){if(v===null)return"";if(Q.isDate(v))return v.toISOString();if(Q.isBoolean(v))return v.toString();if(!c&&Q.isBlob(v))throw new lt("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(v)||Q.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,x,N){let k=v;if(v&&!N&&typeof v=="object"){if(Q.endsWith(x,"{}"))x=r?x:x.slice(0,-2),v=JSON.stringify(v);else if(Q.isArray(v)&&NZe(v)||(Q.isFileList(v)||Q.endsWith(x,"[]"))&&(k=Q.toArray(v)))return x=Lee(x),k.forEach(function(X,ne){!(Q.isUndefined(X)||X===null)&&e.append(o===!0?Fee([x],ne,s):o===null?x:x+"[]",l(X))}),!1}return VN(v)?!0:(e.append(Fee(N,x,s),l(v)),!1)}let h=[],p=Object.assign(IZe,{defaultVisitor:d,convertValue:l,isVisitable:VN});function b(v,x){if(!Q.isUndefined(v)){if(h.indexOf(v)!==-1)throw Error("Circular reference detected in "+x.join("."));h.push(v),Q.forEach(v,function(k,ee){(!(Q.isUndefined(k)||k===null)&&i.call(e,k,Q.isString(ee)?ee.trim():ee,x,p))===!0&&b(k,x?x.concat(ee):[ee])}),h.pop()}}if(!Q.isObject(n))throw new TypeError("data must be an object");return b(n),e}var nc=MZe;function Bee(n){let e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function qee(n,e){this._pairs=[],n&&nc(n,this,e)}var jee=qee.prototype;jee.append=function(e,t){this._pairs.push([e,t])};jee.toString=function(e){let t=e?function(r){return e.call(this,r,Bee)}:Bee;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};var bv=qee;function RZe(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Pp(n,e,t){if(!e)return n;let r=t&&t.encode||RZe,i=Q.isFunction(t)?{serialize:t}:t,s=i&&i.serialize,o;if(s?o=s(e,i):o=Q.isURLSearchParams(e)?e.toString():new bv(e,i).toString(r),o){let a=n.indexOf("#");a!==-1&&(n=n.slice(0,a)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}var HN=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Q.forEach(this.handlers,function(r){r!==null&&e(r)})}},zN=HN;var _v={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var Uee=typeof URLSearchParams<"u"?URLSearchParams:bv;var $ee=typeof FormData<"u"?FormData:null;var Vee=typeof Blob<"u"?Blob:null;var Hee={isBrowser:!0,classes:{URLSearchParams:Uee,FormData:$ee,Blob:Vee},protocols:["http","https","file","blob","url","data"]};var QN={};vO(QN,{hasBrowserEnv:()=>GN,hasStandardBrowserEnv:()=>OZe,hasStandardBrowserWebWorkerEnv:()=>PZe,navigator:()=>WN,origin:()=>kZe});var GN=typeof window<"u"&&typeof document<"u",WN=typeof navigator=="object"&&navigator||void 0,OZe=GN&&(!WN||["ReactNative","NativeScript","NS"].indexOf(WN.product)<0),PZe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",kZe=GN&&window.location.href||"http://localhost";var Sn=K(K({},QN),Hee);function KN(n,e){return nc(n,new Sn.classes.URLSearchParams,K({visitor:function(t,r,i,s){return Sn.isNode&&Q.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function FZe(n){return Q.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function LZe(n){let e={},t=Object.keys(n),r,i=t.length,s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function BZe(n){function e(t,r,i,s){let o=t[s++];if(o==="__proto__")return!0;let a=Number.isFinite(+o),c=s>=t.length;return o=!o&&Q.isArray(i)?i.length:o,c?(Q.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!Q.isObject(i[o]))&&(i[o]=[]),e(t,r,i[o],s)&&Q.isArray(i[o])&&(i[o]=LZe(i[o])),!a)}if(Q.isFormData(n)&&Q.isFunction(n.entries)){let t={};return Q.forEachEntry(n,(r,i)=>{e(FZe(r),i,t,0)}),t}return null}var vv=BZe;function qZe(n,e,t){if(Q.isString(n))try{return(e||JSON.parse)(n),Q.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}var JN={transitional:_v,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){let r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=Q.isObject(e);if(s&&Q.isHTMLForm(e)&&(e=new FormData(e)),Q.isFormData(e))return i?JSON.stringify(vv(e)):e;if(Q.isArrayBuffer(e)||Q.isBuffer(e)||Q.isStream(e)||Q.isFile(e)||Q.isBlob(e)||Q.isReadableStream(e))return e;if(Q.isArrayBufferView(e))return e.buffer;if(Q.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return KN(e,this.formSerializer).toString();if((a=Q.isFileList(e))||r.indexOf("multipart/form-data")>-1){let c=this.env&&this.env.FormData;return nc(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),qZe(e)):e}],transformResponse:[function(e){let t=this.transitional||JN.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(Q.isResponse(e)||Q.isReadableStream(e))return e;if(e&&Q.isString(e)&&(r&&!this.responseType||i)){let o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?lt.from(a,lt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Sn.classes.FormData,Blob:Sn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],n=>{JN.headers[n]={}});var xd=JN;var jZe=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),zee=n=>{let e={},t,r,i;return n&&n.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!t||e[t]&&jZe[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e};var Wee=Symbol("internals");function kp(n){return n&&String(n).trim().toLowerCase()}function Ev(n){return n===!1||n==null?n:Q.isArray(n)?n.map(Ev):String(n)}function UZe(n){let e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}var $Ze=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function YN(n,e,t,r,i){if(Q.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!Q.isString(e)){if(Q.isString(r))return e.indexOf(r)!==-1;if(Q.isRegExp(r))return r.test(e)}}function VZe(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function HZe(n,e){let t=Q.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}var Td=class{constructor(e){e&&this.set(e)}set(e,t,r){let i=this;function s(a,c,l){let d=kp(c);if(!d)throw new Error("header name must be a non-empty string");let h=Q.findKey(i,d);(!h||i[h]===void 0||l===!0||l===void 0&&i[h]!==!1)&&(i[h||c]=Ev(a))}let o=(a,c)=>Q.forEach(a,(l,d)=>s(l,d,c));if(Q.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(Q.isString(e)&&(e=e.trim())&&!$Ze(e))o(zee(e),t);else if(Q.isObject(e)&&Q.isIterable(e)){let a={},c,l;for(let d of e){if(!Q.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[l=d[0]]=(c=a[l])?Q.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(a,t)}else e!=null&&s(t,e,r);return this}get(e,t){if(e=kp(e),e){let r=Q.findKey(this,e);if(r){let i=this[r];if(!t)return i;if(t===!0)return UZe(i);if(Q.isFunction(t))return t.call(this,i,r);if(Q.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=kp(e),e){let r=Q.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||YN(this,this[r],r,t)))}return!1}delete(e,t){let r=this,i=!1;function s(o){if(o=kp(o),o){let a=Q.findKey(r,o);a&&(!t||YN(r,r[a],a,t))&&(delete r[a],i=!0)}}return Q.isArray(e)?e.forEach(s):s(e),i}clear(e){let t=Object.keys(this),r=t.length,i=!1;for(;r--;){let s=t[r];(!e||YN(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){let t=this,r={};return Q.forEach(this,(i,s)=>{let o=Q.findKey(r,s);if(o){t[o]=Ev(i),delete t[s];return}let a=e?VZe(s):String(s).trim();a!==s&&delete t[s],t[a]=Ev(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let t=Object.create(null);return Q.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&Q.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){let r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){let r=(this[Wee]=this[Wee]={accessors:{}}).accessors,i=this.prototype;function s(o){let a=kp(o);r[a]||(HZe(i,o),r[a]=!0)}return Q.isArray(e)?e.forEach(s):s(e),this}};Td.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(Td.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});Q.freezeMethods(Td);var cr=Td;function Fp(n,e){let t=this||xd,r=e||t,i=cr.from(r.headers),s=r.data;return Q.forEach(n,function(a){s=a.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function Lp(n){return!!(n&&n.__CANCEL__)}var ZN=class extends lt{constructor(e,t,r){super(e??"canceled",lt.ERR_CANCELED,t,r),this.name="CanceledError",this.__CANCEL__=!0}},Eo=ZN;function Bp(n,e,t){let r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new lt("Request failed with status code "+t.status,[lt.ERR_BAD_REQUEST,lt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function XN(n){let e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function zZe(n,e){n=n||10;let t=new Array(n),r=new Array(n),i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){let l=Date.now(),d=r[s];o||(o=l),t[i]=c,r[i]=l;let h=s,p=0;for(;h!==i;)p+=t[h++],h=h%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),l-o<e)return;let b=d&&l-d;return b?Math.round(p*1e3/b):void 0}}var Gee=zZe;function WZe(n,e){let t=0,r=1e3/e,i,s,o=(l,d=Date.now())=>{t=d,i=null,s&&(clearTimeout(s),s=null),n(...l)};return[(...l)=>{let d=Date.now(),h=d-t;h>=r?o(l,d):(i=l,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}var Qee=WZe;var Sd=(n,e,t=3)=>{let r=0,i=Gee(50,250);return Qee(s=>{let o=s.loaded,a=s.lengthComputable?s.total:void 0,c=o-r,l=i(c),d=o<=a;r=o;let h={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:l||void 0,estimated:l&&a&&d?(a-o)/l:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};n(h)},t)},eI=(n,e)=>{let t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},tI=n=>(...e)=>Q.asap(()=>n(...e));var Kee=Sn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Sn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Sn.origin),Sn.navigator&&/(msie|trident)/i.test(Sn.navigator.userAgent)):()=>!0;var Jee=Sn.hasStandardBrowserEnv?{write(n,e,t,r,i,s,o){if(typeof document>"u")return;let a=[`${n}=${encodeURIComponent(e)}`];Q.isNumber(t)&&a.push(`expires=${new Date(t).toUTCString()}`),Q.isString(r)&&a.push(`path=${r}`),Q.isString(i)&&a.push(`domain=${i}`),s===!0&&a.push("secure"),Q.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(n){if(typeof document>"u")return null;let e=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function nI(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function rI(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function qp(n,e,t){let r=!nI(e);return n&&(r||t==!1)?rI(n,e):e}var Yee=n=>n instanceof cr?K({},n):n;function js(n,e){e=e||{};let t={};function r(l,d,h,p){return Q.isPlainObject(l)&&Q.isPlainObject(d)?Q.merge.call({caseless:p},l,d):Q.isPlainObject(d)?Q.merge({},d):Q.isArray(d)?d.slice():d}function i(l,d,h,p){if(Q.isUndefined(d)){if(!Q.isUndefined(l))return r(void 0,l,h,p)}else return r(l,d,h,p)}function s(l,d){if(!Q.isUndefined(d))return r(void 0,d)}function o(l,d){if(Q.isUndefined(d)){if(!Q.isUndefined(l))return r(void 0,l)}else return r(void 0,d)}function a(l,d,h){if(h in e)return r(l,d);if(h in n)return r(void 0,l)}let c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(l,d,h)=>i(Yee(l),Yee(d),h,!0)};return Q.forEach(Object.keys(K(K({},n),e)),function(d){let h=c[d]||i,p=h(n[d],e[d],d);Q.isUndefined(p)&&h!==a||(t[d]=p)}),t}var wv=n=>{let e=js({},n),{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;if(e.headers=o=cr.from(o),e.url=Pp(qp(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),Q.isFormData(t)){if(Sn.hasStandardBrowserEnv||Sn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Q.isFunction(t.getHeaders)){let c=t.getHeaders(),l=["content-type","content-length"];Object.entries(c).forEach(([d,h])=>{l.includes(d.toLowerCase())&&o.set(d,h)})}}if(Sn.hasStandardBrowserEnv&&(r&&Q.isFunction(r)&&(r=r(e)),r||r!==!1&&Kee(e.url))){let c=i&&s&&Jee.read(s);c&&o.set(i,c)}return e};var GZe=typeof XMLHttpRequest<"u",Zee=GZe&&function(n){return new Promise(function(t,r){let i=wv(n),s=i.data,o=cr.from(i.headers).normalize(),{responseType:a,onUploadProgress:c,onDownloadProgress:l}=i,d,h,p,b,v;function x(){b&&b(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let N=new XMLHttpRequest;N.open(i.method.toUpperCase(),i.url,!0),N.timeout=i.timeout;function k(){if(!N)return;let X=cr.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),de={data:!a||a==="text"||a==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:X,config:n,request:N};Bp(function(xe){t(xe),x()},function(xe){r(xe),x()},de),N=null}"onloadend"in N?N.onloadend=k:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(k)},N.onabort=function(){N&&(r(new lt("Request aborted",lt.ECONNABORTED,n,N)),N=null)},N.onerror=function(ne){let de=ne&&ne.message?ne.message:"Network Error",g=new lt(de,lt.ERR_NETWORK,n,N);g.event=ne||null,r(g),N=null},N.ontimeout=function(){let ne=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded",de=i.transitional||_v;i.timeoutErrorMessage&&(ne=i.timeoutErrorMessage),r(new lt(ne,de.clarifyTimeoutError?lt.ETIMEDOUT:lt.ECONNABORTED,n,N)),N=null},s===void 0&&o.setContentType(null),"setRequestHeader"in N&&Q.forEach(o.toJSON(),function(ne,de){N.setRequestHeader(de,ne)}),Q.isUndefined(i.withCredentials)||(N.withCredentials=!!i.withCredentials),a&&a!=="json"&&(N.responseType=i.responseType),l&&([p,v]=Sd(l,!0),N.addEventListener("progress",p)),c&&N.upload&&([h,b]=Sd(c),N.upload.addEventListener("progress",h),N.upload.addEventListener("loadend",b)),(i.cancelToken||i.signal)&&(d=X=>{N&&(r(!X||X.type?new Eo(null,n,N):X),N.abort(),N=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));let ee=XN(i.url);if(ee&&Sn.protocols.indexOf(ee)===-1){r(new lt("Unsupported protocol "+ee+":",lt.ERR_BAD_REQUEST,n));return}N.send(s||null)})};var QZe=(n,e)=>{let{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i,s=function(l){if(!i){i=!0,a();let d=l instanceof Error?l:this.reason;r.abort(d instanceof lt?d:new Eo(d instanceof Error?d.message:d))}},o=e&&setTimeout(()=>{o=null,s(new lt(`timeout of ${e}ms exceeded`,lt.ETIMEDOUT))},e),a=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(l=>{l.unsubscribe?l.unsubscribe(s):l.removeEventListener("abort",s)}),n=null)};n.forEach(l=>l.addEventListener("abort",s));let{signal:c}=r;return c.unsubscribe=()=>Q.asap(a),c}},Xee=QZe;var KZe=function*(n,e){let t=n.byteLength;if(!e||t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},JZe=async function*(n,e){for await(let t of YZe(n))yield*KZe(t,e)},YZe=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}let e=n.getReader();try{for(;;){let{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},iI=(n,e,t,r)=>{let i=JZe(n,e),s=0,o,a=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{let{done:l,value:d}=await i.next();if(l){a(),c.close();return}let h=d.byteLength;if(t){let p=s+=h;t(p)}c.enqueue(new Uint8Array(d))}catch(l){throw a(l),l}},cancel(c){return a(c),i.return()}},{highWaterMark:2})};var ete=64*1024,{isFunction:Cv}=Q,ZZe=(({Request:n,Response:e})=>({Request:n,Response:e}))(Q.global),{ReadableStream:tte,TextEncoder:nte}=Q.global,rte=(n,...e)=>{try{return!!n(...e)}catch{return!1}},XZe=n=>{n=Q.merge.call({skipUndefined:!0},ZZe,n);let{fetch:e,Request:t,Response:r}=n,i=e?Cv(e):typeof fetch=="function",s=Cv(t),o=Cv(r);if(!i)return!1;let a=i&&Cv(tte),c=i&&(typeof nte=="function"?(v=>x=>v.encode(x))(new nte):async v=>new Uint8Array(await new t(v).arrayBuffer())),l=s&&a&&rte(()=>{let v=!1,x=new t(Sn.origin,{body:new tte,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!x}),d=o&&a&&rte(()=>Q.isReadableStream(new r("").body)),h={stream:d&&(v=>v.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!h[v]&&(h[v]=(x,N)=>{let k=x&&x[v];if(k)return k.call(x);throw new lt(`Response type '${v}' is not supported`,lt.ERR_NOT_SUPPORT,N)})});let p=async v=>{if(v==null)return 0;if(Q.isBlob(v))return v.size;if(Q.isSpecCompliantForm(v))return(await new t(Sn.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(v)||Q.isArrayBuffer(v))return v.byteLength;if(Q.isURLSearchParams(v)&&(v=v+""),Q.isString(v))return(await c(v)).byteLength},b=async(v,x)=>{let N=Q.toFiniteNumber(v.getContentLength());return N??p(x)};return async v=>{let{url:x,method:N,data:k,signal:ee,cancelToken:X,timeout:ne,onDownloadProgress:de,onUploadProgress:g,responseType:xe,headers:Ce,withCredentials:qe="same-origin",fetchOptions:H}=wv(v),I=e||fetch;xe=xe?(xe+"").toLowerCase():"text";let re=Xee([ee,X&&X.toAbortSignal()],ne),pe=null,fe=re&&re.unsubscribe&&(()=>{re.unsubscribe()}),Ge;try{if(g&&l&&N!=="get"&&N!=="head"&&(Ge=await b(Ce,k))!==0){let Vn=new t(x,{method:"POST",body:k,duplex:"half"}),Oe;if(Q.isFormData(k)&&(Oe=Vn.headers.get("content-type"))&&Ce.setContentType(Oe),Vn.body){let[Kn,Jn]=eI(Ge,Sd(tI(g)));k=iI(Vn.body,ete,Kn,Jn)}}Q.isString(qe)||(qe=qe?"include":"omit");let ae=s&&"credentials"in t.prototype,dt=$e(K({},H),{signal:re,method:N.toUpperCase(),headers:Ce.normalize().toJSON(),body:k,duplex:"half",credentials:ae?qe:void 0});pe=s&&new t(x,dt);let kt=await(s?I(pe,H):I(x,dt)),en=d&&(xe==="stream"||xe==="response");if(d&&(de||en&&fe)){let Vn={};["status","statusText","headers"].forEach(Mt=>{Vn[Mt]=kt[Mt]});let Oe=Q.toFiniteNumber(kt.headers.get("content-length")),[Kn,Jn]=de&&eI(Oe,Sd(tI(de),!0))||[];kt=new r(iI(kt.body,ete,Kn,()=>{Jn&&Jn(),fe&&fe()}),Vn)}xe=xe||"text";let Mr=await h[Q.findKey(h,xe)||"text"](kt,v);return!en&&fe&&fe(),await new Promise((Vn,Oe)=>{Bp(Vn,Oe,{data:Mr,headers:cr.from(kt.headers),status:kt.status,statusText:kt.statusText,config:v,request:pe})})}catch(ae){throw fe&&fe(),ae&&ae.name==="TypeError"&&/Load failed|fetch/i.test(ae.message)?Object.assign(new lt("Network Error",lt.ERR_NETWORK,v,pe),{cause:ae.cause||ae}):lt.from(ae,ae&&ae.code,v,pe)}}},eXe=new Map,sI=n=>{let e=n&&n.env||{},{fetch:t,Request:r,Response:i}=e,s=[r,i,t],o=s.length,a=o,c,l,d=eXe;for(;a--;)c=s[a],l=d.get(c),l===void 0&&d.set(c,l=a?new Map:XZe(e)),d=l;return l},AFt=sI();var oI={http:yv,xhr:Zee,fetch:{get:sI}};Q.forEach(oI,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});var ite=n=>`- ${n}`,nXe=n=>Q.isFunction(n)||n===null||n===!1;function rXe(n,e){n=Q.isArray(n)?n:[n];let{length:t}=n,r,i,s={};for(let o=0;o<t;o++){r=n[o];let a;if(i=r,!nXe(r)&&(i=oI[(a=String(r)).toLowerCase()],i===void 0))throw new lt(`Unknown adapter '${a}'`);if(i&&(Q.isFunction(i)||(i=i.get(e))))break;s[a||"#"+o]=i}if(!i){let o=Object.entries(s).map(([c,l])=>`adapter ${c} `+(l===!1?"is not supported by the environment":"is not available in the build")),a=t?o.length>1?`since :
`+o.map(ite).join(`
`):" "+ite(o[0]):"as no adapter specified";throw new lt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i}var Dv={getAdapter:rXe,adapters:oI};function aI(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Eo(null,n)}function xv(n){return aI(n),n.headers=cr.from(n.headers),n.data=Fp.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Dv.getAdapter(n.adapter||xd.adapter,n)(n).then(function(r){return aI(n),r.data=Fp.call(n,n.transformResponse,r),r.headers=cr.from(r.headers),r},function(r){return Lp(r)||(aI(n),r&&r.response&&(r.response.data=Fp.call(n,n.transformResponse,r.response),r.response.headers=cr.from(r.response.headers))),Promise.reject(r)})}var Tv="1.13.4";var Sv={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Sv[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});var ste={};Sv.transitional=function(e,t,r){function i(s,o){return"[Axios v"+Tv+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new lt(i(o," has been removed"+(t?" in "+t:"")),lt.ERR_DEPRECATED);return t&&!ste[o]&&(ste[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};Sv.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function iXe(n,e,t){if(typeof n!="object")throw new lt("options must be an object",lt.ERR_BAD_OPTION_VALUE);let r=Object.keys(n),i=r.length;for(;i-- >0;){let s=r[i],o=e[s];if(o){let a=n[s],c=a===void 0||o(a,s,n);if(c!==!0)throw new lt("option "+s+" must be "+c,lt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new lt("Unknown option "+s,lt.ERR_BAD_OPTION)}}var jp={assertOptions:iXe,validators:Sv};var wo=jp.validators,Ad=class{constructor(e){this.defaults=e||{},this.interceptors={request:new zN,response:new zN}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;let s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=js(this.defaults,t);let{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&jp.assertOptions(r,{silentJSONParsing:wo.transitional(wo.boolean),forcedJSONParsing:wo.transitional(wo.boolean),clarifyTimeoutError:wo.transitional(wo.boolean)},!1),i!=null&&(Q.isFunction(i)?t.paramsSerializer={serialize:i}:jp.assertOptions(i,{encode:wo.function,serialize:wo.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),jp.assertOptions(t,{baseUrl:wo.spelling("baseURL"),withXsrfToken:wo.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&Q.merge(s.common,s[t.method]);s&&Q.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),t.headers=cr.concat(o,s);let a=[],c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(t)===!1||(c=c&&x.synchronous,a.unshift(x.fulfilled,x.rejected))});let l=[];this.interceptors.response.forEach(function(x){l.push(x.fulfilled,x.rejected)});let d,h=0,p;if(!c){let v=[xv.bind(this),void 0];for(v.unshift(...a),v.push(...l),p=v.length,d=Promise.resolve(t);h<p;)d=d.then(v[h++],v[h++]);return d}p=a.length;let b=t;for(;h<p;){let v=a[h++],x=a[h++];try{b=v(b)}catch(N){x.call(this,N);break}}try{d=xv.call(this,b)}catch(v){return Promise.reject(v)}for(h=0,p=l.length;h<p;)d=d.then(l[h++],l[h++]);return d}getUri(e){e=js(this.defaults,e);let t=qp(e.baseURL,e.url,e.allowAbsoluteUrls);return Pp(t,e.params,e.paramsSerializer)}};Q.forEach(["delete","get","head","options"],function(e){Ad.prototype[e]=function(t,r){return this.request(js(r||{},{method:e,url:t,data:(r||{}).data}))}});Q.forEach(["post","put","patch"],function(e){function t(r){return function(s,o,a){return this.request(js(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Ad.prototype[e]=t(),Ad.prototype[e+"Form"]=t(!0)});var Up=Ad;var cI=class n{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});let r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s,o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Eo(s,o,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){let e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new n(function(i){e=i}),cancel:e}}},ote=cI;function lI(n){return function(t){return n.apply(null,t)}}function uI(n){return Q.isObject(n)&&n.isAxiosError===!0}var dI={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(dI).forEach(([n,e])=>{dI[e]=n});var ate=dI;function cte(n){let e=new Up(n),t=Ip(Up.prototype.request,e);return Q.extend(t,Up.prototype,e,{allOwnKeys:!0}),Q.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return cte(js(n,i))},t}var Qn=cte(xd);Qn.Axios=Up;Qn.CanceledError=Eo;Qn.CancelToken=ote;Qn.isCancel=Lp;Qn.VERSION=Tv;Qn.toFormData=nc;Qn.AxiosError=lt;Qn.Cancel=Qn.CanceledError;Qn.all=function(e){return Promise.all(e)};Qn.spread=lI;Qn.isAxiosError=uI;Qn.mergeConfig=js;Qn.AxiosHeaders=cr;Qn.formToJSON=n=>vv(Q.isHTMLForm(n)?new FormData(n):n);Qn.getAdapter=Dv.getAdapter;Qn.HttpStatusCode=ate;Qn.default=Qn;var Nl=Qn;var{Axios:T1t,AxiosError:S1t,CanceledError:A1t,isCancel:N1t,CancelToken:I1t,VERSION:M1t,all:R1t,Cancel:O1t,isAxiosError:P1t,spread:k1t,toFormData:F1t,AxiosHeaders:L1t,HttpStatusCode:B1t,formToJSON:q1t,getAdapter:j1t,mergeConfig:U1t}=Nl;var zoe=!1;zoe=!0;var oXe="",aXe=oXe,cXe=zoe?"taon":aXe,z1t=lte?.default??lte,W1t=ute?.default??ute,G1t=dte?.default??dte,Q1t=fte?.default??fte,K1t=hte?.default??hte,J1t=pte?.default??pte,Y1t=mte?.default??mte,Z1t=gte?.default??gte,X1t=yte?.default??yte,eLt=bte?.default??bte,tLt=_te?.default??_te,nLt=vte?.default??vte,rLt=Ete?.default??Ete,Mv=wte?.default??wte,iLt=Cte?.default??Cte,sLt=Dte?.default??Dte,oLt=xte?.default??xte,aLt=Tte?.default??Tte,cLt=Ste?.default??Ste,lLt=Ate?.default??Ate,uLt=Nte?.default??Nte,Wi=Ite?.default??Ite,dLt=Mte?.default??Mte,fLt=Rte?.default??Rte,hLt=Ote?.default??Ote,pLt=Pte?.default??Pte,mLt=kte?.default??kte,gLt=Fte?.default??Fte,yLt=Lte?.default??Lte,bLt=Bte?.default??Bte,_Lt=qte?.default??qte,vLt=jte?.default??jte,ELt=Ute?.default??Ute,wLt=$te?.default??$te,Woe=Vte?.default??Vte,CLt=Hte?.default??Hte,DLt=zte?.default??zte,xLt=Wte?.default??Wte,TLt=Gte?.default??Gte,SLt=Qte?.default??Qte,ALt=Kte?.default??Kte,NLt=Jte?.default??Jte,ILt=Yte?.default??Yte,MLt=Zte?.default??Zte,RLt=Xte?.default??Xte,OLt=ene?.default??ene,PLt=tne?.default??tne,kLt=nne?.default??nne,FLt=rne?.default??rne,LLt=ine?.default??ine,BLt=sne?.default??sne,qLt=one?.default??one,jLt=ane?.default??ane,ULt=cne?.default??cne,$Lt=lne?.default??lne,VLt=une?.default??une,HLt=dne?.default??dne,zLt=fne?.default??fne,WLt=hne?.default??hne,GLt=pne?.default??pne,QLt=mne?.default??mne,KLt=gne?.default??gne,JLt=yne?.default??yne,YLt=bne?.default??bne,ZLt=_ne?.default??_ne,XLt=vne?.default??vne,eBt=Ene?.default??Ene,tBt=wne?.default??wne,Co=Cne?.default??Cne,nBt=Dne?.default??Dne,rBt=xne?.default??xne,iBt=Tne?.default??Tne,sBt=Sne?.default??Sne,oBt=Ane?.default??Ane,aBt=Nne?.default??Nne,cBt=Ine?.default??Ine,lBt=Mne?.default??Mne,uBt=Rne?.default??Rne,dBt=One?.default??One,fBt=Pne?.default??Pne,hBt=kne?.default??kne,pBt=Fne?.default??Fne,mBt=Lne?.default??Lne,gBt=Bne?.default??Bne,yBt=qne?.default??qne,bBt=jne?.default??jne,_Bt=Une?.default??Une,vBt=$ne?.default??$ne,Gi=Vne?.default??Vne,EBt=Hne?.default??Hne,wBt=zne?.default??zne,CBt=Wne?.default??Wne,DBt=Gne?.default??Gne,xBt=Qne?.default??Qne,TBt=Kne?.default??Kne,SBt=Jne?.default??Jne,ABt=Yne?.default??Yne,NBt=Zne?.default??Zne,IBt=Xne?.default??Xne,MBt=ere?.default??ere,RBt=tre?.default??tre,OBt=nre?.default??nre,PBt=rre?.default??rre,kBt=ire?.default??ire,FBt=sre?.default??sre,LBt=ore?.default??ore,BBt=are?.default??are,qBt=cre?.default??cre,An=lre?.default??lre,hI=ure?.default??ure,jBt=dre?.default??dre,UBt=fre?.default??fre,Id=hre?.default??hre,pI=pre?.default??pre,mI=mre?.default??mre,$Bt=gre?.default??gre,VBt=yre?.default??yre,Goe=bre?.default??bre,HBt=_re?.default??_re,zBt=vre?.default??vre,WBt=Ere?.default??Ere,At=wre?.default??wre,GBt=Cre?.default??Cre,QBt=Dre?.default??Dre,KBt=xre?.default??xre,JBt=Tre?.default??Tre,YBt=Sre?.default??Sre,gI=Are?.default??Are,ZBt=Nre?.default??Nre,Il=Ire?.default??Ire,Md=Mre?.default??Mre,Ml=Rre?.default??Rre,Ut=Ore?.default??Ore,XBt=Pre?.default??Pre,eqt=kre?.default??kre,yI=Fre?.default??Fre,tqt=Lre?.default??Lre,nqt=Bre?.default??Bre,mn=qre?.default??qre,rqt=jre?.default??jre,iqt=Ure?.default??Ure,ut=$re?.default??$re,sqt=Vre?.default??Vre,oqt=Hre?.default??Hre,aqt=zre?.default??zre,cqt=Wre?.default??Wre,Qoe=Gre?.default??Gre,lqt=Qre?.default??Qre,uqt=Kre?.default??Kre,dqt=Jre?.default??Jre,bI=Yre?.default??Yre,fqt=Zre?.default??Zre,hqt=Xre?.default??Xre,_I=eie?.default??eie,pqt=tie?.default??tie,mqt=nie?.default??nie,gqt=rie?.default??rie,yqt=iie?.default??iie,bqt=sie?.default??sie,_qt=oie?.default??oie,vqt=aie?.default??aie,Eqt=cie?.default??cie,wqt=lie?.default??lie,Cqt=uie?.default??uie,Dqt=die?.default??die,xqt=fie?.default??fie,Ur=hie?.default??hie,Tqt=pie?.default??pie,Sqt=mie?.default??mie,Aqt=gie?.default??gie,Nqt=yie?.default??yie,Iqt=bie?.default??bie,Mqt=_ie?.default??_ie,Rqt=vie?.default??vie,Oqt=Eie?.default??Eie,Pqt=wie?.default??wie,kqt=Cie?.default??Cie,Fqt=Die?.default??Die,Lqt=xie?.default??xie,Koe=Tie?.default??Tie,Bqt=Sie?.default??Sie,qqt=Aie?.default??Aie,jqt=Nie?.default??Nie,Uqt=Iie?.default??Iie,$qt=Mie?.default??Mie,Vqt=Rie?.default??Rie,Hqt=Oie?.default??Oie,zqt=Pie?.default??Pie,Wqt=kie?.default??kie,Gqt=Fie?.default??Fie,Qqt=Lie?.default??Lie,Kqt=Bie?.default??Bie,Jqt=qie?.default??qie,Yqt=jie?.default??jie,Zqt=Uie?.default??Uie,Xqt=$ie?.default??$ie,ejt=Vie?.default??Vie,tjt=Hie?.default??Hie,vI=zie?.default??zie,njt=Wie?.default??Wie,rjt=Gie?.default??Gie,ijt=Qie?.default??Qie,sjt=Kie?.default??Kie,ojt=Jie?.default??Jie,ajt=Yie?.default??Yie,cjt=Zie?.default??Zie,ljt=Xie?.default??Xie,ujt=ese?.default??ese,djt=tse?.default??tse,fjt=nse?.default??nse,hjt=rse?.default??rse,pjt=ise?.default??ise,mjt=sse?.default??sse,gjt=ose?.default??ose,yjt=ase?.default??ase,bjt=cse?.default??cse,_jt=lse?.default??lse,vjt=use?.default??use,Ejt=dse?.default??dse,Qi=fse?.default??fse,wjt=hse?.default??hse,Cjt=pse?.default??pse,Djt=mse?.default??mse,EI=gse?.default??gse,xjt=yse?.default??yse,Tjt=bse?.default??bse,Sjt=_se?.default??_se,Ajt=vse?.default??vse,Njt=Ese?.default??Ese,Ijt=wse?.default??wse,Mjt=Cse?.default??Cse,Rjt=Dse?.default??Dse,Ojt=xse?.default??xse,Pjt=Tse?.default??Tse,kjt=Sse?.default??Sse,Fjt=Ase?.default??Ase,Ljt=Nse?.default??Nse,wI=Ise?.default??Ise,Bjt=Mse?.default??Mse,qjt=Rse?.default??Rse,jjt=Ose?.default??Ose,Ujt=Pse?.default??Pse,$jt=kse?.default??kse,Vjt=Fse?.default??Fse,Hjt=Lse?.default??Lse,zjt=Bse?.default??Bse,Wjt=qse?.default??qse,Gjt=jse?.default??jse,Qjt=Use?.default??Use,Kjt=$se?.default??$se,Jjt=Vse?.default??Vse,Yjt=Hse?.default??Hse,Zjt=zse?.default??zse,Xjt=Wse?.default??Wse,eUt=Gse?.default??Gse,tUt=Qse?.default??Qse,nUt=Kse?.default??Kse,Joe=Jse?.default??Jse,rUt=Yse?.default??Yse,iUt=Zse?.default??Zse,sUt=Xse?.default??Xse,oUt=eoe?.default??eoe,aUt=toe?.default??toe,cUt=noe?.default??noe,lUt=roe?.default??roe,uUt=ioe?.default??ioe,dUt=soe?.default??soe,fUt=ooe?.default??ooe,hUt=aoe?.default??aoe,pUt=coe?.default??coe,mUt=loe?.default??loe,gUt=uoe?.default??uoe,yUt=doe?.default??doe,bUt=foe?.default??foe,_Ut=hoe?.default??hoe,vUt=poe?.default??poe,EUt=moe?.default??moe,wUt=goe?.default??goe,CUt=yoe?.default??yoe,DUt=boe?.default??boe,xUt=_oe?.default??_oe,Rv=voe?.default??voe,TUt=Eoe?.default??Eoe,SUt=woe?.default??woe,AUt=Coe?.default??Coe,NUt=Doe?.default??Doe,IUt=xoe?.default??xoe,MUt=Toe?.default??Toe,RUt=Soe?.default??Soe,OUt=Aoe?.default??Aoe,PUt=Noe?.default??Noe,kUt=Ioe?.default??Ioe,FUt=Moe?.default??Moe,LUt=Roe?.default??Roe,BUt=Ooe?.default??Ooe,qUt=Poe?.default??Poe,jUt=koe?.default??koe,UUt=Foe?.default??Foe,$Ut=Loe?.default??Loe,VUt=Boe?.default??Boe,HUt=qoe?.default??qoe,zUt=joe?.default??joe,WUt=Uoe?.default??Uoe,GUt=$oe?.default??$oe;var Nv={black(n){console.log(n)},gray(n){console.log(n)},red(n){console.log(n)},green(n){console.log(n)},italic(n){console.log(n)},magenta(n){console.log(n)},bold(n){console.log(n)},underline(n){console.log(n)}},Yoe=new Map,Av=Object.keys(Nv).map(n=>(Yoe.set(Nv[n],n),Nv[n]));for(let n=0;n<Av.length;n++){let e=Av[n];for(let t=0;t<Av.length;t++){let r=Av[t];e[Yoe.get(r)]=r}}var lXe=Nv;function aa(n){if(typeof n!="string")throw new TypeError("[taon-core] Path must be a string. Received "+JSON.stringify(n))}function uXe(n,e){for(var t="",r=0,i=-1,s=0,o,a=0;a<=n.length;++a){if(a<n.length)o=n.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var c=t.lastIndexOf("/");if(c!==t.length-1){c===-1?(t="",r=0):(t=t.slice(0,c),r=t.length-1-t.lastIndexOf("/")),i=a,s=0;continue}}else if(t.length===2||t.length===1){t="",r=0,i=a,s=0;continue}}e&&(t.length>0?t+="/..":t="..",r=2)}else t.length>0?t+="/"+n.slice(i+1,a):t=n.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return t}function dXe(n,e){var t=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return t?t===e.root?t+r:t+n+r:r}var Iv={resolve:function(e){return e},normalize:function(e){if(aa(e),e.length===0)return".";var t=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=uXe(e,!t),e.length===0&&!t&&(e="."),e.length>0&&r&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return aa(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var r=arguments[t];aa(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":Iv.normalize(e)},relative:function(e,t){if(aa(e),aa(t),e===t||(e=Iv.resolve(e),t=Iv.resolve(t),e===t))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var i=e.length,s=i-r,o=1;o<t.length&&t.charCodeAt(o)===47;++o);for(var a=t.length,c=a-o,l=s<c?s:c,d=-1,h=0;h<=l;++h){if(h===l){if(c>l){if(t.charCodeAt(o+h)===47)return t.slice(o+h+1);if(h===0)return t.slice(o+h)}else s>l&&(e.charCodeAt(r+h)===47?d=h:h===0&&(d=0));break}var p=e.charCodeAt(r+h),b=t.charCodeAt(o+h);if(p!==b)break;p===47&&(d=h)}var v="";for(h=r+d+1;h<=i;++h)(h===i||e.charCodeAt(h)===47)&&(v.length===0?v+="..":v+="/..");return v.length>0?v+t.slice(o+d):(o+=d,t.charCodeAt(o)===47&&++o,t.slice(o))},_makeLong:function(e){return e},dirname:function(e){if(aa(e),e.length===0)return".";for(var t=e.charCodeAt(0),r=t===47,i=-1,s=!0,o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),t===47){if(!s){i=o;break}}else s=!1;return i===-1?r?"/":".":r&&i===1?"//":e.slice(0,i)},basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');aa(e);var r=0,i=-1,s=!0,o;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var a=t.length-1,c=-1;for(o=e.length-1;o>=0;--o){var l=e.charCodeAt(o);if(l===47){if(!s){r=o+1;break}}else c===-1&&(s=!1,c=o+1),a>=0&&(l===t.charCodeAt(a)?--a===-1&&(i=o):(a=-1,i=c))}return r===i?i=c:i===-1&&(i=e.length),e.slice(r,i)}else{for(o=e.length-1;o>=0;--o)if(e.charCodeAt(o)===47){if(!s){r=o+1;break}}else i===-1&&(s=!1,i=o+1);return i===-1?"":e.slice(r,i)}},extname:function(e){aa(e);for(var t=-1,r=0,i=-1,s=!0,o=0,a=e.length-1;a>=0;--a){var c=e.charCodeAt(a);if(c===47){if(!s){r=a+1;break}continue}i===-1&&(s=!1,i=a+1),c===46?t===-1?t=a:o!==1&&(o=1):t!==-1&&(o=-1)}return t===-1||i===-1||o===0||o===1&&t===i-1&&t===r+1?"":e.slice(t,i)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return dXe("/",e)},parse:function(e){aa(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var r=e.charCodeAt(0),i=r===47,s;i?(t.root="/",s=1):s=0;for(var o=-1,a=0,c=-1,l=!0,d=e.length-1,h=0;d>=s;--d){if(r=e.charCodeAt(d),r===47){if(!l){a=d+1;break}continue}c===-1&&(l=!1,c=d+1),r===46?o===-1?o=d:h!==1&&(h=1):o!==-1&&(h=-1)}return o===-1||c===-1||h===0||h===1&&o===c-1&&o===a+1?c!==-1&&(a===0&&i?t.base=t.name=e.slice(1,c):t.base=t.name=e.slice(a,c)):(a===0&&i?(t.name=e.slice(1,o),t.base=e.slice(1,c)):(t.name=e.slice(a,o),t.base=e.slice(a,c)),t.ext=e.slice(o,c)),a>0?t.dir=e.slice(0,a-1):i&&(t.dir="/"),t},sep:"/",delimiter:":",win32:{normalize:n=>n},posix:null};var fXe;fXe=Hoe.default;var hXe;hXe=Iv;var pXe;pXe=lXe;var CI=n=>{if(Array.isArray(n)&&(n=n.join("/")),typeof n!="string")return n;typeof n=="string"&&/^[A-Z]\:/.test(n)&&(n=_I(n));let e=/^\\\\\?\\/.test(n),t=/[^\u0000-\u0080]+/.test(n);if(e&&console.warn(`[taon-core][crossPlatformPath]: Path starts with \\\\,
    this is not supported in crossPlatformPath`),t){let s=n.match(/[^\u0000-\u0080]+/g)||"";Voe(`[taon-core][crossPlatformPath]: path below contains non-ascii characters (${s}):
"${n}"`),Voe(n)}return n=(n||"").replace(/\\/g,"/").replace(/\/\//g,"/").replace(/\/\//g,"/"),!1&&/^(\/)[a-zA-Z]\:/.test(n)&&(n=n.slice(1)),n};var Zoe="$$originalClass$$";var Xoe="$$$ APP_READY $$$",eae="$$className$$",Ov="$$taonError$$";var mXe="taon-containers";var gXe="taon",yXe=".taon",bXe=".tnp",QUt=`https://github.com/darekf77/${gXe}.git`,KUt=`https://github.com/darekf77/${mXe}.git`;var fI={_gitignore:".gitignore",_npmrc:".npmrc",_npmignore:".npmignore",tslint_json:"tslint.json",_editorconfig:".editorconfig",_angularCli_json:".angular-cli.json",_vscode_launch_json:".vscode/launch.json"},_Xe=K({_bowerrc:".bowerrc",bower_json:"bower.json",controllers_ts:"controllers.ts",entities_ts:"entities.ts",angular_json:"angular.json",autob_actions_js:"auto-actions.js",local_config_js:"local-config.js",build_config_js:"build-config.js",local_config:"local-config",start_backend_ts:"start.backend.ts",docs_config_jsonc:"docs-config.jsonc",package_json:"package.json",taon_jsonc:"taon.jsonc",firedev_jsonc:"firedev.jsonc",firedev_json:"firedev.json",package_json__tnp_json:"package.json_tnp.json",package_json__tnp_json5:"package.json_tnp.json5",package_json__devDependencies_json:"package.json_devDependencies.json",devDependencies_json:"devDependencies.json",yarn_lock:"yarn.lock",package_lock_json:"package-lock.json",tnpEnvironment_json:"tmp-environment.json",environment:"environment",environment_js:"environment.js",tmp_transaction_pid_txt:"tmp-transaction-pid.txt",manifest_webmanifest:"manifest.webmanifest",public_api_d_ts:"public-api.d.ts",public_api_ts:"public-api.ts",public_api:"public-api",_babelrc:".babelrc",index:"index",index_d_ts:"index.d.ts",index_ts:"index.ts",index_js:"index.js",cli_js:"cli.js",cli_ts:"cli.ts",index_js_map:"index.js.map",db_json:"db.json",db_for_tests_json:"db-for-tests.json",tmpDockerImageId:"tmp-docker-image-id",tmp_recent_json:"recent.json",tsconfig_json:"tsconfig.json",tsconfig_lib_json:"tsconfig.lib.json",README_MD:"README.md",server_key:"server.key",server_cert:"server.cert",server_chain_cert:"server-chain.cert",meta_config_md:"meta-content.md",logo_png:"logo.png",logo_svg:"logo.svg",ric_proj_json:"ric-project.json",linked_projects_json:"linked-projects.json",docker_compose_yml:"docker-compose.yml",compose_yml:"docker-compose.yml"},fI),tae={vendor:"vendor",docs:"docs",dist:"dist",tmp:"tmp",tmpDistRelease:"tmp-dist-release",tempSrc:"tmp-src",tempSrcDist:"tmp-src-dist",previewDistApp:"dist-app",preview:"preview",browser:"browser",websql:"websql",_browser:".browser",module:"module",backup:"backup",node_modules:"node_modules",local_release:"local_release",client:"client",tnp_tests_context:"tmp-tests-context",tmpPackage:"tmp-package",tmpScenarios:"tmp-scenarios",tmpTestsEnvironments:"tmp-tests-environments",testsEnvironments:"tests-environments"},vXe=K({scripts:"scripts",scenarios:"scenarios",bower:"bower",src:"src",out:"out",app:"app",lib:"lib",tests:"tests",libraries:"libraries",libs:"libs",source:"source",custom:"custom",migrations:"migrations",components:"components",assets:"assets",generated:"generated",apps:"apps",shared:"shared",container:"container",bin:"bin",_bin:".bin",_vscode:".vscode",project:"project",projects:"projects",external:"external",tmpDist:"tmp-dist",tmpFor(n){return`tmp-src-${n}`},targetProjects:{DEFAULT_PATH_GENERATED:"tmp-target-projects/generated",DEFAULT_PATH_ORIGINS:"tmp-target-projects/origins"}},tae),EXe=[],nae=["js","ts","tsx"].map(n=>`.${n}`),DI=["html"].map(n=>`.${n}`),rae=["scss","sass"].map(n=>`.${n}`),xI=[...rae,...["css","less"].map(n=>`.${n}`)],wXe=[...xI,...DI,...nae],JUt={TS_JS_SCSS_SASS:{START:new RegExp("\\/\\/\\s*\\#region"),END:new RegExp("\\/\\/\\s*\\#endregion"),EXT:[...nae,...rae]},HTML:{START:new RegExp("\\<\\!\\-\\-\\s*\\#region"),END:new RegExp("\\<\\!\\-\\-\\s*\\#endregion"),EXT:DI},CSS:{START:new RegExp("\\/\\*\\s*\\#region"),END:new RegExp("\\/\\*\\s*\\#endregion"),EXT:xI}},CXe=["backend.ts"].map(n=>`.${n}`),YUt=["subscriber.ts","test.ts"].map(n=>`.${n}`),iae=["browser.ts","component.ts","container.ts","directive.ts","pipe.ts","module.ts","service.ts","store.ts","actions.ts","action.ts","effects.ts","effect.ts","reducers.ts","reducer.ts","selectors.ts","selector.ts","routes.ts","resolver.ts","resolvers.ts","guard.ts","guards.ts","store.ts","spec.ts","e2e.ts","cy.ts","e2e-spec.ts"].map(n=>`.${n}`),ZUt=["routes.ts"].map(n=>`.${n}`),XUt=[...DI,...xI,...iae],e$t=[...wXe.map(n=>`app${n}`),...iae.map(n=>`app${n}`),"app.models.ts","app.env.ts","app.constants.ts","app.hosts.ts","app.electron.ts","app.vscode.ts","app.mobile.ts","app.context.ts","app.worker.ts"];var DXe=["copyto","copy","melt","push","pul","soft","pull","app","apps","dist","bundle","libs","lib","src","bin","source","migrations","assets","assets-for","browser","websql","compiled","docs","environments","env","projects","plugins","_"],t$t=[...DXe,...CXe];var xXe=n=>new Promise((e,t)=>{setTimeout(()=>{e(void 0)},n)}),Pv=(n,e)=>{var t={};return n.filter(r=>!!r).filter(function(r){return t.hasOwnProperty(e?r[e]:r)?!1:t[e?r[e]:r]=!0})};var Nd=(function(n){return n.NotInstalled="NotInstalled",n.Disabled="Disabled",n.Enabled_ForceNewWindow="Enabled_ForceNewWindow",n.Enabled_Inline="Enabled_Inline",n.Unknown="Unknown",n})(Nd||{});var n$t={[Nd.NotInstalled]:"sudo is not installed",[Nd.Disabled]:"sudo is disabled",[Nd.Enabled_ForceNewWindow]:"sudo enabled \u2192 opens new window (ForceNewWindow)",[Nd.Enabled_Inline]:"sudo enabled \u2192 inline mode (runs in same window)",[Nd.Unknown]:"sudo present but status unknown"};var r$t=["**/node_modules/**","**/.git/**/**",`**/${yXe}/**`,`**/${bXe}/**`,"**/tmp-*","**/tmp-*/**"];var sae=()=>!0,TXe=()=>!1,SXe=()=>!0,AXe=()=>typeof globalThis.window>"u",NXe=()=>!!(typeof process<"u"&&process?.versions?.electron||typeof globalThis<"u"&&globalThis?.process?.type==="renderer"||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&/Electron/i.test(navigator.userAgent)),IXe=()=>{};var TI=()=>!1;var oae=()=>!1;var Rl=NXe(),ca=sae(),aae=TXe(),Do=SXe(),i$t=IXe(),cae=AXe();var lae=n=>{let[e,t]=n.split("_")||[],r=parseInt(e),i=parseInt(t),s=gI(r)?i:r;return SI(s)?s:void 0};var SI=n=>typeof n!="number"?!1:n>=0&&n<=864e13;var uae=xXe;var s$t=Symbol("cliMethod");var o$t={LAST_ERROR:Symbol(),LAST_INFO:Symbol(),LAST_WARN:Symbol(),LAST_LOG:Symbol(),LAST_SUCCESS:Symbol(),LAST_TASK_STARTED:Symbol(),LAST_TASK_DONE:Symbol()},a$t={LAST_ERROR:Symbol(),LAST_INFO:Symbol(),LAST_WARN:Symbol(),LAST_LOG:Symbol(),LAST_SUCCESS:Symbol(),LAST_TASK_STARTED:Symbol(),LAST_TASK_DONE:Symbol()},c$t={LAST_ERROR:Symbol(),LAST_INFO:Symbol(),LAST_WARN:Symbol(),LAST_LOG:Symbol(),LAST_SUCCESS:Symbol(),LAST_TASK_STARTED:Symbol(),LAST_TASK_DONE:Symbol()};var kv=()=>sae();var Dn=(n,e)=>n.filter(t=>t instanceof RegExp?t.test(e):!!(t===e||e.match&&typeof e.match=="function"&&e.match(t))).length>0;var AI=n=>{throw new Error(n)};var $p=(n,e=!1,t=!1)=>{if(kv()){console.error(n);return}},xo=(n,e=!1)=>{if(kv()){console.info(n);return}};var Ol=(n,e=0)=>{if(kv()){console.log(n);return}};var NI=(n,e=!1)=>{};var Voe=(n,e=!1)=>{},Fv=(n,e=!1)=>{if(kv()){console.warn(n);return}};var l$t=2024*500;var la=n=>n instanceof Blob;var Lv=async n=>{if(ut(n))return;let e,{functionFn:t,context:r,arrayOfParams:i}=n;return e=t.apply(r,i),e instanceof Promise&&(e=Promise.resolve(e)),e};var MXe,dae={dirnameForTnp:MXe,packagesThat:{areTrustedForPatchUpdate:EXe},regexString:{pathPartStringRegex:"(/([a-zA-Z0-9]|\\-|\\_|\\+|\\.)*)"},placeholders:{forProjectsInEnvironmentFile:"//<PLACEHOLDER_FOR_PROJECTS>"},frameworkName:cXe,startPort:6001,frameworks:["bootstrap","ionic","material"],folder:vXe,tempFolders:tae,filesNotAllowedToClean:Object.keys(fI).map(n=>fI[n]),file:_Xe,reservedArgumentsNamesUglify:["reservedExpOne","reservedExpSec"],localLibs:[],helpAlias:["-h","--help","-help","help"]};var MI=class{constructor(){this.singleton=void 0,this.injections=[],this.vChildren=[],this.methods={}}},En={MODELS_MAPPING:Symbol(),DEFAULT_MODEL:Symbol(),STORAGE:"classesstorage",CLASSES:"classes",ClassNameStaticProperty:eae};function Bv(){return Wi({[En.CLASSES]:[]})}function RI(n){return typeof n=="string"?RI()[n]:(typeof Bv.prototype[En.STORAGE]>"u"&&(Bv.prototype[En.STORAGE]=Bv()),Bv.prototype[En.STORAGE])}function fae(){return RI()[En.CLASSES]}function pae(n,e,t){let{classFamily:r,uniqueKey:i,classNameInBrowser:s,singleton:o}=t||{classFamily:void 0,uniqueKey:"id",classNameInBrowser:void 0,singleton:void 0,autoinstance:!1};if(!ut(o)&&Id(o)&&o&&(o="first-instance"),i||(i="id"),n){let l=Co(qv(n));l.className=e,l.uniqueKey=i,l.classNameInBrowser=s}let a=fae().find(l=>l.className===e);if(a)a.target=n;else{let l={className:e,classNameInBrowser:s,target:n,uniqueKey:i,classFamily:r};ut(r)&&Object.defineProperty(l,"classFamily",{get:function(){let d=Object.getPrototypeOf(n);if(!At(d)||d.name==="Object"||d.name==="")return e;let h=mae(d);return kXe(h)}}),fae().push(l)}let c=n;if(o==="first-instance"||o==="last-instance"){let l={decoratedConstructor:function(...d){let h=c.apply(this,d);return(!Ye.getSingleton(c)||o==="last-instance")&&(Ye.setSingletonObj(c,this),Ye.setSingletonObj(l.decoratedConstructor,this)),h}};return l.decoratedConstructor.prototype=c.prototype,Object.keys(c).forEach(d=>{l.decoratedConstructor[d]=c[d]}),Object.defineProperty(l.decoratedConstructor,"name",{value:e,configurable:!0}),l.decoratedConstructor}else if(o==="autoinstance"){let l=new c;Ye.setSingletonObj(c,l)}}var rc={configs:[],classes:[]},RXe=`[typescript-class-helpers][getClassName(...)](PRODUCTION MODE ERROR)
Please use decoartor @CLASSNAME for each entity or controller
This is preventing class name problem in minified code.

import { CLASS } from 'typescript-class-helpers';

@CLASS.NAME('ExampleClass')
class ExampleClass {
  ...
}
`;function Vp(){return RI()[En.CLASSES]}function qv(n,e=[],t){if(!At(n))throw`[typescript-class-helper][getClassConfig] Cannot get class config from: ${n}`;let r,i=Object.getPrototypeOf(n),s=At(i)&&i.name!=="";if(rc.classes.includes(n)?r=rc.configs[rc.classes.findIndex(o=>o===n)]:(r=new MI,r.classReference=n,rc.classes.push(n)),rc.configs[rc.classes.findIndex(o=>o===n)]=r,t){let o=rc.configs[rc.classes.findIndex(a=>a===t)];r.vChildren.includes(o)||r.vChildren.push(o),o.vParent=r}return e.push(r),s?qv(i,e,n):e}function OXe(n,e){return function(t){return pae(t,n,e)}}function mae(n,e=!1){if(Il(n))return;if(mn(n))return Ol(`[typescript-class-helpers][getClassName] target is string: '${n}', produciton: ${e}`),n;if(n===Date)return"Date";if(n===FormData)return"FormData";if(!At(n)){Ol("[typescript-class-helpers][getClassName] target is not a class");return}if(n[En.ClassNameStaticProperty])return n[En.ClassNameStaticProperty];let t=qv(n),r=Co(t),i=r?.classNameInBrowser;if(ca&&mn(i))return i;let s=r?.className;if(typeof s=="string")return s;if(e)throw console.log("class without @CLASS.NAME deocrator",n),new Error(RXe);return n.name?.startsWith("class_")?"":n.name}function PXe(n){let e=_i.getNameFromObject(n),t=Vp().find(r=>r.className===e);if(t)return t.uniqueKey}function kXe(n){let e=Vp().find(t=>t.className===n);if(e)return e.classFamily}function hae(n){let e=_i.getNameFromObject(n),t=Vp().find(r=>r.className===e);if(t)return t.classFamily}function II(n){let e=_i.getNameFromObject(n),t=Vp().find(r=>r.className===e);if(t&&mn(t.uniqueKey))return n[t.uniqueKey]}function FXe(n){let e;if(Array.isArray(n)){if(n.length!==1)throw`Mapping error... please use proper class names:
  {
    propertyObject: 'MyClassName',
    propertyWithArray: ['MyClassName']
  }

        `;n=n[0]}typeof n=="function"&&(e=n),n==="Date"&&(e=Date),n==="FormData"&&(e=FormData);let t=Vp().find(r=>r.className===n);return t&&(e=t.target),e}var LXe=new RegExp(/(?:this\.)(.+?(?= ))/g);function gae(n,e=!1){var t=[];if(e){var r=Object.getPrototypeOf(n.prototype);r&&(t=t.concat(gae(r.constructor,e)))}let s=n.toString().match(LXe)||[];return t=t.concat(s),t.map(o=>o.replace("this.","").replace(".","").replace(")","").replace("(",""))}function BXe(n){let e={};if(n){n[En.DEFAULT_MODEL]&&Object.keys(n[En.DEFAULT_MODEL]).filter(i=>!At(n[En.DEFAULT_MODEL][i])).forEach(i=>e[i]=null);let r=n[En.MODELS_MAPPING];An(r)?r.forEach(i=>{Object.keys(i).forEach(s=>{e[s]=null})}):r&&Object.keys(r).forEach(i=>{e[i]=null})}let t=Object.keys(e).filter(r=>!!r);return t=(t.includes("id")?[]:["id"]).concat(t),t}var _i=class{static getBy(e){return FXe(e)}static getFromObject(e){if(ut(e)||Md(e))return;if(e.constructor)return e.constructor;let t=Object.getPrototypeOf(e);return t&&t.constructor}static getName(e,t=!1){return mae(e,t)}static getNameFromObject(e){let t=this.getFromObject(e);return this.getName(t)}static getConfigs(e){return qv(e)}static describeProperites(e){let t=gae(e),r=BXe(e),i={};return t.concat(r).forEach(s=>i[s]=s),Object.keys(i).filter(s=>!!s).filter(s=>typeof e.prototype[s]!="function")}},qXe=["length","name","arguments","caller","constructor","apply","bind","call","toString","__defineGetter__","__defineSetter__","hasOwnProperty","__lookupGetter__","__lookupSetter__","isPrototypeOf","propertyIsEnumerable","valueOf","__proto__","toLocaleString"],yae=(n,e=[])=>{if(!n)return e;let t=At(n),r=t?n:Object.getPrototypeOf(n),i=t?n?.prototype:n,s=Object.getPrototypeOf(i||{});return Rv([...Object.getOwnPropertyNames(i||{}),...Object.getOwnPropertyNames(s||{}),...Object.keys(i||{}),...Object.keys(s||{})]).filter(a=>!!a&&!qXe.includes(a)).filter(a=>typeof i[a]=="function").forEach(a=>e.push(a)),!r||!r.constructor||r?.constructor?.name==="Object"?e:yae(Object.getPrototypeOf(r),e)},Ye={NAME:OXe,setName:pae,getBy:_i.getBy,getSingleton(n){if(typeof n!="function"){console.error("[typescript-class-helpers][setSingletonObj] Type of target is not a function");return}return _i.getConfigs(n)[0].singleton},setSingletonObj(n,e){if(typeof n!="function"){console.error("[typescript-class-helpers][setSingletonObj] Type of target is not a function");return}if(Array.isArray(e)){console.error("[typescript-class-helpers][setSingletonObj] Singleton instance cant be an array");return}if(typeof e!="object"){console.error("[typescript-class-helpers][setSingletonObj] Singleton instance cant must be a object");return}let t=Ye.getName(n),r=_i.getConfigs(n)[0];r.singleton&&console.warn(`[typescript-class-helpers] You are trying to set singleton of "${t}" second time with different object.`),r.singleton=e},getConfigs:_i.getConfigs,getConfig:n=>Co(_i.getConfigs(n)),getMethodsNames(n){return yae(n)},getFromObject:_i.getFromObject,getName:_i.getName,getNameFromObject:_i.getNameFromObject,describeProperites:_i.describeProperites,OBJECT:n=>({get indexValue(){return II(n)},get indexProperty(){return PXe(n)},get isClassObject(){if(!Ut(n)||An(n)||yI(n)||pI(n)||hI(n))return!1;if(mI(n))return!0;let e=Ye.getNameFromObject(n);return mn(e)&&e!=="Object"},isEqual:(e,t=!1)=>{if(!Ye.OBJECT(n).isClassObject||!Ye.OBJECT(e).isClassObject)return!1;if(n===e)return!0;let r=II(n),i=II(e),s=hae(n),o=hae(e);return!mn(s)||!mn(o)||s!==o||!Ye.OBJECT(n).isClassObject||!Ye.OBJECT(e).isClassObject?!1:Ml(r)&&Ml(i)||mn(r)&&mn(i)?r===i:t?Goe(r,i):!1}})};function bae(n,e,t){let r=n.v;if(An(r))return r.map((i,s)=>({v:i,p:`${e}[${s}]`,parent:n,isGetter:!1}));if(Ut(r)){let i=t?Object.getOwnPropertyNames(r):[],s=[];for(let o in r)Ut(r)&&At(r.hasOwnProperty)&&r.hasOwnProperty(o)&&(vI(i,o),s.push({v:r[o],p:`${e===""?"":`${e}.`}${o}`,parent:n,isGetter:!1}));if(t){for(let o=0;o<i.length;o++)if(Ut(r)){let a=i[o];s.push({v:r[a],p:`${e===""?"":`${e}.`}${a}`,parent:n,isGetter:!0})}}return s}return[]}var jv=class{static get Walk(){let e=this;return{Object(t,r,i){ut(i)&&(i={}),i.hasIterator=At(r),ut(i.breadthWalk)&&(i.breadthWalk=!1);let{circural:s}=e._walk(t,t,r,void 0,i);return{circs:s}},ObjectBy(t,r,i,s){At(i)&&i(r,"",e._changeValue(r,t,!0));let o=r[t];return e.Walk.Object(o,i,s)}}}static _changeValue(e,t,r=!1,i){var{contextPath:s,property:o}=this._prepareParams(t),a=Gi(e,s);return c=>{s===""&&(r=!0),r?e[o]=c:a&&(a[o]=c),i&&(i._valueChanged=!0)}}static _prepareParams(e){let t=this._Helpers.Path.getContextPath(e),r=this._Helpers.Path.getPropertyPath(e,t);return mn(r)&&r.trim()!==""&&!gI(Number(r))&&(r=Number(r)),{contextPath:t,property:r}}static get _Helpers(){return{get Path(){return{getPropertyPath(e,t){return e.replace(t,"").replace(/^\./,"").replace(/\[/,"").replace(/\]/,"")},getContextPath(e){let t;return e.endsWith("]")?t=e.replace(/\[(\"|\')?[0-9]+(\"|\')?\]$/,""):t=e.replace(/\.([a-zA-Z0-9]|\$|\_|\@|\-|\/|\:)+$/,""),t===e?"":t}}}}}static _shoudlReturn(e=[],t=[],r){let i=!1;return r.replace(/^\[(\'|\")?[0-9]*(\'|\")?\]/,"").trim()!==""&&(r=r.replace(/^\[(\'|\")?[0-9]*(\'|\")?\]\./,""),i=An(e)&&e.length>0&&!e.find(s=>r.startsWith(s))||An(t)&&t.length>0&&!!t.find(s=>r.startsWith(s))),i}static prepareOptions(e,t,r){if(e._exit)return;ut(e.walkGetters)&&(e.walkGetters=!0),ut(e.checkCircural)&&(e.checkCircural=!1),ut(e.isGetter)&&(e.isGetter=!1),ut(e._valueChanged)&&(e._valueChanged=!1),ut(e._exit)&&(e._exit=!1),ut(e.exit)&&(e.exit=()=>{e._exit=!0}),ut(e._skip)&&(e._skip=!1),ut(e.skipObject)&&(e.skipObject=()=>{e._skip=!0}),e.checkCircural&&(ut(e.db)&&(e.db={}),ut(e.stack)&&(e.stack=[]),ut(e.circural)&&(e.circural=[]));let{db:i,stack:s}=e;if(e.isCircural=!1,e.checkCircural&&Ut(t)){let o=Ye.OBJECT(t).indexValue;if(Ye.OBJECT(t).isClassObject&&!ut(o)){let c=`${Ye.getNameFromObject(t)}.id_${o}`,l=Gi(i,c);if(l&&Ye.OBJECT(l.target).isEqual(t)){let d={pathToObj:r,circuralTargetPath:l.path};e.circural.push(d),e.isCircural=!0}else Qi(i,c,{path:r,target:t})}else{let a=s.find(c=>c.target==t);if(ut(a))s.push({path:r,target:t});else{let c={pathToObj:r,circuralTargetPath:a.path};e.circural.push(c),e.isCircural=!0}}}return e}static _walk(e,t,r,i="",s,o=0){if(s||(s={}),!s.breadthWalk){if(s=this.prepareOptions(s,t,i),this._shoudlReturn(s.include,s.exclude,i))return;if(s.hasIterator&&i!==""&&r(t,i,this._changeValue(e,i,!1,s),s),s._valueChanged&&(t=Gi(e,i)),s._valueChanged=!1,s.isCircural&&(s._skip=!0),s._skip){s._skip=!1;return}}if(s.breadthWalk){let a=[{v:e,p:i,parent:void 0}];for(;a.length>0;){let c=a.shift();if(this._shoudlReturn(s.include,s.exclude,c.p))continue;let{v:l,p:d}=c;if(s=this.prepareOptions(s,l,d),s._exit)return console.log("EXIT"),s;if(s.hasIterator&&d!==""&&r(l,d,this._changeValue(e,d,!1,s),s),s._valueChanged&&(c.v=Gi(e,d)),s._valueChanged=!1,!s.isCircural){if(s._skip){s._skip=!1;continue}(An(l)||Ut(l))&&(a=a.concat(bae(c,d,s.walkGetters)))}}}else{let{walkGetters:a}=s;if(Array.isArray(t))t.forEach((c,l)=>{this._walk(e,t[l],r,`${i}[${l}]`,s,o+1)});else if(Ut(t)){let c=a?Object.getOwnPropertyNames(t):[];for(let l in t)if(Ut(t)&&t.hasOwnProperty(l)){vI(c,l);let d=l;s.isGetter=!1,d.includes(".")&&(d=`['${d}']`),this._walk(e,t[d],r,`${i===""?"":`${i}.`}${d}`,s,o+1)}if(a){for(let l=0;l<c.length;l++)if(Ut(t)){let d=c[l];s.isGetter=!0,this._walk(e,t[d],r,`${i===""?"":`${i}.`}${d}`,s,o+1)}}}s._exit&&e===t&&(s._exit=!1)}return s}},ic={Object:jv.Walk.Object,ObjectBy:jv.Walk.ObjectBy};var fs=class{static structureArray(e,t){let r=[],{include:i,exclude:s}=t||{};return ic.Object(e,(o,a)=>{ut(o)||r.push(a)},{include:i,exclude:s,checkCircural:!0}),r}static cleaned(e,t,r){let i=An(e)?[]:{},s=Ye.OBJECT(e).isClassObject&&Ye.getFromObject(e),{exclude:o,include:a,breadthWalk:c}=r||{exclude:[],include:[],breadthWalk:!1},{circs:l}=ic.Object(e,(d,h,p,b)=>{Ut(d)&&b.isCircural?Qi(i,h,null):Qi(i,h,Wi(d))},{include:a,exclude:o,breadthWalk:c,checkCircural:!0});return At(t)&&t(l),At(s)?Ur(new s,i):i}static stringify(e,t,r,i){let s=this.cleaned(e,i);return JSON.stringify(s,t,r)}static parse(e,t=[]){let r=JSON.parse(e);return An(t)&&t.forEach(({circuralTargetPath:i,pathToObj:s})=>{if(i==="")Qi(r,s,r);else{let o=Gi(r,i);Qi(r,s,o)}}),r}};var xae=M(vae(),1);var We=(function(n){return n[n.DATA=0]="DATA",n[n.INFO=1]="INFO",n[n.WARN=2]="WARN",n[n.ERROR=3]="ERROR",n[n.SUCCESS=4]="SUCCESS",n[n.TASK_STARTED=5]="TASK_STARTED",n[n.TASK_DONE=6]="TASK_DONE",n[n.__NOTHING=7]="__NOTHING",n})(We||{}),sc={[We.DATA]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error",[We.SUCCESS]:"success",[We.TASK_STARTED]:"taskstarted",[We.TASK_DONE]:"taskdone",[We.__NOTHING]:""},Eae=[sc[We.DATA],sc[We.TASK_STARTED],sc[We.TASK_DONE],sc[We.INFO],sc[We.SUCCESS],sc[We.WARN],sc[We.ERROR]],ua=class{static msg(e,t,r,i,s,o,a){if(a)return;let c="gray";if(s===We.INFO&&(c="deepskyblue"),s===We.ERROR&&(c="red"),s===We.WARN&&(c="orange"),o){let l=o-r.length;if(l>0)for(let d=0;d<l;d++)r+=" "}if(ca)if(document.documentMode||/Edge/.test(navigator.userAgent)){if(typeof e=="string"){let d="[[ "+r+" ]] "+e+" ";t.unshift(d)}else{let d="[[ "+r+"]] ";t.push(e),t.unshift(d)}s===We.INFO?console.info.apply(console,t):s===We.ERROR?console.error.apply(console,t):s===We.WARN?console.warn.apply(console,t):console.log.apply(console,t)}else{if(typeof e=="string"){let d="%c "+r+"  %c "+e+" ",h="background: "+i+";color:white; border: 1px solid "+i+"; ",p="border: 1px solid "+c+"; ";t.unshift(p),t.unshift(h),t.unshift(d)}else{let d="%c "+r+" ",h="background: "+i+";color:white; border: 1px solid "+c+"; ";t.push(e),t.unshift(h),t.unshift(d)}console.log.apply(console,t)}}},OI=class{setLevel(e){return this._level=e,this}get isProductionMode(){return!this.developmentMode}setProductionMode(e){return this.developmentMode=!e,this}mute(){return this.isMuted=!0,this}constructor(e,t,r,i,s,o){this.name=e,this.color=t,this.developmentMode=r,this.allowed=i,this.isMuted=s,this.fixedWidth=o,this.d=(a,...c)=>this._data(a,c),this.er=(a,...c)=>this._error(a,c),this.i=(a,...c)=>this._info(a,c),this.w=(a,...c)=>this._warn(a,c),this.data=(a,...c)=>this._data(a,c),this.error=(a,...c)=>this._error(a,c),this.info=(a,...c)=>this._info(a,c),this.success=(a,...c)=>this._success(a,c),this.taskStarted=(a,...c)=>this._taskStarted(a,c),this.taskDone=(a,...c)=>this._taskDone(a,c),this.warn=(a,...c)=>this._warn(a,c)}onlyWhen(e){typeof e=="function"?this.isMuted=!e():typeof e=="boolean"&&(this.isMuted=!e)}_data(e,...t){return this.isMuted?this:this.allowed.length>=1&&Dn(this.allowed,We.__NOTHING)&&!Dn(this.allowed,We.DATA)?this:((this.allowed.length===0||Dn(this.allowed,We.DATA))&&ua.msg.apply(void 0,[e,...t,this.name,this.color,We.DATA,this.fixedWidth,this.isProductionMode]),this)}_error(e,...t){return this.isMuted?this:this.allowed.length>=1&&Dn(this.allowed,We.__NOTHING)&&!Dn(this.allowed,We.ERROR)?this:((this.allowed.length===0||Dn(this.allowed,We.ERROR))&&ua.msg.apply(void 0,[e,...t,this.name,this.color,We.ERROR,this.fixedWidth,this.isProductionMode]),this)}_info(e,...t){return this.isMuted?this:this.allowed.length>=1&&Dn(this.allowed,We.__NOTHING)&&!Dn(this.allowed,We.INFO)?this:((this.allowed.length===0||Dn(this.allowed,We.INFO))&&ua.msg.apply(void 0,[e,...t,this.name,this.color,We.INFO,this.fixedWidth,this.isProductionMode]),this)}_success(e,...t){return this.isMuted?this:this.allowed.length>=1&&Dn(this.allowed,We.__NOTHING)&&!Dn(this.allowed,We.SUCCESS)?this:((this.allowed.length===0||Dn(this.allowed,We.SUCCESS))&&ua.msg.apply(void 0,[e,...t,this.name,this.color,We.SUCCESS,this.fixedWidth,this.isProductionMode]),this)}_taskStarted(e,...t){return this.isMuted?this:this.allowed.length>=1&&Dn(this.allowed,We.__NOTHING)&&!Dn(this.allowed,We.TASK_STARTED)?this:((this.allowed.length===0||Dn(this.allowed,We.TASK_STARTED))&&ua.msg.apply(void 0,[e,...t,this.name,this.color,We.TASK_STARTED,this.fixedWidth,this.isProductionMode]),this)}_taskDone(e,...t){return this.isMuted?this:this.allowed.length>=1&&Dn(this.allowed,We.__NOTHING)&&!Dn(this.allowed,We.TASK_DONE)?this:((this.allowed.length===0||Dn(this.allowed,We.TASK_DONE))&&ua.msg.apply(void 0,[e,...t,this.name,this.color,We.TASK_DONE,this.fixedWidth,this.isProductionMode]),this)}_warn(e,...t){return this.isMuted?this:this.allowed.length>=1&&Dn(this.allowed,We.__NOTHING)&&!Dn(this.allowed,We.WARN)?this:((this.allowed.length===0||Dn(this.allowed,We.WARN))&&ua.msg.apply(void 0,[e,...t,this.name,this.color,We.WARN,this.fixedWidth,this.isProductionMode]),this)}},$v=(()=>{class n{constructor(){this._logOnly=!1,this._logModules=!1,this.isDevelopmentMode=!0,this.modeIsSet=!1,this.fixedWidth=0,this.instances={},this.levels=[],this.modules=[]}static get instance(){return n._instance||(n._instance=new n),n._instance}static{this.Logger=OI}static create(t,...r){return n.instance.create(t,...r)}static{this.consolelogfn={}}static disableLogs(t=We.__NOTHING){Eae.reverse().find(r=>(this.consolelogfn[r]||(this.consolelogfn[r]=console[r]),console[r]=()=>{},r===sc[t]))}static enableLogs(){Eae.forEach(t=>{console[t]=this.consolelogfn[t]})}setProductionMode(){if(this.modeIsSet)throw this.modeIsSet=!1,"[ng2-logger] Production mode is already set";this.modeIsSet=!0,setTimeout(()=>{this.modeIsSet&&console!==void 0&&console.clear!==void 0&&(console.clear(),console.log=()=>{},console.error=()=>{},console.warn=()=>{},console.info=()=>{})}),this.isDevelopmentMode=!1}onlyModules(...t){if(this._logModules)throw"[ng2-logger] You should use funcion onlyModules only once";this._logModules||(this._logModules=!0),t.length!==0&&(this.modules=t,this.muteAllOtherModules())}onlyLevel(...t){if(this._logOnly)throw"[ng2-logger] You should use funcion onlyLevel only once";this._logOnly||(this._logOnly=!0),this.levels=Array.isArray(t)?t:[t];for(let r in this.instances)if(this.instances.hasOwnProperty(r)){let i=this.instances[r];i.allowed=this.levels}}create(t,...r){let i;return Array.isArray(this.levels)&&this.levels.length>0&&(r=this.levels),this.instances[t]===void 0?(i=new n.Logger(t,wae(),this.isDevelopmentMode,r,this.isMutedModule(t),this.levels.length>0?this.fixedWidth:void 0),this.instances[t]=i):i=this.instances[t],i}isMutedModule(t){return this.modules.length==0?!1:!Dn(this.modules,t)}muteAllOtherModules(){for(var t in this.instances)Dn(this.modules,t)||this.instances[t].mute()}}return n})();function wae(){let n="012345".split(""),e="#";e+=n[Math.round(Math.random()*5)],n="0123456789ABCDEF".split("");for(let t=0;t<5;t++)e+=n[Math.round(Math.random()*15)];return e===void 0?wae():e}var zv=class n{static get Instance(){return n.__instance||(n.__instance=new n),n.__instance}constructor(){}read(e){var t=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie);return t?t[1]:null}write(e,t,r){r||(r=365*20);var i=new Date;i.setTime(i.getTime()+r*24*60*60*1e3);var s="; expires="+i.toUTCString();document.cookie=e+"="+t+s+"; path=/"}remove(e){this.write(e,"",-1)}};function Gp(n,e=!1){if(ut(n))return;let t=UXe(An(n)?Co(n):n,!e);return e&&(t=Ur(Hv(n),t)),t}function jXe(n,e,t=[]){if(mn(n)||Id(n)||Ml(n))return n;if(e[""]){let i=Rd(Ye.getBy(e[""]));e=Ur(e,i)}let r;return An(t)&&t.length>0?r=VXe(n,e,t):r=zp(n,e),r}function UXe(n,e=!1){let t=Ye.getFromObject(n);return Rd(t)}function Rd(n){if(!At(n)||n===Object)return{};let e=Ye.getName(n),t=An(n[En.MODELS_MAPPING])?n[En.MODELS_MAPPING]:[{"":e}],r={},i=t.filter(s=>!ut(s[""])&&s[""]!==e).map(s=>s[""]);return t.reverse().forEach(s=>{s=Wi(s),Object.keys(s).forEach(o=>{let a=s[o],c=An(a),l=c?Co(a):a;i.includes(l)&&(s[o]=c?[e]:e)}),r=Ur(r,s)}),r[""]=e,r}function Cae(n,e,t={}){if(!n||Array.isArray(n)||typeof n!="object")return;let r=Object.getPrototypeOf(n);if(!r)return;let i=Ye.getName(r.constructor),s=Ye.getBy(i);if(!s){i!=="Object"&&ca&&console.error(`Cannot resolve class "${i}" while mapping.`);return}t[e]||(t[e]=Ye.getName(s))}function Hv(n,e="",t={},r=0){if(n!=null){if(Array.isArray(n))return n.forEach(s=>Hv(s,e,t,r)),t;if(++r!==16){Cae(n,e,t);for(var i in n)if(At(n.hasOwnProperty)&&n.hasOwnProperty(i)){let s=n[i];if(Array.isArray(s)&&s.length>0)s.forEach((o,a)=>{let c=[e,i].filter(l=>l.trim()!="").join(".");Hv(o,c,t,r)});else if(typeof s=="object"){let o=[e,i].filter(a=>a.trim()!="").join(".");Cae(s,o,t),Hv(s,o,t,r)}}return t}}}function $Xe(n){if(!mn(n))return;let e=/\[([0-9a-zA-Z]|\'|\")*\]/g;return n=n.replace(e,"").replace("..","."),n.startsWith(".")&&(n=n.slice(1)),n}function VXe(n,e={},t=[]){let r=!An(n)&&Ye.getBy(e[""]);return ic.Object(n,(i,s,o)=>{if(!ut(i)&&!Md(i)){let a=$Xe(s);if(!ut(e[a])){let c=An(e[a]);if(!c){let l=c?Co(e[a]):e[a],d=Ye.getBy(l);At(d)&&o(Ur(new d,i))}}}}),t.forEach(i=>{let s=Gi(n,i.circuralTargetPath);Qi(n,i.pathToObj,s)}),At(r)&&(n=Ur(new r,n)),n}function zp(n,e={}){if(Array.isArray(n))return n.map(r=>zp(r,e));let t=Ye.getBy(e[""]);for(let r in n)if(n.hasOwnProperty(r)){if(An(n[r]))n[r]=n[r].map(i=>{let s=Rd(Ye.getBy(e[r]));return zp(i,s)});else if(Ut(n[r])){let i=Rd(Ye.getBy(e[r]));n[r]=zp(n[r],i)}}return Object.keys(e).filter(r=>r!==""&&r.split(".").length>=2).forEach(r=>{let i=Rd(Ye.getBy(e[r])),s=Gi(n,r);if(!ut(s)){let o=zp(s,i);Qi(n,r,o)}}),t?Ur(new t,n):n}function UI(n,e){return function(t){if(An(t[En.MODELS_MAPPING])||(t[En.MODELS_MAPPING]=[]),t[En.MODELS_MAPPING].push({"":Ye.getName(t)}),Ut(e)&&(t[En.MODELS_MAPPING]=t[En.MODELS_MAPPING].concat(e),Object.keys(e).forEach(r=>{let i=e;if(ut(i)||At(i))throw`


            Class: '${t.name}'
[ng2rest] Bad mapping value for path: ${r} , please use type: <string> or [<string>]
`})),Ut(n)){let r={};Ye.describeProperites(t).filter(o=>/^([a-zA-Z0-9]|\_|\#)+$/.test(o)).forEach(o=>{n[o]?console.warn(`

            CONFLICT: default value for property: "${o}"
            in class "${t.name}" already defined as typescript
            default class proprty value.

            `):r[o]=null}),t[En.DEFAULT_MODEL]=Ur(r,n);let s=Object.keys(t[En.DEFAULT_MODEL]).filter(o=>!!Object.getOwnPropertyDescriptor(t.prototype,o));Ur(t.prototype,Koe(t[En.DEFAULT_MODEL],s))}}}var I$t=$v.create("[ng2-rest] params",We.__NOTHING);function HXe(n){return new RegExp("/:[a-zA-Z]*","g").test(n.replace("://",""))}function zXe(n){return n.match(new RegExp("[a-z-A-Z]*/:","g")).map(t=>t.replace("/:",""))}function WXe(n){return n.charAt(n.length-1)!=="/"&&(n=`${n}/`),n.match(new RegExp(":[a-zA-Z]*/","g")).map(r=>r.replace(":","").replace("/","")).filter(r=>r.trim()!=="")}function GXe(n,e){return n.charAt(0)!=="/"&&(n="/"+n),e.filter(r=>{let i="/"+r,s=n.indexOf(i);return s+i.length<n.length&&n.charAt(s+i.length)!=="/"?!1:s!==-1?(n=n.replace(new RegExp("/"+r,"g"),""),!0):!1}).length===e.length}function QXe(n){let e="";for(let t=0;t<n;t++)e+="*";return e}function KXe(n,e){let t={},r=WXe(e);r.forEach(s=>{e=e.replace(`:${s}`,QXe(s.length))});let i;return(0,xae.diffChars)(e,n).forEach(s=>{s.added&&(isNaN(Number(s.value))?s.value.trim()==="true"?t[i]=!0:s.value.trim()==="false"?t[i]=!1:t[i]=decodeURIComponent(s.value):t[i]=Number(s.value),i=void 0);let o=s.value.replace(":","");s.removed&&(i=r.shift())}),t}var Tae=/[^\..]+(\.[^\..]+)+/g;function Wp(n,e,t){if(e.length===0)return t.join("/");let r=e.pop(),i=r.match(/:[a-zA-Z0-9\.]+/)[0].replace(":",""),s=Tae.test(i),o=r.match(/[a-zA-Z0-9]+\//)[0].replace("/","");if(n===void 0||(s?Gi(n,i)===void 0:n[i]===void 0)||i==="undefined")return t.length=0,t.unshift(o),Wp(n,e,t);if(s){let a=r.replace(new RegExp(`:${i}`,"g"),`${Gi(n,i)}`);return t.unshift(a),Wp(n,e,t)}else{let a=r.replace(new RegExp(`:${i}`,"g"),`${n[i]}`);return t.unshift(a),Wp(n,e,t)}}function JXe(n,e){let t=/\[\[([^\..]+\.[^\..]+)+\]\]/g;e=e.split("/").map(l=>{if(l.startsWith(":")){let h=l.slice(1);return t.test(h)&&(h=h.replace("[[",""),h=h.replace("]]","")),`:${h}`}return l}).join("/");let r={start:e.charAt(0)==="/",end:e.charAt(e.length-1)==="/"},i=e.match(/(\/:[a-zA-Z0-9\.]+){2,10}/g);if(i&&Array.isArray(i)&&i.length===1)return i[0].match(/\/:[a-zA-Z0-9\.]+/g).forEach(h=>{let p=h.replace("/:","");Tae.test(p)?e=e.replace(h,`/${Gi(n,p)}`):e=e.replace(h,`/${n[p]}`)}),e;let s=e.match(/[a-zA-Z0-9]+\/:[a-zA-Z0-9\.]+/g);if(!s||Array.isArray(s)&&s.length===0)return e;r.end||(e=`${e}/`);let o=!/:[a-zA-Z0-9\.]+\/$/g.test(e)&&/[a-zA-Z0-9]+\/$/g.test(e),a=(s.length>1?s.join("/"):s[0])+(o?"/"+e.match(/[a-zA-Z0-9]+\/$/g)[0]:"/"),c=e.replace(a,"");return o?(e=e.replace(/\/$/g,"/:undefined"),s=e.match(/[a-zA-Z0-9]+\/:[a-zA-Z0-9\.]+/g),e=Wp(n,s,[])):e=Wp(n,s,[]),e=c+e,e.charAt(e.length-1)!=="/"&&r.end&&(e=`${e}/`),e.charAt(0)!=="/"&&r.start&&(e=`/${e}`),e}function YXe(n,e=!1){let t=[];return!n||!(n instanceof Array)||n.length===0||(n.forEach(i=>{if(JSON.stringify(i)!=="{}"){let s=[],o=i;for(let a in o)if(o[a]===void 0&&delete o[a],o.hasOwnProperty(a)&&typeof a=="string"&&a!=="regex"&&!(o[a]instanceof RegExp)){if(a.length>0&&a[0]==="/"){let l=a.slice(1,a.length-1);i[l]=i[a],i[a]=void 0,a=l}if(a.length>0&&a[a.length-1]==="/"){let l=a.slice(0,a.length-2);i[l]=i[a],i[a]=void 0,a=l}i[a]instanceof Object&&(i[a]=JSON.stringify(i[a])),i[a]=e?i[a]:encodeURIComponent(i[a]),i.regex!==void 0&&i.regex instanceof RegExp&&(i.regex.test(i[a])||console.warn(`Data: ${i[a]} incostistent with regex ${i.regex.source}`)),s.push(`${a}=${i[a]}`)}t.push(s.join("&"))}}),t.join().trim().trim()==="")?"":`?${t.join("&")}`}var kI=class{handle(e){return Yt(Nl.request(e))}},ZXe=(n,e)=>n.reduceRight((t,r)=>({handle:i=>r.intercept({req:i,next:t})}),e),FI=class{};var LI=class extends FI{},Wv=class{toJSON(e,t){t=t||{isJSONArray:!1};let r=t.isJSONArray?[]:{};if(typeof e=="string")try{let i=JSON.parse(e);return typeof i=="string"&&i.trim().startsWith("{")&&(i=JSON.parse(i)),t.parsingError&&i[Ov]?Ur(new LI,i):i}catch{}else if(typeof e=="object")return e;return r}},BI=class extends Wv{constructor(e,t=!1,r,i){super(),this.responseText=e,this.isArray=t,this.entity=r,this.circular=i}get blob(){return this.responseText}get booleanValue(){if(!la(this.responseText))return["ok","true"].includes(this.responseText?.trim())}get numericValue(){if(!la(this.responseText))return Number(this.responseText?.trim())}get rawJson(){if(!la(this.responseText)){let e=this.toJSON(this.responseText,{isJSONArray:this.isArray});return this.circular&&Array.isArray(this.circular)&&(e=fs.parse(JSON.stringify(e),this.circular)),e}}get json(){if(la(this.responseText))return;if(this.entity&&typeof this.entity=="function")return this.entity();if(this.entity&&typeof this.entity=="object"){let r=this.toJSON(this.responseText,{isJSONArray:this.isArray});return jXe(r,this.entity,this.circular)}let t=this.toJSON(this.responseText,{isJSONArray:this.isArray});return this.circular&&Array.isArray(this.circular)&&(t=fs.parse(JSON.stringify(t),this.circular)),t}get text(){if(!la(this.responseText))return this.responseText.replace(/^\"/,"").replace(/\"$/,"")}},qI=class extends Wv{constructor(e){super(),this.data=e}get json(){return this.toJSON(this.data,{parsingError:!0})}get text(){return this.data}},Gv=class n{static{this.cookies=zv.Instance}get cookies(){return n.cookies}constructor(e,t,r,i=!1){this.responseText=e,this.headers=t,this.statusCode=r,this.isArray=i}},Od=class extends Gv{constructor(e,t,r,i,s,o,a,c=!1){super(t,r,i,c),this.sourceRequest=e,this.responseText=t,this.headers=r,this.statusCode=i,this.entity=s,this.circular=o,this.jobid=a,this.isArray=c,this.init()}init(){if(typeof this.entity=="string"){let e=this.headers?.getAll(this.entity);e&&(this.entity=JSON.parse(e.join()))}if(typeof this.circular=="string"){let e=this.headers?.getAll(this.circular);e&&(this.circular=JSON.parse(e.join()))}this.body=new BI(this.responseText,this.isArray,this.entity,this.circular)}},Pl=class extends Gv{constructor(e,t,r,i,s,o){super(t,r,i),this.message=e,this.jobid=s,this.sourceRequest=o,this.body=new qI(t)}},si=class n{static from(e){if(e)return new n(e)}constructor(e){this._headers=new Map,this._normalizedNames=new Map,e instanceof n?e.forEach((t,r)=>{t.forEach(i=>this.set(r,i))}):Object.keys(e).forEach(t=>{let r=Array.isArray(e[t])?e[t]:[e[t]];this.delete(t),r.forEach(i=>this.set(t,i))})}static fromResponseHeaderString(e){let t=new n;return e.split(`
`).forEach(r=>{let i=r.indexOf(":");if(i>0){let s=r.slice(0,i),o=r.slice(i+1).trim();t.set(s,o)}}),t}append(e,t){let r=this.getAll(e);r===null?this.set(e,t):r.push(t)}delete(e){let t=e.toLowerCase();this._normalizedNames.delete(t),this._headers.delete(t)}forEach(e){this._headers.forEach((t,r)=>e(t,this._normalizedNames.get(r),this._headers))}get(e){let t=this.getAll(e);return t===null?null:t.length>0?t[0]:null}has(e){return this._headers.has(e.toLowerCase())}keys(){return Array.from(this._normalizedNames.values())}set(e,t){Array.isArray(t)?t.length&&this._headers.set(e.toLowerCase(),[t.join(",")]):this._headers.set(e.toLowerCase(),[t]),this.mayBeSetNormalizedName(e)}values(){return Array.from(this._headers.values())}toJSON(){let e={};return this._headers,this._headers.forEach((t,r)=>{let i=[];t.forEach(s=>i.push(...s.split(","))),e[this._normalizedNames.get(r)]=i}),e}getAll(e){return this.has(e)?this._headers.get(e.toLowerCase()):null}mayBeSetNormalizedName(e){let t=e.toLowerCase();this._normalizedNames.has(t)||this._normalizedNames.set(t,e)}},XXe="jobID",Hp="customObs",PI="cancelFn",Vv="isCanceled",eet=(()=>{class n{constructor(){this.subjectInuUse={},this.meta={},this.interceptors=new Map,this.methodsInterceptors=new Map,this.replaySubjects={}}static{this.jobId=0}handlerResult(t,r){ut(t)&&(t={});let{res:i,jobid:s,isArray:o,method:a}=t;if(typeof i!="object")throw new Error("No resposnse for request. ");if(ca&&(i.headers=si.from(i.headers)),i.error){this.subjectInuUse[s].error(new Pl(i.error,i.data,i.headers,i.code,s,r));return}let c=this.meta[s].entity,l=this.meta[s].circular,d=hs._listenSuccess,h=new Od(r,i.data,i.headers,i.code,c,l,s,o);d.next(h),this.subjectInuUse[s].next(h),this.meta[s]=void 0,this.subjectInuUse[s].complete()}async req(t,r,i,s,o,a=!1,c,l){let h=Nl.CancelToken.source();this.subjectInuUse[o][PI]=h.cancel;var p;if(c){if(typeof c=="object")p={data:c.data,status:c.code,headers:c.headers,statusText:c.error,config:{}};else if(typeof c=="function"){let k=c(t,r,i,s);p={data:k.data,status:k.code,headers:k.headers,statusText:k.error,config:{}}}}let b=Ye.getNameFromObject(s)==="FormData",v=b?s:void 0,x=i.toJSON(),N=x.responsetypeaxios?x.responsetypeaxios:"text";try{if(!p){let k=K({url:t,method:r,data:s,responseType:N,headers:x,cancelToken:h.token},l||{});b&&(k.maxBodyLength=1/0);let ee=new URL(t),X=new kI,ne=Array.from(this.interceptors.entries()).map(([Ce,qe])=>qe),de=Array.from(this.methodsInterceptors.entries()).filter(([Ce])=>{let qe=`-${r?.toUpperCase()}-${ee.pathname}`;return Ce.endsWith(qe)}).map(([Ce,qe])=>qe),g=[...ne,...de],xe=ZXe(g,X);p=await Df(xe.handle(k))}if(this.subjectInuUse[o][Vv])return;this.handlerResult({res:{code:p.status,data:p.data,isArray:a,jobid:o,headers:si.from(p.headers)},method:r,jobid:o,isArray:a},{url:t,body:s,method:r,isArray:a})}catch(k){if(this.subjectInuUse[o][Vv])return;if(typeof k=="object"&&k.response&&k.response.data){let X=k.response.data,ne=k.response.data.message||"",de=(X.stack||"").split(`
`);hs._listenErrors.next({msg:ne,stack:de,data:k.response.data})}let ee=k&&k.response?`[${k.response.statusText}]: `:"";this.handlerResult({res:{code:k&&k.response?k.response.status:void 0,error:`${ee}${k.message}`,data:k&&k.response?JSON.stringify(k.response.data):void 0,isArray:a,jobid:o,headers:si.from(k&&k.response&&k.response.headers)},method:r,jobid:o,isArray:a},{url:t,body:s,isArray:a,method:r})}}getReplay(t,r,i){let s;ut(this.replaySubjects[r.endpoint])&&(this.replaySubjects[r.endpoint]={}),ut(this.replaySubjects[r.endpoint][r.path])&&(this.replaySubjects[r.endpoint][r.path]={}),ut(this.replaySubjects[r.endpoint][r.path][t])&&(this.replaySubjects[r.endpoint][r.path][t]={});let o=Object.keys(this.replaySubjects[r.endpoint][r.path][t]).length+(i?0:1);if(i&&o===0)return s;if(ut(this.replaySubjects[r.endpoint][r.path][t][o])&&(this.replaySubjects[r.endpoint][r.path][t][o]={subject:new Ke,data:void 0}),s=this.replaySubjects[r.endpoint][r.path][t][o],!Ml(s.id)){n.jobId===Number.MAX_SAFE_INTEGER&&(n.jobId=0);let a=n.jobId++;s.id=a;let c=s.subject;c[XXe]=a,this.meta[a]=r,this.subjectInuUse[a]=c,this.subjectInuUse[a][Hp]=new et(l=>{l.add(()=>{this.subjectInuUse[a][Vv]||(this.subjectInuUse[a][Vv]=!0,typeof this.subjectInuUse[a][PI]=="function"&&this.subjectInuUse[a][PI]("[ng2-rest] on purpose canceled http request"))});let d=c.subscribe({next:h=>l.next(h),error:h=>l.error(h),complete:()=>{setTimeout(()=>{d.unsubscribe(),l.complete()})}})})}return s}generalReq(t,r,i,s,o,a,c,l){let d=this.getReplay(t,o,!1);d.data={url:r,body:i,headers:s,isArray:a},((p,b,v,x,N,k,ee,X,ne)=>{setTimeout(()=>p.req(b,v,x,N,k,ee,X,ne))})(this,r,t,s,i,d.id,a,c,l);let h=Df(d.subject[Hp]);return h.observable=d.subject[Hp],h}get(t,r,i,s,o,a,c){return this.generalReq("get",t,r,i,s,o,a,c)}head(t,r,i,s,o,a,c){return this.generalReq("head",t,r,i,s,o,a,c)}delete(t,r,i,s,o,a,c){return this.generalReq("delete",t,r,i,s,o,a,c)}post(t,r,i,s,o,a,c){return this.generalReq("post",t,r,i,s,o,a,c)}put(t,r,i,s,o,a,c){return this.generalReq("put",t,r,i,s,o,a,c)}patch(t,r,i,s,o,a,c){return this.generalReq("patch",t,r,i,s,o,a,c)}jsonp(t,r,i,s,o,a,c){let l="jsonp";if(cae){let b=Promise.resolve();return b.observable=new et,console.warn("Cannot perform jsonp request in SSR mode"),b}let d=this.getReplay("jsonp",s,!1),h=d.id;setTimeout(()=>{t.endsWith("/")&&(t=t.slice(0,t.length-1));let v="cb_"+Math.round(1e4*Math.random()),x=globalThis;x[v]=k=>{this.handlerResult({res:{data:k,isArray:o},method:l,jobid:h,isArray:o},{url:t,body:r,isArray:o,method:l})};let N=document.createElement("script");N.src=`${t}?callback=${v}`,document.body.appendChild(N),document.body.removeChild(N)});let p=Df(d.subject[Hp]);return p.observable=d.subject[Hp],p}}return n})(),Dae={APPLICATION_JSON:si.from({"Content-Type":"application/json",Accept:"application/json"}),APPLICATINO_VND_API_JSON:si.from({"Content-Type":"application/vnd.api+json",Accept:"application/vnd.api+json"})},jI=class{mock(e){if(typeof e=="function"||typeof e=="object")this.mockHttp=e;else throw`[ng2-rest]
      .model(...)
      .mock( < BAD MOCK DATA > )
      ...
      `;return this}get endpoint(){let e=this.__meta_endpoint;return this.restQueryParams!==void 0&&this._endpointRest!==void 0&&typeof this._endpointRest=="string"&&this._endpointRest.trim()!==""&&(e=this._endpointRest),e}set __rest_endpoint(e){this._endpointRest=e,e===void 0?this.restQueryParams=void 0:this.restQueryParams=KXe(e,this.__meta_endpoint)}creatUrl(e,t=!1){return`${this.endpoint}${YXe(e,t)}`}get headers(){return this._headers}constructor(e,t,r,i){this.request=t,this.meta=r,this.customContentType=i,this._headers=si.from(Dae.APPLICATION_JSON),this.array={get:(s,o=void 0,a)=>this.req("get",s,o,a,!0),head:(s,o=void 0,a)=>this.req("head",s,o,a,!0),post:(s,o,a)=>this.req("post",s,o,a,!0),put:(s,o,a)=>this.req("put",s,o,a,!0),patch:(s,o,a)=>this.req("patch",s,o,a,!0),delete:(s,o,a)=>this.req("delete",s,o,a,!0),jsonp:(s,o,a)=>this.req("jsonp",s,o,a,!0)},this.__meta_endpoint=e}req(e,t,r,i,s=!1){i=i||{};let o=this.creatUrl(r,!!i.doNotSerializeParams),c=Ye.getNameFromObject(t)==="FormData"?t:t?JSON.stringify(t):void 0;if(this.customContentType){let d=this.customContentType.keys();this._headers.keys().filter(p=>!d.includes(p)).forEach(p=>{this.customContentType.set(p,this._headers.get(p))}),this._headers=this.customContentType}else this._headers=si.from(Dae.APPLICATION_JSON);let l=this.request[e.toLowerCase()](o,c,this.headers,this.meta,s,this.mockHttp,i);return this.mockHttp=void 0,l}get(e,t,r){return this.req("get",e,t,r)}head(e,t,r){return this.req("head",e,t,r)}post(e,t,r){return this.req("post",e,t,r)}put(e,t,r){return this.req("put",e,t,r)}patch(e,t,r){return this.req("patch",e,t,r)}delete(e,t,r){return this.req("delete",e,t,r)}jsonp(e,t,r){return this.req("jsonp",e,t,r)}},hs=class n{static{this._listenErrors=new Ke}static{this._listenSuccess=new Ke}static get listenErrors(){return this._listenErrors.asObservable()}static get listenSuccessOperations(){return this._listenSuccess.asObservable()}static{this.enableWarnings=!0}checkNestedModels(e,t){for(let r in t)if(t.hasOwnProperty(r)){let i=t[r];if(HXe(r)){let s=zXe(r);if(GXe(e,s)){e=r;break}}}return e}static{this.instance=new n}static{this.endpoints={}}static getModel(e,t){if(t=n.prepareModel(t),!n.endpoints[e])return;let i=n.endpoints[e].models[t];return n.endpoints[e].models[t]}static{this.request=new eet}static create(e,t,r,i,s){let o=new RegExp("((/:)[a-z]+)+","g"),c=(t.match(o)||[]).join();if((c.match(new RegExp(":","g"))||[]).length>=2&&t.search(c)!==-1)throw new Error(`

Bad rest model: ${t}

Do not create rest models like this:    /book/author/:bookid/:authorid
Instead use nested approach:            /book/:bookid/author/:authorid
            `);return n.map(e,e),n.instance.add(e,t||"",r,i,s),{model:d=>n.instance.api(e,JXe(d,t)),get headers(){return n.getModel(e,t).headers}}}static reset(){n.endpoints={}}constructor(){}static{this.Cookies=zv.Instance}static map(e,t){let r=/(http|https):\/\/(\w+:{0,1}\w*)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%!\-\/]))?/,i=e;if(!r.test(t))throw`Url address is not correct: ${t}`;return t.charAt(t.length-1)==="/"&&(t=t.slice(0,t.length-1)),n.endpoints[i]!==void 0?!1:(n.endpoints[i]={url:t,models:{},entity:null},!0)}static prepareModel(e){return e.charAt(e.length-1)==="/"&&(e=e.slice(0,e.length-1)),e.charAt(0)==="/"&&(e=e.slice(1,e.length)),e}add(e,t,r,i,s){t=n.prepareModel(t);let o;if(o=e.toString(),n.endpoints[o]===void 0){console.error("Endpoint is not mapped ! Cannot add model "+t);return}if(n.endpoints[o].models[t]!==void 0){n.enableWarnings&&console.warn(`Model '${t}' is already defined in endpoint: `+n.endpoints[o].url);return}n.endpoints[o].models[t]=new jI(n.endpoints[o].url+"/"+t,n.request,{endpoint:o,path:t,entity:r,circular:i},s)}api(e,t){t.charAt(0)==="/"&&(t=t.slice(1,t.length));let r=e.toString();if(n.endpoints[r]===void 0)throw`Endpoint: ${e} is not mapped ! Cannot add model: ${t}`;let i=n.endpoints[r].models,s=t;if(t=this.checkNestedModels(t,i),n.endpoints[r].models[t]===void 0)throw`Model '${t}' is undefined in endpoint: ${n.endpoints[r].url} `;let o=n.endpoints[e.toString()].models[t];if(s!==t){let a=n.endpoints[e.toString()].url;o.__rest_endpoint=`${a}/${s}`}else o.__rest_endpoint=void 0;return o}};var Ar=[];for(let n=0;n<256;++n)Ar.push((n+256).toString(16).slice(1));function Sae(n,e=0){return(Ar[n[e+0]]+Ar[n[e+1]]+Ar[n[e+2]]+Ar[n[e+3]]+"-"+Ar[n[e+4]]+Ar[n[e+5]]+"-"+Ar[n[e+6]]+Ar[n[e+7]]+"-"+Ar[n[e+8]]+Ar[n[e+9]]+"-"+Ar[n[e+10]]+Ar[n[e+11]]+Ar[n[e+12]]+Ar[n[e+13]]+Ar[n[e+14]]+Ar[n[e+15]]).toLowerCase()}var $I,tet=new Uint8Array(16);function VI(){if(!$I){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");$I=crypto.getRandomValues.bind(crypto)}return $I(tet)}var net=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),HI={randomUUID:net};function ret(n,e,t){if(HI.randomUUID&&!e&&!n)return HI.randomUUID();n=n||{};let r=n.random??n.rng?.()??VI();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){if(t=t||0,t<0||t+16>e.length)throw new RangeError(`UUID byte range ${t}:${t+15} is out of buffer bounds`);for(let i=0;i<16;++i)e[t+i]=r[i];return e}return Sae(r)}var Qv=ret;var da=M(Rae(),1);var mR=Zoe,$d=class{static getInheritanceTree(e){let t=[e],r=i=>{let s=Object.getPrototypeOf(i);s&&s.name&&(t.push(s),r(s))};return r(e),t}static isInherited(e,t){return e.prototype instanceof t}static filterByTarget(e,t){return t?e.filter(r=>r.target&&t.indexOf(r.target)!==-1):e}},Xv=class{constructor(){this.tables=[],this.trees=[],this.entityRepositories=[],this.transactionEntityManagers=[],this.transactionRepositories=[],this.namingStrategies=[],this.entitySubscribers=[],this.indices=[],this.uniques=[],this.checks=[],this.exclusions=[],this.columns=[],this.generations=[],this.relations=[],this.joinColumns=[],this.joinTables=[],this.entityListeners=[],this.relationCounts=[],this.relationIds=[],this.embeddeds=[],this.inheritances=[],this.discriminatorValues=[]}filterTables(e){return this.filterByTarget(this.tables,e)}filterColumns(e){return this.filterByTargetAndWithoutDuplicateProperties(this.columns,e)}findGenerated(e,t){return this.generations.find(r=>(Array.isArray(e)?e.indexOf(r.target)!==-1:r.target===e)&&r.propertyName===t)}findTree(e){return this.trees.find(t=>Array.isArray(e)?e.indexOf(t.target)!==-1:t.target===e)}filterRelations(e){return this.filterByTargetAndWithoutDuplicateRelationProperties(this.relations,e)}filterRelationIds(e){return this.filterByTargetAndWithoutDuplicateProperties(this.relationIds,e)}filterRelationCounts(e){return this.filterByTargetAndWithoutDuplicateProperties(this.relationCounts,e)}filterIndices(e){return this.indices.filter(t=>Array.isArray(e)?e.indexOf(t.target)!==-1:t.target===e)}filterUniques(e){return this.uniques.filter(t=>Array.isArray(e)?e.indexOf(t.target)!==-1:t.target===e)}filterChecks(e){return this.checks.filter(t=>Array.isArray(e)?e.indexOf(t.target)!==-1:t.target===e)}filterExclusions(e){return this.exclusions.filter(t=>Array.isArray(e)?e.indexOf(t.target)!==-1:t.target===e)}filterListeners(e){return this.filterByTarget(this.entityListeners,e)}filterEmbeddeds(e){return this.filterByTargetAndWithoutDuplicateEmbeddedProperties(this.embeddeds,e)}findJoinTable(e,t){return this.joinTables.find(r=>r.target===e&&r.propertyName===t)}filterJoinColumns(e,t){return this.joinColumns.filter(r=>r.target===e&&r.propertyName===t)}filterSubscribers(e){return this.filterByTarget(this.entitySubscribers,e)}filterNamingStrategies(e){return this.filterByTarget(this.namingStrategies,e)}filterTransactionEntityManagers(e,t){return this.transactionEntityManagers.filter(r=>(Array.isArray(e)?e.indexOf(r.target)!==-1:r.target===e)&&r.methodName===t)}filterTransactionRepository(e,t){return this.transactionRepositories.filter(r=>(Array.isArray(e)?e.indexOf(r.target)!==-1:r.target===e)&&r.methodName===t)}filterSingleTableChildren(e){return this.tables.filter(t=>typeof t.target=="function"&&typeof e=="function"&&$d.isInherited(t.target,e)&&t.type==="entity-child")}findInheritanceType(e){return this.inheritances.find(t=>t.target===e)}findDiscriminatorValue(e){return this.discriminatorValues.find(t=>t.target===e)}filterByTarget(e,t){return e.filter(r=>Array.isArray(t)?t.indexOf(r.target)!==-1:r.target===t)}filterByTargetAndWithoutDuplicateProperties(e,t){let r=[];return e.forEach(i=>{(Array.isArray(t)?t.indexOf(i.target)!==-1:i.target===t)&&(r.find(o=>o.propertyName===i.propertyName)||r.push(i))}),r}filterByTargetAndWithoutDuplicateRelationProperties(e,t){let r=[];return e.forEach(i=>{if(Array.isArray(t)?t.indexOf(i.target)!==-1:i.target===t){let o=r.findIndex(a=>a.propertyName===i.propertyName);if(Array.isArray(t)&&o!==-1&&t.indexOf(i.target)<t.indexOf(r[o].target)){let a=Object.create(r[o]);a.type=i.type,r[o]=a}else o===-1&&r.push(i)}}),r}filterByTargetAndWithoutDuplicateEmbeddedProperties(e,t){let r=[];return e.forEach(i=>{(Array.isArray(t)?t.indexOf(i.target)!==-1:i.target===t)&&(r.find(a=>a.prefix===i.prefix&&a.propertyName===i.propertyName)||r.push(i))}),r}},GI;GI=n=>n;var Ir;Ir={blueBright(n){return n},white(n){return n},gray(n){return n},magenta(n){return n},magentaBright(n){return n},yellow(n){return n},red(n){return n},bgRed(n){return n},underline(n){return n},black(n){return n}};Object.keys(Ir).forEach(n=>{Object.keys(Ir).forEach(e=>{Ir[n][e]=Ir[n]})});var sn=class{static get type(){return"browser"}static getGlobalVariable(){return globalThis}static load(e){try{switch(e){case"spanner":return;case"mongodb":return;case"@sap/hana-client":return;case"hdb-pool":return;case"mysql":return;case"mysql2":return;case"oracledb":return;case"pg":return;case"pg-native":return;case"pg-query-stream":return;case"typeorm-aurora-data-api-driver":return;case"redis":return;case"ioredis":return;case"better-sqlite3":return;case"sqlite3":return;case"sql.js":return mle();case"mssql":return;case"react-native-sqlite-storage":return}}catch{return}throw new TypeError(`Invalid Package for PlatformTools.load: ${e}`)}static pathNormalize(e){}static pathExtname(e){}static pathResolve(e){}static fileExist(e){}static readFileSync(e){}static appendFileSync(e,t){}static async writeFile(e,t){return new Promise((r,i)=>{})}static dotenv(e){}static getEnvVariable(e){}static highlightSql(e){let t={keyword:Ir.blueBright,literal:Ir.blueBright,string:Ir.white,type:Ir.magentaBright,built_in:Ir.magentaBright,comment:Ir.gray};return GI(e,{theme:t,language:"sql"})}static highlightJson(e){return GI(e,{language:"json"})}static logInfo(e,t){console.log(Ir.gray.underline(e),t)}static logError(e,t){console.log(Ir.underline.red(e),t)}static logWarn(e,t){console.log(Ir.underline.yellow(e),t)}static log(e){console.log(Ir.underline(e))}static warn(e){return Ir.yellow(e)}static logCmdErr(e,t){console.log(Ir.black.bgRed(e)),t&&console.error(t)}},G=class extends Error{get name(){return this.constructor.name}constructor(e){super(e),Object.setPrototypeOf?Object.setPrototypeOf(this,new.target.prototype):this.__proto__=new.target.prototype}};var Ld=class extends G{constructor(e){super(`Internal error. Subject ${e.metadata.targetName} must have an identifier to perform operation.`)}},QI=class extends G{constructor(e){super(`Cannot create a "${e}" connection because connection to the database already established.`)}},oc=class extends G{constructor(){super("Locking not supported on given driver.")}};var KI=class extends G{constructor(e,t){super();let r=e.primaryColumns.reduce((i,s,o)=>(s.setEntityValue(i,o+1),i),{});this.message=`Cannot use given entity id "${t}" because "${e.targetName}" contains multiple primary columns, you must provide object in following form: ${JSON.stringify(r)} as an id.`}};var JI=class extends G{constructor(e){super(`Cannot ${e}, given value must be instance of entity class, instead object literal is given. Or you must specify an entity target to method call.`)}},Xp=class extends G{constructor(){super('Cannot perform update query because update values are not defined. Call "qb.set(...)" method to specify updated values.')}},YI=class extends G{constructor(e){super(`Tree repositories are not supported in ${e.options.type} driver.`)}},eE=class extends G{constructor(e){super(`Custom repository ${typeof e=="function"?e.name:e.constructor.name} was not found. Did you forgot to put @EntityRepository decorator on it?`)}},tE=class extends G{constructor(){super("Transaction is not started yet, start transaction before committing or rolling it back.")}},ZI=class extends G{constructor(){super("Transaction already started for the given connection, commit current transaction before starting a new one.")}},He=class{static isObject(e){return e!==null&&typeof e=="object"}static assign(e,...t){for(let r of t)for(let i of Object.getOwnPropertyNames(r))e[i]=r[i]}static mixedListToArray(e){return e!==null&&typeof e=="object"?Object.keys(e).map(t=>e[t]):e}},be=class{static isEntityMetadata(e){return this.check(e,"EntityMetadata")}static isColumnMetadata(e){return this.check(e,"ColumnMetadata")}static isQueryBuilder(e){return this.check(e,"QueryBuilder")||this.check(e,"SelectQueryBuilder")||this.check(e,"InsertQueryBuilder")||this.check(e,"DeleteQueryBuilder")||this.check(e,"UpdateQueryBuilder")||this.check(e,"SoftDeleteQueryBuilder")||this.check(e,"RelationQueryBuilder")}static isSelectQueryBuilder(e){return this.check(e,"SelectQueryBuilder")}static isInsertQueryBuilder(e){return this.check(e,"InsertQueryBuilder")}static isDeleteQueryBuilder(e){return this.check(e,"DeleteQueryBuilder")}static isUpdateQueryBuilder(e){return this.check(e,"UpdateQueryBuilder")}static isSoftDeleteQueryBuilder(e){return this.check(e,"SoftDeleteQueryBuilder")}static isRelationQueryBuilder(e){return this.check(e,"RelationQueryBuilder")}static isBrackets(e){return this.check(e,"Brackets")||this.check(e,"NotBrackets")}static isNotBrackets(e){return this.check(e,"NotBrackets")}static isSubject(e){return this.check(e,"Subject")}static isRdbmsSchemaBuilder(e){return this.check(e,"RdbmsSchemaBuilder")}static isSqljsEntityManager(e){return this.check(e,"SqljsEntityManager")}static isEntitySchema(e){return this.check(e,"EntitySchema")}static isBaseEntityConstructor(e){return typeof e=="function"&&typeof e.hasId=="function"&&typeof e.save=="function"&&typeof e.useDataSource=="function"}static isFindOperator(e){return this.check(e,"FindOperator")||this.check(e,"EqualOperator")}static isEqualOperator(e){return this.check(e,"EqualOperator")}static isQuery(e){return this.check(e,"Query")}static isTable(e){return this.check(e,"Table")}static isTableCheck(e){return this.check(e,"TableCheck")}static isTableColumn(e){return this.check(e,"TableColumn")}static isTableExclusion(e){return this.check(e,"TableExclusion")}static isTableForeignKey(e){return this.check(e,"TableForeignKey")}static isTableIndex(e){return this.check(e,"TableIndex")}static isTableUnique(e){return this.check(e,"TableUnique")}static isView(e){return this.check(e,"View")}static isDataSource(e){return this.check(e,"DataSource")}static check(e,t){return typeof e=="object"&&e!==null&&e["@instanceof"]===Symbol.for(t)}},em=class extends G{constructor(e,t){super(),this.message=`Could not find any entity of type "${this.stringifyTarget(e)}" matching: ${this.stringifyCriteria(t)}`}stringifyTarget(e){return be.isEntitySchema(e)?e.options.name:typeof e=="function"||He.isObject(e)&&"name"in e?e.name:e}stringifyCriteria(e){try{return JSON.stringify(e,null,4)}catch{}return""+e}},XI=class extends G{constructor(e){super(),this.message=`No metadata for "${this.stringifyTarget(e)}" was found.`}stringifyTarget(e){return be.isEntitySchema(e)?e.options.name:typeof e=="function"||He.isObject(e)&&"name"in e?e.name:e}},eM=class extends G{constructor(e,t){super(`Cannot ${e}, given value must be an entity, instead "${t}" is given.`)}},nE=class extends G{constructor(e,t,r){super(`The optimistic lock on entity ${e} failed, version ${t} was expected, but is actually ${r}.`)}},rE=class extends G{constructor(){super("Your database does not support LIMIT on UPDATE statements.")}};var tM=class extends G{constructor(e){super(`Custom entity repository ${typeof e=="function"?e.name:e.constructor.name}  cannot inherit Repository class without entity being set in the @EntityRepository decorator.`)}},iE=class extends G{constructor(){super("Database connection provided by a query runner was already released, cannot continue to use its querying methods anymore.")}},sE=class extends G{constructor(e){super(`Cannot attach entity "${e}" to its parent. Please make sure parent is saved in the database before saving children nodes.`)}},Qp=class extends G{constructor(e){super(`Custom repository ${typeof e=="function"?e.name:e.constructor.name} does not have managed entity. Did you forget to specify entity for it @EntityRepository(MyEntity)? `)}},nM=class extends G{constructor(e){super(`Entity "${e.name}" does not have delete date columns.`)}};var rM=class extends G{constructor(e){super(`Circular relations detected: ${e}. To resolve this issue you need to set nullable: true somewhere in this dependency structure.`)}},zd=class extends G{constructor(){super("OUTPUT or RETURNING clause only supported by Microsoft SQL Server or PostgreSQL or MariaDB databases.")}};var iM=class extends G{constructor(e){super(`Entity "${e.name}" does not have a primary column. Primary column is required to have in all your entities. Use @PrimaryColumn decorator to add a primary column to your entity.`)}},So=class n extends G{constructor(e,t){super(e),Object.setPrototypeOf(this,n.prototype),this.message=`Property "${e}" was not found in "${t.targetName}". Make sure your query is correct.`}},sM=class extends G{constructor(e,t=[]){super(`Wrong driver: "${e}" given. Supported drivers are: ${t.map(r=>`"${r}"`).join(", ")}.`)}},Wd=class extends G{constructor(e,t){super(`${e} package has not been found installed. Try to install it: npm install ${t} --save`)}};var oM=class extends G{constructor(e){super(`Entity ${e} does not have version or update date columns.`)}},aM=class extends G{constructor(){super('Cannot perform insert query because values are not defined. Call "qb.values(...)" method to specify inserted values.')}},Bd=class extends G{constructor(){super("The optimistic lock can be used only with getOne() method.")}};var cc=class extends G{constructor(e){super(`Driver option (${e}) is not set. Please set it to perform connection to the database.`)}},cM=class extends G{constructor(e){super(),e.length===1?this.message=`Relation "${e[0]}" was not found; please check if it is correct and really exists in your entity.`:this.message=`Relations ${e.map(t=>`"${t}"`).join(", ")} were not found; please check if relations are correct and they exist in your entities.`}};var lM=class extends G{constructor(){super("An open transaction is required for pessimistic lock.")}};var uM=class extends G{constructor(e,t,r){super();let i=typeof t=="string"?t:t.name;this.message=`Data type "${i}" in "${e.entityMetadata.targetName}.${e.propertyName}" is not supported by "${r}" database.`}},dM=class extends G{constructor(e){super(`Array initializations are not allowed in entity relations. Please remove array initialization (= []) from "${e.entityMetadata.targetName}#${e.propertyPath}". This is ORM requirement to make relations to work properly. Refer docs for more information.`)}};var Gd=class extends G{constructor(e,t,r){if(super(r.toString().replace(/^error: /,"").replace(/^Error: /,"").replace(/^Request/,"")),this.query=e,this.parameters=t,this.driverError=r,r){let i=r,{name:s}=i,o=mf(i,["name"]);He.assign(this,K({},o))}}},fM=class extends G{constructor(){super("Entity manager is not using single database connection and cannot be released. Only entity managers created by connection#createEntityManagerWithSingleDatabaseConnection methods have a single database connection and they should be released.")}};var hM=class extends G{constructor(e){super(`Removed entity "${e.metadata.name}" is also scheduled for update operation. Make sure you are not updating and removing same object (note that update or remove may be executed by cascade operations).`)}};var pM=class extends G{constructor(e,t){super(`Column type for ${e.constructor.name}#${t} is not defined and cannot be guessed. Make sure you have turned on an "emitDecoratorMetadata": true option in tsconfig.json. Also make sure you have imported "reflect-metadata" on top of the main entry file in your application (before any entity imported).If you are using JavaScript instead of TypeScript you must explicitly provide a column type.`)}},Qd=class extends G{constructor(){super("Query runner already released. Cannot run queries anymore.")}},mM=class extends G{constructor(){super("RDBMS does not support OFFSET without LIMIT in SELECT statements. You must use limit in conjunction with offset function (or take in conjunction with skip function if you are using pagination).")}},Fl=class extends G{constructor(e){super(`Cannot execute operation on "${e}" connection because connection is not yet established.`)}},gM=class extends G{constructor(e){super(`Option "${e}" is not set in your connection options, please define "${e}" option in your connection options or ormconfig.json`)}};var To=class{static sha1(e){let t=function(de,g){return de<<g|de>>>32-g},r=function(de){let g="",xe,Ce;for(xe=7;xe>=0;xe--)Ce=de>>>xe*4&15,g+=Ce.toString(16);return g},i,s,o,a=new Array(80),c=1732584193,l=4023233417,d=2562383102,h=271733878,p=3285377520,b,v,x,N,k,ee;e=encodeURIComponent(e);let X=e.length,ne=[];for(s=0;s<X-3;s+=4)o=e.charCodeAt(s)<<24|e.charCodeAt(s+1)<<16|e.charCodeAt(s+2)<<8|e.charCodeAt(s+3),ne.push(o);switch(X%4){case 0:s=2147483648;break;case 1:s=e.charCodeAt(X-1)<<24|8388608;break;case 2:s=e.charCodeAt(X-2)<<24|e.charCodeAt(X-1)<<16|32768;break;case 3:s=e.charCodeAt(X-3)<<24|e.charCodeAt(X-2)<<16|e.charCodeAt(X-1)<<8|128;break}for(ne.push(s);ne.length%16!==14;)ne.push(0);for(ne.push(X>>>29),ne.push(X<<3&4294967295),i=0;i<ne.length;i+=16){for(s=0;s<16;s++)a[s]=ne[i+s];for(s=16;s<=79;s++)a[s]=t(a[s-3]^a[s-8]^a[s-14]^a[s-16],1);for(b=c,v=l,x=d,N=h,k=p,s=0;s<=19;s++)ee=t(b,5)+(v&x|~v&N)+k+a[s]+1518500249&4294967295,k=N,N=x,x=t(v,30),v=b,b=ee;for(s=20;s<=39;s++)ee=t(b,5)+(v^x^N)+k+a[s]+1859775393&4294967295,k=N,N=x,x=t(v,30),v=b,b=ee;for(s=40;s<=59;s++)ee=t(b,5)+(v&x|v&N|x&N)+k+a[s]+2400959708&4294967295,k=N,N=x,x=t(v,30),v=b,b=ee;for(s=60;s<=79;s++)ee=t(b,5)+(v^x^N)+k+a[s]+3395469782&4294967295,k=N,N=x,x=t(v,30),v=b,b=ee;c=c+b&4294967295,l=l+v&4294967295,d=d+x&4294967295,h=h+N&4294967295,p=p+k&4294967295}return ee=r(c)+r(l)+r(d)+r(h)+r(p),ee.toLowerCase()}};function zI(n,e=!1){return n.replace(/^([A-Z])|[\s-_](\w)/g,function(t,r,i,s){return e===!0&&s===0?r:i?i.toUpperCase():r.toLowerCase()})}function Pae(n){return n.replace(/([A-Z])([A-Z])([a-z])/g,"$1_$2$3").replace(/([a-z0-9])([A-Z])/g,"$1_$2").toLowerCase()}function yet(n){return n.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())}function Bae(n,e={}){let{segmentLength:t=4,separator:r="__",termLength:i=2}=e;return n.split(r).reduce((a,c)=>{let l=c.replace(/([a-z\xE0-\xFF])([A-Z\xC0-\xDF])/g,"$1 $2").split(" "),d=l.length>1?i:t,h=l.map(p=>p.substr(0,d)).join("");return a.push(h),a},[]).join(r)}var yM=class{constructor(){this.nestedSetColumnNames={left:"nsleft",right:"nsright"},this.materializedPathColumnName="mpath"}getTableName(e){return typeof e!="string"&&(e=e.name),e.split(".").pop()}tableName(e,t){return t||Pae(e)}closureJunctionTableName(e){return e+"_closure"}columnName(e,t,r){let i=t||e;return r.length?zI(r.join("_"))+yet(i):i}relationName(e){return e}primaryKeyName(e,t){let r=[...t];r.sort();let o=`${this.getTableName(e).replace(".","_")}_${r.join("_")}`;return"PK_"+To.sha1(o).substr(0,27)}uniqueConstraintName(e,t){let r=[...t];r.sort();let o=`${this.getTableName(e).replace(".","_")}_${r.join("_")}`;return"UQ_"+To.sha1(o).substr(0,27)}relationConstraintName(e,t,r){let i=[...t];i.sort();let a=`${this.getTableName(e).replace(".","_")}_${i.join("_")}`;return r&&(a+=`_${r}`),"REL_"+To.sha1(a).substr(0,26)}defaultConstraintName(e,t){let s=`${this.getTableName(e).replace(".","_")}_${t}`;return"DF_"+To.sha1(s).substr(0,27)}foreignKeyName(e,t,r,i){let s=[...t];s.sort();let c=`${this.getTableName(e).replace(".","_")}_${s.join("_")}`;return"FK_"+To.sha1(c).substr(0,27)}indexName(e,t,r){let i=[...t];i.sort();let a=`${this.getTableName(e).replace(".","_")}_${i.join("_")}`;return r&&(a+=`_${r}`),"IDX_"+To.sha1(a).substr(0,26)}checkConstraintName(e,t,r){let o=`${this.getTableName(e).replace(".","_")}_${t}`,a="CHK_"+To.sha1(o).substr(0,26);return r?`${a}_ENUM`:a}exclusionConstraintName(e,t){let s=`${this.getTableName(e).replace(".","_")}_${t}`;return"XCL_"+To.sha1(s).substr(0,26)}joinColumnName(e,t){return zI(e+"_"+t)}joinTableName(e,t,r,i){return Pae(e+"_"+r.replace(/\./gi,"_")+"_"+t)}joinTableColumnDuplicationPrefix(e,t){return e+"_"+t}joinTableColumnName(e,t,r){return zI(e+"_"+(r||t))}joinTableInverseColumnName(e,t,r){return this.joinTableColumnName(e,t,r)}prefixTableName(e,t){return e+t}eagerJoinRelationAlias(e,t){return e+"_"+t.replace(".","_")}},Ll=class n{constructor(e){this["@instanceof"]=Symbol.for("TableColumn"),this.isNullable=!1,this.isGenerated=!1,this.isPrimary=!1,this.isUnique=!1,this.isArray=!1,this.length="",this.zerofill=!1,this.unsigned=!1,e&&(this.name=e.name,this.type=e.type||"",this.length=e.length||"",this.width=e.width,this.charset=e.charset,this.collation=e.collation,this.precision=e.precision,this.scale=e.scale,this.zerofill=e.zerofill||!1,this.unsigned=this.zerofill?!0:e.unsigned||!1,this.default=e.default,this.onUpdate=e.onUpdate,this.isNullable=e.isNullable||!1,this.isGenerated=e.isGenerated||!1,this.generationStrategy=e.generationStrategy,this.generatedIdentity=e.generatedIdentity,this.isPrimary=e.isPrimary||!1,this.isUnique=e.isUnique||!1,this.isArray=e.isArray||!1,this.comment=e.comment,this.enum=e.enum,this.enumName=e.enumName,this.primaryKeyConstraintName=e.primaryKeyConstraintName,this.asExpression=e.asExpression,this.generatedType=e.generatedType,this.spatialFeatureType=e.spatialFeatureType,this.srid=e.srid)}clone(){return new n({name:this.name,type:this.type,length:this.length,width:this.width,charset:this.charset,collation:this.collation,precision:this.precision,scale:this.scale,zerofill:this.zerofill,unsigned:this.unsigned,enum:this.enum,enumName:this.enumName,primaryKeyConstraintName:this.primaryKeyConstraintName,asExpression:this.asExpression,generatedType:this.generatedType,default:this.default,onUpdate:this.onUpdate,isNullable:this.isNullable,isGenerated:this.isGenerated,generationStrategy:this.generationStrategy,generatedIdentity:this.generatedIdentity,isPrimary:this.isPrimary,isUnique:this.isUnique,isArray:this.isArray,comment:this.comment,spatialFeatureType:this.spatialFeatureType,srid:this.srid})}},lc=class n{constructor(e){this["@instanceof"]=Symbol.for("TableIndex"),this.columnNames=[],this.name=e.name,this.columnNames=e.columnNames,this.isUnique=!!e.isUnique,this.isSpatial=!!e.isSpatial,this.isFulltext=!!e.isFulltext,this.isNullFiltered=!!e.isNullFiltered,this.parser=e.parser,this.where=e.where?e.where:""}clone(){return new n({name:this.name,columnNames:[...this.columnNames],isUnique:this.isUnique,isSpatial:this.isSpatial,isFulltext:this.isFulltext,isNullFiltered:this.isNullFiltered,parser:this.parser,where:this.where})}static create(e){return new n({name:e.name,columnNames:e.columns.map(t=>t.databaseName),isUnique:e.isUnique,isSpatial:e.isSpatial,isFulltext:e.isFulltext,isNullFiltered:e.isNullFiltered,parser:e.parser,where:e.where})}},tm=class n{constructor(e){this["@instanceof"]=Symbol.for("TableForeignKey"),this.columnNames=[],this.referencedColumnNames=[],this.name=e.name,this.columnNames=e.columnNames,this.referencedColumnNames=e.referencedColumnNames,this.referencedDatabase=e.referencedDatabase,this.referencedSchema=e.referencedSchema,this.referencedTableName=e.referencedTableName,this.onDelete=e.onDelete,this.onUpdate=e.onUpdate,this.deferrable=e.deferrable}clone(){return new n({name:this.name,columnNames:[...this.columnNames],referencedColumnNames:[...this.referencedColumnNames],referencedDatabase:this.referencedDatabase,referencedSchema:this.referencedSchema,referencedTableName:this.referencedTableName,onDelete:this.onDelete,onUpdate:this.onUpdate,deferrable:this.deferrable})}static create(e,t){return new n({name:e.name,columnNames:e.columnNames,referencedColumnNames:e.referencedColumnNames,referencedDatabase:e.referencedEntityMetadata.database,referencedSchema:e.referencedEntityMetadata.schema,referencedTableName:e.referencedTablePath,onDelete:e.onDelete,onUpdate:e.onUpdate,deferrable:e.deferrable})}},Vd=class{static createTableColumnOptions(e,t){return{name:e.databaseName,length:t.getColumnLength(e),width:e.width,charset:e.charset,collation:e.collation,precision:e.precision,scale:e.scale,zerofill:e.zerofill,unsigned:e.unsigned,asExpression:e.asExpression,generatedType:e.generatedType,default:t.normalizeDefault(e),onUpdate:e.onUpdate,comment:e.comment,isGenerated:e.isGenerated,generationStrategy:e.generationStrategy,generatedIdentity:e.generatedIdentity,isNullable:e.isNullable,type:t.normalizeType(e),isPrimary:e.isPrimary,isUnique:t.normalizeIsUnique(e),isArray:e.isArray||!1,enum:e.enum?e.enum.map(r=>r+""):e.enum,enumName:e.enumName,primaryKeyConstraintName:e.primaryKeyConstraintName,spatialFeatureType:e.spatialFeatureType,srid:e.srid}}},Bl=class n{constructor(e){this["@instanceof"]=Symbol.for("TableUnique"),this.columnNames=[],this.name=e.name,this.columnNames=e.columnNames,this.deferrable=e.deferrable}clone(){return new n({name:this.name,columnNames:[...this.columnNames],deferrable:this.deferrable})}static create(e){return new n({name:e.name,columnNames:e.columns.map(t=>t.databaseName),deferrable:e.deferrable})}},Kd=class n{constructor(e){this["@instanceof"]=Symbol.for("TableCheck"),this.columnNames=[],this.name=e.name,this.columnNames=e.columnNames,this.expression=e.expression}clone(){return new n({name:this.name,columnNames:this.columnNames?[...this.columnNames]:[],expression:this.expression})}static create(e){return new n({name:e.name,expression:e.expression})}},nm=class n{constructor(e){this["@instanceof"]=Symbol.for("TableExclusion"),this.name=e.name,this.expression=e.expression}clone(){return new n({name:this.name,expression:this.expression})}static create(e){return new n({name:e.name,expression:e.expression})}},fa=class n{constructor(e){this["@instanceof"]=Symbol.for("Table"),this.columns=[],this.indices=[],this.foreignKeys=[],this.uniques=[],this.checks=[],this.exclusions=[],this.justCreated=!1,this.withoutRowid=!1,e&&(this.database=e.database,this.schema=e.schema,this.name=e.name,e.columns&&(this.columns=e.columns.map(t=>new Ll(t))),e.indices&&(this.indices=e.indices.map(t=>new lc(t))),e.foreignKeys&&(this.foreignKeys=e.foreignKeys.map(t=>new tm($e(K({},t),{referencedDatabase:t?.referencedDatabase||e.database,referencedSchema:t?.referencedSchema||e.schema})))),e.uniques&&(this.uniques=e.uniques.map(t=>new Bl(t))),e.checks&&(this.checks=e.checks.map(t=>new Kd(t))),e.exclusions&&(this.exclusions=e.exclusions.map(t=>new nm(t))),e.justCreated!==void 0&&(this.justCreated=e.justCreated),e.withoutRowid&&(this.withoutRowid=e.withoutRowid),this.engine=e.engine)}get primaryColumns(){return this.columns.filter(e=>e.isPrimary)}clone(){return new n({schema:this.schema,database:this.database,name:this.name,columns:this.columns.map(e=>e.clone()),indices:this.indices.map(e=>e.clone()),foreignKeys:this.foreignKeys.map(e=>e.clone()),uniques:this.uniques.map(e=>e.clone()),checks:this.checks.map(e=>e.clone()),exclusions:this.exclusions.map(e=>e.clone()),justCreated:this.justCreated,withoutRowid:this.withoutRowid,engine:this.engine})}addColumn(e){this.columns.push(e)}removeColumn(e){let t=this.columns.find(r=>r.name===e.name);t&&this.columns.splice(this.columns.indexOf(t),1)}addUniqueConstraint(e){if(this.uniques.push(e),e.columnNames.length===1){let t=this.columns.find(r=>r.name===e.columnNames[0]);t&&(t.isUnique=!0)}}removeUniqueConstraint(e){let t=this.uniques.find(r=>r.name===e.name);if(t&&(this.uniques.splice(this.uniques.indexOf(t),1),t.columnNames.length===1)){let r=this.columns.find(i=>i.name===t.columnNames[0]);r&&(r.isUnique=!1)}}addCheckConstraint(e){this.checks.push(e)}removeCheckConstraint(e){let t=this.checks.find(r=>r.name===e.name);t&&this.checks.splice(this.checks.indexOf(t),1)}addExclusionConstraint(e){this.exclusions.push(e)}removeExclusionConstraint(e){let t=this.exclusions.find(r=>r.name===e.name);t&&this.exclusions.splice(this.exclusions.indexOf(t),1)}addForeignKey(e){this.foreignKeys.push(e)}removeForeignKey(e){let t=this.foreignKeys.find(r=>r.name===e.name);t&&this.foreignKeys.splice(this.foreignKeys.indexOf(t),1)}addIndex(e,t=!1){if(this.indices.push(e),e.columnNames.length===1&&e.isUnique&&t){let r=this.columns.find(i=>i.name===e.columnNames[0]);r&&(r.isUnique=!0)}}removeIndex(e,t=!1){let r=this.indices.find(i=>i.name===e.name);if(r&&(this.indices.splice(this.indices.indexOf(r),1),r.columnNames.length===1&&r.isUnique&&t)){let i=this.columns.find(s=>s.name===r.columnNames[0]);i&&(i.isUnique=this.indices.some(s=>s.columnNames.length===1&&s.columnNames[0]===i.name&&!!r.isUnique))}}findColumnByName(e){return this.columns.find(t=>t.name===e)}findColumnIndices(e){return this.indices.filter(t=>!!t.columnNames.find(r=>r===e.name))}findColumnForeignKeys(e){return this.foreignKeys.filter(t=>!!t.columnNames.find(r=>r===e.name))}findColumnUniques(e){return this.uniques.filter(t=>!!t.columnNames.find(r=>r===e.name))}findColumnChecks(e){return this.checks.filter(t=>!!t.columnNames.find(r=>r===e.name))}static create(e,t){let r=e.database===t.database?void 0:e.database,i=e.schema===t.options.schema?void 0:e.schema,s={database:e.database,schema:e.schema,name:t.buildTableName(e.tableName,i,r),withoutRowid:e.withoutRowid,engine:e.engine,columns:e.columns.filter(o=>o&&!o.isVirtualProperty).map(o=>Vd.createTableColumnOptions(o,t)),indices:e.indices.filter(o=>o.synchronize===!0).map(o=>lc.create(o)),uniques:e.uniques.map(o=>Bl.create(o)),checks:e.checks.map(o=>Kd.create(o)),exclusions:e.exclusions.map(o=>nm.create(o))};return new n(s)}},oE=class{constructor(e,t,r,i){this.id=e,this.timestamp=t,this.name=r,this.instance=i}},Kp=class{constructor(e,t){this.connection=e,this.queryRunner=t,this.transaction="all";let{schema:r}=this.connection.driver.options,i=this.connection.driver.database;this.migrationsDatabase=i,this.migrationsSchema=r,this.migrationsTableName=e.options.migrationsTableName||"migrations",this.migrationsTable=this.connection.driver.buildTableName(this.migrationsTableName,r,i)}async executeMigration(e){return this.withQueryRunner(async t=>{await this.createMigrationsTableIfNotExist(t);let r=this.connection.driver.createSchemaBuilder();return be.isRdbmsSchemaBuilder(r)&&await r.createMetadataTableIfNecessary(t),await t.beforeMigration(),await e.instance.up(t),await t.afterMigration(),await this.insertExecutedMigration(t,e),e})}async getAllMigrations(){return Promise.resolve(this.getMigrations())}async getExecutedMigrations(){return this.withQueryRunner(async e=>(await this.createMigrationsTableIfNotExist(e),await this.loadExecutedMigrations(e)))}async getPendingMigrations(){let e=await this.getAllMigrations(),t=await this.getExecutedMigrations();return e.filter(r=>!t.find(i=>i.name===r.name))}insertMigration(e){return this.withQueryRunner(t=>this.insertExecutedMigration(t,e))}deleteMigration(e){return this.withQueryRunner(t=>this.deleteExecutedMigration(t,e))}async showMigrations(){let e=!1,t=this.queryRunner||this.connection.createQueryRunner();await this.createMigrationsTableIfNotExist(t);let r=await this.loadExecutedMigrations(t),i=this.getMigrations();for(let s of i)r.find(a=>a.name===s.name)?this.connection.logger.logSchemaBuild(`[X] ${s.name}`):(e=!0,this.connection.logger.logSchemaBuild(`[ ] ${s.name}`));return this.queryRunner||await t.release(),e}async executePendingMigrations(){let e=this.queryRunner||this.connection.createQueryRunner();await this.createMigrationsTableIfNotExist(e);let t=this.connection.driver.createSchemaBuilder();be.isRdbmsSchemaBuilder(t)&&await t.createMetadataTableIfNecessary(e);let r=await this.loadExecutedMigrations(e),i=this.getLatestTimestampMigration(r),s=this.getMigrations(),o=[],a=s.filter(l=>!r.find(h=>h.name===l.name));if(!a.length)return this.connection.logger.logSchemaBuild("No migrations are pending"),this.queryRunner||await e.release(),[];this.connection.logger.logSchemaBuild(`${r.length} migrations are already loaded in the database.`),this.connection.logger.logSchemaBuild(`${s.length} migrations were found in the source code.`),i&&this.connection.logger.logSchemaBuild(`${i.name} is the last executed migration. It was executed on ${new Date(i.timestamp).toString()}.`),this.connection.logger.logSchemaBuild(`${a.length} migrations are new migrations must be executed.`);let c=!1;this.transaction==="all"&&!e.isTransactionActive&&(await e.startTransaction(),c=!0);try{for(let l of a){if(this.fake){await this.insertExecutedMigration(e,l);continue}this.transaction==="each"&&!e.isTransactionActive&&(await e.startTransaction(),c=!0),await l.instance.up(e).catch(d=>{throw this.connection.logger.logMigration(`Migration "${l.name}" failed, error: ${d?.message}`),d}).then(async()=>{await this.insertExecutedMigration(e,l),this.transaction==="each"&&c&&await e.commitTransaction()}).then(()=>{o.push(l),this.connection.logger.logSchemaBuild(`Migration ${l.name} has been ${this.fake?"(fake)":""} executed successfully.`)})}this.transaction==="all"&&c&&await e.commitTransaction()}catch(l){if(c)try{await e.rollbackTransaction()}catch{}throw l}finally{this.queryRunner||await e.release()}return o}async undoLastMigration(){let e=this.queryRunner||this.connection.createQueryRunner();await this.createMigrationsTableIfNotExist(e);let t=this.connection.driver.createSchemaBuilder();be.isRdbmsSchemaBuilder(t)&&await t.createMetadataTableIfNecessary(e);let r=await this.loadExecutedMigrations(e),i=this.getLatestExecutedMigration(r);if(!i){this.connection.logger.logSchemaBuild("No migrations was found in the database. Nothing to revert!");return}let o=this.getMigrations().find(c=>c.name===i.name);if(!o)throw new G(`No migration ${i.name} was found in the source code. Make sure you have this migration in your codebase and its included in the connection options.`);this.connection.logger.logSchemaBuild(`${r.length} migrations are already loaded in the database.`),this.connection.logger.logSchemaBuild(`${i.name} is the last executed migration. It was executed on ${new Date(i.timestamp).toString()}.`),this.connection.logger.logSchemaBuild("Now reverting it...");let a=!1;this.transaction!=="none"&&!e.isTransactionActive&&(await e.startTransaction(),a=!0);try{this.fake||(await e.beforeMigration(),await o.instance.down(e),await e.afterMigration()),await this.deleteExecutedMigration(e,o),this.connection.logger.logSchemaBuild(`Migration ${o.name} has been ${this.fake?"(fake)":""} reverted successfully.`),a&&await e.commitTransaction()}catch(c){if(a)try{await e.rollbackTransaction()}catch{}throw c}finally{this.queryRunner||await e.release()}}async createMigrationsTableIfNotExist(e){if(this.connection.driver.options.type==="mongodb")return;await e.hasTable(this.migrationsTable)||await e.createTable(new fa({database:this.migrationsDatabase,schema:this.migrationsSchema,name:this.migrationsTable,columns:[{name:"id",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationId}),isGenerated:!0,generationStrategy:"increment",isPrimary:!0,isNullable:!1},{name:"timestamp",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationTimestamp}),isPrimary:!1,isNullable:!1},{name:"name",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationName}),isNullable:!1}]}))}async loadExecutedMigrations(e){if(this.connection.driver.options.type!=="mongodb")return(await this.connection.manager.createQueryBuilder(e).select().orderBy(this.connection.driver.escape("id"),"DESC").from(this.migrationsTable,this.migrationsTableName).getRawMany()).map(r=>new oE(parseInt(r.id),parseInt(r.timestamp),r.name))}getMigrations(){let e=this.connection.migrations.map(t=>{let r=t.name||t.constructor.name,i=parseInt(r.substr(-13),10);if(!i||isNaN(i))throw new G(`${r} migration name is wrong. Migration class name should have a JavaScript timestamp appended.`);return new oE(void 0,i,r,t)});return this.checkForDuplicateMigrations(e),e.sort((t,r)=>t.timestamp-r.timestamp)}checkForDuplicateMigrations(e){let t=e.map(i=>i.name),r=Array.from(new Set(t.filter((i,s)=>t.indexOf(i)<s)));if(r.length>0)throw Error(`Duplicate migrations: ${r.join(", ")}`)}getLatestTimestampMigration(e){let t=e.map(r=>r).sort((r,i)=>(r.timestamp-i.timestamp)*-1);return t.length>0?t[0]:void 0}getLatestExecutedMigration(e){return e.length>0?e[0]:void 0}async insertExecutedMigration(e,t){let r={};this.connection.driver.options.type==="mssql"||(r.timestamp=t.timestamp,r.name=t.name),this.connection.driver.options.type==="mongodb"||await e.manager.createQueryBuilder().insert().into(this.migrationsTable).values(r).execute()}async deleteExecutedMigration(e,t){let r={};if(this.connection.driver.options.type==="mssql"||(r.timestamp=t.timestamp,r.name=t.name),this.connection.driver.options.type!=="mongodb"){let i=e.manager.createQueryBuilder();await i.delete().from(this.migrationsTable).where(`${i.escape("timestamp")} = :timestamp`).andWhere(`${i.escape("name")} = :name`).setParameters(r).execute()}}async withQueryRunner(e){let t=this.queryRunner||this.connection.createQueryRunner();try{return e(t)}finally{this.queryRunner||await t.release()}}};function Yv(n,e,t){let r=[],i={};return function s(o){i[o]=!0,r.push(o),n[o].forEach(function(a){if(!i[a])s(a);else if(r.indexOf(a)>=0)throw r.push(a),new G(`Dependency Cycle Found: ${r.join(" -> ")}`)}),r.pop(),(!e||n[o].length===0)&&t.indexOf(o)===-1&&t.push(o)}}var bM=class{constructor(){this.nodes={},this.outgoingEdges={},this.incomingEdges={}}addNode(e,t){this.hasNode(e)||(arguments.length===2?this.nodes[e]=t:this.nodes[e]=e,this.outgoingEdges[e]=[],this.incomingEdges[e]=[])}removeNode(e){this.hasNode(e)&&(delete this.nodes[e],delete this.outgoingEdges[e],delete this.incomingEdges[e],[this.incomingEdges,this.outgoingEdges].forEach(function(t){Object.keys(t).forEach(function(r){let i=t[r].indexOf(e);i>=0&&t[r].splice(i,1)},this)}))}hasNode(e){return this.nodes.hasOwnProperty(e)}getNodeData(e){if(this.hasNode(e))return this.nodes[e];throw new G(`Node does not exist: ${e}`)}setNodeData(e,t){if(this.hasNode(e))this.nodes[e]=t;else throw new G(`Node does not exist: ${e}`)}addDependency(e,t){if(!this.hasNode(e))throw new G(`Node does not exist: ${e}`);if(!this.hasNode(t))throw new G(`Node does not exist: ${t}`);return this.outgoingEdges[e].indexOf(t)===-1&&this.outgoingEdges[e].push(t),this.incomingEdges[t].indexOf(e)===-1&&this.incomingEdges[t].push(e),!0}removeDependency(e,t){let r;this.hasNode(e)&&(r=this.outgoingEdges[e].indexOf(t),r>=0&&this.outgoingEdges[e].splice(r,1)),this.hasNode(t)&&(r=this.incomingEdges[t].indexOf(e),r>=0&&this.incomingEdges[t].splice(r,1))}dependenciesOf(e,t){if(this.hasNode(e)){let r=[];Yv(this.outgoingEdges,t,r)(e);let s=r.indexOf(e);return s>=0&&r.splice(s,1),r}else throw new G(`Node does not exist: ${e}`)}dependantsOf(e,t){if(this.hasNode(e)){let r=[];Yv(this.incomingEdges,t,r)(e);let s=r.indexOf(e);return s>=0&&r.splice(s,1),r}else throw new G(`Node does not exist: ${e}`)}overallOrder(e){let t=this,r=[],i=Object.keys(this.nodes);if(i.length===0)return r;{let s=Yv(this.outgoingEdges,!1,[]);i.forEach(function(a){s(a)});let o=Yv(this.outgoingEdges,e,r);return i.filter(function(a){return t.incomingEdges[a].length===0}).forEach(function(a){o(a)}),r}}},_M=class{static isGreaterOrEqual(e,t){let r=kae(e),i=kae(t);return r[0]>i[0]||r[0]===i[0]&&r[1]>i[1]||r[0]===i[0]&&r[1]===i[1]&&r[2]>=i[2]}};function kae(n=""){let e=[0,0,0];return n.split(".").forEach((t,r)=>e[r]=parseInt(t,10)),e}var De=class{static isSQLiteFamily(e){return["sqlite","cordova","react-native","nativescript","sqljs","expo","better-sqlite3","capacitor"].includes(e.options.type)}static isMySQLFamily(e){return["mysql","mariadb"].includes(e.options.type)}static isReleaseVersionOrGreater(e,t){return e.version!=null&&_M.isGreaterOrEqual(e.version,t)}static isPostgresFamily(e){return["postgres","aurora-postgres"].includes(e.options.type)}static buildDriverOptions(e,t){if(e.url){let r=this.parseConnectionUrl(e.url);t&&t.useSid&&r.database&&(r.sid=r.database);for(let i of Object.keys(r))typeof r[i]>"u"&&delete r[i];return Object.assign({},e,r)}return Object.assign({},e)}static buildMongoDBDriverOptions(e,t){if(e.url){let r=this.parseMongoDBConnectionUrl(e.url);t&&t.useSid&&r.database&&(r.sid=r.database);for(let i of Object.keys(r))typeof r[i]>"u"&&delete r[i];return Object.assign({},e,r)}return Object.assign({},e)}static buildAlias({maxAliasLength:e},t,...r){typeof t=="string"?(r.unshift(t),t={shorten:!1,joiner:"_"}):t=Object.assign({shorten:!1,joiner:"_"},t);let i=r.length===1?r[0]:r.join(t.joiner);if(e&&e>0&&i.length>e){if(t.shorten===!0){let s=Bae(i);if(s.length<e)return s}return void 0}return i}static buildColumnAlias({maxAliasLength:e},t,...r){return this.buildAlias({maxAliasLength:e},t,...r)}static parseConnectionUrl(e){let t=e.split(":")[0],r=e.indexOf("//"),i=e.substr(r+2),s=i.indexOf("/"),o=s!==-1?i.substr(0,s):i,a=s!==-1?i.substr(s+1):void 0;a&&a.indexOf("?")!==-1&&(a=a.substr(0,a.indexOf("?")));let c=o.lastIndexOf("@"),l=o.substr(0,c),d=o.substr(c+1),h=l,p="",b=l.indexOf(":");b!==-1&&(h=l.substr(0,b),p=l.substr(b+1));let[v,x]=d.split(":");return{type:t,host:v,username:decodeURIComponent(h),password:decodeURIComponent(p),port:x?parseInt(x):void 0,database:a||void 0}}static parseMongoDBConnectionUrl(e){let t=e.split(":")[0],r=e.indexOf("//"),i=e.substr(r+2),s=i.indexOf("/"),o=s!==-1?i.substr(0,s):i,a=s!==-1?i.substr(s+1):void 0,c="",l,d,h,p,b={};if(a&&a.indexOf("?")!==-1){c=a.substr(a.indexOf("?")+1,a.length);let de=c.split("&"),g,xe;de.forEach(Ce=>{g=Ce.split("=")[0],xe=Ce.split("=")[1],b[g]=xe}),p=b.replicaSet,a=a.substr(0,a.indexOf("?"))}let v=o.lastIndexOf("@"),x=o.substr(0,v),N=o.substr(v+1),k=x,ee="",X=x.indexOf(":");X!==-1&&(k=x.substr(0,X),ee=x.substr(X+1)),p?h=N:[l,d]=N.split(":");let ne={type:t,host:l,hostReplicaSet:h,username:decodeURIComponent(k),password:decodeURIComponent(ee),port:d?parseInt(d):void 0,database:a||void 0};for(let[de,g]of Object.entries(b))ne[de]=g;return ne}},vM=class{validateMany(e,t){e.forEach(r=>this.validate(r,e,t)),this.validateDependencies(e),this.validateEagerRelations(e)}validate(e,t,r){if(!e.primaryColumns.length&&!e.isJunction)throw new iM(e);if(e.primaryColumns.length>1&&!e.primaryColumns.every((o,a,c)=>o.primaryKeyConstraintName===c[0].primaryKeyConstraintName))throw new G(`Entity ${e.name} has multiple primary columns with different constraint names. Constraint names should be the equal.`);if(e.inheritancePattern==="STI"||e.tableType==="entity-child"){if(!e.discriminatorColumn)throw new G(`Entity ${e.name} using single-table inheritance, it should also have a discriminator column. Did you forget to put discriminator column options?`);if(typeof e.discriminatorValue>"u")throw new G(`Entity ${e.name} has an undefined discriminator value. Discriminator value should be defined.`);let s=t.find(o=>o!==e&&(o.inheritancePattern==="STI"||o.tableType==="entity-child")&&o.tableName===e.tableName&&o.discriminatorValue===e.discriminatorValue&&o.inheritanceTree.some(a=>e.inheritanceTree.indexOf(a)!==-1));if(s)throw new G(`Entities ${e.name} and ${s.name} have the same discriminator values. Make sure they are different while using the @ChildEntity decorator.`)}if(e.relationCounts.forEach(s=>{if(s.relation.isManyToOne||s.relation.isOneToOne)throw new G("Relation count can not be implemented on ManyToOne or OneToOne relations.")}),r.options.type!=="mongodb"&&e.columns.filter(s=>!s.isVirtualProperty).forEach(s=>{let o=r.normalizeType(s);if(r.supportedDataTypes.indexOf(o)===-1)throw new uM(s,o,r.options.type);if(s.length&&r.withLengthColumnTypes.indexOf(o)===-1)throw new G(`Column ${s.propertyName} of Entity ${e.name} does not support length property.`);if(s.type==="enum"&&!s.enum&&!s.enumName)throw new G(`Column "${s.propertyName}" of Entity "${e.name}" is defined as enum, but missing "enum" or "enumName" properties.`)}),(De.isMySQLFamily(r)||r.options.type==="aurora-mysql")&&e.columns.filter(o=>o.isGenerated&&o.generationStrategy!=="uuid").length>1)throw new G(`Error in ${e.name} entity. There can be only one auto-increment column in MySql table.`);if(De.isMySQLFamily(r)&&t.filter(o=>o.database).length===0&&!r.database)throw new gM("database");if(r.options.type==="mssql"&&e.columns.filter(o=>o.charset).length>1)throw new G("Character set specifying is not supported in Sql Server");if(r.options.type==="postgres"){let s=e.columns.find(o=>o.asExpression&&(!o.generatedType||o.generatedType==="VIRTUAL"));if(s)throw new G(`Column "${s.propertyName}" of Entity "${e.name}" is defined as VIRTUAL, but Postgres supports only STORED generated columns.`)}let i=e.create(void 0,{fromDeserializer:!0});e.relations.forEach(s=>{if(s.isManyToMany||s.isOneToMany){if(s.persistenceEnabled===!1)return;let o=s.getEntityValue(i);if(Array.isArray(o))throw new dM(s)}}),e.relations.forEach(s=>{}),e.relations.forEach(s=>{if(s.isCascadeRemove&&s.inverseRelation&&s.inverseRelation.isCascadeRemove)throw new G(`Relation ${e.name}#${s.propertyName} and ${s.inverseRelation.entityMetadata.name}#${s.inverseRelation.propertyName} both has cascade remove set. This may lead to unexpected circular removals. Please set cascade remove only from one side of relationship.`)}),e.eagerRelations.forEach(s=>{})}validateDependencies(e){let t=new bM;e.forEach(r=>{t.addNode(r.name)}),e.forEach(r=>{r.relationsWithJoinColumns.filter(i=>!i.isNullable).forEach(i=>{t.addDependency(r.name,i.inverseEntityMetadata.name)})});try{t.overallOrder()}catch(r){throw new rM(r.toString().replace("Error: Dependency Cycle Found: ",""))}}validateEagerRelations(e){e.forEach(t=>{t.eagerRelations.forEach(r=>{if(r.inverseRelation&&r.inverseRelation.isEager)throw new G(`Circular eager relations are disallowed. ${t.targetName}#${r.propertyPath} contains "eager: true", and its inverse side ${r.inverseEntityMetadata.targetName}#${r.inverseRelation.propertyPath} contains "eager: true" as well. Remove "eager: true" from one side of the relation.`)})})}},oi=class n{static isFindOneOptions(e){let t=e;return t&&(Array.isArray(t.select)||Array.isArray(t.relations)||typeof t.select=="object"||typeof t.relations=="object"||typeof t.where=="object"||typeof t.join=="object"||typeof t.order=="object"||typeof t.cache=="object"||typeof t.cache=="boolean"||typeof t.cache=="number"||typeof t.comment=="string"||typeof t.lock=="object"||typeof t.loadRelationIds=="object"||typeof t.loadRelationIds=="boolean"||typeof t.loadEagerRelations=="boolean"||typeof t.withDeleted=="boolean"||typeof t.relationLoadStrategy=="string"||typeof t.transaction=="boolean")}static isFindManyOptions(e){let t=e;return t&&(this.isFindOneOptions(t)||typeof t.skip=="number"||typeof t.take=="number"||typeof t.skip=="string"||typeof t.take=="string")}static extractFindManyOptionsAlias(e){if(this.isFindManyOptions(e)&&e.join)return e.join.alias}static applyOptionsToTreeQueryBuilder(e,t){if(t?.relations){let r=[...t.relations];if(n.applyRelationsRecursively(e,r,e.expressionMap.mainAlias.name,e.expressionMap.mainAlias.metadata,""),r.length>0)throw new cM(r)}return e}static applyRelationsRecursively(e,t,r,i,s){let o=[];if(s){let a=new RegExp("^"+s.replace(".","\\.")+"\\.");o=t.filter(c=>c.match(a)).map(c=>c.replace(a,"")).filter(c=>i.findRelationWithPropertyPath(c))}else o=t.filter(a=>i.findRelationWithPropertyPath(a));o.forEach(a=>{let c=De.buildAlias(e.connection.driver,{joiner:"__"},r,a),l=r+"."+a;e.leftJoinAndSelect(l,c),t.splice(t.indexOf(s?s+"."+a:a),1);let d=e.expressionMap.joinAttributes.find(p=>p.entityOrProperty===l);this.applyRelationsRecursively(e,t,d.alias.name,d.metadata,s?s+"."+a:a);let h=i.relations.find(p=>p.propertyName===a);h&&this.joinEagerRelations(e,c,h.inverseEntityMetadata)})}static joinEagerRelations(e,t,r){r.eagerRelations.forEach(i=>{let s=De.buildAlias(e.connection.driver,e.connection.namingStrategy.eagerJoinRelationAlias(t,i.propertyPath)),o=!0;for(let c of e.expressionMap.joinAttributes)if(!(c.condition!==void 0||c.mapToProperty!==void 0||c.isMappingMany!==void 0||c.direction!=="LEFT"||c.entityOrProperty!==`${t}.${i.propertyPath}`)){o=!1,s=c.alias.name;break}o&&e.leftJoin(t+"."+i.propertyPath,s);let a=!0;for(let c of e.expressionMap.selects)if(!(c.aliasName!==void 0||c.virtual!==void 0||c.selection!==s)){a=!1;break}a&&e.addSelect(s),this.joinEagerRelations(e,s,i.inverseEntityMetadata)})}},qd=class n{static createRelationMaps(e,t,r,i){return i.map(s=>{let o=t.treeParentRelation.joinColumns[0],a=o.givenDatabaseName||o.databaseName,c=s[r+"_"+t.primaryColumns[0].databaseName],l=s[r+"_"+a];return{id:e.connection.driver.prepareHydratedValue(c,t.primaryColumns[0]),parentId:e.connection.driver.prepareHydratedValue(l,o)}})}static buildChildrenEntityTree(e,t,r,i,s){let o=e.treeChildrenRelation.propertyName;if(s.depth===0){t[o]=[];return}let a=e.primaryColumns[0].getEntityValue(t),c=i.filter(d=>d.parentId===a),l=new Set(c.map(d=>d.id));t[o]=r.filter(d=>l.has(e.primaryColumns[0].getEntityValue(d))),t[o].forEach(d=>{n.buildChildrenEntityTree(e,d,r,i,$e(K({},s),{depth:s.depth-1}))})}static buildParentEntityTree(e,t,r,i){let s=e.treeParentRelation.propertyName,o=e.primaryColumns[0].getEntityValue(t),a=i.find(l=>l.id===o),c=r.find(l=>a?e.primaryColumns[0].getEntityValue(l)===a.parentId:!1);c&&(t[s]=c,n.buildParentEntityTree(e,t[s],r,i))}},aE=class{get metadata(){return this.manager.connection.getMetadata(this.target)}constructor(e,t,r){this.target=e,this.manager=t,this.queryRunner=r}createQueryBuilder(e,t){return this.manager.createQueryBuilder(this.metadata.target,e||this.metadata.targetName,t||this.queryRunner)}hasId(e){return this.manager.hasId(this.metadata.target,e)}getId(e){return this.manager.getId(this.metadata.target,e)}create(e){return this.manager.create(this.metadata.target,e)}merge(e,...t){return this.manager.merge(this.metadata.target,e,...t)}preload(e){return this.manager.preload(this.metadata.target,e)}save(e,t){return this.manager.save(this.metadata.target,e,t)}remove(e,t){return this.manager.remove(this.metadata.target,e,t)}softRemove(e,t){return this.manager.softRemove(this.metadata.target,e,t)}recover(e,t){return this.manager.recover(this.metadata.target,e,t)}insert(e){return this.manager.insert(this.metadata.target,e)}update(e,t){return this.manager.update(this.metadata.target,e,t)}upsert(e,t){return this.manager.upsert(this.metadata.target,e,t)}delete(e){return this.manager.delete(this.metadata.target,e)}softDelete(e){return this.manager.softDelete(this.metadata.target,e)}restore(e){return this.manager.restore(this.metadata.target,e)}count(e){return this.manager.count(this.metadata.target,e)}countBy(e){return this.manager.countBy(this.metadata.target,e)}async find(e){return this.manager.find(this.metadata.target,e)}async findBy(e){return this.manager.findBy(this.metadata.target,e)}findAndCount(e){return this.manager.findAndCount(this.metadata.target,e)}findAndCountBy(e){return this.manager.findAndCountBy(this.metadata.target,e)}async findByIds(e){return this.manager.findByIds(this.metadata.target,e)}async findOne(e){return this.manager.findOne(this.metadata.target,e)}async findOneBy(e){return this.manager.findOneBy(this.metadata.target,e)}async findOneById(e){return this.manager.findOneById(this.metadata.target,e)}async findOneOrFail(e){return this.manager.findOneOrFail(this.metadata.target,e)}async findOneByOrFail(e){return this.manager.findOneByOrFail(this.metadata.target,e)}query(e,t){return this.manager.query(e,t)}clear(){return this.manager.clear(this.metadata.target)}increment(e,t,r){return this.manager.increment(this.metadata.target,e,t,r)}decrement(e,t,r){return this.manager.decrement(this.metadata.target,e,t,r)}extend(e){let t=this.constructor,{target:r,manager:i,queryRunner:s}=this,o=new class extends t{}(r,i,s);return Object.assign(o,e),o}},EM=class extends aE{async findTrees(e){let t=await this.findRoots(e);return await Promise.all(t.map(r=>this.findDescendantsTree(r,e))),t}findRoots(e){let t=a=>this.manager.connection.driver.escape(a),r=a=>this.manager.connection.driver.escape(a),i=this.metadata.treeParentRelation.joinColumns[0],s=i.givenDatabaseName||i.databaseName,o=this.createQueryBuilder("treeEntity");return oi.applyOptionsToTreeQueryBuilder(o,e),o.where(`${t("treeEntity")}.${r(s)} IS NULL`).getMany()}findDescendants(e,t){let r=this.createDescendantsQueryBuilder("treeEntity","treeClosure",e);return oi.applyOptionsToTreeQueryBuilder(r,t),r.getMany()}async findDescendantsTree(e,t){let r=this.createDescendantsQueryBuilder("treeEntity","treeClosure",e);oi.applyOptionsToTreeQueryBuilder(r,t);let i=await r.getRawAndEntities(),s=qd.createRelationMaps(this.manager,this.metadata,"treeEntity",i.raw);return qd.buildChildrenEntityTree(this.metadata,e,i.entities,s,K({depth:-1},t)),e}countDescendants(e){return this.createDescendantsQueryBuilder("treeEntity","treeClosure",e).getCount()}createDescendantsQueryBuilder(e,t,r){let i=s=>this.manager.connection.driver.escape(s);if(this.metadata.treeType==="closure-table"){let s=this.metadata.closureJunctionTable.descendantColumns.map(c=>i(t)+"."+i(c.propertyPath)+" = "+i(e)+"."+i(c.referencedColumn.propertyPath)).join(" AND "),o={},a=this.metadata.closureJunctionTable.ancestorColumns.map(c=>(o[c.referencedColumn.propertyName]=c.referencedColumn.getEntityValue(r),i(t)+"."+i(c.propertyPath)+" = :"+c.referencedColumn.propertyName)).join(" AND ");return this.createQueryBuilder(e).innerJoin(this.metadata.closureJunctionTable.tableName,t,s).where(a).setParameters(o)}else if(this.metadata.treeType==="nested-set"){let s=e+"."+this.metadata.nestedSetLeftColumn.propertyPath+" BETWEEN joined."+this.metadata.nestedSetLeftColumn.propertyPath+" AND joined."+this.metadata.nestedSetRightColumn.propertyPath,o={},a=this.metadata.treeParentRelation.joinColumns.map(c=>{let l=c.referencedColumn.propertyPath.replace(".","_");return o[l]=c.referencedColumn.getEntityValue(r),"joined."+c.referencedColumn.propertyPath+" = :"+l}).join(" AND ");return this.createQueryBuilder(e).innerJoin(this.metadata.targetName,"joined",s).where(a,o)}else if(this.metadata.treeType==="materialized-path")return this.createQueryBuilder(e).where(s=>{let o=s.subQuery().select(`${this.metadata.targetName}.${this.metadata.materializedPathColumn.propertyPath}`,"path").from(this.metadata.target,this.metadata.targetName).whereInIds(this.metadata.getEntityIdMap(r));return De.isSQLiteFamily(this.manager.connection.driver)?`${e}.${this.metadata.materializedPathColumn.propertyPath} LIKE ${o.getQuery()} || '%'`:`${e}.${this.metadata.materializedPathColumn.propertyPath} LIKE NULLIF(CONCAT(${o.getQuery()}, '%'), '%')`});throw new G("Supported only in tree entities")}findAncestors(e,t){let r=this.createAncestorsQueryBuilder("treeEntity","treeClosure",e);return oi.applyOptionsToTreeQueryBuilder(r,t),r.getMany()}async findAncestorsTree(e,t){let r=this.createAncestorsQueryBuilder("treeEntity","treeClosure",e);oi.applyOptionsToTreeQueryBuilder(r,t);let i=await r.getRawAndEntities(),s=qd.createRelationMaps(this.manager,this.metadata,"treeEntity",i.raw);return qd.buildParentEntityTree(this.metadata,e,i.entities,s),e}countAncestors(e){return this.createAncestorsQueryBuilder("treeEntity","treeClosure",e).getCount()}createAncestorsQueryBuilder(e,t,r){if(this.metadata.treeType==="closure-table"){let i=this.metadata.closureJunctionTable.ancestorColumns.map(a=>t+"."+a.propertyPath+" = "+e+"."+a.referencedColumn.propertyPath).join(" AND "),s={},o=this.metadata.closureJunctionTable.descendantColumns.map(a=>(s[a.referencedColumn.propertyName]=a.referencedColumn.getEntityValue(r),t+"."+a.propertyPath+" = :"+a.referencedColumn.propertyName)).join(" AND ");return this.createQueryBuilder(e).innerJoin(this.metadata.closureJunctionTable.tableName,t,i).where(o).setParameters(s)}else if(this.metadata.treeType==="nested-set"){let i="joined."+this.metadata.nestedSetLeftColumn.propertyPath+" BETWEEN "+e+"."+this.metadata.nestedSetLeftColumn.propertyPath+" AND "+e+"."+this.metadata.nestedSetRightColumn.propertyPath,s={},o=this.metadata.treeParentRelation.joinColumns.map(a=>{let c=a.referencedColumn.propertyPath.replace(".","_");return s[c]=a.referencedColumn.getEntityValue(r),"joined."+a.referencedColumn.propertyPath+" = :"+c}).join(" AND ");return this.createQueryBuilder(e).innerJoin(this.metadata.targetName,"joined",i).where(o,s)}else if(this.metadata.treeType==="materialized-path")return this.createQueryBuilder(e).where(i=>{let s=i.subQuery().select(`${this.metadata.targetName}.${this.metadata.materializedPathColumn.propertyPath}`,"path").from(this.metadata.target,this.metadata.targetName).whereInIds(this.metadata.getEntityIdMap(r));return De.isSQLiteFamily(this.manager.connection.driver)?`${s.getQuery()} LIKE ${e}.${this.metadata.materializedPathColumn.propertyPath} || '%'`:`${s.getQuery()} LIKE CONCAT(${e}.${this.metadata.materializedPathColumn.propertyPath}, '%')`});throw new G("Supported only in tree entities")}extend(e){let t=this.constructor,{target:r,manager:i,queryRunner:s}=this,o=new class extends t{}(r,i,s);return Object.assign(o,e),o}},wM=class{transform(e,t,r,i=!1){return this.groupAndTransform(e,t,r,i),e}groupAndTransform(e,t,r,i=!1){r.nonVirtualColumns.forEach(s=>{let o=s.getEntityValue(t);o!==void 0&&s.setEntityValue(e,o)}),r.relations.length&&r.relations.forEach(s=>{let o=s.getEntityValue(e),a=s.getEntityValue(t,i);if(a!==void 0)if(s.isOneToMany||s.isManyToMany){if(!Array.isArray(a))return;o||(o=[],s.setEntityValue(e,o)),a.forEach(c=>{let l=o.find(d=>s.inverseEntityMetadata.compareEntities(c,d));l||(l=s.inverseEntityMetadata.create(void 0,{fromDeserializer:!0}),o.push(l)),this.groupAndTransform(l,c,s.inverseEntityMetadata,i)})}else{if(!He.isObject(a)){He.isObject(o)||s.setEntityValue(e,a);return}o||(o=s.inverseEntityMetadata.create(void 0,{fromDeserializer:!0}),s.setEntityValue(e,o)),this.groupAndTransform(o,a,s.inverseEntityMetadata,i)}})}},CM=class{constructor(e,t,r,i){this.plainEntity=e,this.metadata=t,this.parentLoadMapItem=r,this.relation=i}get target(){return this.metadata.target}get id(){return this.metadata.getEntityIdMixedMap(this.plainEntity)}},DM=class{constructor(){this.loadMapItems=[]}get mainLoadMapItem(){return this.loadMapItems.find(e=>!e.relation&&!e.parentLoadMapItem)}addLoadMap(e){this.loadMapItems.find(r=>r.target===e.target&&r.id===e.id)||this.loadMapItems.push(e)}fillEntities(e,t){t.forEach(r=>{let i=this.loadMapItems.find(s=>s.target===e&&s.metadata.compareEntities(r,s.plainEntity));i&&(i.entity=r)})}groupByTargetIds(){let e=[];return this.loadMapItems.forEach(t=>{let r=e.find(i=>i.target===t.target);r||(r={target:t.target,ids:[]},e.push(r)),r.ids.push(t.id)}),e}},xM=class{constructor(e){this.manager=e}async transform(e,t){if(!t.hasAllPrimaryKeys(e))return Promise.reject("Given object does not have a primary column, cannot transform it to database entity.");let r=new DM,i=(s,o,a,c)=>{let l=new CM(s,o,a,c);r.addLoadMap(l),o.extractRelationValuesFromEntity(s,t.relations).filter(d=>d!=null).forEach(([d,h,p])=>i(h,p,l,d))};return i(e,t),await Promise.all(r.groupByTargetIds().map(s=>this.manager.findByIds(s.target,s.ids).then(o=>r.fillEntities(s.target,o)))),r.loadMapItems.forEach(s=>{!s.relation||!s.entity||!s.parentLoadMapItem||!s.parentLoadMapItem.entity||(s.relation.isManyToMany||s.relation.isOneToMany?(s.parentLoadMapItem.entity[s.relation.propertyName]||(s.parentLoadMapItem.entity[s.relation.propertyName]=[]),s.parentLoadMapItem.entity[s.relation.propertyName].push(s.entity)):s.parentLoadMapItem.entity[s.relation.propertyName]=s.entity)}),r.mainLoadMapItem?r.mainLoadMapItem.entity:void 0}},TM=class{get repository(){let e=this.getCustomRepositoryTarget(this);if(!e)throw new Qp(this.constructor);return this.manager.getRepository(e)}get treeRepository(){let e=this.getCustomRepositoryTarget(this);if(!e)throw new Qp(this.constructor);return this.manager.getTreeRepository(e)}createQueryBuilder(e){let t=this.getCustomRepositoryTarget(this.constructor);if(!t)throw new Qp(this.constructor);return this.manager.getRepository(t).createQueryBuilder(e)}createQueryBuilderFor(e,t){return this.getRepositoryFor(e).createQueryBuilder(t)}getRepositoryFor(e){return this.manager.getRepository(e)}getTreeRepositoryFor(e){return this.manager.getTreeRepository(e)}getCustomRepositoryTarget(e){let t=wi().entityRepositories.find(r=>r.target===(typeof e=="function"?e:e.constructor));if(!t)throw new eE(e);return t.entity}},cE=class{constructor(e){this.subjects=[...e],this.metadatas=this.getUniqueMetadatas(this.subjects)}sort(e){if(!this.metadatas.length)return this.subjects;let t=[];if(e==="delete"){let a=this.subjects.filter(c=>!c.entity&&!c.databaseEntity);t.push(...a),this.removeAlreadySorted(a)}let r=this.getNonNullableDependencies(),i=this.toposort(r);e==="insert"&&(i=i.reverse()),i.forEach(a=>{let c=this.subjects.filter(l=>l.metadata.targetName===a||l.metadata.parentEntityMetadata?.targetName===a);t.push(...c),this.removeAlreadySorted(c)});let s=this.getDependencies(),o=this.toposort(s);return e==="insert"&&(o=o.reverse()),o.forEach(a=>{let c=this.subjects.filter(l=>l.metadata.targetName===a);t.push(...c),this.removeAlreadySorted(c)}),t.push(...this.subjects),t}removeAlreadySorted(e){e.forEach(t=>{this.subjects.splice(this.subjects.indexOf(t),1)})}getUniqueMetadatas(e){let t=[];return e.forEach(r=>{t.indexOf(r.metadata)===-1&&t.push(r.metadata)}),t}getNonNullableDependencies(){return this.metadatas.reduce((e,t)=>(t.relationsWithJoinColumns.forEach(r=>{r.isNullable||e.push([t.targetName,r.inverseEntityMetadata.targetName])}),e),[])}getDependencies(){return this.metadatas.reduce((e,t)=>(t.relationsWithJoinColumns.forEach(r=>{r.inverseEntityMetadata!==t&&e.push([t.targetName,r.inverseEntityMetadata.targetName])}),e),[])}toposort(e){function t(l){let d=[];for(let h=0,p=l.length;h<p;h++){let b=l[h];d.indexOf(b[0])<0&&d.push(b[0]),d.indexOf(b[1])<0&&d.push(b[1])}return d}let r=t(e),i=r.length,s=new Array(i),o={},a=i;for(;a--;)o[a]||c(r[a],a,[]);function c(l,d,h){if(h.indexOf(l)>=0)throw new G("Cyclic dependency: "+JSON.stringify(l));if(!~r.indexOf(l))throw new G("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(l));if(o[d])return;o[d]=!0;let p=e.filter(function(b){return b[0]===l});if(d=p.length){let b=h.concat(l);do{let v=p[--d][1];c(v,r.indexOf(v),b)}while(d)}s[--i]=l}return s}},gn=class{static normalizeHydratedDate(e){return e&&(typeof e=="string"?new Date(e):e)}static mixedDateToDateString(e){return e instanceof Date?this.formatZerolessValue(e.getFullYear(),4)+"-"+this.formatZerolessValue(e.getMonth()+1)+"-"+this.formatZerolessValue(e.getDate()):e}static mixedDateToDate(e,t=!1,r=!0){let i=typeof e=="string"?Tee(e):e;return t&&(i=new Date(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds())),r||i.setUTCMilliseconds(0),i}static mixedDateToTimeString(e,t=!1){return e instanceof Date?this.formatZerolessValue(e.getHours())+":"+this.formatZerolessValue(e.getMinutes())+(t?"":":"+this.formatZerolessValue(e.getSeconds())):e}static mixedTimeToDate(e){if(typeof e=="string"){let[t,r,i]=e.split(":"),s=new Date;return t&&s.setHours(parseInt(t)),r&&s.setMinutes(parseInt(r)),i&&s.setSeconds(parseInt(i)),s}return e}static mixedTimeToString(e,t=!1){return e=e instanceof Date?e.getHours()+":"+e.getMinutes()+(t?"":":"+e.getSeconds()):e,typeof e=="string"?e.split(":").map(r=>r.length===1?"0"+r:r).join(":"):e}static mixedDateToDatetimeString(e,t){if(typeof e=="string"&&(e=new Date(e)),e instanceof Date){let r=this.formatZerolessValue(e.getFullYear(),4)+"-"+this.formatZerolessValue(e.getMonth()+1)+"-"+this.formatZerolessValue(e.getDate())+" "+this.formatZerolessValue(e.getHours())+":"+this.formatZerolessValue(e.getMinutes())+":"+this.formatZerolessValue(e.getSeconds());t&&(r+=`.${this.formatMilliseconds(e.getMilliseconds())}`),e=r}return e}static mixedDateToUtcDatetimeString(e){return typeof e=="string"&&(e=new Date(e)),e instanceof Date?this.formatZerolessValue(e.getUTCFullYear(),4)+"-"+this.formatZerolessValue(e.getUTCMonth()+1)+"-"+this.formatZerolessValue(e.getUTCDate())+" "+this.formatZerolessValue(e.getUTCHours())+":"+this.formatZerolessValue(e.getUTCMinutes())+":"+this.formatZerolessValue(e.getUTCSeconds())+"."+this.formatMilliseconds(e.getUTCMilliseconds()):e}static simpleArrayToString(e){return Array.isArray(e)?e.map(t=>String(t)).join(","):e}static stringToSimpleArray(e){return typeof e=="string"?e.length>0?e.split(","):[]:e}static simpleJsonToString(e){return JSON.stringify(e)}static stringToSimpleJson(e){return typeof e=="string"?JSON.parse(e):e}static simpleEnumToString(e){return""+e}static stringToSimpleEnum(e,t){return t.enum&&!isNaN(e)&&t.enum.indexOf(parseInt(e))>=0&&(e=parseInt(e)),e}static formatZerolessValue(e,t=2){return`${"0".repeat(t)}${e}`.slice(-t)}static formatMilliseconds(e){return e<10?"00"+e:e<100?"0"+e:String(e)}},pt=class n{static chunk(e,t){return Array.from(Array(Math.ceil(e.length/t)),(r,i)=>e.slice(i*t,i*t+t))}static splitClassesAndStrings(e){return[e.filter(t=>typeof t!="string"),e.filter(t=>typeof t=="string")]}static groupBy(e,t){return e.reduce((r,i)=>{let s=t(i),o=r.find(a=>a.id===s);return o||(o={id:s,items:[]},r.push(o)),o.items.push(i),r},[])}static uniq(e,t){return e.reduce((r,i)=>{let s=!1;if(typeof t=="function"){let o=t(i);s=!!r.find(a=>t(a)===o)}else typeof t=="string"?s=!!r.find(o=>o[t]===i[t]):s=r.indexOf(i)!==-1;return s||r.push(i),r},[])}static isPlainObject(e){return e==null?!1:!e.constructor||e.constructor===Object}static mergeArrayKey(e,t,r,i){if(i.has(r)){e[t]=i.get(r);return}if(!(r instanceof Promise)){if(!this.isPlainObject(r)&&!Array.isArray(r)){e[t]=r;return}e[t]||(e[t]=Array.isArray(r)?[]:{}),i.set(r,e[t]),this.merge(e[t],r,i),i.delete(r)}}static mergeObjectKey(e,t,r,i){if(i.has(r)){Object.assign(e,{[t]:i.get(r)});return}if(!(r instanceof Promise)){if(!this.isPlainObject(r)&&!Array.isArray(r)){Object.assign(e,{[t]:r});return}e[t]||Object.assign(e,{[t]:Array.isArray(r)?[]:{}}),i.set(r,e[t]),this.merge(e[t],r,i),i.delete(r)}}static merge(e,t,r=new Map){if(this.isPlainObject(e)&&this.isPlainObject(t))for(let i of Object.keys(t))i!=="__proto__"&&this.mergeObjectKey(e,i,t[i],r);if(Array.isArray(e)&&Array.isArray(t))for(let i=0;i<t.length;i++)this.mergeArrayKey(e,i,t[i],r)}static mergeDeep(e,...t){if(!t.length)return e;for(let r of t)n.merge(e,r);return e}static deepCompare(...e){let t,r,i,s;if(arguments.length<1)return!0;for(t=1,r=arguments.length;t<r;t++)if(i=[],s=[],!this.compare2Objects(i,s,arguments[0],arguments[t]))return!1;return!0}static deepValue(e,t){let r=t.split(".");for(let i=0,s=r.length;i<s;i++)e=e[r[i]];return e}static replaceEmptyObjectsWithBooleans(e){for(let t in e)e[t]&&typeof e[t]=="object"&&(Object.keys(e[t]).length===0?e[t]=!0:this.replaceEmptyObjectsWithBooleans(e[t]))}static propertyPathsToTruthyObject(e){let t={};for(let r of e){let i=r.split(".");if(!i.length)continue;(!t[i[0]]||t[i[0]]===!0)&&(t[i[0]]={});let s=t[i[0]];for(let[o,a]of i.entries())o!==0&&(s[a]?s=s[a]:o===i.length-1?(s[a]={},s=null):(s[a]={},s=s[a]))}return this.replaceEmptyObjectsWithBooleans(t),t}static compareIds(e,t){return e==null||t===void 0||t===null?!1:(typeof e.id=="string"&&typeof t.id=="string"||typeof e.id=="number"&&typeof t.id=="number")&&Object.keys(e).length===1&&Object.keys(t).length===1?e.id===t.id:n.deepCompare(e,t)}static toBoolean(e){return typeof e=="boolean"?e:typeof e=="string"?e==="true"||e==="1":typeof e=="number"?e>0:!1}static zipObject(e,t){return e.reduce((r,i,s)=>(r[i]=t[s],r),{})}static isArraysEqual(e,t){return e.length!==t.length?!1:e.every(r=>t.indexOf(r)!==-1)}static areMutuallyExclusive(...e){return!e.some(r=>{let i=e.filter(s=>s!==r);return r.some(s=>i.some(o=>o.includes(s)))})}static compare2Objects(e,t,r,i){let s;if(Number.isNaN(r)&&Number.isNaN(i)||r===i)return!0;if(r===null||i===null||r===void 0||i===void 0)return!1;if((typeof r.equals=="function"||typeof r.equals=="function")&&r.equals(i))return!0;if(typeof r=="function"&&typeof i=="function"||r instanceof Date&&i instanceof Date||r instanceof RegExp&&i instanceof RegExp||typeof r=="string"&&typeof i=="string"||typeof r=="number"&&typeof i=="number")return r.toString()===i.toString();if(!(typeof r=="object"&&typeof i=="object")||r.isPrototypeOf(i)||i.isPrototypeOf(r)||r.constructor!==i.constructor||r.prototype!==i.prototype||e.indexOf(r)>-1||t.indexOf(i)>-1)return!1;for(s in i){if(i.hasOwnProperty(s)!==r.hasOwnProperty(s))return!1;if(typeof i[s]!=typeof r[s])return!1}for(s in r){if(i.hasOwnProperty(s)!==r.hasOwnProperty(s))return!1;if(typeof i[s]!=typeof r[s])return!1;switch(typeof r[s]){case"object":case"function":if(e.push(r),t.push(i),!this.compare2Objects(e,t,r[s],i[s]))return!1;e.pop(),t.pop();break;default:if(r[s]!==i[s])return!1;break}}return!0}},ac=class{static transformFrom(e,t){return Array.isArray(e)?e.slice().reverse().reduce((i,s)=>s.from(i),t):e.from(t)}static transformTo(e,t){return Array.isArray(e)?e.reduce((r,i)=>i.to(r),t):e.to(t)}},SM=class{compute(e){e.forEach(t=>{this.computeDiffColumns(t),this.computeDiffRelationalColumns(e,t)})}computeDiffColumns(e){e.entity&&e.metadata.columns.forEach(t=>{if(t.isVirtual||t.isDiscriminator)return;let r=e.changeMaps.find(s=>s.column===t);r&&e.changeMaps.splice(e.changeMaps.indexOf(r),1);let i=t.getEntityValue(e.entity);if(i!==void 0){if(e.databaseEntity){let s=t.type!=="json"&&t.type!=="jsonb",o=t.getEntityValue(e.databaseEntity,s);if(t.relationMetadata){let c=t.relationMetadata.getEntityValue(e.entity);if(c!=null)return}let a=i;if(i!==null){switch(t.type){case"date":a=gn.mixedDateToDateString(i);break;case"time":case"time with time zone":case"time without time zone":case"timetz":a=gn.mixedDateToTimeString(i);break;case"datetime":case"datetime2":case Date:case"timestamp":case"timestamp without time zone":case"timestamp with time zone":case"timestamp with local time zone":case"timestamptz":a=gn.mixedDateToUtcDatetimeString(i),o=gn.mixedDateToUtcDatetimeString(o);break;case"json":case"jsonb":if(pt.deepCompare(i,o))return;break;case"simple-array":a=gn.simpleArrayToString(i),o=gn.simpleArrayToString(o);break;case"simple-enum":a=gn.simpleEnumToString(i),o=gn.simpleEnumToString(o);break;case"simple-json":a=gn.simpleJsonToString(i),o=gn.simpleJsonToString(o);break}t.transformer&&(a=ac.transformTo(t.transformer,i))}if(a===o)return}e.diffColumns.push(t),e.changeMaps.push({column:t,value:i})}})}computeDiffRelationalColumns(e,t){t.entity&&t.metadata.relationsWithJoinColumns.forEach(r=>{let i=r.getEntityValue(t.entity);if(i===void 0)return;if(t.databaseEntity){let a=i;a!==null&&He.isObject(a)&&(a=r.getRelationIdMap(a));let c=r.getEntityValue(t.databaseEntity);if(pt.compareIds(a,c))return;t.diffRelations.push(r)}let s=e.find(a=>a.mustBeInserted&&a.entity===i);s&&(i=s);let o=t.changeMaps.find(a=>a.relation===r);o?o.value=i:t.changeMaps.push({relation:r,value:i})})}},ql=class{constructor(){this.count=0,this.promises=[]}async wait(){return this.promises.length>0&&await Promise.all(this.promises),this}},lE=class extends G{constructor(){super("Nested sets do not support multiple root entities.")}};var Jp=class{constructor(e){this.queryRunner=e}async insert(e){let t=l=>this.queryRunner.connection.driver.escape(l),r=this.getTableName(e.metadata.tablePath),i=t(e.metadata.nestedSetLeftColumn.databaseName),s=t(e.metadata.nestedSetRightColumn.databaseName),o=e.metadata.treeParentRelation.getEntityValue(e.entity);!o&&e.parentSubject&&e.parentSubject.entity&&(o=e.parentSubject.insertedValueSet?e.parentSubject.insertedValueSet:e.parentSubject.entity);let a=e.metadata.getEntityIdMap(o),c;if(a&&(c=await this.queryRunner.manager.createQueryBuilder().select(e.metadata.targetName+"."+e.metadata.nestedSetRightColumn.propertyPath,"right").from(e.metadata.target,e.metadata.targetName).whereInIds(a).getRawOne().then(l=>{let d=l?l.right:void 0;return typeof d=="string"?parseInt(d):d})),c!==void 0)await this.queryRunner.query(`UPDATE ${r} SET ${i} = CASE WHEN ${i} > ${c} THEN ${i} + 2 ELSE ${i} END,${s} = ${s} + 2 WHERE ${s} >= ${c}`),pt.mergeDeep(e.insertedValueSet,e.metadata.nestedSetLeftColumn.createValueMap(c),e.metadata.nestedSetRightColumn.createValueMap(c+1));else{if(!await this.isUniqueRootEntity(e,o))throw new lE;pt.mergeDeep(e.insertedValueSet,e.metadata.nestedSetLeftColumn.createValueMap(1),e.metadata.nestedSetRightColumn.createValueMap(2))}}async update(e){let t=e.metadata.treeParentRelation.getEntityValue(e.entity);!t&&e.parentSubject&&e.parentSubject.entity&&(t=e.parentSubject.entity);let r=e.databaseEntity;if(!r&&t&&(r=e.metadata.treeChildrenRelation.getEntityValue(t).find(a=>Object.entries(e.identifier).every(([c,l])=>a[c]===l))),r===void 0||t===void 0)return;let i=e.metadata.treeParentRelation.getEntityValue(r),s=e.metadata.getEntityIdMap(i),o=e.metadata.getEntityIdMap(t);if(!pt.compareIds(s,o)){if(t){let a=v=>this.queryRunner.connection.driver.escape(v),c=this.getTableName(e.metadata.tablePath),l=a(e.metadata.nestedSetLeftColumn.databaseName),d=a(e.metadata.nestedSetRightColumn.databaseName),h=e.metadata.getEntityIdMap(r),p;h&&(p=(await this.getNestedSetIds(e.metadata,h))[0]);let b;if(o&&(b=(await this.getNestedSetIds(e.metadata,o))[0]),p!==void 0&&b!==void 0){let v=b.left>p.left,x=p.right-p.left+1,N;v?N=b.left-p.right:N=b.right-p.left;let k=`WHEN ${l} >= ${p.left} AND ${l} < ${p.right} THEN ${l} + ${N} `,ee=`WHEN ${d} > ${p.left} AND ${d} <= ${p.right} THEN ${d} + ${N} `;v?await this.queryRunner.query(`UPDATE ${c} SET ${l} = CASE WHEN ${l} > ${p.right} AND ${l} <= ${b.left} THEN ${l} - ${x} `+k+`ELSE ${l} END, ${d} = CASE WHEN ${d} > ${p.right} AND ${d} < ${b.left} THEN ${d} - ${x} `+ee+`ELSE ${d} END`):await this.queryRunner.query(`UPDATE ${c} SET ${l} = CASE WHEN ${l} < ${p.left} AND ${l} > ${b.right} THEN ${l} + ${x} `+k+`ELSE ${l} END, ${d} = CASE WHEN ${d} < ${p.left} AND ${d} >= ${b.right} THEN ${d} + ${x} `+ee+`ELSE ${d} END`)}}else if(!await this.isUniqueRootEntity(e,t))throw new lE}}async remove(e){Array.isArray(e)||(e=[e]);let t=e[0].metadata,r=l=>this.queryRunner.connection.driver.escape(l),i=this.getTableName(t.tablePath),s=r(t.nestedSetLeftColumn.databaseName),o=r(t.nestedSetRightColumn.databaseName),a=[];for(let l of e){let d=t.getEntityIdMap(l.entity);d&&a.push(d)}let c=await this.getNestedSetIds(t,a);for(let l of c){let d=l.right-l.left+1;await this.queryRunner.query(`UPDATE ${i} SET ${s} = CASE WHEN ${s} > ${l.left} THEN ${s} - ${d} ELSE ${s} END, ${o} = CASE WHEN ${o} > ${l.right} THEN ${o} - ${d} ELSE ${o} END`)}}getNestedSetIds(e,t){let r={left:`${e.targetName}.${e.nestedSetLeftColumn.propertyPath}`,right:`${e.targetName}.${e.nestedSetRightColumn.propertyPath}`},i=this.queryRunner.manager.createQueryBuilder();return Object.entries(r).forEach(([s,o])=>{i.addSelect(o,s)}),i.from(e.target,e.targetName).whereInIds(t).orderBy(r.right,"DESC").getRawMany().then(s=>{let o=[];for(let a of s){let c={};for(let l of Object.keys(r)){let d=a?a[l]:void 0;c[l]=typeof d=="string"?parseInt(d):d}o.push(c)}return o})}async isUniqueRootEntity(e,t){let r=l=>this.queryRunner.connection.driver.escape(l),i=this.getTableName(e.metadata.tablePath),s=[],o=e.metadata.treeParentRelation.joinColumns.map(l=>{let d=r(l.databaseName),h=l.getEntityValue(t);if(h==null)return`${d} IS NULL`;s.push(h);let p=this.queryRunner.connection.driver.createParameter("entity_"+l.databaseName,s.length-1);return`${d} = ${p}`}).join(" AND "),a="count",c=await this.queryRunner.query(`SELECT COUNT(1) AS ${r(a)} FROM ${i} WHERE ${o}`,s,!0);return parseInt(c.records[0][a])===0}getTableName(e){return e.split(".").map(t=>t===""?t:this.queryRunner.connection.driver.escape(t)).join(".")}},Yp=class{constructor(e){this.queryRunner=e}async insert(e){let t={};e.metadata.closureJunctionTable.ancestorColumns.forEach(i=>{t[i.databaseName]=e.identifier}),e.metadata.closureJunctionTable.descendantColumns.forEach(i=>{t[i.databaseName]=e.identifier}),await this.queryRunner.manager.createQueryBuilder().insert().into(e.metadata.closureJunctionTable.tablePath).values(t).updateEntity(!1).callListeners(!1).execute();let r=e.metadata.treeParentRelation.getEntityValue(e.entity);if(!r&&e.parentSubject&&e.parentSubject.entity&&(r=e.parentSubject.insertedValueSet?e.parentSubject.insertedValueSet:e.parentSubject.entity),r){let i=h=>this.queryRunner.connection.driver.escape(h),s=this.getTableName(e.metadata.closureJunctionTable.tablePath),o=[],a=e.metadata.closureJunctionTable.ancestorColumns.map(h=>i(h.databaseName)),c=e.metadata.closureJunctionTable.descendantColumns.map(h=>i(h.databaseName)),l=e.metadata.primaryColumns.map(h=>(o.push(h.getEntityValue(e.insertedValueSet?e.insertedValueSet:e.entity)),this.queryRunner.connection.driver.createParameter("child_entity_"+h.databaseName,o.length-1))),d=e.metadata.closureJunctionTable.descendantColumns.map(h=>{let p=i(h.databaseName),b=h.referencedColumn.getEntityValue(r);if(!b)throw new sE(e.metadata.name);o.push(b);let v=this.queryRunner.connection.driver.createParameter("parent_entity_"+h.referencedColumn.databaseName,o.length-1);return`${p} = ${v}`});await this.queryRunner.query(`INSERT INTO ${s} (${[...a,...c].join(", ")}) SELECT ${a.join(", ")}, ${l.join(", ")} FROM ${s} WHERE ${d.join(" AND ")}`,o)}}async update(e){let t=e.metadata.treeParentRelation.getEntityValue(e.entity);!t&&e.parentSubject&&e.parentSubject.entity&&(t=e.parentSubject.entity);let r=e.databaseEntity;if(!r&&t&&(r=e.metadata.treeChildrenRelation.getEntityValue(t).find(b=>Object.entries(e.identifier).every(([v,x])=>b[v]===x))),r===void 0||t===void 0)return;let i=e.metadata.treeParentRelation.getEntityValue(r),s=e.metadata.getEntityIdMap(i),o=e.metadata.getEntityIdMap(t);if(pt.compareIds(s,o))return;let a=b=>this.queryRunner.connection.driver.escape(b),c=e.metadata.closureJunctionTable,l=c.ancestorColumns.map(b=>a(b.databaseName)),d=c.descendantColumns.map(b=>a(b.databaseName)),h=(b,v)=>{let x=`sub${v}`,N=b.createQueryBuilder().select(d.join(", ")).from(c.tablePath,x);for(let k of c.ancestorColumns)N.andWhere(`${a(x)}.${a(k.databaseName)} = :value_${k.referencedColumn.databaseName}`);return b.createQueryBuilder().select(d.join(", ")).from(`(${N.getQuery()})`,v).setParameters(N.getParameters()).getQuery()},p={};for(let b of e.metadata.primaryColumns)p[`value_${b.databaseName}`]=r[b.databaseName];if(await this.queryRunner.manager.createQueryBuilder().delete().from(c.tablePath).where(b=>`(${d.join(", ")}) IN (${h(b,"descendant")})`).andWhere(b=>`(${l.join(", ")}) NOT IN (${h(b,"ancestor")})`).setParameters(p).execute(),t){let b=[],v=this.getTableName(c.tablePath),x=a("supertree"),N=a("subtree"),k=[...l.map(ne=>`${x}.${ne}`),...d.map(ne=>`${N}.${ne}`)],ee=e.metadata.closureJunctionTable.ancestorColumns.map(ne=>{let de=a(ne.databaseName),g=ne.referencedColumn.getEntityValue(r);b.push(g);let xe=this.queryRunner.connection.driver.createParameter("entity_"+ne.referencedColumn.databaseName,b.length-1);return`${N}.${de} = ${xe}`}),X=e.metadata.closureJunctionTable.descendantColumns.map(ne=>{let de=a(ne.databaseName),g=ne.referencedColumn.getEntityValue(t);if(!g)throw new sE(e.metadata.name);b.push(g);let xe=this.queryRunner.connection.driver.createParameter("parent_entity_"+ne.referencedColumn.databaseName,b.length-1);return`${x}.${de} = ${xe}`});await this.queryRunner.query(`INSERT INTO ${v} (${[...l,...d].join(", ")}) SELECT ${k.join(", ")} FROM ${v} AS ${x}, ${v} AS ${N} WHERE ${[...ee,...X].join(" AND ")}`,b)}}async remove(e){if(this.queryRunner.connection.driver.options.type!=="mssql")return;Array.isArray(e)||(e=[e]);let t=c=>this.queryRunner.connection.driver.escape(c),r=e.map(c=>c.identifier),i=e[0].metadata.closureJunctionTable,s=c=>c.map(l=>{let d=r.map(h=>h[l.referencedColumn.databaseName]);return`${t(l.databaseName)} IN (${d.join(", ")})`}).join(" AND "),o=s(i.ancestorColumns),a=s(i.descendantColumns);await this.queryRunner.manager.createQueryBuilder().delete().from(i.tablePath).where(o).orWhere(a).execute()}getTableName(e){return e.split(".").map(t=>t===""?t:this.queryRunner.connection.driver.escape(t)).join(".")}},uE=class{constructor(e){this.queryRunner=e}async insert(e){let t=e.metadata.treeParentRelation.getEntityValue(e.entity);!t&&e.parentSubject&&e.parentSubject.entity&&(t=e.parentSubject.insertedValueSet?e.parentSubject.insertedValueSet:e.parentSubject.entity);let r=e.metadata.getEntityIdMap(t),i="";r&&(i=await this.getEntityPath(e,r));let s=e.metadata.treeParentRelation.joinColumns.map(o=>o.referencedColumn.getEntityValue(e.insertedValueSet)).join("_");await this.queryRunner.manager.createQueryBuilder().update(e.metadata.target).set({[e.metadata.materializedPathColumn.propertyPath]:i+s+"."}).where(e.identifier).execute()}async update(e){let t=e.metadata.treeParentRelation.getEntityValue(e.entity);!t&&e.parentSubject&&e.parentSubject.entity&&(t=e.parentSubject.entity);let r=e.databaseEntity;!r&&t&&(r=e.metadata.treeChildrenRelation.getEntityValue(t).find(h=>Object.entries(e.identifier).every(([p,b])=>h[p]===b)));let i=e.metadata.treeParentRelation.getEntityValue(r),s=e.metadata.getEntityIdMap(i),o=e.metadata.getEntityIdMap(t);if(pt.compareIds(s,o))return;let a="";o&&(a=await this.getEntityPath(e,o));let c="";s&&(c=await this.getEntityPath(e,s)||"");let l=e.metadata.treeParentRelation.joinColumns.map(h=>h.referencedColumn.getEntityValue(r)).join("_"),d=e.metadata.materializedPathColumn.propertyPath;await this.queryRunner.manager.createQueryBuilder().update(e.metadata.target).set({[d]:()=>`REPLACE(${d}, '${c}${l}.', '${a}${l}.')`}).where(`${d} LIKE :path`,{path:`${c}${l}.%`}).execute()}getEntityPath(e,t){return this.queryRunner.manager.createQueryBuilder().select(e.metadata.targetName+"."+e.metadata.materializedPathColumn.propertyPath,"path").from(e.metadata.target,e.metadata.targetName).whereInIds(t).getRawOne().then(r=>r?r.path:"")}},AM=class{constructor(e,t,r){this.hasExecutableOperations=!1,this.insertSubjects=[],this.updateSubjects=[],this.removeSubjects=[],this.softRemoveSubjects=[],this.recoverSubjects=[],this.queryRunner=e,this.allSubjects=t,this.options=r,this.validate(),this.recompute()}async execute(){let e;(!this.options||this.options.listeners!==!1)&&(e=this.broadcastBeforeEventsForAll(),e.promises.length>0&&await Promise.all(e.promises)),e&&e.count>0&&(this.insertSubjects.forEach(t=>t.recompute()),this.updateSubjects.forEach(t=>t.recompute()),this.removeSubjects.forEach(t=>t.recompute()),this.softRemoveSubjects.forEach(t=>t.recompute()),this.recoverSubjects.forEach(t=>t.recompute()),this.recompute()),this.insertSubjects=new cE(this.insertSubjects).sort("insert"),await this.executeInsertOperations(),this.updateSubjects=this.allSubjects.filter(t=>t.mustBeUpdated),await this.executeUpdateOperations(),this.removeSubjects=new cE(this.removeSubjects).sort("delete"),await this.executeRemoveOperations(),this.softRemoveSubjects=this.allSubjects.filter(t=>t.mustBeSoftRemoved),await this.executeSoftRemoveOperations(),this.recoverSubjects=this.allSubjects.filter(t=>t.mustBeRecovered),await this.executeRecoverOperations(),await this.updateSpecialColumnsInPersistedEntities(),(!this.options||this.options.listeners!==!1)&&(e=this.broadcastAfterEventsForAll(),e.promises.length>0&&await Promise.all(e.promises))}validate(){this.allSubjects.forEach(e=>{if(e.mustBeUpdated&&e.mustBeRemoved)throw new hM(e)})}recompute(){new SM().compute(this.allSubjects),this.insertSubjects=this.allSubjects.filter(e=>e.mustBeInserted),this.updateSubjects=this.allSubjects.filter(e=>e.mustBeUpdated),this.removeSubjects=this.allSubjects.filter(e=>e.mustBeRemoved),this.softRemoveSubjects=this.allSubjects.filter(e=>e.mustBeSoftRemoved),this.recoverSubjects=this.allSubjects.filter(e=>e.mustBeRecovered),this.hasExecutableOperations=this.insertSubjects.length>0||this.updateSubjects.length>0||this.removeSubjects.length>0||this.softRemoveSubjects.length>0||this.recoverSubjects.length>0}broadcastBeforeEventsForAll(){let e=new ql;return this.insertSubjects.length&&this.insertSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastBeforeInsertEvent(e,t.metadata,t.entity)),this.updateSubjects.length&&this.updateSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastBeforeUpdateEvent(e,t.metadata,t.entity,t.databaseEntity,t.diffColumns,t.diffRelations)),this.removeSubjects.length&&this.removeSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastBeforeRemoveEvent(e,t.metadata,t.entity,t.databaseEntity)),this.softRemoveSubjects.length&&this.softRemoveSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastBeforeSoftRemoveEvent(e,t.metadata,t.entity,t.databaseEntity)),this.recoverSubjects.length&&this.recoverSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastBeforeRecoverEvent(e,t.metadata,t.entity,t.databaseEntity)),e}broadcastAfterEventsForAll(){let e=new ql;return this.insertSubjects.length&&this.insertSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastAfterInsertEvent(e,t.metadata,t.entity)),this.updateSubjects.length&&this.updateSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastAfterUpdateEvent(e,t.metadata,t.entity,t.databaseEntity,t.diffColumns,t.diffRelations)),this.removeSubjects.length&&this.removeSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastAfterRemoveEvent(e,t.metadata,t.entity,t.databaseEntity)),this.softRemoveSubjects.length&&this.softRemoveSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastAfterSoftRemoveEvent(e,t.metadata,t.entity,t.databaseEntity)),this.recoverSubjects.length&&this.recoverSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastAfterRecoverEvent(e,t.metadata,t.entity,t.databaseEntity)),e}async executeInsertOperations(){let[e,t]=this.groupBulkSubjects(this.insertSubjects,"insert");for(let r of t){let i=e[r],s=[],o=[],a=[];if(this.queryRunner.connection.driver.options.type==="mongodb"?i.forEach(c=>{c.metadata.createDateColumn&&c.entity&&(c.entity[c.metadata.createDateColumn.databaseName]=new Date),c.metadata.updateDateColumn&&c.entity&&(c.entity[c.metadata.updateDateColumn.databaseName]=new Date),c.createValueSetAndPopChangeMap(),o.push(c),s.push(c.entity)}):this.queryRunner.connection.driver.options.type==="oracle"?i.forEach(c=>{a.push(c)}):i.forEach(c=>{c.changeMaps.length===0||c.metadata.treeType||this.queryRunner.connection.driver.options.type==="oracle"||this.queryRunner.connection.driver.options.type==="sap"?a.push(c):(o.push(c),s.push(c.createValueSetAndPopChangeMap()))}),s.length>0){let c=await this.queryRunner.manager.createQueryBuilder().insert().into(i[0].metadata.target).values(s).updateEntity(!(this.options&&this.options.reload===!1)).callListeners(!1).execute();o.forEach((l,d)=>{l.identifier=c.identifiers[d],l.generatedMap=c.generatedMaps[d],l.insertedValueSet=s[d]})}if(a.length>0)for(let c of a)c.insertedValueSet=c.createValueSetAndPopChangeMap(),c.metadata.treeType==="nested-set"&&await new Jp(this.queryRunner).insert(c),await this.queryRunner.manager.createQueryBuilder().insert().into(c.metadata.target).values(c.insertedValueSet).updateEntity(!(this.options&&this.options.reload===!1)).callListeners(!1).execute().then(l=>{c.identifier=l.identifiers[0],c.generatedMap=l.generatedMaps[0]}),c.metadata.treeType==="closure-table"?await new Yp(this.queryRunner).insert(c):c.metadata.treeType==="materialized-path"&&await new uE(this.queryRunner).insert(c);i.forEach(c=>{c.generatedMap&&c.metadata.columns.forEach(l=>{let d=l.getEntityValue(c.generatedMap);if(d!=null){let h=this.queryRunner.connection.driver.prepareHydratedValue(d,l);l.setEntityValue(c.generatedMap,h)}})})}}async executeUpdateOperations(){let e=async s=>{if(!s.identifier)throw new Ld(s);{let o=s.createValueSetAndPopChangeMap();switch(s.metadata.treeType){case"nested-set":await new Jp(this.queryRunner).update(s);break;case"closure-table":await new Yp(this.queryRunner).update(s);break;case"materialized-path":await new uE(this.queryRunner).update(s);break}let a=this.queryRunner.manager.createQueryBuilder().update(s.metadata.target).set(o).updateEntity(!(this.options&&this.options.reload===!1)).callListeners(!1);s.entity?a.whereEntity(s.identifier):a.where(s.identifier);let l=(await a.execute()).generatedMaps[0];l&&(s.metadata.columns.forEach(d=>{let h=d.getEntityValue(l);if(h!=null){let p=this.queryRunner.connection.driver.prepareHydratedValue(h,d);d.setEntityValue(l,p)}}),s.generatedMap||(s.generatedMap={}),Object.assign(s.generatedMap,l))}},t=[],r=[];for(let s of this.updateSubjects)s.metadata.treeType==="nested-set"?t.push(s):r.push(s);let i=new Promise(async(s,o)=>{for(let a of t)try{await e(a)}catch(c){o(c)}s()});await Promise.all([...r.map(e),i])}async executeRemoveOperations(){let[e,t]=this.groupBulkSubjects(this.removeSubjects,"delete");for(let r of t){let i=e[r],s=i.map(o=>{if(!o.identifier)throw new Ld(o);return o.identifier});switch(i[0].metadata.treeType){case"nested-set":await new Jp(this.queryRunner).remove(i);break;case"closure-table":await new Yp(this.queryRunner).remove(i);break}await this.queryRunner.manager.createQueryBuilder().delete().from(i[0].metadata.target).where(s).callListeners(!1).execute()}}cloneMongoSubjectEntity(e){let t={};if(e.entity)for(let r of e.metadata.columns)pt.mergeDeep(t,r.getEntityValueMap(e.entity));return t}async executeSoftRemoveOperations(){await Promise.all(this.softRemoveSubjects.map(async e=>{if(!e.identifier)throw new Ld(e);let t;{let r=this.queryRunner.manager.createQueryBuilder().softDelete().from(e.metadata.target).updateEntity(!(this.options&&this.options.reload===!1)).callListeners(!1);e.entity?r.whereEntity(e.identifier):r.where(e.identifier),t=await r.execute()}e.generatedMap=t.generatedMaps[0],e.generatedMap&&e.metadata.columns.forEach(r=>{let i=r.getEntityValue(e.generatedMap);if(i!=null){let s=this.queryRunner.connection.driver.prepareHydratedValue(i,r);r.setEntityValue(e.generatedMap,s)}})}))}async executeRecoverOperations(){await Promise.all(this.recoverSubjects.map(async e=>{if(!e.identifier)throw new Ld(e);let t;{let r=this.queryRunner.manager.createQueryBuilder().restore().from(e.metadata.target).updateEntity(!(this.options&&this.options.reload===!1)).callListeners(!1);e.entity?r.whereEntity(e.identifier):r.where(e.identifier),t=await r.execute()}e.generatedMap=t.generatedMaps[0],e.generatedMap&&e.metadata.columns.forEach(r=>{let i=r.getEntityValue(e.generatedMap);if(i!=null){let s=this.queryRunner.connection.driver.prepareHydratedValue(i,r);r.setEntityValue(e.generatedMap,s)}})}))}updateSpecialColumnsInPersistedEntities(){this.insertSubjects.length&&this.updateSpecialColumnsInInsertedAndUpdatedEntities(this.insertSubjects),this.updateSubjects.length&&this.updateSpecialColumnsInInsertedAndUpdatedEntities(this.updateSubjects),this.softRemoveSubjects.length&&this.updateSpecialColumnsInInsertedAndUpdatedEntities(this.softRemoveSubjects),this.recoverSubjects.length&&this.updateSpecialColumnsInInsertedAndUpdatedEntities(this.recoverSubjects),this.removeSubjects.length&&this.removeSubjects.forEach(e=>{e.entity&&e.metadata.primaryColumns.forEach(t=>{t.setEntityValue(e.entity,void 0)})}),this.allSubjects.forEach(e=>{e.entity&&e.metadata.relationIds.forEach(t=>{t.setValue(e.entity)})})}updateSpecialColumnsInInsertedAndUpdatedEntities(e){e.forEach(t=>{t.entity&&(t.metadata.columns.forEach(r=>{t.metadata.childEntityMetadatas.length>0&&t.metadata.childEntityMetadatas.map(i=>i.target).indexOf(r.target)!==-1||r.isVirtual||(r.isNullable&&r.getEntityValue(t.entity)===void 0&&r.setEntityValue(t.entity,null),t.updatedRelationMaps.length>0&&t.updatedRelationMaps.forEach(i=>{i.relation.joinColumns.forEach(s=>{s.isVirtual!==!0&&s.setEntityValue(t.entity,He.isObject(i.value)?s.referencedColumn.getEntityValue(i.value):i.value)})}))}),t.generatedMap&&this.queryRunner.manager.merge(t.metadata.target,t.entity,t.generatedMap))})}groupBulkSubjects(e,t){let r={},i=[],s=e.some(a=>a.metadata.getInsertionReturningColumns().length>0),o=t==="delete"||this.queryRunner.connection.driver.isReturningSqlSupported("insert")||s===!1;return e.forEach((a,c)=>{let l=o||a.metadata.isJunction?a.metadata.name:a.metadata.name+"_"+c;r[l]?r[l].push(a):(r[l]=[a],i.push(l))}),[r,i]}},$s=class{constructor(e){this["@instanceof"]=Symbol.for("Subject"),this.identifier=void 0,this.entityWithFulfilledIds=void 0,this.databaseEntityLoaded=!1,this.changeMaps=[],this.canBeInserted=!1,this.canBeUpdated=!1,this.mustBeRemoved=!1,this.canBeSoftRemoved=!1,this.canBeRecovered=!1,this.updatedRelationMaps=[],this.diffColumns=[],this.diffRelations=[],this.metadata=e.metadata,this.entity=e.entity,this.parentSubject=e.parentSubject,e.canBeInserted!==void 0&&(this.canBeInserted=e.canBeInserted),e.canBeUpdated!==void 0&&(this.canBeUpdated=e.canBeUpdated),e.mustBeRemoved!==void 0&&(this.mustBeRemoved=e.mustBeRemoved),e.canBeSoftRemoved!==void 0&&(this.canBeSoftRemoved=e.canBeSoftRemoved),e.canBeRecovered!==void 0&&(this.canBeRecovered=e.canBeRecovered),e.identifier!==void 0&&(this.identifier=e.identifier),e.changeMaps!==void 0&&this.changeMaps.push(...e.changeMaps),this.recompute()}get mustBeInserted(){return this.canBeInserted&&!this.databaseEntity}get mustBeUpdated(){return this.canBeUpdated&&this.identifier&&(this.databaseEntityLoaded===!1||this.databaseEntityLoaded&&this.databaseEntity)&&this.changeMaps.length>0}get mustBeSoftRemoved(){return this.canBeSoftRemoved&&this.identifier&&(this.databaseEntityLoaded===!1||this.databaseEntityLoaded&&this.databaseEntity)}get mustBeRecovered(){return this.canBeRecovered&&this.identifier&&(this.databaseEntityLoaded===!1||this.databaseEntityLoaded&&this.databaseEntity)}createValueSetAndPopChangeMap(){let e=[],t=this.changeMaps.reduce((r,i)=>{let s=i.value;be.isSubject(s)&&(s=s.insertedValueSet?s.insertedValueSet:s.entity);let o;if(this.metadata.isJunction&&i.column)o=i.column.createValueMap(i.column.referencedColumn.getEntityValue(s));else if(i.column)o=i.column.createValueMap(s);else if(i.relation)if(He.isObject(s)){let a=i.relation.getRelationIdMap(s);if(a===void 0)return e.push(i),this.canBeUpdated=!0,r;o=i.relation.createValueMap(a),this.updatedRelationMaps.push({relation:i.relation,value:a})}else o=i.relation.createValueMap(s),this.updatedRelationMaps.push({relation:i.relation,value:s});return pt.mergeDeep(r,o),r},{});return this.changeMaps=e,t}recompute(){this.entity?(this.entityWithFulfilledIds=Object.assign({},this.entity),this.parentSubject&&this.metadata.primaryColumns.forEach(e=>{if(e.relationMetadata&&e.relationMetadata.inverseEntityMetadata===this.parentSubject.metadata){let t=e.referencedColumn.getEntityValue(this.parentSubject.entity);e.setEntityValue(this.entityWithFulfilledIds,t)}}),this.identifier=this.metadata.getEntityIdMap(this.entityWithFulfilledIds)):this.databaseEntity&&(this.identifier=this.metadata.getEntityIdMap(this.databaseEntity))}},jl=class n{constructor(e){this["@instanceof"]=Symbol.for("EntityMetadata"),this.childEntityMetadatas=[],this.inheritanceTree=[],this.tableType="regular",this.withoutRowid=!1,this.synchronize=!0,this.hasNonNullableRelations=!1,this.isJunction=!1,this.isAlwaysUsingConstructor=!0,this.isClosureJunction=!1,this.hasMultiplePrimaryKeys=!1,this.hasUUIDGeneratedColumns=!1,this.ownColumns=[],this.columns=[],this.ancestorColumns=[],this.descendantColumns=[],this.nonVirtualColumns=[],this.ownerColumns=[],this.inverseColumns=[],this.generatedColumns=[],this.primaryColumns=[],this.ownRelations=[],this.relations=[],this.eagerRelations=[],this.lazyRelations=[],this.oneToOneRelations=[],this.ownerOneToOneRelations=[],this.oneToManyRelations=[],this.manyToOneRelations=[],this.manyToManyRelations=[],this.ownerManyToManyRelations=[],this.relationsWithJoinColumns=[],this.relationIds=[],this.relationCounts=[],this.foreignKeys=[],this.embeddeds=[],this.allEmbeddeds=[],this.ownIndices=[],this.indices=[],this.uniques=[],this.ownUniques=[],this.checks=[],this.exclusions=[],this.ownListeners=[],this.listeners=[],this.afterLoadListeners=[],this.beforeInsertListeners=[],this.afterInsertListeners=[],this.beforeUpdateListeners=[],this.afterUpdateListeners=[],this.beforeRemoveListeners=[],this.beforeSoftRemoveListeners=[],this.beforeRecoverListeners=[],this.afterRemoveListeners=[],this.afterSoftRemoveListeners=[],this.afterRecoverListeners=[],this.connection=e.connection,this.inheritanceTree=e.inheritanceTree||[],this.inheritancePattern=e.inheritancePattern,this.treeType=e.tableTree?e.tableTree.type:void 0,this.treeOptions=e.tableTree?e.tableTree.options:void 0,this.parentClosureEntityMetadata=e.parentClosureEntityMetadata,this.tableMetadataArgs=e.args,this.target=this.tableMetadataArgs.target,this.tableType=this.tableMetadataArgs.type,this.expression=this.tableMetadataArgs.expression,this.withoutRowid=this.tableMetadataArgs.withoutRowid,this.dependsOn=this.tableMetadataArgs.dependsOn}create(e,t){let r=!!(t&&t.pojo===!0),i;return typeof this.target=="function"&&!r?!t?.fromDeserializer||this.isAlwaysUsingConstructor?i=new this.target:i=Object.create(this.target.prototype):i={},this.connection.options.typename&&(i[this.connection.options.typename]=this.targetName),this.lazyRelations.forEach(s=>this.connection.relationLoader.enableLazyLoad(s,i,e)),i}hasId(e){return e?this.primaryColumns.every(t=>{let r=t.getEntityValue(e);return r!=null&&r!==""}):!1}hasAllPrimaryKeys(e){return this.primaryColumns.every(t=>{let r=t.getEntityValue(e);return r!=null})}ensureEntityIdMap(e){if(He.isObject(e))return e;if(this.hasMultiplePrimaryKeys)throw new KI(this,e);return this.primaryColumns[0].createValueMap(e)}getEntityIdMap(e){if(e)return n.getValueMap(e,this.primaryColumns,{skipNulls:!0})}getEntityIdMixedMap(e){if(!e)return e;let t=this.getEntityIdMap(e);return this.hasMultiplePrimaryKeys?t:t&&this.primaryColumns[0].getEntityValue(t)}compareEntities(e,t){let r=this.getEntityIdMap(e);if(!r)return!1;let i=this.getEntityIdMap(t);return i?pt.compareIds(r,i):!1}findColumnWithPropertyName(e){return this.columns.find(t=>t.propertyName===e)}findColumnWithDatabaseName(e){return this.columns.find(t=>t.databaseName===e)}hasColumnWithPropertyPath(e){return this.columns.some(r=>r.propertyPath===e)||this.hasRelationWithPropertyPath(e)}findColumnWithPropertyPath(e){let t=this.columns.find(i=>i.propertyPath===e);if(t)return t;let r=this.relations.find(i=>i.propertyPath===e);if(r&&r.joinColumns.length===1)return r.joinColumns[0]}findColumnWithPropertyPathStrict(e){return this.columns.find(t=>t.propertyPath===e)}findColumnsWithPropertyPath(e){let t=this.columns.find(i=>i.propertyPath===e);if(t)return[t];let r=this.findRelationWithPropertyPath(e);return r&&r.joinColumns?r.joinColumns:[]}hasRelationWithPropertyPath(e){return this.relations.some(t=>t.propertyPath===e)}findRelationWithPropertyPath(e){return this.relations.find(t=>t.propertyPath===e)}hasEmbeddedWithPropertyPath(e){return this.allEmbeddeds.some(t=>t.propertyPath===e)}findEmbeddedWithPropertyPath(e){return this.allEmbeddeds.find(t=>t.propertyPath===e)}mapPropertyPathsToColumns(e){return e.map(t=>{let r=this.findColumnWithPropertyPath(t);if(r==null)throw new So(t,this);return r})}extractRelationValuesFromEntity(e,t){let r=[];return t.forEach(i=>{let s=i.getEntityValue(e);Array.isArray(s)?s.forEach(o=>r.push([i,o,this.getInverseEntityMetadata(o,i)])):s&&r.push([i,s,this.getInverseEntityMetadata(s,i)])}),r}getInverseEntityMetadata(e,t){let r=t.inverseEntityMetadata.childEntityMetadatas.find(i=>i.target===e.constructor);return r||t.inverseEntityMetadata}static createPropertyPath(e,t,r=""){let i=[];return Object.keys(t).forEach(s=>{let o=r?r+"."+s:s;if(e.hasEmbeddedWithPropertyPath(o)){let a=this.createPropertyPath(e,t[s],o);i.push(...a)}else{let a=r?r+"."+s:s;i.push(a)}}),i}static difference(e,t){return e.filter(r=>!t.find(i=>pt.compareIds(r,i)))}static getValueMap(e,t,r){return t.reduce((i,s)=>{let o=s.getEntityValueMap(e,r);if(!(i===void 0||o===null||o===void 0))return pt.mergeDeep(i,o)},{})}build(){let e=this.connection.namingStrategy,t=this.connection.options.entityPrefix,r=this.connection.options.entitySkipConstructor;this.engine=this.tableMetadataArgs.engine,this.database=this.tableMetadataArgs.type==="entity-child"&&this.parentEntityMetadata?this.parentEntityMetadata.database:this.tableMetadataArgs.database,this.tableMetadataArgs.schema?this.schema=this.tableMetadataArgs.schema:this.tableMetadataArgs.type==="entity-child"&&this.parentEntityMetadata?this.schema=this.parentEntityMetadata.schema:this.connection.options?.hasOwnProperty("schema")&&(this.schema=this.connection.options.schema),this.givenTableName=this.tableMetadataArgs.type==="entity-child"&&this.parentEntityMetadata?this.parentEntityMetadata.givenTableName:this.tableMetadataArgs.name,this.synchronize=this.tableMetadataArgs.synchronize!==!1,this.targetName=typeof this.tableMetadataArgs.target=="function"?this.tableMetadataArgs.target.name:this.tableMetadataArgs.target,this.tableMetadataArgs.type==="closure-junction"?this.tableNameWithoutPrefix=e.closureJunctionTableName(this.givenTableName):this.tableMetadataArgs.type==="entity-child"&&this.parentEntityMetadata?this.tableNameWithoutPrefix=e.tableName(this.parentEntityMetadata.targetName,this.parentEntityMetadata.givenTableName):(this.tableNameWithoutPrefix=e.tableName(this.targetName,this.givenTableName),this.tableMetadataArgs.type==="junction"&&this.connection.driver.maxAliasLength&&this.connection.driver.maxAliasLength>0&&this.tableNameWithoutPrefix.length>this.connection.driver.maxAliasLength&&(this.tableNameWithoutPrefix=Bae(this.tableNameWithoutPrefix,{separator:"_",segmentLength:3}))),this.tableName=t?e.prefixTableName(t,this.tableNameWithoutPrefix):this.tableNameWithoutPrefix,this.target=this.target?this.target:this.tableName,this.name=this.targetName?this.targetName:this.tableName,this.expression=this.tableMetadataArgs.expression,this.withoutRowid=this.tableMetadataArgs.withoutRowid===!0,this.tablePath=this.connection.driver.buildTableName(this.tableName,this.schema,this.database),this.orderBy=typeof this.tableMetadataArgs.orderBy=="function"?this.tableMetadataArgs.orderBy(this.propertiesMap):this.tableMetadataArgs.orderBy,r!==void 0&&(this.isAlwaysUsingConstructor=!r),this.isJunction=this.tableMetadataArgs.type==="closure-junction"||this.tableMetadataArgs.type==="junction",this.isClosureJunction=this.tableMetadataArgs.type==="closure-junction"}registerColumn(e){this.ownColumns.indexOf(e)===-1&&(this.ownColumns.push(e),this.columns=this.embeddeds.reduce((t,r)=>t.concat(r.columnsFromTree),this.ownColumns),this.primaryColumns=this.columns.filter(t=>t.isPrimary),this.hasMultiplePrimaryKeys=this.primaryColumns.length>1,this.hasUUIDGeneratedColumns=this.columns.filter(t=>t.isGenerated||t.generationStrategy==="uuid").length>0,this.propertiesMap=this.createPropertiesMap(),this.childEntityMetadatas&&this.childEntityMetadatas.forEach(t=>t.registerColumn(e)))}createPropertiesMap(){let e={};return this.columns.forEach(t=>pt.mergeDeep(e,t.createValueMap(t.propertyPath))),this.relations.forEach(t=>pt.mergeDeep(e,t.createValueMap(t.propertyPath))),e}getInsertionReturningColumns(){return this.columns.filter(e=>e.default!==void 0||e.isGenerated||e.isCreateDate||e.isUpdateDate||e.isDeleteDate||e.isVersion)}},NM=class{constructor(e){this.subjects=e}build(){this.subjects.forEach(e=>{e.metadata.oneToManyRelations.forEach(t=>{t.persistenceEnabled!==!1&&this.buildForSubjectRelation(e,t)})})}buildForSubjectRelation(e,t){let r=[];if(e.databaseEntity){let o=t.getEntityValue(e.databaseEntity);o&&(r=o.map(a=>t.inverseEntityMetadata.getEntityIdMap(a)))}let i=t.getEntityValue(e.entity);if(i===null&&(i=[]),i===void 0)return;let s=[];i.forEach(o=>{let a=t.inverseEntityMetadata.getEntityIdMap(o),c=this.subjects.find(d=>d.entity===o);if(c&&(a=c.identifier),!a){if(!c)return;c.changeMaps.push({relation:t.inverseRelation,value:e});return}r.find(d=>pt.compareIds(a,d))||(c||(c=new $s({metadata:t.inverseEntityMetadata,parentSubject:e,canBeUpdated:!0,identifier:a}),this.subjects.push(c)),c.changeMaps.push({relation:t.inverseRelation,value:e})),s.push(a)}),t.inverseRelation?.orphanedRowAction!=="disable"&&jl.difference(r,s).forEach(o=>{let a=new $s({metadata:t.inverseEntityMetadata,parentSubject:e,identifier:o});!t.inverseRelation||t.inverseRelation.orphanedRowAction==="nullify"?(a.canBeUpdated=!0,a.changeMaps=[{relation:t.inverseRelation,value:null}]):t.inverseRelation.orphanedRowAction==="delete"?a.mustBeRemoved=!0:t.inverseRelation.orphanedRowAction==="soft-delete"&&(a.canBeSoftRemoved=!0),this.subjects.push(a)})}},IM=class{constructor(e){this.subjects=e}build(){this.subjects.forEach(e=>{e.metadata.oneToOneRelations.forEach(t=>{t.isOwning||t.persistenceEnabled===!1||this.buildForSubjectRelation(e,t)})})}buildForSubjectRelation(e,t){let r;e.databaseEntity&&(r=t.getEntityValue(e.databaseEntity));let i=t.getEntityValue(e.entity);if(i===void 0)return;if(i===null){if(r){let c=new $s({metadata:t.inverseEntityMetadata,parentSubject:e,canBeUpdated:!0,identifier:r,changeMaps:[{relation:t.inverseRelation,value:null}]});this.subjects.push(c)}return}let s=t.inverseEntityMetadata.getEntityIdMap(i),o=this.subjects.find(c=>!!c.entity&&c.entity===i);if(o&&(s=o.identifier),!s){if(!o)return;o.changeMaps.push({relation:t.inverseRelation,value:e})}r&&pt.compareIds(s,r)||(o||(o=new $s({metadata:t.inverseEntityMetadata,canBeUpdated:!0,identifier:s}),this.subjects.push(o)),o.changeMaps.push({relation:t.inverseRelation,value:e}))}},dE=class{constructor(e){this.subjects=e}build(){this.subjects.forEach(e=>{e.entity&&e.metadata.manyToManyRelations.forEach(t=>{t.persistenceEnabled!==!1&&this.buildForSubjectRelation(e,t)})})}buildForAllRemoval(e){e.databaseEntity&&e.metadata.manyToManyRelations.forEach(t=>{if(t.persistenceEnabled===!1)return;t.getEntityValue(e.databaseEntity).forEach(i=>{let s=new $s({metadata:t.junctionEntityMetadata,parentSubject:e,mustBeRemoved:!0,identifier:this.buildJunctionIdentifier(e,t,i)});this.subjects.push(s)})})}buildForSubjectRelation(e,t){let r=[];e.databaseEntity&&(r=t.getEntityValue(e.databaseEntity));let i=t.getEntityValue(e.entity);if(i===null&&(i=[]),!Array.isArray(i))return;i.forEach(a=>{let c=t.inverseEntityMetadata.getEntityIdMap(a),l=this.subjects.find(v=>v.entity===a);if(l&&(c=l.identifier),!c&&!l||r.find(v=>pt.compareIds(v,c)))return;let h=t.isOwning?e:l||a,p=t.isOwning?l||a:e,b=new $s({metadata:t.junctionEntityMetadata,parentSubject:e,canBeInserted:!0});this.subjects.push(b),t.junctionEntityMetadata.ownerColumns.forEach(v=>{b.changeMaps.push({column:v,value:h})}),t.junctionEntityMetadata.inverseColumns.forEach(v=>{b.changeMaps.push({column:v,value:p})})});let s=[];i.forEach(a=>{let c=t.inverseEntityMetadata.getEntityIdMap(a),l=this.subjects.find(d=>d.entity===a);l&&(c=l.identifier),c!=null&&s.push(c)}),r.filter(a=>!s.find(c=>pt.compareIds(c,a))).forEach(a=>{let c=new $s({metadata:t.junctionEntityMetadata,parentSubject:e,mustBeRemoved:!0,identifier:this.buildJunctionIdentifier(e,t,a)});this.subjects.push(c)})}buildJunctionIdentifier(e,t,r){let i=t.isOwning?e.entity:r,s=t.isOwning?r:e.entity,o={};return t.junctionEntityMetadata.ownerColumns.forEach(a=>{pt.mergeDeep(o,a.createValueMap(a.referencedColumn.getEntityValue(i)))}),t.junctionEntityMetadata.inverseColumns.forEach(a=>{pt.mergeDeep(o,a.createValueMap(a.referencedColumn.getEntityValue(s)))}),o}},MM=class{constructor(e,t){this.queryRunner=e,this.subjects=t}async load(e){let t=this.groupByEntityTargets().map(async r=>{let i=[],s=[];if(r.subjects.forEach(l=>{l.databaseEntity||!l.identifier||(i.push(l.identifier),s.push(l))}),!i.length)return;let o=[];e==="save"||e==="soft-remove"||e==="recover"?r.subjects.forEach(l=>{l.metadata.relations.forEach(d=>{d.getEntityValue(l.entityWithFulfilledIds)!==void 0&&o.indexOf(d.propertyPath)===-1&&o.push(d.propertyPath)})}):o.push(...r.subjects[0].metadata.manyToManyRelations.map(l=>l.propertyPath));let a={loadEagerRelations:!1,loadRelationIds:{relations:o,disableMixedMap:!0},withDeleted:!0},c=[];this.queryRunner.connection.driver.options.type==="mongodb"||(c=await this.queryRunner.manager.getRepository(r.target).createQueryBuilder().setFindOptions(a).whereInIds(i).getMany()),c.forEach(l=>{this.findByPersistEntityLike(r.target,l).forEach(h=>{h.databaseEntity=l,h.identifier||(h.identifier=h.metadata.hasAllPrimaryKeys(l)?h.metadata.getEntityIdMap(l):void 0)})});for(let l of s)l.databaseEntityLoaded=!0});await Promise.all(t)}findByPersistEntityLike(e,t){return this.subjects.filter(r=>r.entity?r.entity===t?!0:r.metadata.target===e&&r.metadata.compareEntities(r.entityWithFulfilledIds,t):!1)}groupByEntityTargets(){return this.subjects.reduce((e,t)=>{let r=e.find(i=>i.target===t.metadata.target);return r||(r={target:t.metadata.target,subjects:[]},e.push(r)),r.subjects.push(t),e},[])}},RM=class{constructor(e){this.allSubjects=e}build(e,t){e.metadata.extractRelationValuesFromEntity(e.entity,e.metadata.relations).forEach(([r,i,s])=>{if(i==null||!r.isCascadeInsert&&!r.isCascadeUpdate&&!r.isCascadeSoftRemove&&!r.isCascadeRecover||!He.isObject(i))return;let o=this.findByPersistEntityLike(s.target,i);if(o){o.canBeInserted===!1&&(o.canBeInserted=r.isCascadeInsert===!0&&t==="save"),o.canBeUpdated===!1&&(o.canBeUpdated=r.isCascadeUpdate===!0&&t==="save"),o.canBeSoftRemoved===!1&&(o.canBeSoftRemoved=r.isCascadeSoftRemove===!0&&t==="soft-remove"),o.canBeRecovered===!1&&(o.canBeRecovered=r.isCascadeRecover===!0&&t==="recover");return}let a=new $s({metadata:s,parentSubject:e,entity:i,canBeInserted:r.isCascadeInsert===!0&&t==="save",canBeUpdated:r.isCascadeUpdate===!0&&t==="save",canBeSoftRemoved:r.isCascadeSoftRemove===!0&&t==="soft-remove",canBeRecovered:r.isCascadeRecover===!0&&t==="recover"});this.allSubjects.push(a),this.build(a,t)})}findByPersistEntityLike(e,t){return this.allSubjects.find(r=>r.entity?r.entity===t?!0:r.metadata.target===e&&r.metadata.compareEntities(r.entityWithFulfilledIds,t):!1)}},jd=class{constructor(e,t,r,i,s,o){this.connection=e,this.queryRunner=t,this.mode=r,this.target=i,this.entity=s,this.options=o}async execute(){if(!this.entity||typeof this.entity!="object")return Promise.reject(new eM(this.mode,this.entity));await Promise.resolve();let e=this.queryRunner||this.connection.createQueryRunner(),t=e.data;this.options&&this.options.data&&(e.data=this.options.data);try{let r=Array.isArray(this.entity)?this.entity:[this.entity],i=this.options&&this.options.chunk&&this.options.chunk>0?pt.chunk(r,this.options.chunk):[r],o=(await Promise.all(i.map(async c=>{let l=[];c.forEach(h=>{let p=this.target?this.target:h.constructor;if(p===Object)throw new JI(this.mode);let b=this.connection.getMetadata(p);if(b.inheritancePattern==="STI"&&b.childEntityMetadatas.length>0){let v=b.childEntityMetadatas.find(x=>h.constructor===x.target);v&&(b=v)}l.push(new $s({metadata:b,entity:h,canBeInserted:this.mode==="save",canBeUpdated:this.mode==="save",mustBeRemoved:this.mode==="remove",canBeSoftRemoved:this.mode==="soft-remove",canBeRecovered:this.mode==="recover"}))});let d=new RM(l);return l.forEach(h=>{d.build(h,this.mode)}),await new MM(e,l).load(this.mode),this.mode==="save"||this.mode==="soft-remove"||this.mode==="recover"?(new NM(l).build(),new IM(l).build(),new dE(l).build()):l.forEach(h=>{h.mustBeRemoved&&new dE(l).buildForAllRemoval(h)}),new AM(e,l,this.options)}))).filter(c=>c.hasExecutableOperations);if(o.length===0)return;let a=!1;try{e.isTransactionActive||(!this.options||this.options.transaction!==!1)&&(a=!0,await e.startTransaction());for(let c of o)await c.execute();a===!0&&await e.commitTransaction()}catch(c){if(a)try{await e.rollbackTransaction()}catch{}throw c}}finally{e.data=t,this.queryRunner||await e.release()}}},fE=class{constructor(e,t){this["@instanceof"]=Symbol.for("EntityManager"),this.repositories=[],this.treeRepositories=[],this.plainObjectToEntityTransformer=new wM,this.connection=e,t&&(this.queryRunner=t,He.assign(this.queryRunner,{manager:this}))}async transaction(e,t){let r=typeof e=="string"?e:void 0,i=typeof e=="function"?e:t;if(!i)throw new G("Transaction method requires callback in second parameter if isolation level is supplied.");if(this.queryRunner&&this.queryRunner.isReleased)throw new iE;let s=this.queryRunner||this.connection.createQueryRunner();try{await s.startTransaction(r);let o=await i(s.manager);return await s.commitTransaction(),o}catch(o){try{await s.rollbackTransaction()}catch{}throw o}finally{this.queryRunner||await s.release()}}async query(e,t){return this.connection.query(e,t,this.queryRunner)}createQueryBuilder(e,t,r){return t?this.connection.createQueryBuilder(e,t,r||this.queryRunner):this.connection.createQueryBuilder(e||r||this.queryRunner)}hasId(e,t){let r=arguments.length===2?e:e.constructor,i=arguments.length===2?t:e;return this.connection.getMetadata(r).hasId(i)}getId(e,t){let r=arguments.length===2?e:e.constructor,i=arguments.length===2?t:e;return this.connection.getMetadata(r).getEntityIdMixedMap(i)}create(e,t){let r=this.connection.getMetadata(e);if(!t)return r.create(this.queryRunner);if(Array.isArray(t))return t.map(s=>this.create(e,s));let i=r.create(this.queryRunner);return this.plainObjectToEntityTransformer.transform(i,t,r,!0),i}merge(e,t,...r){let i=this.connection.getMetadata(e);return r.forEach(s=>this.plainObjectToEntityTransformer.transform(t,s,i)),t}async preload(e,t){let r=this.connection.getMetadata(e),s=await new xM(this.connection.manager).transform(t,r);if(s)return this.merge(e,s,t)}save(e,t,r){let i=arguments.length>1&&(typeof e=="function"||be.isEntitySchema(e)||typeof e=="string")?e:void 0,s=i?t:e,o=i?r:t;return be.isEntitySchema(i)&&(i=i.options.name),Array.isArray(s)&&s.length===0?Promise.resolve(s):new jd(this.connection,this.queryRunner,"save",i,s,o).execute().then(()=>s)}remove(e,t,r){let i=arguments.length>1&&(typeof e=="function"||be.isEntitySchema(e)||typeof e=="string")?e:void 0,s=i?t:e,o=i?r:t;return Array.isArray(s)&&s.length===0?Promise.resolve(s):new jd(this.connection,this.queryRunner,"remove",i,s,o).execute().then(()=>s)}softRemove(e,t,r){let i=arguments.length>1&&(typeof e=="function"||be.isEntitySchema(e)||typeof e=="string")?e:void 0,s=i?t:e,o=i?r:t;return be.isEntitySchema(i)&&(i=i.options.name),Array.isArray(s)&&s.length===0?Promise.resolve(s):new jd(this.connection,this.queryRunner,"soft-remove",i,s,o).execute().then(()=>s)}recover(e,t,r){let i=arguments.length>1&&(typeof e=="function"||be.isEntitySchema(e)||typeof e=="string")?e:void 0,s=i?t:e,o=i?r:t;return be.isEntitySchema(i)&&(i=i.options.name),Array.isArray(s)&&s.length===0?Promise.resolve(s):new jd(this.connection,this.queryRunner,"recover",i,s,o).execute().then(()=>s)}async insert(e,t){return this.createQueryBuilder().insert().into(e).values(t).execute()}async upsert(e,t,r){let i=this.connection.getMetadata(e),s;Array.isArray(r)?s={conflictPaths:r}:s=r;let o;Array.isArray(t)?o=t:o=[t];let a=i.mapPropertyPathsToColumns(s.conflictPaths),c=i.columns.filter(l=>!a.includes(l)&&o.some(d=>typeof l.getEntityValue(d)<"u"));return this.createQueryBuilder().insert().into(e).values(o).orUpdate([...a,...c].map(l=>l.databaseName),a.map(l=>l.databaseName),{skipUpdateIfNoValuesChanged:s.skipUpdateIfNoValuesChanged}).execute()}update(e,t,r){return t==null||t===""||Array.isArray(t)&&t.length===0?Promise.reject(new G("Empty criteria(s) are not allowed for the update method.")):typeof t=="string"||typeof t=="number"||t instanceof Date||Array.isArray(t)?this.createQueryBuilder().update(e).set(r).whereInIds(t).execute():this.createQueryBuilder().update(e).set(r).where(t).execute()}delete(e,t){return t==null||t===""||Array.isArray(t)&&t.length===0?Promise.reject(new G("Empty criteria(s) are not allowed for the delete method.")):typeof t=="string"||typeof t=="number"||t instanceof Date||Array.isArray(t)?this.createQueryBuilder().delete().from(e).whereInIds(t).execute():this.createQueryBuilder().delete().from(e).where(t).execute()}softDelete(e,t){return t==null||t===""||Array.isArray(t)&&t.length===0?Promise.reject(new G("Empty criteria(s) are not allowed for the delete method.")):typeof t=="string"||typeof t=="number"||t instanceof Date||Array.isArray(t)?this.createQueryBuilder().softDelete().from(e).whereInIds(t).execute():this.createQueryBuilder().softDelete().from(e).where(t).execute()}restore(e,t){return t==null||t===""||Array.isArray(t)&&t.length===0?Promise.reject(new G("Empty criteria(s) are not allowed for the delete method.")):typeof t=="string"||typeof t=="number"||t instanceof Date||Array.isArray(t)?this.createQueryBuilder().restore().from(e).whereInIds(t).execute():this.createQueryBuilder().restore().from(e).where(t).execute()}count(e,t){let r=this.connection.getMetadata(e);return this.createQueryBuilder(e,oi.extractFindManyOptionsAlias(t)||r.name).setFindOptions(t||{}).getCount()}countBy(e,t){let r=this.connection.getMetadata(e);return this.createQueryBuilder(e,r.name).setFindOptions({where:t}).getCount()}async find(e,t){let r=this.connection.getMetadata(e);return this.createQueryBuilder(e,oi.extractFindManyOptionsAlias(t)||r.name).setFindOptions(t||{}).getMany()}async findBy(e,t){let r=this.connection.getMetadata(e);return this.createQueryBuilder(e,r.name).setFindOptions({where:t}).getMany()}findAndCount(e,t){let r=this.connection.getMetadata(e);return this.createQueryBuilder(e,oi.extractFindManyOptionsAlias(t)||r.name).setFindOptions(t||{}).getManyAndCount()}findAndCountBy(e,t){let r=this.connection.getMetadata(e);return this.createQueryBuilder(e,r.name).setFindOptions({where:t}).getManyAndCount()}async findByIds(e,t){if(!t.length)return Promise.resolve([]);let r=this.connection.getMetadata(e);return this.createQueryBuilder(e,r.name).andWhereInIds(t).getMany()}async findOne(e,t){let i=this.connection.getMetadata(e).name;if(t&&t.join&&(i=t.join.alias),!t.where)throw new Error("You must provide selection conditions in order to find a single row.");return this.createQueryBuilder(e,i).setFindOptions($e(K({},t),{take:1})).getOne()}async findOneBy(e,t){let r=this.connection.getMetadata(e);return this.createQueryBuilder(e,r.name).setFindOptions({where:t,take:1}).getOne()}async findOneById(e,t){let r=this.connection.getMetadata(e);return this.createQueryBuilder(e,r.name).setFindOptions({take:1}).whereInIds(r.ensureEntityIdMap(t)).getOne()}async findOneOrFail(e,t){return this.findOne(e,t).then(r=>r===null?Promise.reject(new em(e,t)):Promise.resolve(r))}async findOneByOrFail(e,t){return this.findOneBy(e,t).then(r=>r===null?Promise.reject(new em(e,t)):Promise.resolve(r))}async clear(e){let t=this.connection.getMetadata(e),r=this.queryRunner||this.connection.createQueryRunner();try{return await r.clearTable(t.tablePath)}finally{this.queryRunner||await r.release()}}async increment(e,t,r,i){let s=this.connection.getMetadata(e),o=s.findColumnWithPropertyPath(r);if(!o)throw new G(`Column ${r} was not found in ${s.targetName} entity.`);if(isNaN(Number(i)))throw new G(`Value "${i}" is not a number.`);let a=r.split(".").reduceRight((c,l)=>({[l]:c}),()=>this.connection.driver.escape(o.databaseName)+" + "+i);return this.createQueryBuilder(e,"entity").update(e).set(a).where(t).execute()}async decrement(e,t,r,i){let s=this.connection.getMetadata(e),o=s.findColumnWithPropertyPath(r);if(!o)throw new G(`Column ${r} was not found in ${s.targetName} entity.`);if(isNaN(Number(i)))throw new G(`Value "${i}" is not a number.`);let a=r.split(".").reduceRight((c,l)=>({[l]:c}),()=>this.connection.driver.escape(o.databaseName)+" - "+i);return this.createQueryBuilder(e,"entity").update(e).set(a).where(t).execute()}getRepository(e){let t=this.repositories.find(r=>r.target===e);if(t)return t;if(this.connection.driver.options.type!=="mongodb"){let r=new aE(e,this,this.queryRunner);return this.repositories.push(r),r}}getTreeRepository(e){if(this.connection.driver.treeSupport===!1)throw new YI(this.connection.driver);let t=this.treeRepositories.find(i=>i.target===e);if(t)return t;let r=new EM(e,this,this.queryRunner);return this.treeRepositories.push(r),r}withRepository(e){let t=e.constructor,a=e,{target:r,manager:i,queryRunner:s}=a,o=mf(a,["target","manager","queryRunner"]);return Object.assign(new t(e.target,this),K({},o))}getCustomRepository(e){let t=wi().entityRepositories.find(s=>s.target===(typeof e=="function"?e:e.constructor));if(!t)throw new eE(e);let r=t.entity?this.connection.getMetadata(t.entity):void 0,i=new t.target(this,r);if(i instanceof TM)i.manager||(i.manager=this);else{if(!r)throw new tM(e);i.manager=this,i.metadata=r}return i}async release(){if(!this.queryRunner)throw new fM;return this.queryRunner.release()}},OM=class extends fE{constructor(e,t){super(e,t),this["@instanceof"]=Symbol.for("SqljsEntityManager"),this.driver=e.driver}async loadDatabase(e){await this.driver.load(e)}async saveDatabase(e){await this.driver.save(e)}exportDatabase(){return this.driver.export()}},PM=class{create(e,t){return e.driver.options.type==="sqljs"?new OM(e,t):new fE(e,t)}},hE=class n{constructor(e){this["@instanceof"]=Symbol.for("View"),e&&(this.database=e.database,this.schema=e.schema,this.name=e.name,this.expression=e.expression,this.materialized=!!e.materialized)}clone(){return new n({database:this.database,schema:this.schema,name:this.name,expression:this.expression,materialized:this.materialized})}static create(e,t){let r={database:e.database,schema:e.schema,name:t.buildTableName(e.tableName,e.schema,e.database),expression:e.expression,materialized:e.tableMetadataArgs.materialized};return new n(r)}},pE=class{static viewMetadataCmp(e,t){return!e||!t?0:e.dependsOn&&(e.dependsOn.has(t.target)||e.dependsOn.has(t.name))?1:t.dependsOn&&(t.dependsOn.has(e.target)||t.dependsOn.has(e.name))?-1:0}},kM=class{constructor(e){this.connection=e,this["@instanceof"]=Symbol.for("RdbmsSchemaBuilder")}async build(){this.queryRunner=this.connection.createQueryRunner(),this.currentDatabase=this.connection.driver.database,this.currentSchema=this.connection.driver.schema;let e=this.connection.driver.options.type!=="cockroachdb"&&this.connection.driver.options.type!=="spanner"&&this.connection.options.migrationsTransactionMode!=="none";await this.queryRunner.beforeMigration(),e&&await this.queryRunner.startTransaction();try{await this.createMetadataTableIfNecessary(this.queryRunner);let t=this.entityToSyncMetadatas.map(r=>this.getTablePath(r));await this.queryRunner.getTables(t),await this.queryRunner.getViews([]),await this.executeSchemaSyncOperationsInProperOrder(),this.connection.queryResultCache&&await this.connection.queryResultCache.synchronize(this.queryRunner),e&&await this.queryRunner.commitTransaction()}catch(t){try{e&&await this.queryRunner.rollbackTransaction()}catch{}throw t}finally{await this.queryRunner.afterMigration(),await this.queryRunner.release()}}async createMetadataTableIfNecessary(e){(this.viewEntityToSyncMetadatas.length>0||this.hasGeneratedColumns())&&await this.createTypeormMetadataTable(e)}async log(){this.queryRunner=this.connection.createQueryRunner();try{let e=this.entityToSyncMetadatas.map(t=>this.getTablePath(t));return await this.queryRunner.getTables(e),await this.queryRunner.getViews([]),this.queryRunner.enableSqlMemory(),await this.executeSchemaSyncOperationsInProperOrder(),this.connection.queryResultCache&&await this.connection.queryResultCache.synchronize(this.queryRunner),this.queryRunner.getMemorySql()}finally{this.queryRunner.disableSqlMemory(),await this.queryRunner.release()}}get entityToSyncMetadatas(){return this.connection.entityMetadatas.filter(e=>e.synchronize&&e.tableType!=="entity-child"&&e.tableType!=="view")}get viewEntityToSyncMetadatas(){return this.connection.entityMetadatas.filter(e=>e.tableType==="view"&&e.synchronize).sort(pE.viewMetadataCmp)}hasGeneratedColumns(){return this.connection.entityMetadatas.some(e=>e.columns.some(t=>t.generatedType))}async executeSchemaSyncOperationsInProperOrder(){await this.dropOldViews(),await this.dropOldForeignKeys(),await this.dropOldIndices(),await this.dropOldChecks(),await this.dropOldExclusions(),await this.dropCompositeUniqueConstraints(),await this.renameColumns(),await this.createNewTables(),await this.dropRemovedColumns(),await this.addNewColumns(),await this.updatePrimaryKeys(),await this.updateExistColumns(),await this.createNewIndices(),await this.createNewChecks(),await this.createNewExclusions(),await this.createCompositeUniqueConstraints(),await this.createForeignKeys(),await this.createViews()}getTablePath(e){let t=this.connection.driver.parseTableName(e);return this.connection.driver.buildTableName(t.tableName,t.schema||this.currentSchema,t.database||this.currentDatabase)}async dropOldForeignKeys(){for(let e of this.entityToSyncMetadatas){let t=this.queryRunner.loadedTables.find(i=>this.getTablePath(i)===this.getTablePath(e));if(!t)continue;let r=t.foreignKeys.filter(i=>{let s=e.foreignKeys.find(o=>i.name===o.name&&this.getTablePath(i)===this.getTablePath(o.referencedEntityMetadata));return!s||s.onDelete&&s.onDelete!==i.onDelete||s.onUpdate&&s.onUpdate!==i.onUpdate});r.length!==0&&(this.connection.logger.logSchemaBuild(`dropping old foreign keys of ${t.name}: ${r.map(i=>i.name).join(", ")}`),await this.queryRunner.dropForeignKeys(t,r))}}async renameTables(){}async renameColumns(){for(let e of this.entityToSyncMetadatas){let t=this.queryRunner.loadedTables.find(o=>this.getTablePath(o)===this.getTablePath(e));if(!t||e.columns.length!==t.columns.length)continue;let r=e.columns.filter(o=>!o.isVirtualProperty).filter(o=>!t.columns.find(a=>a.name===o.databaseName&&a.type===this.connection.driver.normalizeType(o)&&a.isNullable===o.isNullable&&a.isUnique===this.connection.driver.normalizeIsUnique(o)));if(r.length===0||r.length>1)continue;let i=t.columns.filter(o=>!e.columns.find(a=>!a.isVirtualProperty&&a.databaseName===o.name&&this.connection.driver.normalizeType(a)===o.type&&a.isNullable===o.isNullable&&this.connection.driver.normalizeIsUnique(a)===o.isUnique));if(i.length===0||i.length>1)continue;let s=i[0].clone();s.name=r[0].databaseName,this.connection.logger.logSchemaBuild(`renaming column "${i[0].name}" in to "${s.name}"`),await this.queryRunner.renameColumn(t,i[0],s)}}async dropOldIndices(){for(let e of this.entityToSyncMetadatas){let t=this.queryRunner.loadedTables.find(i=>this.getTablePath(i)===this.getTablePath(e));if(!t)continue;let r=t.indices.filter(i=>{let s=e.indices.find(o=>o.name===i.name);return s?s.synchronize===!1?!1:s.isUnique!==i.isUnique||s.isSpatial!==i.isSpatial||this.connection.driver.isFullTextColumnTypeSupported()&&s.isFulltext!==i.isFulltext||s.columns.length!==i.columnNames.length?!0:!s.columns.every(o=>i.columnNames.indexOf(o.databaseName)!==-1):!0}).map(async i=>{this.connection.logger.logSchemaBuild(`dropping an index: "${i.name}" from table ${t.name}`),await this.queryRunner.dropIndex(t,i)});await Promise.all(r)}}async dropOldChecks(){if(!(De.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"))for(let e of this.entityToSyncMetadatas){let t=this.queryRunner.loadedTables.find(i=>this.getTablePath(i)===this.getTablePath(e));if(!t)continue;let r=t.checks.filter(i=>!e.checks.find(s=>s.name===i.name));r.length!==0&&(this.connection.logger.logSchemaBuild(`dropping old check constraint: ${r.map(i=>`"${i.name}"`).join(", ")} from table "${t.name}"`),await this.queryRunner.dropCheckConstraints(t,r))}}async dropCompositeUniqueConstraints(){for(let e of this.entityToSyncMetadatas){let t=this.queryRunner.loadedTables.find(i=>this.getTablePath(i)===this.getTablePath(e));if(!t)continue;let r=t.uniques.filter(i=>i.columnNames.length>1&&!e.uniques.find(s=>s.name===i.name));r.length!==0&&(this.connection.logger.logSchemaBuild(`dropping old unique constraint: ${r.map(i=>`"${i.name}"`).join(", ")} from table "${t.name}"`),await this.queryRunner.dropUniqueConstraints(t,r))}}async dropOldExclusions(){if(this.connection.driver.options.type==="postgres")for(let e of this.entityToSyncMetadatas){let t=this.queryRunner.loadedTables.find(i=>this.getTablePath(i)===this.getTablePath(e));if(!t)continue;let r=t.exclusions.filter(i=>!e.exclusions.find(s=>s.name===i.name));r.length!==0&&(this.connection.logger.logSchemaBuild(`dropping old exclusion constraint: ${r.map(i=>`"${i.name}"`).join(", ")} from table "${t.name}"`),await this.queryRunner.dropExclusionConstraints(t,r))}}async createNewTables(){for(let e of this.entityToSyncMetadatas){if(this.queryRunner.loadedTables.find(i=>this.getTablePath(i)===this.getTablePath(e)))continue;this.connection.logger.logSchemaBuild(`creating a new table: ${this.getTablePath(e)}`);let r=fa.create(e,this.connection.driver);await this.queryRunner.createTable(r,!1,!1),this.queryRunner.loadedTables.push(r)}}async createViews(){for(let e of this.viewEntityToSyncMetadatas){if(this.queryRunner.loadedViews.find(i=>{let s=typeof i.expression=="string"?i.expression.trim():i.expression(this.connection).getQuery(),o=typeof e.expression=="string"?e.expression.trim():e.expression(this.connection).getQuery();return this.getTablePath(i)===this.getTablePath(e)&&s===o}))continue;this.connection.logger.logSchemaBuild(`creating a new view: ${this.getTablePath(e)}`);let r=hE.create(e,this.connection.driver);await this.queryRunner.createView(r,!0),this.queryRunner.loadedViews.push(r)}}async dropOldViews(){let e=[],t=this.viewEntityToSyncMetadatas,r=new Map;for(let o of this.queryRunner.loadedViews){let a=t.find(c=>this.getTablePath(o)===this.getTablePath(c));a&&r.set(o,a)}for(let o of this.queryRunner.loadedViews){let a=r.get(o);if(!a)continue;let c=typeof o.expression=="string"?o.expression.trim():o.expression(this.connection).getQuery(),l=typeof a.expression=="string"?a.expression.trim():a.expression(this.connection).getQuery();c!==l&&(this.connection.logger.logSchemaBuild(`dropping an old view: ${o.name}`),e.push(o))}let i=o=>{let a=r.get(o),c=[o];if(!a)return c;for(let[l,d]of r.entries())l!==o&&d.dependsOn&&(d.dependsOn.has(a.target)||d.dependsOn.has(a.name))&&(c=c.concat(i(l)));return c},s=new Set(e.map(o=>i(o)).reduce((o,a)=>o.concat(a),[]).sort((o,a)=>pE.viewMetadataCmp(r.get(o),r.get(a))).reverse());for(let o of s)await this.queryRunner.dropView(o);this.queryRunner.loadedViews=this.queryRunner.loadedViews.filter(o=>!s.has(o))}async dropRemovedColumns(){for(let e of this.entityToSyncMetadatas){let t=this.queryRunner.loadedTables.find(i=>this.getTablePath(i)===this.getTablePath(e));if(!t)continue;let r=t.columns.filter(i=>!e.columns.find(s=>s.isVirtualProperty||s.databaseName===i.name));r.length!==0&&(this.connection.logger.logSchemaBuild(`columns dropped in ${t.name}: `+r.map(i=>i.name).join(", ")),await this.queryRunner.dropColumns(t,r))}}async addNewColumns(){for(let e of this.entityToSyncMetadatas){let t=this.queryRunner.loadedTables.find(o=>this.getTablePath(o)===this.getTablePath(e));if(!t)continue;let r=e.columns.filter(o=>!o.isVirtualProperty&&!t.columns.find(a=>a.name===o.databaseName));if(r.length===0)continue;let s=this.metadataColumnsToTableColumnOptions(r).map(o=>new Ll(o));s.length!==0&&(this.connection.logger.logSchemaBuild("new columns added: "+r.map(o=>o.databaseName).join(", ")),await this.queryRunner.addColumns(t,s))}}async updatePrimaryKeys(){for(let e of this.entityToSyncMetadatas){let t=this.queryRunner.loadedTables.find(s=>this.getTablePath(s)===this.getTablePath(e));if(!t)continue;let r=e.columns.filter(s=>s.isPrimary);if(t.columns.filter(s=>s.isPrimary).length!==r.length&&r.length>1){let s=r.map(o=>new Ll(Vd.createTableColumnOptions(o,this.connection.driver)));await this.queryRunner.updatePrimaryKeys(t,s)}}}async updateExistColumns(){for(let e of this.entityToSyncMetadatas){let t=this.queryRunner.loadedTables.find(s=>this.getTablePath(s)===this.getTablePath(e));if(!t)continue;let r=this.connection.driver.findChangedColumns(t.columns,e.columns);if(r.length===0)continue;for(let s of r)await this.dropColumnReferencedForeignKeys(this.getTablePath(e),s.databaseName);for(let s of r)await this.dropColumnCompositeIndices(this.getTablePath(e),s.databaseName);if(!(De.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"||this.connection.driver.options.type==="spanner"))for(let s of r)await this.dropColumnCompositeUniques(this.getTablePath(e),s.databaseName);let i=r.map(s=>{let o=t.columns.find(l=>l.name===s.databaseName),a=Vd.createTableColumnOptions(s,this.connection.driver),c=new Ll(a);return{oldColumn:o,newColumn:c}});i.length!==0&&(this.connection.logger.logSchemaBuild(`columns changed in "${t.name}". updating: `+r.map(s=>s.databaseName).join(", ")),await this.queryRunner.changeColumns(t,i))}}async createNewIndices(){for(let e of this.entityToSyncMetadatas){let t=this.queryRunner.loadedTables.find(i=>this.getTablePath(i)===this.getTablePath(e));if(!t)continue;let r=e.indices.filter(i=>!t.indices.find(s=>s.name===i.name)&&i.synchronize===!0).map(i=>lc.create(i));r.length!==0&&(this.connection.logger.logSchemaBuild(`adding new indices ${r.map(i=>`"${i.name}"`).join(", ")} in table "${t.name}"`),await this.queryRunner.createIndices(t,r))}}async createNewChecks(){if(!(De.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"))for(let e of this.entityToSyncMetadatas){let t=this.queryRunner.loadedTables.find(i=>this.getTablePath(i)===this.getTablePath(e));if(!t)continue;let r=e.checks.filter(i=>!t.checks.find(s=>s.name===i.name)).map(i=>Kd.create(i));r.length!==0&&(this.connection.logger.logSchemaBuild(`adding new check constraints: ${r.map(i=>`"${i.name}"`).join(", ")} in table "${t.name}"`),await this.queryRunner.createCheckConstraints(t,r))}}async createCompositeUniqueConstraints(){for(let e of this.entityToSyncMetadatas){let t=this.queryRunner.loadedTables.find(i=>this.getTablePath(i)===this.getTablePath(e));if(!t)continue;let r=e.uniques.filter(i=>i.columns.length>1&&!t.uniques.find(s=>s.name===i.name)).map(i=>Bl.create(i));r.length!==0&&(this.connection.logger.logSchemaBuild(`adding new unique constraints: ${r.map(i=>`"${i.name}"`).join(", ")} in table "${t.name}"`),await this.queryRunner.createUniqueConstraints(t,r))}}async createNewExclusions(){if(this.connection.driver.options.type==="postgres")for(let e of this.entityToSyncMetadatas){let t=this.queryRunner.loadedTables.find(i=>this.getTablePath(i)===this.getTablePath(e));if(!t)continue;let r=e.exclusions.filter(i=>!t.exclusions.find(s=>s.name===i.name)).map(i=>nm.create(i));r.length!==0&&(this.connection.logger.logSchemaBuild(`adding new exclusion constraints: ${r.map(i=>`"${i.name}"`).join(", ")} in table "${t.name}"`),await this.queryRunner.createExclusionConstraints(t,r))}}async createForeignKeys(){for(let e of this.entityToSyncMetadatas){let t=this.queryRunner.loadedTables.find(s=>this.getTablePath(s)===this.getTablePath(e));if(!t)continue;let r=e.foreignKeys.filter(s=>!t.foreignKeys.find(o=>o.name===s.name&&this.getTablePath(o)===this.getTablePath(s.referencedEntityMetadata)));if(r.length===0)continue;let i=r.map(s=>tm.create(s,this.connection.driver));this.connection.logger.logSchemaBuild(`creating a foreign keys: ${r.map(s=>s.name).join(", ")} on table "${t.name}"`),await this.queryRunner.createForeignKeys(t,i)}}async dropColumnReferencedForeignKeys(e,t){let r=this.queryRunner.loadedTables.find(o=>this.getTablePath(o)===e);if(!r)return;let i=[],s=r.foreignKeys.find(o=>o.columnNames.indexOf(t)!==-1);if(s){let o=r.clone();o.foreignKeys=[s],i.push(o),r.removeForeignKey(s)}for(let o of this.queryRunner.loadedTables){let a=o.foreignKeys.filter(c=>this.getTablePath(c)===e&&c.referencedColumnNames.indexOf(t)!==-1);if(a.length>0){let c=o.clone();c.foreignKeys=a,i.push(c),a.forEach(l=>o.removeForeignKey(l))}}if(i.length>0)for(let o of i)this.connection.logger.logSchemaBuild(`dropping related foreign keys of ${o.name}: ${o.foreignKeys.map(a=>a.name).join(", ")}`),await this.queryRunner.dropForeignKeys(o,o.foreignKeys)}async dropColumnCompositeIndices(e,t){let r=this.queryRunner.loadedTables.find(s=>this.getTablePath(s)===e);if(!r)return;let i=r.indices.filter(s=>s.columnNames.length>1&&s.columnNames.indexOf(t)!==-1);i.length!==0&&(this.connection.logger.logSchemaBuild(`dropping related indices of "${e}"."${t}": ${i.map(s=>s.name).join(", ")}`),await this.queryRunner.dropIndices(r,i))}async dropColumnCompositeUniques(e,t){let r=this.queryRunner.loadedTables.find(s=>this.getTablePath(s)===e);if(!r)return;let i=r.uniques.filter(s=>s.columnNames.length>1&&s.columnNames.indexOf(t)!==-1);i.length!==0&&(this.connection.logger.logSchemaBuild(`dropping related unique constraints of "${e}"."${t}": ${i.map(s=>s.name).join(", ")}`),await this.queryRunner.dropUniqueConstraints(r,i))}metadataColumnsToTableColumnOptions(e){return e.map(t=>Vd.createTableColumnOptions(t,this.connection.driver))}async createTypeormMetadataTable(e){let t=this.currentSchema,r=this.currentDatabase,i=this.connection.driver.buildTableName(this.connection.metadataTableName,t,r),s=this.connection.driver.options.type==="spanner";await e.createTable(new fa({database:r,schema:t,name:i,columns:[{name:"type",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataType}),isNullable:!1,isPrimary:s},{name:"database",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataDatabase}),isNullable:!0,isPrimary:s},{name:"schema",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataSchema}),isNullable:!0,isPrimary:s},{name:"table",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataTable}),isNullable:!0,isPrimary:s},{name:"name",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataName}),isNullable:!0,isPrimary:s},{name:"value",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataValue}),isNullable:!0,isPrimary:s}]}),!0)}},Jd=class{constructor(e){this.isReplicated=!1,this.treeSupport=!0,this.transactionSupport="nested",this.supportedDataTypes=["int","integer","tinyint","smallint","mediumint","bigint","unsigned big int","int2","int8","integer","character","varchar","varying character","nchar","native character","nvarchar","text","clob","text","blob","real","double","double precision","float","real","numeric","decimal","boolean","date","time","datetime"],this.supportedUpsertType="on-conflict-do-update",this.withLengthColumnTypes=["character","varchar","varying character","nchar","native character","nvarchar","text","blob","clob"],this.spatialTypes=[],this.withPrecisionColumnTypes=["real","double","double precision","float","real","numeric","decimal","date","time","datetime"],this.withScaleColumnTypes=["real","double","double precision","float","real","numeric","decimal"],this.mappedDataTypes={createDate:"datetime",createDateDefault:"datetime('now')",updateDate:"datetime",updateDateDefault:"datetime('now')",deleteDate:"datetime",deleteDateNullable:!0,version:"integer",treeLevel:"integer",migrationId:"integer",migrationName:"varchar",migrationTimestamp:"bigint",cacheId:"int",cacheIdentifier:"varchar",cacheTime:"bigint",cacheDuration:"int",cacheQuery:"text",cacheResult:"text",metadataType:"varchar",metadataDatabase:"varchar",metadataSchema:"varchar",metadataTable:"varchar",metadataName:"varchar",metadataValue:"text"},this.cteCapabilities={enabled:!0,requiresRecursiveHint:!0},this.attachedDatabases={},this.connection=e,this.options=e.options,this.database=De.buildDriverOptions(this.options).database}async connect(){this.databaseConnection=await this.createDatabaseConnection()}afterConnect(){return Promise.resolve()}async disconnect(){return new Promise((e,t)=>{this.queryRunner=void 0,this.databaseConnection.close(r=>r?t(r):e())})}hasAttachedDatabases(){return!!Object.keys(this.attachedDatabases).length}getAttachedDatabaseHandleByRelativePath(e){return this.attachedDatabases?.[e]?.attachHandle}getAttachedDatabasePathRelativeByHandle(e){return Object.values(this.attachedDatabases).find(({attachHandle:t})=>e===t)?.attachFilepathRelative}createSchemaBuilder(){return new kM(this.connection)}preparePersistentValue(e,t){return t.transformer&&(e=ac.transformTo(t.transformer,e)),e==null?e:t.type===Boolean||t.type==="boolean"?e===!0?1:0:t.type==="date"?gn.mixedDateToDateString(e):t.type==="time"?gn.mixedDateToTimeString(e):t.type==="datetime"||t.type===Date?gn.mixedDateToUtcDatetimeString(e):t.type==="simple-array"?gn.simpleArrayToString(e):t.type==="simple-json"?gn.simpleJsonToString(e):t.type==="simple-enum"?gn.simpleEnumToString(e):e}prepareHydratedValue(e,t){return e==null?t.transformer?ac.transformFrom(t.transformer,e):e:(t.type===Boolean||t.type==="boolean"?e=!!e:t.type==="datetime"||t.type===Date?(e&&typeof e=="string"&&(/^\d\d\d\d-\d\d-\d\d \d\d:\d\d/.test(e)&&(e=e.replace(" ","T")),/^\d\d\d\d-\d\d-\d\dT\d\d:\d\d(:\d\d(\.\d\d\d)?)?$/.test(e)&&(e+="Z")),e=gn.normalizeHydratedDate(e)):t.type==="date"?e=gn.mixedDateToDateString(e):t.type==="time"?e=gn.mixedTimeToString(e):t.type==="simple-array"?e=gn.stringToSimpleArray(e):t.type==="simple-json"?e=gn.stringToSimpleJson(e):t.type==="simple-enum"?e=gn.stringToSimpleEnum(e,t):t.type===Number&&(e=isNaN(+e)?e:parseInt(e)),t.transformer&&(e=ac.transformFrom(t.transformer,e)),e)}escapeQueryWithParameters(e,t,r){let i=Object.keys(r).map(s=>typeof r[s]=="boolean"?r[s]===!0?1:0:r[s]instanceof Date?gn.mixedDateToUtcDatetimeString(r[s]):r[s]);return!t||!Object.keys(t).length?[e,i]:(e=e.replace(/:(\.\.\.)?([A-Za-z0-9_.]+)/g,(s,o,a)=>{if(!t.hasOwnProperty(a))return s;let c=t[a];return o?c.map(l=>(i.push(l),this.createParameter(a,i.length-1))).join(", "):typeof c=="function"?c():typeof c=="number"?String(c):c instanceof Date?(i.push(gn.mixedDateToUtcDatetimeString(c)),this.createParameter(a,i.length-1)):(i.push(c),this.createParameter(a,i.length-1))}),[e,i])}escape(e){return'"'+e+'"'}buildTableName(e,t,r){return e}parseTableName(e){let t=this.database,r=void 0;if(be.isTable(e)||be.isView(e)){let s=this.parseTableName(e.schema?`"${e.schema}"."${e.name}"`:e.name);return{database:e.database||s.database||t,schema:e.schema||s.schema||r,tableName:s.tableName}}if(be.isTableForeignKey(e)){let s=this.parseTableName(e.referencedTableName);return{database:e.referencedDatabase||s.database||t,schema:e.referencedSchema||s.schema||r,tableName:s.tableName}}if(be.isEntityMetadata(e))return{database:e.database||t,schema:e.schema||r,tableName:e.tableName};let i=e.split(".");return i.length===3?{database:i[0]||t,schema:i[1]||r,tableName:i[2]}:i.length===2?{database:this.getAttachedDatabasePathRelativeByHandle(i[0])??t,schema:i[0],tableName:i[1]}:{database:t,schema:r,tableName:e}}normalizeType(e){return e.type===Number||e.type==="int"?"integer":e.type===String?"varchar":e.type===Date?"datetime":e.type===Boolean?"boolean":e.type==="uuid"?"varchar":e.type==="simple-array"||e.type==="simple-json"?"text":e.type==="simple-enum"?"varchar":e.type||""}normalizeDefault(e){let t=e.default;if(typeof t=="number")return""+t;if(typeof t=="boolean")return t?"1":"0";if(typeof t=="function")return t();if(typeof t=="string")return`'${t}'`;if(t!=null)return`${t}`}normalizeIsUnique(e){return e.entityMetadata.uniques.some(t=>t.columns.length===1&&t.columns[0]===e)}getColumnLength(e){return e.length?e.length.toString():""}createFullType(e){let t=e.type;return e.enum?"varchar":(e.length?t+="("+e.length+")":e.precision!==null&&e.precision!==void 0&&e.scale!==null&&e.scale!==void 0?t+="("+e.precision+","+e.scale+")":e.precision!==null&&e.precision!==void 0&&(t+="("+e.precision+")"),e.isArray&&(t+=" array"),t)}obtainMasterConnection(){return Promise.resolve()}obtainSlaveConnection(){return Promise.resolve()}createGeneratedMap(e,t,r,i){let s=e.generatedColumns.reduce((o,a)=>{let c;return a.generationStrategy==="increment"&&t&&(c=t-i+r+1),c?pt.mergeDeep(o,a.createValueMap(c)):o},{});return Object.keys(s).length>0?s:void 0}findChangedColumns(e,t){return t.filter(r=>{let i=e.find(o=>o.name===r.databaseName);return i?i.name!==r.databaseName||i.type!==this.normalizeType(r)||i.length!==r.length||i.precision!==r.precision||i.scale!==r.scale||this.normalizeDefault(r)!==i.default||i.isPrimary!==r.isPrimary||i.isNullable!==r.isNullable||i.generatedType!==r.generatedType||i.asExpression!==r.asExpression||i.isUnique!==this.normalizeIsUnique(r)||r.generationStrategy!=="uuid"&&i.isGenerated!==r.isGenerated:!1})}isReturningSqlSupported(){return!1}isUUIDGenerationSupported(){return!1}isFullTextColumnTypeSupported(){return!1}createParameter(e,t){return"?"}createDatabaseConnection(){throw new G("Do not use AbstractSqlite directly, it has to be used with one of the sqlite drivers")}loadDependencies(){}},_r=class{constructor(e,t){this.query=e,this.parameters=t,this["@instanceof"]=Symbol.for("Query")}},Ud=class{constructor(){this.upQueries=[],this.downQueries=[]}},FM=class{constructor(){this.isReleased=!1,this.isTransactionActive=!1,this.data={},this.loadedTables=[],this.loadedViews=[],this.sqlMemoryMode=!1,this.sqlInMemory=new Ud,this.transactionDepth=0,this.cachedTablePaths={}}async beforeMigration(){}async afterMigration(){}async getTable(e){return this.loadedTables=await this.loadTables([e]),this.loadedTables.length>0?this.loadedTables[0]:void 0}async getTables(e){return e?(this.loadedTables=await this.loadTables(e),this.loadedTables):await this.loadTables(e)}async getView(e){return this.loadedViews=await this.loadViews([e]),this.loadedViews.length>0?this.loadedViews[0]:void 0}async getViews(e){return this.loadedViews=await this.loadViews(e),this.loadedViews}enableSqlMemory(){this.sqlInMemory=new Ud,this.sqlMemoryMode=!0}disableSqlMemory(){this.sqlInMemory=new Ud,this.sqlMemoryMode=!1}clearSqlMemory(){this.sqlInMemory=new Ud}getMemorySql(){return this.sqlInMemory}async executeMemoryUpSql(){for(let{query:e,parameters:t}of this.sqlInMemory.upQueries)await this.query(e,t)}async executeMemoryDownSql(){for(let{query:e,parameters:t}of this.sqlInMemory.downQueries.reverse())await this.query(e,t)}getReplicationMode(){return this.mode}async getCachedView(e){let t=this.loadedViews.find(i=>i.name===e);if(t)return t;let r=await this.loadViews([e]);if(r.length>0)return this.loadedViews.push(r[0]),r[0];throw new G(`View "${e}" does not exist.`)}async getCachedTable(e){if(e in this.cachedTablePaths){let r=this.cachedTablePaths[e],i=this.loadedTables.find(s=>this.getTablePath(s)===r);if(i)return i}let t=await this.loadTables([e]);if(t.length>0){let r=this.getTablePath(t[0]),i=this.loadedTables.find(s=>this.getTablePath(s)===r);return i||(this.cachedTablePaths[e]=this.getTablePath(t[0]),this.loadedTables.push(t[0]),t[0])}else throw new G(`Table "${e}" does not exist.`)}replaceCachedTable(e,t){let r=this.getTablePath(e),i=this.loadedTables.find(s=>this.getTablePath(s)===r);for(let[s,o]of Object.entries(this.cachedTablePaths))o===r&&(this.cachedTablePaths[s]=this.getTablePath(t));i&&(i.database=t.database,i.schema=t.schema,i.name=t.name,i.columns=t.columns,i.indices=t.indices,i.foreignKeys=t.foreignKeys,i.uniques=t.uniques,i.checks=t.checks,i.justCreated=t.justCreated,i.engine=t.engine)}getTablePath(e){let t=this.connection.driver.parseTableName(e);return this.connection.driver.buildTableName(t.tableName,t.schema,t.database)}getTypeormMetadataTableName(){let e;return e=this.connection.driver.options,this.connection.driver.buildTableName(this.connection.metadataTableName,e.schema,e.database)}selectTypeormMetadataSql({database:e,schema:t,table:r,type:i,name:s}){let o=this.connection.createQueryBuilder(),a=o.select().from(this.getTypeormMetadataTableName(),"t").where(`${o.escape("type")} = :type`,{type:i}).andWhere(`${o.escape("name")} = :name`,{name:s});e&&a.andWhere(`${o.escape("database")} = :database`,{database:e}),t&&a.andWhere(`${o.escape("schema")} = :schema`,{schema:t}),r&&a.andWhere(`${o.escape("table")} = :table`,{table:r});let[c,l]=a.getQueryAndParameters();return new _r(c,l)}insertTypeormMetadataSql({database:e,schema:t,table:r,type:i,name:s,value:o}){let[a,c]=this.connection.createQueryBuilder().insert().into(this.getTypeormMetadataTableName()).values({database:e,schema:t,table:r,type:i,name:s,value:o}).getQueryAndParameters();return new _r(a,c)}deleteTypeormMetadataSql({database:e,schema:t,table:r,type:i,name:s}){let o=this.connection.createQueryBuilder(),a=o.delete().from(this.getTypeormMetadataTableName()).where(`${o.escape("type")} = :type`,{type:i}).andWhere(`${o.escape("name")} = :name`,{name:s});e&&a.andWhere(`${o.escape("database")} = :database`,{database:e}),t&&a.andWhere(`${o.escape("schema")} = :schema`,{schema:t}),r&&a.andWhere(`${o.escape("table")} = :table`,{table:r});let[c,l]=a.getQueryAndParameters();return new _r(c,l)}isColumnChanged(e,t,r,i){return e.charset!==t.charset||e.collation!==t.collation||e.precision!==t.precision||e.scale!==t.scale||e.width!==t.width||e.zerofill!==t.zerofill||e.unsigned!==t.unsigned||e.asExpression!==t.asExpression||r&&e.default!==t.default||e.onUpdate!==t.onUpdate||e.isNullable!==t.isNullable||i&&e.comment!==t.comment||!pt.isArraysEqual(e.enum||[],t.enum||[])}isDefaultColumnLength(e,t,r){if(this.connection.hasMetadata(e.name)){let s=this.connection.getMetadata(e.name).findColumnWithDatabaseName(t.name);if(s&&this.connection.driver.getColumnLength(s))return!1}return this.connection.driver.dataTypeDefaults&&this.connection.driver.dataTypeDefaults[t.type]&&this.connection.driver.dataTypeDefaults[t.type].length?this.connection.driver.dataTypeDefaults[t.type].length.toString()===r.toString():!1}isDefaultColumnPrecision(e,t,r){if(this.connection.hasMetadata(e.name)){let s=this.connection.getMetadata(e.name).findColumnWithDatabaseName(t.name);if(s&&s.precision!==null&&s.precision!==void 0)return!1}return this.connection.driver.dataTypeDefaults&&this.connection.driver.dataTypeDefaults[t.type]&&this.connection.driver.dataTypeDefaults[t.type].precision!==null&&this.connection.driver.dataTypeDefaults[t.type].precision!==void 0?this.connection.driver.dataTypeDefaults[t.type].precision===r:!1}isDefaultColumnScale(e,t,r){if(this.connection.hasMetadata(e.name)){let s=this.connection.getMetadata(e.name).findColumnWithDatabaseName(t.name);if(s&&s.scale!==null&&s.scale!==void 0)return!1}return this.connection.driver.dataTypeDefaults&&this.connection.driver.dataTypeDefaults[t.type]&&this.connection.driver.dataTypeDefaults[t.type].scale!==null&&this.connection.driver.dataTypeDefaults[t.type].scale!==void 0?this.connection.driver.dataTypeDefaults[t.type].scale===r:!1}async executeQueries(e,t){if(be.isQuery(e)&&(e=[e]),be.isQuery(t)&&(t=[t]),this.sqlInMemory.upQueries.push(...e),this.sqlInMemory.downQueries.push(...t),this.sqlMemoryMode===!0)return Promise.resolve();for(let{query:r,parameters:i}of e)await this.query(r,i)}generateIndexName(e,t){return this.connection.namingStrategy.indexName(e,t.columnNames,t.where)}},Nr=(function(n){return n.VIEW="VIEW",n.MATERIALIZED_VIEW="MATERIALIZED_VIEW",n.GENERATED_COLUMN="GENERATED_COLUMN",n})(Nr||{}),Yd=class extends FM{constructor(){super(),this.transactionPromise=null}connect(){return Promise.resolve(this.driver.databaseConnection)}release(){return this.loadedTables=[],this.clearSqlMemory(),Promise.resolve()}async startTransaction(e){if(this.driver.transactionSupport==="none")throw new G(`Transactions aren't supported by ${this.connection.driver.options.type}.`);if(this.isTransactionActive&&this.driver.transactionSupport==="simple")throw new ZI;if(e&&e!=="READ UNCOMMITTED"&&e!=="SERIALIZABLE")throw new G("SQLite only supports SERIALIZABLE and READ UNCOMMITTED isolation");this.isTransactionActive=!0;try{await this.broadcaster.broadcast("BeforeTransactionStart")}catch(t){throw this.isTransactionActive=!1,t}this.transactionDepth===0?(e&&(e==="READ UNCOMMITTED"?await this.query("PRAGMA read_uncommitted = true"):await this.query("PRAGMA read_uncommitted = false")),await this.query("BEGIN TRANSACTION")):await this.query(`SAVEPOINT typeorm_${this.transactionDepth}`),this.transactionDepth+=1,await this.broadcaster.broadcast("AfterTransactionStart")}async commitTransaction(){if(!this.isTransactionActive)throw new tE;await this.broadcaster.broadcast("BeforeTransactionCommit"),this.transactionDepth>1?await this.query(`RELEASE SAVEPOINT typeorm_${this.transactionDepth-1}`):(await this.query("COMMIT"),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionCommit")}async rollbackTransaction(){if(!this.isTransactionActive)throw new tE;await this.broadcaster.broadcast("BeforeTransactionRollback"),this.transactionDepth>1?await this.query(`ROLLBACK TO SAVEPOINT typeorm_${this.transactionDepth-1}`):(await this.query("ROLLBACK"),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionRollback")}stream(e,t,r,i){throw new G("Stream is not supported by sqlite driver.")}async getDatabases(){return Promise.resolve([])}async getSchemas(e){return Promise.resolve([])}async hasDatabase(e){return Promise.resolve(!1)}async getCurrentDatabase(){return Promise.resolve(void 0)}async hasSchema(e){throw new G("This driver does not support table schemas")}async getCurrentSchema(){return Promise.resolve(void 0)}async hasTable(e){let r=`SELECT * FROM "sqlite_master" WHERE "type" = 'table' AND "name" = '${be.isTable(e)?e.name:e}'`;return!!(await this.query(r)).length}async hasColumn(e,t){let r=be.isTable(e)?e.name:e,i=`PRAGMA table_xinfo(${this.escapePath(r)})`;return!!(await this.query(i)).find(o=>o.name===t)}async createDatabase(e,t){return Promise.resolve()}async dropDatabase(e,t){return Promise.resolve()}async createSchema(e,t){return Promise.resolve()}async dropSchema(e,t){return Promise.resolve()}async createTable(e,t=!1,r=!0,i=!0){let s=[],o=[];if(t&&await this.hasTable(e))return Promise.resolve();s.push(this.createTableSql(e,r)),o.push(this.dropTableSql(e)),i&&e.indices.forEach(c=>{c.name||(c.name=this.connection.namingStrategy.indexName(e,c.columnNames,c.where)),s.push(this.createIndexSql(e,c)),o.push(this.dropIndexSql(c))});let a=e.columns.filter(c=>c.generatedType&&c.asExpression);for(let c of a){let l=this.insertTypeormMetadataSql({table:e.name,type:Nr.GENERATED_COLUMN,name:c.name,value:c.asExpression}),d=this.deleteTypeormMetadataSql({table:e.name,type:Nr.GENERATED_COLUMN,name:c.name});s.push(l),o.push(d)}await this.executeQueries(s,o)}async dropTable(e,t,r=!0,i=!0){if(t&&!await this.hasTable(e))return Promise.resolve();let s=r,o=be.isTable(e)?e:await this.getCachedTable(e),a=[],c=[];i&&o.indices.forEach(d=>{a.push(this.dropIndexSql(d)),c.push(this.createIndexSql(o,d))}),a.push(this.dropTableSql(o,t)),c.push(this.createTableSql(o,s));let l=o.columns.filter(d=>d.generatedType&&d.asExpression);for(let d of l){let h=this.deleteTypeormMetadataSql({table:o.name,type:Nr.GENERATED_COLUMN,name:d.name}),p=this.insertTypeormMetadataSql({table:o.name,type:Nr.GENERATED_COLUMN,name:d.name,value:d.asExpression});a.push(h),c.push(p)}await this.executeQueries(a,c)}async createView(e,t=!1){let r=[],i=[];r.push(this.createViewSql(e)),t&&r.push(this.insertViewDefinitionSql(e)),i.push(this.dropViewSql(e)),t&&i.push(this.deleteViewDefinitionSql(e)),await this.executeQueries(r,i)}async dropView(e){let t=be.isView(e)?e.name:e,r=await this.getCachedView(t),i=[],s=[];i.push(this.deleteViewDefinitionSql(r)),i.push(this.dropViewSql(r)),s.push(this.insertViewDefinitionSql(r)),s.push(this.createViewSql(r)),await this.executeQueries(i,s)}async renameTable(e,t){let r=be.isTable(e)?e:await this.getCachedTable(e),i=r.clone();i.name=t;let s=new _r(`ALTER TABLE ${this.escapePath(r.name)} RENAME TO ${this.escapePath(t)}`),o=new _r(`ALTER TABLE ${this.escapePath(t)} RENAME TO ${this.escapePath(r.name)}`);await this.executeQueries(s,o),i.uniques.forEach(a=>{let c=this.connection.namingStrategy.uniqueConstraintName(r,a.columnNames);a.name===c&&(a.name=this.connection.namingStrategy.uniqueConstraintName(i,a.columnNames))}),i.foreignKeys.forEach(a=>{let c=this.connection.namingStrategy.foreignKeyName(r,a.columnNames,this.getTablePath(a),a.referencedColumnNames);a.name===c&&(a.name=this.connection.namingStrategy.foreignKeyName(i,a.columnNames,this.getTablePath(a),a.referencedColumnNames))}),i.indices.forEach(a=>{let c=this.connection.namingStrategy.indexName(r,a.columnNames,a.where);a.name===c&&(a.name=this.connection.namingStrategy.indexName(i,a.columnNames,a.where))}),r.name=i.name,await this.recreateTable(i,r)}async addColumn(e,t){let r=be.isTable(e)?e:await this.getCachedTable(e);return this.addColumns(r,[t])}async addColumns(e,t){let r=be.isTable(e)?e:await this.getCachedTable(e),i=r.clone();t.forEach(s=>i.addColumn(s)),await this.recreateTable(i,r)}async renameColumn(e,t,r){let i=be.isTable(e)?e:await this.getCachedTable(e),s=be.isTableColumn(t)?t:i.columns.find(a=>a.name===t);if(!s)throw new G(`Column "${t}" was not found in the "${i.name}" table.`);let o;return be.isTableColumn(r)?o=r:(o=s.clone(),o.name=r),this.changeColumn(i,s,o)}async changeColumn(e,t,r){let i=be.isTable(e)?e:await this.getCachedTable(e),s=be.isTableColumn(t)?t:i.columns.find(o=>o.name===t);if(!s)throw new G(`Column "${t}" was not found in the "${i.name}" table.`);await this.changeColumns(i,[{oldColumn:s,newColumn:r}])}async changeColumns(e,t){let r=be.isTable(e)?e:await this.getCachedTable(e),i=r.clone();t.forEach(s=>{s.newColumn.name!==s.oldColumn.name&&(i.findColumnUniques(s.oldColumn).forEach(a=>{let c=this.connection.namingStrategy.uniqueConstraintName(r,a.columnNames);a.columnNames.splice(a.columnNames.indexOf(s.oldColumn.name),1),a.columnNames.push(s.newColumn.name),a.name===c&&(a.name=this.connection.namingStrategy.uniqueConstraintName(i,a.columnNames))}),i.findColumnForeignKeys(s.oldColumn).forEach(a=>{let c=this.connection.namingStrategy.foreignKeyName(r,a.columnNames,this.getTablePath(a),a.referencedColumnNames);a.columnNames.splice(a.columnNames.indexOf(s.oldColumn.name),1),a.columnNames.push(s.newColumn.name),a.name===c&&(a.name=this.connection.namingStrategy.foreignKeyName(i,a.columnNames,this.getTablePath(a),a.referencedColumnNames))}),i.findColumnIndices(s.oldColumn).forEach(a=>{let c=this.connection.namingStrategy.indexName(r,a.columnNames,a.where);a.columnNames.splice(a.columnNames.indexOf(s.oldColumn.name),1),a.columnNames.push(s.newColumn.name),a.name===c&&(a.name=this.connection.namingStrategy.indexName(i,a.columnNames,a.where))}));let o=i.columns.find(a=>a.name===s.oldColumn.name);o&&(i.columns[i.columns.indexOf(o)]=s.newColumn)}),await this.recreateTable(i,r)}async dropColumn(e,t){let r=be.isTable(e)?e:await this.getCachedTable(e),i=be.isTableColumn(t)?t:r.findColumnByName(t);if(!i)throw new G(`Column "${t}" was not found in table "${r.name}"`);await this.dropColumns(r,[i])}async dropColumns(e,t){let r=be.isTable(e)?e:await this.getCachedTable(e),i=r.clone();t.forEach(s=>{let o=be.isTableColumn(s)?s:r.findColumnByName(s);if(!o)throw new Error(`Column "${s}" was not found in table "${r.name}"`);i.removeColumn(o),i.findColumnUniques(o).forEach(a=>i.removeUniqueConstraint(a)),i.findColumnIndices(o).forEach(a=>i.removeIndex(a)),i.findColumnForeignKeys(o).forEach(a=>i.removeForeignKey(a))}),await this.recreateTable(i,r)}async createPrimaryKey(e,t){let r=be.isTable(e)?e:await this.getCachedTable(e),i=r.clone();i.columns.forEach(s=>{t.find(o=>o===s.name)&&(s.isPrimary=!0)}),await this.recreateTable(i,r),r.columns.forEach(s=>{t.find(o=>o===s.name)&&(s.isPrimary=!0)})}async updatePrimaryKeys(e,t){await Promise.resolve()}async dropPrimaryKey(e){let t=be.isTable(e)?e:await this.getCachedTable(e),r=t.clone();r.primaryColumns.forEach(i=>{i.isPrimary=!1}),await this.recreateTable(r,t),t.primaryColumns.forEach(i=>{i.isPrimary=!1})}async createUniqueConstraint(e,t){await this.createUniqueConstraints(e,[t])}async createUniqueConstraints(e,t){let r=be.isTable(e)?e:await this.getCachedTable(e),i=r.clone();t.forEach(s=>i.addUniqueConstraint(s)),await this.recreateTable(i,r)}async dropUniqueConstraint(e,t){let r=be.isTable(e)?e:await this.getCachedTable(e),i=be.isTableUnique(t)?t:r.uniques.find(s=>s.name===t);if(!i)throw new G(`Supplied unique constraint was not found in table ${r.name}`);await this.dropUniqueConstraints(r,[i])}async dropUniqueConstraints(e,t){let r=be.isTable(e)?e:await this.getCachedTable(e),i=r.clone();t.forEach(s=>i.removeUniqueConstraint(s)),await this.recreateTable(i,r)}async createCheckConstraint(e,t){await this.createCheckConstraints(e,[t])}async createCheckConstraints(e,t){let r=be.isTable(e)?e:await this.getCachedTable(e),i=r.clone();t.forEach(s=>i.addCheckConstraint(s)),await this.recreateTable(i,r)}async dropCheckConstraint(e,t){let r=be.isTable(e)?e:await this.getCachedTable(e),i=be.isTableCheck(t)?t:r.checks.find(s=>s.name===t);if(!i)throw new G(`Supplied check constraint was not found in table ${r.name}`);await this.dropCheckConstraints(r,[i])}async dropCheckConstraints(e,t){let r=be.isTable(e)?e:await this.getCachedTable(e),i=r.clone();t.forEach(s=>i.removeCheckConstraint(s)),await this.recreateTable(i,r)}async createExclusionConstraint(e,t){throw new G("Sqlite does not support exclusion constraints.")}async createExclusionConstraints(e,t){throw new G("Sqlite does not support exclusion constraints.")}async dropExclusionConstraint(e,t){throw new G("Sqlite does not support exclusion constraints.")}async dropExclusionConstraints(e,t){throw new G("Sqlite does not support exclusion constraints.")}async createForeignKey(e,t){await this.createForeignKeys(e,[t])}async createForeignKeys(e,t){let r=be.isTable(e)?e:await this.getCachedTable(e),i=r.clone();t.forEach(s=>i.addForeignKey(s)),await this.recreateTable(i,r)}async dropForeignKey(e,t){let r=be.isTable(e)?e:await this.getCachedTable(e),i=be.isTableForeignKey(t)?t:r.foreignKeys.find(s=>s.name===t);if(!i)throw new G(`Supplied foreign key was not found in table ${r.name}`);await this.dropForeignKeys(e,[i])}async dropForeignKeys(e,t){let r=be.isTable(e)?e:await this.getCachedTable(e),i=r.clone();t.forEach(s=>i.removeForeignKey(s)),await this.recreateTable(i,r)}async createIndex(e,t){let r=be.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.generateIndexName(r,t));let i=this.createIndexSql(r,t),s=this.dropIndexSql(t);await this.executeQueries(i,s),r.addIndex(t)}async createIndices(e,t){let r=t.map(i=>this.createIndex(e,i));await Promise.all(r)}async dropIndex(e,t){let r=be.isTable(e)?e:await this.getCachedTable(e),i=be.isTableIndex(t)?t:r.indices.find(a=>a.name===t);if(!i)throw new G(`Supplied index ${t} was not found in table ${r.name}`);i.name||(i.name=this.generateIndexName(r,i));let s=this.dropIndexSql(i),o=this.createIndexSql(r,i);await this.executeQueries(s,o),r.removeIndex(i)}async dropIndices(e,t){let r=t.map(i=>this.dropIndex(e,i));await Promise.all(r)}async clearTable(e){await this.query(`DELETE FROM ${this.escapePath(e)}`)}async clearDatabase(e){let t;e&&this.driver.getAttachedDatabaseHandleByRelativePath(e)&&(t=this.driver.getAttachedDatabaseHandleByRelativePath(e)),await this.query("PRAGMA foreign_keys = OFF");let r=this.isTransactionActive;r||await this.startTransaction();try{let i=t?`SELECT 'DROP VIEW "${t}"."' || name || '";' as query FROM "${t}"."sqlite_master" WHERE "type" = 'view'`:`SELECT 'DROP VIEW "' || name || '";' as query FROM "sqlite_master" WHERE "type" = 'view'`,s=await this.query(i);await Promise.all(s.map(c=>this.query(c.query)));let o=t?`SELECT 'DROP TABLE "${t}"."' || name || '";' as query FROM "${t}"."sqlite_master" WHERE "type" = 'table' AND "name" != 'sqlite_sequence'`:`SELECT 'DROP TABLE "' || name || '";' as query FROM "sqlite_master" WHERE "type" = 'table' AND "name" != 'sqlite_sequence'`,a=await this.query(o);await Promise.all(a.map(c=>this.query(c.query))),r||await this.commitTransaction()}catch(i){try{r||await this.rollbackTransaction()}catch{}throw i}finally{await this.query("PRAGMA foreign_keys = ON")}}async loadViews(e){if(!await this.hasTable(this.getTypeormMetadataTableName()))return[];e||(e=[]);let r=e.map(o=>"'"+o+"'").join(", "),i=`SELECT "t".* FROM "${this.getTypeormMetadataTableName()}" "t" INNER JOIN "sqlite_master" s ON "s"."name" = "t"."name" AND "s"."type" = 'view' WHERE "t"."type" = '${Nr.VIEW}'`;return r.length>0&&(i+=` AND "t"."name" IN (${r})`),(await this.query(i)).map(o=>{let a=new hE;return a.name=o.name,a.expression=o.value,a})}async loadTableRecords(e,t){let r,[i,s]=this.splitTablePath(e);return i&&this.driver.getAttachedDatabasePathRelativeByHandle(i)&&(r=this.driver.getAttachedDatabasePathRelativeByHandle(i)),await this.query(`SELECT ${r?`'${r}'`:null} as database, ${i?`'${i}'`:null} as schema, * FROM ${i?`"${i}".`:""}${this.escapePath("sqlite_master")} WHERE "type" = '${t}' AND "${t==="table"?"name":"tbl_name"}" IN ('${s}')`)}async loadPragmaRecords(e,t){let[,r]=this.splitTablePath(e);return await this.query(`PRAGMA ${t}("${r}")`)}async loadTables(e){if(e&&e.length===0)return[];let t=[],r;if(e)t=(await Promise.all(e.map(i=>this.loadTableRecords(i,"table")))).reduce((i,s)=>[...i,...s],[]).filter(Boolean),r=(await Promise.all((e??[]).map(i=>this.loadTableRecords(i,"index")))).reduce((i,s)=>[...i,...s],[]).filter(Boolean);else{t.push(...await this.query(`SELECT * FROM "sqlite_master" WHERE "type" = 'table'`));let s=t.map(({name:o})=>`'${o}'`).join(", ");r=await this.query(`SELECT * FROM "sqlite_master" WHERE "type" = 'index' AND "tbl_name" IN (${s})`)}return t.length===0?[]:Promise.all(t.map(async i=>{let s=i.database&&this.driver.getAttachedDatabaseHandleByRelativePath(i.database)?`${this.driver.getAttachedDatabaseHandleByRelativePath(i.database)}.${i.name}`:i.name,o=i.sql,a=o.includes("WITHOUT ROWID"),c=new fa({name:s,withoutRowid:a}),[l,d,h]=await Promise.all([this.loadPragmaRecords(s,"table_xinfo"),this.loadPragmaRecords(s,"index_list"),this.loadPragmaRecords(s,"foreign_key_list")]),p,b=i.sql,v=b.toUpperCase().indexOf("AUTOINCREMENT");if(v!==-1){p=b.substr(0,v);let I=p.lastIndexOf(","),re=p.lastIndexOf("(");I!==-1?(p=p.substr(I),p=p.substr(0,p.lastIndexOf('"')),p=p.substr(p.indexOf('"')+1)):re!==-1&&(p=p.substr(re),p=p.substr(0,p.lastIndexOf('"')),p=p.substr(p.indexOf('"')+1))}c.columns=await Promise.all(l.map(async I=>{let re=new Ll;if(re.name=I.name,re.type=I.type.toLowerCase(),re.default=I.dflt_value!==null&&I.dflt_value!==void 0?I.dflt_value:void 0,re.isNullable=I.notnull===0,re.isPrimary=I.pk>0,re.comment="",re.isGenerated=p===I.name,re.isGenerated&&(re.generationStrategy="increment"),I.hidden===2||I.hidden===3){re.generatedType=I.hidden===2?"VIRTUAL":"STORED";let fe=await this.selectTypeormMetadataSql({table:c.name,type:Nr.GENERATED_COLUMN,name:re.name}),Ge=await this.query(fe.query,fe.parameters);Ge[0]&&Ge[0].value?re.asExpression=Ge[0].value:re.asExpression=""}if(re.type==="varchar"){let fe=o.match(new RegExp('"('+re.name+`)" varchar CHECK\\s*\\(\\s*"\\1"\\s+IN\\s*\\(('[^']+'(?:\\s*,\\s*'[^']+')+)\\s*\\)\\s*\\)`));fe&&(re.enum=fe[2].substr(1,fe[2].length-2).split("','"))}let pe=re.type.indexOf("(");if(pe!==-1){let fe=re.type,Ge=fe.substr(0,pe);if(this.driver.withLengthColumnTypes.find(ae=>ae===Ge)){let ae=parseInt(fe.substring(pe+1,fe.length-1));ae&&(re.length=ae.toString(),re.type=Ge)}if(this.driver.withPrecisionColumnTypes.find(ae=>ae===Ge)){let ae=new RegExp(`^${Ge}\\((\\d+),?\\s?(\\d+)?\\)`),dt=fe.match(ae);dt&&dt[1]&&(re.precision=+dt[1]),this.driver.withScaleColumnTypes.find(kt=>kt===Ge)&&dt&&dt[2]&&(re.scale=+dt[2]),re.type=Ge}}return re}));let x,N=[],k=/CONSTRAINT "([^"]*)" FOREIGN KEY ?\((.*?)\) REFERENCES "([^"]*)"/g;for(;(x=k.exec(o))!==null;)N.push({name:x[1],columns:x[2].substr(1,x[2].length-2).split('", "'),referencedTableName:x[3]});let ee=pt.uniq(h,I=>I.id);c.foreignKeys=ee.map(I=>{let re=h.filter(ae=>ae.id===I.id&&ae.table===I.table),pe=re.map(ae=>ae.from),fe=re.map(ae=>ae.to),Ge=N.find(ae=>ae.referencedTableName===I.table&&ae.columns.every(dt=>pe.indexOf(dt)!==-1));return new tm({name:Ge.name,columnNames:pe,referencedTableName:I.table,referencedColumnNames:fe,onDelete:I.on_delete,onUpdate:I.on_update})});let X,ne=[],de=/CONSTRAINT "([^"]*)" UNIQUE ?\((.*?)\)/g;for(;(X=de.exec(o))!==null;)ne.push({name:X[1],columns:X[2].substr(1,X[2].length-2).split('", "')});let g=d.filter(I=>I.origin==="u").map(I=>I.name).filter((I,re,pe)=>pe.indexOf(I)===re).map(async I=>{let re=d.find(ae=>ae.name===I),fe=(await this.query(`PRAGMA index_info("${re.name}")`)).sort((ae,dt)=>parseInt(ae.seqno)-parseInt(dt.seqno)).map(ae=>ae.name);if(fe.length===1){let ae=c.columns.find(dt=>!!fe.find(kt=>kt===dt.name));ae&&(ae.isUnique=!0)}let Ge=ne.find(ae=>ae.columns.every(dt=>fe.indexOf(dt)!==-1));return new Bl({name:Ge?Ge.name:this.connection.namingStrategy.uniqueConstraintName(c,fe),columnNames:fe})});c.uniques=await Promise.all(g);let xe,Ce=/CONSTRAINT "([^"]*)" CHECK ?(\(.*?\))([,]|[)]$)/g;for(;(xe=Ce.exec(o))!==null;)c.checks.push(new Kd({name:xe[1],expression:xe[2]}));let qe=d.filter(I=>I.origin==="c").map(I=>I.name).filter((I,re,pe)=>pe.indexOf(I)===re).map(async I=>{let re=r.find(en=>en.name===I),pe=/WHERE (.*)/.exec(re.sql),fe=d.find(en=>en.name===I),ae=(await this.query(`PRAGMA index_info("${fe.name}")`)).sort((en,Mr)=>parseInt(en.seqno)-parseInt(Mr.seqno)).map(en=>en.name),dt=`${i.database?`${i.database}.`:""}${fe.name}`,kt=fe.unique==="1"||fe.unique===1;return new lc({table:c,name:dt,columnNames:ae,isUnique:kt,where:pe?pe[1]:void 0})}),H=await Promise.all(qe);return c.indices=H.filter(I=>!!I),c}))}createTableSql(e,t,r){let i=e.columns.filter(b=>b.isPrimary),s=i.find(b=>b.isGenerated&&b.generationStrategy==="increment"),o=i.length>1;if(o&&s)throw new G("Sqlite does not support AUTOINCREMENT on composite primary key");let a=e.columns.map(b=>this.buildCreateColumnSql(b,o)).join(", "),[c]=this.splitTablePath(e.name),l=`CREATE TABLE ${this.escapePath(e.name)} (${a}`,[d,h]=this.splitTablePath(e.name),p=r?`${d?`${d}.`:""}${h.replace(/^temporary_/,"")}`:e.name;if(e.columns.filter(b=>b.isUnique).forEach(b=>{e.uniques.some(x=>x.columnNames.length===1&&x.columnNames[0]===b.name)||e.uniques.push(new Bl({name:this.connection.namingStrategy.uniqueConstraintName(e,[b.name]),columnNames:[b.name]}))}),e.uniques.length>0){let b=e.uniques.map(v=>{let x=v.name?v.name:this.connection.namingStrategy.uniqueConstraintName(p,v.columnNames),N=v.columnNames.map(k=>`"${k}"`).join(", ");return`CONSTRAINT "${x}" UNIQUE (${N})`}).join(", ");l+=`, ${b}`}if(e.checks.length>0){let b=e.checks.map(v=>`CONSTRAINT "${v.name?v.name:this.connection.namingStrategy.checkConstraintName(p,v.expression)}" CHECK (${v.expression})`).join(", ");l+=`, ${b}`}if(e.foreignKeys.length>0&&t){let b=e.foreignKeys.filter(v=>{let[x]=this.splitTablePath(v.referencedTableName);return x===c}).map(v=>{let[,x]=this.splitTablePath(v.referencedTableName),N=v.columnNames.map(X=>`"${X}"`).join(", ");v.name||(v.name=this.connection.namingStrategy.foreignKeyName(p,v.columnNames,this.getTablePath(v),v.referencedColumnNames));let k=v.referencedColumnNames.map(X=>`"${X}"`).join(", "),ee=`CONSTRAINT "${v.name}" FOREIGN KEY (${N}) REFERENCES "${x}" (${k})`;return v.onDelete&&(ee+=` ON DELETE ${v.onDelete}`),v.onUpdate&&(ee+=` ON UPDATE ${v.onUpdate}`),v.deferrable&&(ee+=` DEFERRABLE ${v.deferrable}`),ee}).join(", ");l+=`, ${b}`}if(i.length>1){let b=i.map(v=>`"${v.name}"`).join(", ");l+=`, PRIMARY KEY (${b})`}return l+=")",e.withoutRowid&&(l+=" WITHOUT ROWID"),new _r(l)}dropTableSql(e,t){let r=be.isTable(e)?e.name:e,i=t?`DROP TABLE IF EXISTS ${this.escapePath(r)}`:`DROP TABLE ${this.escapePath(r)}`;return new _r(i)}createViewSql(e){return typeof e.expression=="string"?new _r(`CREATE VIEW "${e.name}" AS ${e.expression}`):new _r(`CREATE VIEW "${e.name}" AS ${e.expression(this.connection).getQuery()}`)}insertViewDefinitionSql(e){let t=typeof e.expression=="string"?e.expression.trim():e.expression(this.connection).getQuery();return this.insertTypeormMetadataSql({type:Nr.VIEW,name:e.name,value:t})}dropViewSql(e){let t=be.isView(e)?e.name:e;return new _r(`DROP VIEW "${t}"`)}deleteViewDefinitionSql(e){let t=be.isView(e)?e.name:e;return this.deleteTypeormMetadataSql({type:Nr.VIEW,name:t})}createIndexSql(e,t){let r=t.columnNames.map(o=>`"${o}"`).join(", "),[i,s]=this.splitTablePath(e.name);return new _r(`CREATE ${t.isUnique?"UNIQUE ":""}INDEX ${i?`"${i}".`:""}${this.escapePath(t.name)} ON "${s}" (${r}) ${t.where?"WHERE "+t.where:""}`)}dropIndexSql(e){let t=be.isTableIndex(e)?e.name:e;return new _r(`DROP INDEX ${this.escapePath(t)}`)}buildCreateColumnSql(e,t){let r='"'+e.name+'"';return be.isColumnMetadata(e)?r+=" "+this.driver.normalizeType(e):r+=" "+this.connection.driver.createFullType(e),e.enum&&(r+=' CHECK( "'+e.name+'" IN ('+e.enum.map(i=>"'"+i+"'").join(",")+") )"),e.isPrimary&&!t&&(r+=" PRIMARY KEY"),e.isGenerated===!0&&e.generationStrategy==="increment"&&(r+=" AUTOINCREMENT"),e.collation&&(r+=" COLLATE "+e.collation),e.isNullable!==!0&&(r+=" NOT NULL"),e.asExpression?r+=` AS (${e.asExpression}) ${e.generatedType?e.generatedType:"VIRTUAL"}`:e.default!==void 0&&e.default!==null&&(r+=" DEFAULT ("+e.default+")"),r}async recreateTable(e,t,r=!0){let i=[],s=[];t.indices.forEach(l=>{i.push(this.dropIndexSql(l)),s.push(this.createIndexSql(t,l))});let[o,a]=this.splitTablePath(e.name),[,c]=this.splitTablePath(t.name);if(e.name=a=`${o?`${o}.`:""}temporary_${a}`,i.push(this.createTableSql(e,!0,!0)),s.push(this.dropTableSql(e)),r){let l=e.columns.filter(h=>!h.generatedType).map(h=>`"${h.name}"`),d=t.columns.filter(h=>!h.generatedType).map(h=>`"${h.name}"`);d.length<l.length?l=e.columns.filter(h=>{let p=t.columns.find(b=>b.name===h.name);return p&&p.generatedType?!1:!h.generatedType&&p}).map(h=>`"${h.name}"`):d.length>l.length&&(d=t.columns.filter(h=>!h.generatedType&&e.columns.find(p=>p.name===h.name)).map(h=>`"${h.name}"`)),i.push(new _r(`INSERT INTO ${this.escapePath(e.name)}(${l.join(", ")}) SELECT ${d.join(", ")} FROM ${this.escapePath(t.name)}`)),s.push(new _r(`INSERT INTO ${this.escapePath(t.name)}(${d.join(", ")}) SELECT ${l.join(", ")} FROM ${this.escapePath(e.name)}`))}i.push(this.dropTableSql(t)),s.push(this.createTableSql(t,!0)),i.push(new _r(`ALTER TABLE ${this.escapePath(e.name)} RENAME TO ${this.escapePath(c)}`)),s.push(new _r(`ALTER TABLE ${this.escapePath(t.name)} RENAME TO ${this.escapePath(a)}`)),e.name=t.name,e.indices.forEach(l=>{l.name||(l.name=this.connection.namingStrategy.indexName(e,l.columnNames,l.where)),i.push(this.createIndexSql(e,l)),s.push(this.dropIndexSql(l))}),t.columns.filter(l=>{let d=e.columns.find(h=>h.name===l.name);return l.generatedType&&l.asExpression&&(!d||!d.generatedType&&!d.asExpression)}).forEach(l=>{let d=this.deleteTypeormMetadataSql({table:t.name,type:Nr.GENERATED_COLUMN,name:l.name}),h=this.insertTypeormMetadataSql({table:t.name,type:Nr.GENERATED_COLUMN,name:l.name,value:l.asExpression});i.push(d),s.push(h)}),e.columns.filter(l=>l.generatedType&&l.asExpression&&!t.columns.some(d=>d.name===l.name)).forEach(l=>{let d=this.insertTypeormMetadataSql({table:e.name,type:Nr.GENERATED_COLUMN,name:l.name,value:l.asExpression}),h=this.deleteTypeormMetadataSql({table:e.name,type:Nr.GENERATED_COLUMN,name:l.name});i.push(d),s.push(h)}),e.columns.filter(l=>l.generatedType&&l.asExpression).forEach(l=>{let d=t.columns.find(x=>x.name===l.name&&x.generatedType&&l.generatedType&&x.asExpression!==l.asExpression);if(!d)return;let h=this.deleteTypeormMetadataSql({table:t.name,type:Nr.GENERATED_COLUMN,name:d.name}),p=this.insertTypeormMetadataSql({table:e.name,type:Nr.GENERATED_COLUMN,name:l.name,value:l.asExpression});i.push(h),i.push(p);let b=this.insertTypeormMetadataSql({table:e.name,type:Nr.GENERATED_COLUMN,name:d.name,value:d.asExpression}),v=this.deleteTypeormMetadataSql({table:t.name,type:Nr.GENERATED_COLUMN,name:l.name});s.push(b),s.push(v)}),await this.executeQueries(i,s),this.replaceCachedTable(t,e)}splitTablePath(e){return e.indexOf(".")!==-1?e.split("."):[void 0,e]}escapePath(e,t){return(be.isTable(e)||be.isView(e)?e.name:e).replace(/^\.+|\.+$/g,"").split(".").map(i=>t?i:`"${i}"`).join(".")}},Zd=class{constructor(e){this.queryRunner=e}async broadcast(e,...t){let r=new ql,i=this[`broadcast${e}Event`];typeof i=="function"&&i.call(this,r,...t),await r.wait()}broadcastBeforeInsertEvent(e,t,r){r&&t.beforeInsertListeners.length&&t.beforeInsertListeners.forEach(i=>{if(i.isAllowed(r)){let s=i.execute(r);s instanceof Promise&&e.promises.push(s),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(i=>{if(this.isAllowedSubscriber(i,t.target)&&i.beforeInsert){let s=i.beforeInsert({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:r,metadata:t});s instanceof Promise&&e.promises.push(s),e.count++}})}broadcastBeforeUpdateEvent(e,t,r,i,s,o){r&&t.beforeUpdateListeners.length&&t.beforeUpdateListeners.forEach(a=>{if(a.isAllowed(r)){let c=a.execute(r);c instanceof Promise&&e.promises.push(c),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(a=>{if(this.isAllowedSubscriber(a,t.target)&&a.beforeUpdate){let c=a.beforeUpdate({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:r,metadata:t,databaseEntity:i,updatedColumns:s||[],updatedRelations:o||[]});c instanceof Promise&&e.promises.push(c),e.count++}})}broadcastBeforeRemoveEvent(e,t,r,i){r&&t.beforeRemoveListeners.length&&t.beforeRemoveListeners.forEach(s=>{if(s.isAllowed(r)){let o=s.execute(r);o instanceof Promise&&e.promises.push(o),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(s=>{if(this.isAllowedSubscriber(s,t.target)&&s.beforeRemove){let o=s.beforeRemove({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:r,metadata:t,databaseEntity:i,entityId:t.getEntityIdMixedMap(i)});o instanceof Promise&&e.promises.push(o),e.count++}})}broadcastBeforeSoftRemoveEvent(e,t,r,i){r&&t.beforeSoftRemoveListeners.length&&t.beforeSoftRemoveListeners.forEach(s=>{if(s.isAllowed(r)){let o=s.execute(r);o instanceof Promise&&e.promises.push(o),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(s=>{if(this.isAllowedSubscriber(s,t.target)&&s.beforeSoftRemove){let o=s.beforeSoftRemove({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:r,metadata:t,databaseEntity:i,entityId:t.getEntityIdMixedMap(i)});o instanceof Promise&&e.promises.push(o),e.count++}})}broadcastBeforeRecoverEvent(e,t,r,i){r&&t.beforeRecoverListeners.length&&t.beforeRecoverListeners.forEach(s=>{if(s.isAllowed(r)){let o=s.execute(r);o instanceof Promise&&e.promises.push(o),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(s=>{if(this.isAllowedSubscriber(s,t.target)&&s.beforeRecover){let o=s.beforeRecover({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:r,metadata:t,databaseEntity:i,entityId:t.getEntityIdMixedMap(i)});o instanceof Promise&&e.promises.push(o),e.count++}})}broadcastAfterInsertEvent(e,t,r){r&&t.afterInsertListeners.length&&t.afterInsertListeners.forEach(i=>{if(i.isAllowed(r)){let s=i.execute(r);s instanceof Promise&&e.promises.push(s),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(i=>{if(this.isAllowedSubscriber(i,t.target)&&i.afterInsert){let s=i.afterInsert({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:r,metadata:t});s instanceof Promise&&e.promises.push(s),e.count++}})}broadcastBeforeTransactionStartEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(t=>{if(t.beforeTransactionStart){let r=t.beforeTransactionStart({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});r instanceof Promise&&e.promises.push(r),e.count++}})}broadcastAfterTransactionStartEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(t=>{if(t.afterTransactionStart){let r=t.afterTransactionStart({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});r instanceof Promise&&e.promises.push(r),e.count++}})}broadcastBeforeTransactionCommitEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(t=>{if(t.beforeTransactionCommit){let r=t.beforeTransactionCommit({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});r instanceof Promise&&e.promises.push(r),e.count++}})}broadcastAfterTransactionCommitEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(t=>{if(t.afterTransactionCommit){let r=t.afterTransactionCommit({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});r instanceof Promise&&e.promises.push(r),e.count++}})}broadcastBeforeTransactionRollbackEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(t=>{if(t.beforeTransactionRollback){let r=t.beforeTransactionRollback({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});r instanceof Promise&&e.promises.push(r),e.count++}})}broadcastAfterTransactionRollbackEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(t=>{if(t.afterTransactionRollback){let r=t.afterTransactionRollback({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});r instanceof Promise&&e.promises.push(r),e.count++}})}broadcastAfterUpdateEvent(e,t,r,i,s,o){r&&t.afterUpdateListeners.length&&t.afterUpdateListeners.forEach(a=>{if(a.isAllowed(r)){let c=a.execute(r);c instanceof Promise&&e.promises.push(c),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(a=>{if(this.isAllowedSubscriber(a,t.target)&&a.afterUpdate){let c=a.afterUpdate({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:r,metadata:t,databaseEntity:i,updatedColumns:s||[],updatedRelations:o||[]});c instanceof Promise&&e.promises.push(c),e.count++}})}broadcastAfterRemoveEvent(e,t,r,i){r&&t.afterRemoveListeners.length&&t.afterRemoveListeners.forEach(s=>{if(s.isAllowed(r)){let o=s.execute(r);o instanceof Promise&&e.promises.push(o),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(s=>{if(this.isAllowedSubscriber(s,t.target)&&s.afterRemove){let o=s.afterRemove({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:r,metadata:t,databaseEntity:i,entityId:t.getEntityIdMixedMap(i)});o instanceof Promise&&e.promises.push(o),e.count++}})}broadcastAfterSoftRemoveEvent(e,t,r,i){r&&t.afterSoftRemoveListeners.length&&t.afterSoftRemoveListeners.forEach(s=>{if(s.isAllowed(r)){let o=s.execute(r);o instanceof Promise&&e.promises.push(o),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(s=>{if(this.isAllowedSubscriber(s,t.target)&&s.afterSoftRemove){let o=s.afterSoftRemove({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:r,metadata:t,databaseEntity:i,entityId:t.getEntityIdMixedMap(i)});o instanceof Promise&&e.promises.push(o),e.count++}})}broadcastAfterRecoverEvent(e,t,r,i){r&&t.afterRecoverListeners.length&&t.afterRecoverListeners.forEach(s=>{if(s.isAllowed(r)){let o=s.execute(r);o instanceof Promise&&e.promises.push(o),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(s=>{if(this.isAllowedSubscriber(s,t.target)&&s.afterRecover){let o=s.afterRecover({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:r,metadata:t,databaseEntity:i,entityId:t.getEntityIdMixedMap(i)});o instanceof Promise&&e.promises.push(o),e.count++}})}broadcastLoadEventsForAll(e,t,r){return this.broadcastLoadEvent(e,t,r)}broadcastLoadEvent(e,t,r){let i=this.queryRunner.connection.subscribers.filter(s=>this.isAllowedSubscriber(s,t.target)&&s.afterLoad);if(t.relations.length||t.afterLoadListeners.length||i.length){let s=r.filter(o=>!(o instanceof Promise));t.relations.length&&t.relations.forEach(o=>{s.forEach(a=>{if(o.isLazy&&!a.hasOwnProperty(o.propertyName))return;let c=o.getEntityValue(a);He.isObject(c)&&this.broadcastLoadEvent(e,o.inverseEntityMetadata,Array.isArray(c)?c:[c])})}),t.afterLoadListeners.length&&t.afterLoadListeners.forEach(o=>{s.forEach(a=>{if(o.isAllowed(a)){let c=o.execute(a);c instanceof Promise&&e.promises.push(c),e.count++}})}),i.forEach(o=>{s.forEach(a=>{let c=o.afterLoad(a,{entity:a,metadata:t,connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});c instanceof Promise&&e.promises.push(c),e.count++})})}}isAllowedSubscriber(e,t){return!e.listenTo||!e.listenTo()||e.listenTo()===Object||e.listenTo()===t||e.listenTo().isPrototypeOf(t)}},Xd=class{constructor(){this.records=[]}},LM=class extends Yd{constructor(e){super(),this.driver=e,this.connection=e.connection,this.broadcaster=new Zd(this)}async beforeMigration(){await this.query("PRAGMA foreign_keys = OFF")}async afterMigration(){await this.query("PRAGMA foreign_keys = ON")}async query(e,t,r=!1){if(this.isReleased)throw new Qd;let i=await this.connect();this.driver.connection.logger.logQuery(e,t,this);let s=+new Date;try{let o=await new Promise(async(h,p)=>{i.executeSql(e,t,b=>h(b),b=>p(b))}),a=this.driver.options.maxQueryExecutionTime,l=+new Date-s;a&&l>a&&this.driver.connection.logger.logQuerySlow(l,e,t,this);let d=new Xd;if(e.substr(0,11)==="INSERT INTO")d.raw=o.insertId;else{let h=[];for(let p=0;p<o.rows.length;p++)h.push(o.rows.item(p));d.records=h,d.raw=h}return r?d:d.raw}catch(o){throw this.driver.connection.logger.logQueryError(o,e,t,this),new Gd(e,t,o)}}async startTransaction(){throw new G("Transactions are not supported by the Cordova driver")}async commitTransaction(){throw new G("Transactions are not supported by the Cordova driver")}async rollbackTransaction(){throw new G("Transactions are not supported by the Cordova driver")}async clearDatabase(){await this.query("PRAGMA foreign_keys = OFF");try{let t=await this.query(`SELECT 'DROP VIEW "' || name || '";' as query FROM "sqlite_master" WHERE "type" = 'view'`),i=await this.query(`SELECT 'DROP TABLE "' || name || '";' as query FROM "sqlite_master" WHERE "type" = 'table' AND "name" != 'sqlite_sequence'`);await Promise.all(t.map(s=>this.query(s.query))),await Promise.all(i.map(s=>this.query(s.query)))}finally{await this.query("PRAGMA foreign_keys = ON")}}parametrize(e,t=0){return Object.keys(e).map((r,i)=>`"${r}"=?`)}},BM=class extends Jd{constructor(e){if(super(e),this.database=this.options.database,!this.options.database)throw new cc("database");if(!this.options.location)throw new cc("location");this.loadDependencies()}async disconnect(){return this.queryRunner=void 0,new Promise((e,t)=>{this.databaseConnection.close(e,t)})}createQueryRunner(e){return this.queryRunner||(this.queryRunner=new LM(this)),this.queryRunner}async createDatabaseConnection(){let e=Object.assign({},{name:this.options.database,location:this.options.location},this.options.extra||{}),t=await new Promise(r=>{this.sqlite.openDatabase(e,i=>r(i))});return await new Promise((r,i)=>{t.executeSql("PRAGMA foreign_keys = ON",[],()=>r(),s=>i(s))}),t}loadDependencies(){try{let e=this.options.driver||globalThis.sqlitePlugin;this.sqlite=e}catch{throw new Wd("Cordova-SQLite","cordova-sqlite-storage")}}},qM=class extends Yd{constructor(e){super(),this.driver=e,this.connection=e.connection,this.broadcaster=new Zd(this)}async beforeMigration(){await this.query("PRAGMA foreign_keys = OFF")}async afterMigration(){await this.query("PRAGMA foreign_keys = ON")}query(e,t,r=!1){if(this.isReleased)throw new Qd;return new Promise(async(i,s)=>{let o=await this.connect();this.driver.connection.logger.logQuery(e,t,this);let a=+new Date;o.executeSql(e,t,c=>{let l=this.driver.options.maxQueryExecutionTime,h=+new Date-a;l&&h>l&&this.driver.connection.logger.logQuerySlow(h,e,t,this);let p=new Xd;if(e.substr(0,11)==="INSERT INTO"&&(p.raw=c.insertId),c?.hasOwnProperty("rowsAffected")&&(p.affected=c.rowsAffected),c?.hasOwnProperty("rows")){let b=[];for(let v=0;v<c.rows.length;v++)b.push(c.rows.item(v));p.raw=b,p.records=b}i(r?p:p.raw)},c=>{this.driver.connection.logger.logQueryError(c,e,t,this),s(new Gd(e,t,c))})})}parametrize(e,t=0){return Object.keys(e).map((r,i)=>`"${r}"=?`)}},jM=class extends Jd{constructor(e){if(super(e),this.database=this.options.database,!this.options.database)throw new cc("database");if(!this.options.location)throw new cc("location");this.loadDependencies()}async disconnect(){return new Promise((e,t)=>{this.queryRunner=void 0,this.databaseConnection.close(e,t)})}createQueryRunner(e){return this.queryRunner||(this.queryRunner=new qM(this)),this.queryRunner}createDatabaseConnection(){return new Promise((e,t)=>{let r=Object.assign({},{name:this.options.database,location:this.options.location},this.options.extra||{});this.sqlite.openDatabase(r,i=>{let s=i;s.executeSql("PRAGMA foreign_keys = ON",[],o=>{e(s)},o=>{t(o)})},i=>{t(i)})})}loadDependencies(){try{let e=this.options.driver||Oae();this.sqlite=e}catch{throw new Wd("React-Native","react-native-sqlite-storage")}}},UM=class extends Yd{constructor(e){super(),this.driver=e,this.connection=e.connection,this.broadcaster=new Zd(this)}async beforeMigration(){await this.query("PRAGMA foreign_keys = OFF")}async afterMigration(){await this.query("PRAGMA foreign_keys = ON")}async query(e,t,r=!1){if(this.isReleased)throw new Qd;let i=this.driver.connection;return new Promise(async(s,o)=>{let a=await this.connect(),c=e.substr(0,11)==="INSERT INTO";i.logger.logQuery(e,t,this);let l=(h,p)=>{let b=this.driver.options.maxQueryExecutionTime,x=+new Date-d;b&&x>b&&i.logger.logQuerySlow(x,e,t,this),h&&(i.logger.logQueryError(h,e,t,this),o(new Gd(e,t,h)));let N=new Xd;N.raw=p,!c&&Array.isArray(p)&&(N.records=p),s(r?N:N.raw)},d=+new Date;c?a.execSQL(e,t,l):a.all(e,t,l)})}parametrize(e,t=0){return Object.keys(e).map((r,i)=>`"${r}"=?`)}},$M=class extends Jd{constructor(e){if(super(e),this.connection=e,this.options=e.options,this.database=this.options.database,this.driver=this.options.driver,!this.options.database)throw new cc("database");this.loadDependencies()}async disconnect(){return new Promise((e,t)=>{this.queryRunner=void 0,this.databaseConnection.close().then(e).catch(t)})}createQueryRunner(e){return this.queryRunner||(this.queryRunner=new UM(this)),this.queryRunner}normalizeType(e){return e.type===Buffer?"blob":super.normalizeType(e)}createDatabaseConnection(){return new Promise((e,t)=>{let r=Object.assign({},{readOnly:this.options.readOnly,key:this.options.key,multithreading:this.options.multithreading,migrate:this.options.migrate,iosFlags:this.options.iosFlags,androidFlags:this.options.androidFlags},this.options.extra||{});new this.sqlite(this.options.database,r,(i,s)=>{if(i)return t(i);s.resultType(this.sqlite.RESULTSASOBJECT),s.execSQL("PRAGMA foreign_keys = ON",[],(o,a)=>{if(o)return t(o);e(s)})})})}loadDependencies(){if(this.sqlite=this.driver,!this.driver)throw new Wd("Nativescript","nativescript-sqlite")}},VM=class extends Yd{constructor(e){super(),this.isDirty=!1,this.driver=e,this.connection=e.connection,this.broadcaster=new Zd(this)}async beforeMigration(){await this.query("PRAGMA foreign_keys = OFF")}async afterMigration(){await this.query("PRAGMA foreign_keys = ON")}async flush(){this.isDirty&&(await this.driver.autoSave(),this.isDirty=!1)}async release(){return await this.flush(),super.release()}async commitTransaction(){await super.commitTransaction(),this.isTransactionActive||await this.flush()}async query(e,t=[],r=!1){if(this.isReleased)throw new Qd;let i=e.trim().split(" ",1)[0],s=this.driver.databaseConnection;this.driver.connection.logger.logQuery(e,t,this);let o=+new Date,a;try{a=s.prepare(e),t&&(t=t.map(b=>typeof b<"u"?b:null),a.bind(t));let c=this.driver.options.maxQueryExecutionTime,d=+new Date-o;c&&d>c&&this.driver.connection.logger.logQuerySlow(d,e,t,this);let h=[];for(;a.step();)h.push(a.getAsObject());let p=new Xd;return p.affected=s.getRowsModified(),p.records=h,p.raw=h,a.free(),i!=="SELECT"&&(this.isDirty=!0),r?p:p.raw}catch(c){throw a&&a.free(),this.driver.connection.logger.logQueryError(c,e,t,this),new Gd(e,t,c)}}},Y$t=globalThis.ENV,bet=500,HM=class extends Jd{constructor(e){super(e),this.databaseArrayFast={},this.debounceSave=Woe(async r=>{await this.localForgeInstance.setItem(r,this.databaseArrayFast[r])},bet);let t=globalThis.localforage;if(this.localForgeInstance=t?.createInstance({driver:t.INDEXEDDB,storeName:"taon-typeorm_"+Qoe(globalThis.CURRENT_PROJECT_GENERIC_NAME)}),this.options.autoSave&&!this.options.location&&!this.options.autoSaveCallback)throw new cc("location or autoSaveCallback");this.loadDependencies()}async connect(){this.databaseConnection=await this.createDatabaseConnection()}async disconnect(){this.queryRunner=void 0,this.databaseConnection.close()}createQueryRunner(e){return this.queryRunner||(this.queryRunner=new VM(this)),this.queryRunner}async load(e,t=!0){if(typeof e=="string")if(sn.type==="node")if(sn.fileExist(e)){let r=sn.readFileSync(e);return this.createDatabaseConnectionWithImport(r)}else{if(t)throw new G(`File ${e} does not exist`);return this.createDatabaseConnectionWithImport()}else{let r=null;if(this.options.useLocalForage)if(this.localForgeInstance){if(ut(this.databaseArrayFast[e])){let i=await this.localForgeInstance.getItem(e);this.databaseArrayFast[e]=i}r=this.databaseArrayFast[e]}else throw new G("localforage is not defined - please import localforage.js into your site");else r=sn.getGlobalVariable().localStorage.getItem(e);if(r!=null)return this.createDatabaseConnectionWithImport(this.localForgeInstance?r:JSON.parse(r));if(t)throw new G(`File ${e} does not exist`);return this.createDatabaseConnectionWithImport()}else return this.createDatabaseConnectionWithImport(e)}async save(e){if(!e&&!this.options.location)throw new G("No location is set, specify a location parameter or add the location option to your configuration");let t="";if(e?t=e:this.options.location&&(t=this.options.location),sn.type!=="node"){let r=this.databaseConnection.export(),i=[].slice.call(r);if(this.options.useLocalForage)if(this.localForgeInstance)this.databaseArrayFast[t]=i,this.debounceSave(t);else throw new G("localforage is not defined - please import localforage.js into your site");else sn.getGlobalVariable().localStorage.setItem(t,JSON.stringify(i))}}async autoSave(){this.options.autoSave&&!this.queryRunner?.isTransactionActive&&(this.options.autoSaveCallback?await this.options.autoSaveCallback(this.export()):await this.save())}export(){return this.databaseConnection.export()}createGeneratedMap(e,t){let r=e.generatedColumns.reduce((i,s)=>{if(s.isPrimary&&s.generationStrategy==="increment"){let o="SELECT last_insert_rowid()";try{let a=this.databaseConnection.exec(o);return this.connection.logger.logQuery(o),pt.mergeDeep(i,s.createValueMap(a[0].values[0][0]))}catch(a){this.connection.logger.logQueryError(a,o,[])}}return i},{});return Object.keys(r).length>0?r:void 0}createDatabaseConnection(){return this.options.location?this.load(this.options.location,!1):this.createDatabaseConnectionWithImport(this.options.database)}async createDatabaseConnectionWithImport(e){let r=typeof this.sqlite.Database=="function"?this.sqlite:await this.sqlite(this.options.sqlJsConfig);return e&&e.length>0?this.databaseConnection=new r.Database(e):this.databaseConnection=new r.Database,this.databaseConnection.exec("PRAGMA foreign_keys = ON"),this.databaseConnection}loadDependencies(){if(sn.type==="browser"){let e=this.options.driver||globalThis.SQL;this.sqlite=e}else try{let e=this.options.driver||sn.load("sql.js");this.sqlite=e}catch{throw new Wd("sql.js","sql.js")}}},zM=class{create(e){let{type:t}=e.options;switch(t){case"cordova":return new BM(e);case"nativescript":return new $M(e);case"react-native":return new jM(e);case"sqljs":return new HM(e);default:throw new sM(t,["cordova","nativescript","react-native","sqljs"])}}};async function WI(n,e,t=[".js",".mjs",".cjs",".ts",".mts",".cts"]){return[]}var _et=new class{constructor(){this.instances=[]}get(n){let e=this.instances.find(t=>t.type===n);return e||(e={type:n,object:new n},this.instances.push(e)),e.object}},Fae,Zv;function Lae(n){if(Fae)try{let e=Fae.get(n);if(e||!Zv||!Zv.fallback)return e}catch(e){if(!Zv||!Zv.fallbackOnErrors)throw e}return _et.get(n)}var Ei=class{constructor(e){this["@instanceof"]=Symbol.for("ColumnMetadata"),this.length="",this.isPrimary=!1,this.isGenerated=!1,this.isNullable=!1,this.isSelect=!0,this.isInsert=!0,this.isUpdate=!0,this.zerofill=!1,this.unsigned=!1,this.isArray=!1,this.isVirtual=!1,this.isVirtualProperty=!1,this.isDiscriminator=!1,this.isTreeLevel=!1,this.isCreateDate=!1,this.isUpdateDate=!1,this.isDeleteDate=!1,this.isVersion=!1,this.isObjectId=!1,this.isNestedSetLeft=!1,this.isNestedSetRight=!1,this.isMaterializedPath=!1,this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata,this.referencedColumn=e.referencedColumn,e.args.target&&(this.target=e.args.target),e.args.propertyName&&(this.propertyName=e.args.propertyName),e.args.options.name&&(this.givenDatabaseName=e.args.options.name),e.args.options.type&&(this.type=e.args.options.type),e.args.options.length&&(this.length=e.args.options.length?e.args.options.length.toString():""),e.args.options.width&&(this.width=e.args.options.width),e.args.options.charset&&(this.charset=e.args.options.charset),e.args.options.collation&&(this.collation=e.args.options.collation),e.args.options.primary&&(this.isPrimary=e.args.options.primary),e.args.options.default===null&&(this.isNullable=!0),e.args.options.nullable!==void 0&&(this.isNullable=e.args.options.nullable),e.args.options.select!==void 0&&(this.isSelect=e.args.options.select),e.args.options.insert!==void 0&&(this.isInsert=e.args.options.insert),e.args.options.update!==void 0&&(this.isUpdate=e.args.options.update),e.args.options.readonly!==void 0&&(this.isUpdate=!e.args.options.readonly),e.args.options.comment&&(this.comment=e.args.options.comment),e.args.options.default!==void 0&&(this.default=e.args.options.default),e.args.options.onUpdate&&(this.onUpdate=e.args.options.onUpdate),e.args.options.generatedIdentity&&(this.generatedIdentity=e.args.options.generatedIdentity),e.args.options.scale!==null&&e.args.options.scale!==void 0&&(this.scale=e.args.options.scale),e.args.options.zerofill&&(this.zerofill=e.args.options.zerofill,this.unsigned=!0),e.args.options.unsigned&&(this.unsigned=e.args.options.unsigned),e.args.options.precision!==null&&(this.precision=e.args.options.precision),e.args.options.enum&&(He.isObject(e.args.options.enum)&&!Array.isArray(e.args.options.enum)?this.enum=Object.keys(e.args.options.enum).filter(t=>isNaN(+t)&&typeof e.args.options.enum[t]!="function").map(t=>e.args.options.enum[t]):this.enum=e.args.options.enum),e.args.options.enumName&&(this.enumName=e.args.options.enumName),e.args.options.primaryKeyConstraintName&&(this.primaryKeyConstraintName=e.args.options.primaryKeyConstraintName),e.args.options.foreignKeyConstraintName&&(this.foreignKeyConstraintName=e.args.options.foreignKeyConstraintName),e.args.options.asExpression&&(this.asExpression=e.args.options.asExpression,this.generatedType=e.args.options.generatedType?e.args.options.generatedType:"VIRTUAL"),e.args.options.hstoreType&&(this.hstoreType=e.args.options.hstoreType),e.args.options.array&&(this.isArray=e.args.options.array),e.args.mode&&(this.isVirtualProperty=e.args.mode==="virtual-property",this.isVirtual=e.args.mode==="virtual",this.isTreeLevel=e.args.mode==="treeLevel",this.isCreateDate=e.args.mode==="createDate",this.isUpdateDate=e.args.mode==="updateDate",this.isDeleteDate=e.args.mode==="deleteDate",this.isVersion=e.args.mode==="version",this.isObjectId=e.args.mode==="objectId"),this.isVirtualProperty&&(this.isInsert=!1,this.isUpdate=!1),e.args.options.transformer&&(this.transformer=e.args.options.transformer),e.args.options.spatialFeatureType&&(this.spatialFeatureType=e.args.options.spatialFeatureType),e.args.options.srid!==void 0&&(this.srid=e.args.options.srid),e.args.options.query&&(this.query=e.args.options.query),this.isTreeLevel&&(this.type=e.connection.driver.mappedDataTypes.treeLevel),this.isCreateDate&&(this.type||(this.type=e.connection.driver.mappedDataTypes.createDate),this.default||(this.default=()=>e.connection.driver.mappedDataTypes.createDateDefault),this.precision===void 0&&e.args.options.precision===void 0&&e.connection.driver.mappedDataTypes.createDatePrecision&&(this.precision=e.connection.driver.mappedDataTypes.createDatePrecision)),this.isUpdateDate&&(this.type||(this.type=e.connection.driver.mappedDataTypes.updateDate),this.default||(this.default=()=>e.connection.driver.mappedDataTypes.updateDateDefault),this.onUpdate||(this.onUpdate=e.connection.driver.mappedDataTypes.updateDateDefault),this.precision===void 0&&e.args.options.precision===void 0&&e.connection.driver.mappedDataTypes.updateDatePrecision&&(this.precision=e.connection.driver.mappedDataTypes.updateDatePrecision)),this.isDeleteDate&&(this.type||(this.type=e.connection.driver.mappedDataTypes.deleteDate),this.isNullable||(this.isNullable=e.connection.driver.mappedDataTypes.deleteDateNullable),this.precision===void 0&&e.args.options.precision===void 0&&e.connection.driver.mappedDataTypes.deleteDatePrecision&&(this.precision=e.connection.driver.mappedDataTypes.deleteDatePrecision)),this.isVersion&&(this.type=e.connection.driver.mappedDataTypes.version),e.closureType&&(this.closureType=e.closureType),e.nestedSetLeft&&(this.isNestedSetLeft=e.nestedSetLeft),e.nestedSetRight&&(this.isNestedSetRight=e.nestedSetRight),e.materializedPath&&(this.isMaterializedPath=e.materializedPath)}createValueMap(e,t=!1){if(this.embeddedMetadata){let r=[...this.embeddedMetadata.parentPropertyNames],i=(s,o)=>{let a=s.shift();return a?(o[a]={},i(s,o[a]),o):((this.generationStrategy==="increment"||this.generationStrategy==="rowid")&&this.type==="bigint"&&e!==null&&(e=String(e)),o[t?this.databaseName:this.propertyName]=e,o)};return i(r,{})}else return(this.generationStrategy==="increment"||this.generationStrategy==="rowid")&&this.type==="bigint"&&e!==null&&(e=String(e)),{[t?this.databaseName:this.propertyName]:e}}getEntityValueMap(e,t){if(this.embeddedMetadata){let i=[...this.embeddedMetadata.parentPropertyNames],s=this.embeddedMetadata.isArray,o=(c,l)=>{if(l===void 0)return{};let d=c.shift();if(d){let h=o(c,l[d]);return Object.keys(h).length>0?{[d]:h}:{}}return s&&Array.isArray(l)?l.map(h=>({[this.propertyName]:h[this.propertyName]})):l[this.propertyName]!==void 0?{[this.propertyName]:l[this.propertyName]}:{}},a=o(i,e);return Object.keys(a).length>0?a:void 0}else if(this.relationMetadata&&!Object.getOwnPropertyDescriptor(e,this.relationMetadata.propertyName)?.get&&e[this.relationMetadata.propertyName]&&He.isObject(e[this.relationMetadata.propertyName])){let i=this.relationMetadata.joinColumns.reduce((s,o)=>{let a=o.referencedColumn.getEntityValueMap(e[this.relationMetadata.propertyName]);return a===void 0?s:pt.mergeDeep(s,a)},{});return Object.keys(i).length>0?{[this.propertyName]:i}:void 0}else return e[this.propertyName]!==void 0?{[this.propertyName]:e[this.propertyName]}:void 0}getEntityValue(e,t=!1){if(e==null)return;let r;if(this.embeddedMetadata){let i=[...this.embeddedMetadata.parentPropertyNames],s=this.embeddedMetadata.isArray,o=(c,l)=>{let d=c.shift();return d&&l?o(c,l[d]):l},a=o(i,e);if(a)if(this.relationMetadata&&this.referencedColumn){let c=this.relationMetadata.getEntityValue(a);c&&He.isObject(c)&&!be.isFindOperator(c)?r=this.referencedColumn.getEntityValue(c):a[this.propertyName]&&He.isObject(a[this.propertyName])&&!be.isFindOperator(a[this.propertyName])&&!(a[this.propertyName]instanceof Date)?r=this.referencedColumn.getEntityValue(a[this.propertyName]):r=a[this.propertyName]}else this.referencedColumn?r=this.referencedColumn.getEntityValue(a[this.propertyName]):s&&Array.isArray(a)?r=a.map(c=>c[this.propertyName]):r=a[this.propertyName]}else if(this.relationMetadata&&this.referencedColumn){let i=this.relationMetadata.getEntityValue(e);i&&He.isObject(i)&&!be.isFindOperator(i)&&typeof i!="function"?r=this.referencedColumn.getEntityValue(i):e[this.propertyName]&&He.isObject(e[this.propertyName])&&!be.isFindOperator(e[this.propertyName])&&typeof e[this.propertyName]!="function"&&!(e[this.propertyName]instanceof Date)?r=this.referencedColumn.getEntityValue(e[this.propertyName]):r=e[this.propertyName]}else this.referencedColumn?r=this.referencedColumn.getEntityValue(e[this.propertyName]):r=e[this.propertyName];return t&&this.transformer&&(r=ac.transformTo(this.transformer,r)),r}setEntityValue(e,t){if(this.embeddedMetadata){let r=(i,s)=>{let o=i.shift();return o?(s[o.propertyName]||(s[o.propertyName]=o.create()),r(i,s[o.propertyName]),s):(s[this.propertyName]=t,s)};return r([...this.embeddedMetadata.embeddedMetadataTree],e)}else!this.entityMetadata.isJunction&&this.isVirtual&&this.referencedColumn&&this.referencedColumn.propertyName!==this.propertyName?(this.propertyName in e||(e[this.propertyName]={}),e[this.propertyName][this.referencedColumn.propertyName]=t):e[this.propertyName]=t}compareEntityValue(e,t){let r=this.getEntityValue(e);return He.isObject(r)?r.equals(t):r===t}build(e){return this.propertyPath=this.buildPropertyPath(),this.propertyAliasName=this.propertyPath.replace(".","_"),this.databaseName=this.buildDatabaseName(e),this.databasePath=this.buildDatabasePath(),this.databaseNameWithoutPrefixes=e.namingStrategy.columnName(this.propertyName,this.givenDatabaseName,[]),this}buildPropertyPath(){let e="";return this.embeddedMetadata&&this.embeddedMetadata.parentPropertyNames.length&&(e=this.embeddedMetadata.parentPropertyNames.join(".")+"."),e+=this.propertyName,!this.entityMetadata.isJunction&&this.isVirtual&&this.referencedColumn&&this.referencedColumn.propertyName!==this.propertyName&&(e+="."+this.referencedColumn.propertyName),e}buildDatabasePath(){let e="";return this.embeddedMetadata&&this.embeddedMetadata.parentPropertyNames.length&&(e=this.embeddedMetadata.parentPropertyNames.join(".")+"."),e+=this.databaseName,!this.entityMetadata.isJunction&&this.isVirtual&&this.referencedColumn&&this.referencedColumn.databaseName!==this.databaseName&&(e+="."+this.referencedColumn.databaseName),e}buildDatabaseName(e){let t=this.embeddedMetadata?this.embeddedMetadata.parentPrefixes:[];return e.driver.options.type==="mongodb"&&(t=[]),e.namingStrategy.columnName(this.propertyName,this.givenDatabaseName,t)}},Ki=class{constructor(e){this.isUnique=!1,this.isSpatial=!1,this.isFulltext=!1,this.isNullFiltered=!1,this.synchronize=!0,this.columns=[],this.columnNamesWithOrderingMap={},this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata,e.columns&&(this.columns=e.columns),e.args&&(this.target=e.args.target,e.args.synchronize!==null&&e.args.synchronize!==void 0&&(this.synchronize=e.args.synchronize),this.isUnique=!!e.args.unique,this.isSpatial=!!e.args.spatial,this.isFulltext=!!e.args.fulltext,this.isNullFiltered=!!e.args.nullFiltered,this.parser=e.args.parser,this.where=e.args.where,this.isSparse=e.args.sparse,this.isBackground=e.args.background,this.expireAfterSeconds=e.args.expireAfterSeconds,this.givenName=e.args.name,this.givenColumnNames=e.args.columns)}build(e){if(this.synchronize===!1)return this.name=this.givenName,this;let t={};if(this.givenColumnNames){let r=[];if(Array.isArray(this.givenColumnNames))r=this.givenColumnNames.map(i=>this.embeddedMetadata?this.embeddedMetadata.propertyPath+"."+i:i.trim()),r.forEach(i=>t[i]=1);else{let i=this.givenColumnNames(this.entityMetadata.propertiesMap);Array.isArray(i)?(r=i.map(s=>String(s)),r.forEach(s=>t[s]=1)):(r=Object.keys(i).map(s=>String(s)),Object.keys(i).forEach(s=>t[s]=i[s]))}this.columns=r.map(i=>{let s=this.entityMetadata.columns.find(l=>l.propertyPath===i);if(s)return[s];let o=this.entityMetadata.relations.find(l=>l.isWithJoinColumn&&l.propertyName===i);if(o)return o.joinColumns;let a=this.givenName?'"'+this.givenName+'" ':"",c=this.entityMetadata.targetName;throw new G(`Index ${a}contains column that is missing in the entity (${c}): `+i)}).reduce((i,s)=>i.concat(s))}return this.columnNamesWithOrderingMap=Object.keys(t).reduce((r,i)=>{let s=this.entityMetadata.columns.find(o=>o.propertyPath===i);return s&&(r[s.databasePath]=t[i]),r},{}),this.name=this.givenName?this.givenName:e.indexName(this.entityMetadata.tableName,this.columns.map(r=>r.databaseName),this.where),this}},mE=class{constructor(e){this.isTreeParent=!1,this.isTreeChildren=!1,this.isPrimary=!1,this.isLazy=!1,this.isEager=!1,this.persistenceEnabled=!0,this.isCascadeInsert=!1,this.isCascadeUpdate=!1,this.isCascadeRemove=!1,this.isCascadeSoftRemove=!1,this.isCascadeRecover=!1,this.isNullable=!0,this.createForeignKeyConstraints=!0,this.isOwning=!1,this.isOneToOne=!1,this.isOneToOneOwner=!1,this.isWithJoinColumn=!1,this.isOneToOneNotOwner=!1,this.isOneToMany=!1,this.isManyToOne=!1,this.isManyToMany=!1,this.isManyToManyOwner=!1,this.isManyToManyNotOwner=!1,this.foreignKeys=[],this.joinColumns=[],this.inverseJoinColumns=[],this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata;let t=e.args;this.target=t.target,this.propertyName=t.propertyName,this.relationType=t.relationType,t.inverseSideProperty&&(this.givenInverseSidePropertyFactory=t.inverseSideProperty),this.isLazy=t.isLazy||!1,this.isCascadeInsert=t.options.cascade===!0||Array.isArray(t.options.cascade)&&t.options.cascade.indexOf("insert")!==-1,this.isCascadeUpdate=t.options.cascade===!0||Array.isArray(t.options.cascade)&&t.options.cascade.indexOf("update")!==-1,this.isCascadeRemove=t.options.cascade===!0||Array.isArray(t.options.cascade)&&t.options.cascade.indexOf("remove")!==-1,this.isCascadeSoftRemove=t.options.cascade===!0||Array.isArray(t.options.cascade)&&t.options.cascade.indexOf("soft-remove")!==-1,this.isCascadeRecover=t.options.cascade===!0||Array.isArray(t.options.cascade)&&t.options.cascade.indexOf("recover")!==-1,this.isNullable=!(t.options.nullable===!1||this.isPrimary),this.onDelete=t.options.onDelete,this.onUpdate=t.options.onUpdate,this.deferrable=t.options.deferrable,this.createForeignKeyConstraints=t.options.createForeignKeyConstraints!==!1,this.isEager=t.options.eager||!1,this.persistenceEnabled=t.options.persistence!==!1,this.orphanedRowAction=t.options.orphanedRowAction||"nullify",this.isTreeParent=t.isTreeParent||!1,this.isTreeChildren=t.isTreeChildren||!1,typeof t.type=="function"?this.type=typeof t.type=="function"?t.type():t.type:be.isEntitySchema(t.type)?this.type=t.type.options.name:He.isObject(t.type)&&typeof t.type.name=="string"?this.type=t.type.name:this.type=t.type,this.isOneToOne=this.relationType==="one-to-one",this.isOneToMany=this.relationType==="one-to-many",this.isManyToOne=this.relationType==="many-to-one",this.isManyToMany=this.relationType==="many-to-many",this.isOneToOneNotOwner=!!this.isOneToOne,this.isManyToManyNotOwner=!!this.isManyToMany}getRelationIdMap(e){let r=(this.isOwning?this.joinColumns:this.inverseRelation.joinColumns).map(i=>i.referencedColumn);return jl.getValueMap(e,r)}ensureRelationIdMap(e){if(He.isObject(e))return e;let r=(this.isOwning?this.joinColumns:this.inverseRelation.joinColumns).map(i=>i.referencedColumn);if(r.length>1)throw new G("Cannot create relation id map for a single value because relation contains multiple referenced columns.");return r[0].createValueMap(e)}getEntityValue(e,t=!1){if(e!=null)if(this.embeddedMetadata){let r=[...this.embeddedMetadata.parentPropertyNames],i=(o,a)=>{let c=o.shift();return c?a[c]?i(o,a[c]):void 0:a},s=i(r,e);return this.isLazy?s["__"+this.propertyName+"__"]!==void 0?s["__"+this.propertyName+"__"]:t===!0?s[this.propertyName]:void 0:s?s[this.isLazy?"__"+this.propertyName+"__":this.propertyName]:void 0}else return this.isLazy?e["__"+this.propertyName+"__"]!==void 0?e["__"+this.propertyName+"__"]:t===!0?e[this.propertyName]:void 0:e[this.propertyName]}setEntityValue(e,t){let r=this.isLazy?"__"+this.propertyName+"__":this.propertyName;if(this.embeddedMetadata){let i=(s,o)=>{let a=s.shift();return a?(o[a.propertyName]||(o[a.propertyName]=a.create()),i(s,o[a.propertyName]),o):(o[r]=t,o)};return i([...this.embeddedMetadata.embeddedMetadataTree],e)}else e[r]=t}createValueMap(e){if(this.embeddedMetadata){let t=[...this.embeddedMetadata.parentPropertyNames],r=(i,s)=>{let o=i.shift();return o?(s[o]={},r(i,s[o]),s):(s[this.propertyName]=e,s)};return r(t,{})}else return{[this.propertyName]:e}}build(){this.propertyPath=this.buildPropertyPath()}registerForeignKeys(...e){this.foreignKeys.push(...e)}registerJoinColumns(e=[],t=[]){this.joinColumns=e,this.inverseJoinColumns=t,this.isOwning=this.isManyToOne||(this.isManyToMany||this.isOneToOne)&&this.joinColumns.length>0,this.isOneToOneOwner=this.isOneToOne&&this.isOwning,this.isOneToOneNotOwner=this.isOneToOne&&!this.isOwning,this.isManyToManyOwner=this.isManyToMany&&this.isOwning,this.isManyToManyNotOwner=this.isManyToMany&&!this.isOwning,this.isWithJoinColumn=this.isManyToOne||this.isOneToOneOwner}registerJunctionEntityMetadata(e){this.junctionEntityMetadata=e,this.joinTableName=e.tableName,this.inverseRelation&&(this.inverseRelation.junctionEntityMetadata=e,this.joinTableName=e.tableName)}buildInverseSidePropertyPath(){if(this.givenInverseSidePropertyFactory){let e=this.inverseEntityMetadata.propertiesMap;if(typeof this.givenInverseSidePropertyFactory=="function")return this.givenInverseSidePropertyFactory(e);if(typeof this.givenInverseSidePropertyFactory=="string")return this.givenInverseSidePropertyFactory}else{if(this.isTreeParent&&this.entityMetadata.treeChildrenRelation)return this.entityMetadata.treeChildrenRelation.propertyName;if(this.isTreeChildren&&this.entityMetadata.treeParentRelation)return this.entityMetadata.treeParentRelation.propertyName}return""}buildPropertyPath(){return!this.embeddedMetadata||!this.embeddedMetadata.parentPropertyNames.length?this.propertyName:this.embeddedMetadata.parentPropertyNames.join(".")+"."+this.propertyName}},WM=class{constructor(e){this.columns=[],this.relations=[],this.listeners=[],this.indices=[],this.uniques=[],this.relationIds=[],this.relationCounts=[],this.embeddeds=[],this.isAlwaysUsingConstructor=!0,this.isArray=!1,this.parentPropertyNames=[],this.parentPrefixes=[],this.embeddedMetadataTree=[],this.columnsFromTree=[],this.relationsFromTree=[],this.listenersFromTree=[],this.indicesFromTree=[],this.uniquesFromTree=[],this.relationIdsFromTree=[],this.relationCountsFromTree=[],this.entityMetadata=e.entityMetadata,this.type=e.args.type(),this.propertyName=e.args.propertyName,this.customPrefix=e.args.prefix,this.isArray=e.args.isArray}create(e){return typeof this.type!="function"?{}:!e?.fromDeserializer||this.isAlwaysUsingConstructor?new this.type:Object.create(this.type.prototype)}build(e){return this.embeddeds.forEach(t=>t.build(e)),this.prefix=this.buildPrefix(e),this.parentPropertyNames=this.buildParentPropertyNames(),this.parentPrefixes=this.buildParentPrefixes(),this.propertyPath=this.parentPropertyNames.join("."),this.embeddedMetadataTree=this.buildEmbeddedMetadataTree(),this.columnsFromTree=this.buildColumnsFromTree(),this.relationsFromTree=this.buildRelationsFromTree(),this.listenersFromTree=this.buildListenersFromTree(),this.indicesFromTree=this.buildIndicesFromTree(),this.uniquesFromTree=this.buildUniquesFromTree(),this.relationIdsFromTree=this.buildRelationIdsFromTree(),this.relationCountsFromTree=this.buildRelationCountsFromTree(),e.options.entitySkipConstructor&&(this.isAlwaysUsingConstructor=!e.options.entitySkipConstructor),this}buildPartialPrefix(){if(this.customPrefix===void 0||this.customPrefix===!0)return[this.propertyName];if(this.customPrefix===""||this.customPrefix===!1)return[];if(typeof this.customPrefix=="string")return[this.customPrefix];throw new G(`Invalid prefix option given for ${this.entityMetadata.targetName}#${this.propertyName}`)}buildPrefix(e){if(e.driver.options.type==="mongodb")return this.propertyName;let t=[];return this.parentEmbeddedMetadata&&t.push(this.parentEmbeddedMetadata.buildPrefix(e)),t.push(...this.buildPartialPrefix()),t.join("_")}buildParentPropertyNames(){return this.parentEmbeddedMetadata?this.parentEmbeddedMetadata.buildParentPropertyNames().concat(this.propertyName):[this.propertyName]}buildParentPrefixes(){return this.parentEmbeddedMetadata?this.parentEmbeddedMetadata.buildParentPrefixes().concat(this.buildPartialPrefix()):this.buildPartialPrefix()}buildEmbeddedMetadataTree(){return this.parentEmbeddedMetadata?this.parentEmbeddedMetadata.buildEmbeddedMetadataTree().concat(this):[this]}buildColumnsFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildColumnsFromTree()),this.columns)}buildRelationsFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildRelationsFromTree()),this.relations)}buildListenersFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildListenersFromTree()),this.listeners)}buildIndicesFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildIndicesFromTree()),this.indices)}buildUniquesFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildUniquesFromTree()),this.uniques)}buildRelationIdsFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildRelationIdsFromTree()),this.relationIds)}buildRelationCountsFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildRelationCountsFromTree()),this.relationCounts)}},gE=class{constructor(e){this.entityMetadata=e.entityMetadata,this.target=e.args.target,this.propertyName=e.args.propertyName,this.relationNameOrFactory=e.args.relation,this.alias=e.args.alias,this.queryBuilderFactory=e.args.queryBuilderFactory}setValue(e){let t=this.relation.getEntityValue(e);if(Array.isArray(t))e[this.propertyName]=t.map(r=>this.relation.inverseEntityMetadata.getEntityIdMixedMap(r)).filter(r=>r!=null);else{let r=this.relation.inverseEntityMetadata.getEntityIdMixedMap(t);r!==void 0&&(e[this.propertyName]=r)}}build(){let e=typeof this.relationNameOrFactory=="function"?this.relationNameOrFactory(this.entityMetadata.propertiesMap):this.relationNameOrFactory,t=this.entityMetadata.findRelationWithPropertyPath(e);if(!t)throw new G(`Cannot find relation ${e}. Wrong relation specified for @RelationId decorator.`);this.relation=t}},yE=class{constructor(e){this.entityMetadata=e.entityMetadata,this.target=e.args.target,this.propertyName=e.args.propertyName,this.relationNameOrFactory=e.args.relation,this.alias=e.args.alias,this.queryBuilderFactory=e.args.queryBuilderFactory}build(){let e=typeof this.relationNameOrFactory=="function"?this.relationNameOrFactory(this.entityMetadata.propertiesMap):this.relationNameOrFactory,t=this.entityMetadata.findRelationWithPropertyPath(e);if(!t)throw new G(`Cannot find relation ${e}. Wrong relation specified for @RelationCount decorator.`);this.relation=t}},Us=(()=>{class n{static{this.AFTER_LOAD="after-load"}static{this.BEFORE_INSERT="before-insert"}static{this.AFTER_INSERT="after-insert"}static{this.BEFORE_UPDATE="before-update"}static{this.AFTER_UPDATE="after-update"}static{this.BEFORE_REMOVE="before-remove"}static{this.AFTER_REMOVE="after-remove"}static{this.BEFORE_SOFT_REMOVE="before-soft-remove"}static{this.AFTER_SOFT_REMOVE="after-soft-remove"}static{this.BEFORE_RECOVER="before-recover"}static{this.AFTER_RECOVER="after-recover"}}return n})(),Ul=class{constructor(e){this.columns=[],this.referencedColumns=[],this.columnNames=[],this.referencedColumnNames=[],this.entityMetadata=e.entityMetadata,this.referencedEntityMetadata=e.referencedEntityMetadata,this.columns=e.columns,this.referencedColumns=e.referencedColumns,this.onDelete=e.onDelete||"NO ACTION",this.onUpdate=e.onUpdate||"NO ACTION",this.deferrable=e.deferrable,this.givenName=e.name,e.namingStrategy&&this.build(e.namingStrategy)}build(e){this.columnNames=this.columns.map(t=>t.databaseName),this.referencedColumnNames=this.referencedColumns.map(t=>t.databaseName),this.referencedTablePath=this.referencedEntityMetadata.tablePath,this.name=this.givenName?this.givenName:e.foreignKeyName(this.entityMetadata.tableName,this.columnNames,this.referencedEntityMetadata.tableName,this.referencedColumnNames)}},GM=class{constructor(e){this.connection=e}build(e,t){let r=this.collectReferencedColumns(e,t),i=this.collectInverseReferencedColumns(e,t),s=t.name||this.connection.namingStrategy.joinTableName(e.entityMetadata.tableNameWithoutPrefix,e.inverseEntityMetadata.tableNameWithoutPrefix,e.propertyPath,e.inverseRelation?e.inverseRelation.propertyName:""),o=new jl({connection:this.connection,args:{target:"",name:s,type:"junction",database:t.database||e.entityMetadata.database,schema:t.schema||e.entityMetadata.schema}});o.build();let a=r.map(l=>{let d=t.joinColumns?t.joinColumns.find(p=>(!p.referencedColumnName||p.referencedColumnName===l.propertyName)&&!!p.name):void 0,h=d&&d.name?d.name:this.connection.namingStrategy.joinTableColumnName(e.entityMetadata.tableNameWithoutPrefix,l.propertyName,l.databaseName);return new Ei({connection:this.connection,entityMetadata:o,referencedColumn:l,args:{target:"",mode:"virtual",propertyName:h,options:{name:h,length:!l.length&&(De.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql")&&(l.generationStrategy==="uuid"||l.type==="uuid")?"36":l.length,width:l.width,type:l.type,precision:l.precision,scale:l.scale,charset:l.charset,collation:l.collation,zerofill:l.zerofill,unsigned:l.zerofill?!0:l.unsigned,enum:l.enum,enumName:l.enumName,foreignKeyConstraintName:d?.foreignKeyConstraintName,nullable:!1,primary:!0}}})}),c=i.map(l=>{let d=t.inverseJoinColumns?t.inverseJoinColumns.find(p=>(!p.referencedColumnName||p.referencedColumnName===l.propertyName)&&!!p.name):void 0,h=d&&d.name?d.name:this.connection.namingStrategy.joinTableInverseColumnName(e.inverseEntityMetadata.tableNameWithoutPrefix,l.propertyName,l.databaseName);return new Ei({connection:this.connection,entityMetadata:o,referencedColumn:l,args:{target:"",mode:"virtual",propertyName:h,options:{length:!l.length&&(De.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql")&&(l.generationStrategy==="uuid"||l.type==="uuid")?"36":l.length,width:l.width,type:l.type,precision:l.precision,scale:l.scale,charset:l.charset,collation:l.collation,zerofill:l.zerofill,unsigned:l.zerofill?!0:l.unsigned,enum:l.enum,enumName:l.enumName,foreignKeyConstraintName:d?.foreignKeyConstraintName,name:h,nullable:!1,primary:!0}}})});return this.changeDuplicatedColumnNames(a,c),o.ownerColumns=a,o.inverseColumns=c,o.ownColumns=[...a,...c],o.ownColumns.forEach(l=>l.relationMetadata=e),o.foreignKeys=e.createForeignKeyConstraints?[new Ul({entityMetadata:o,referencedEntityMetadata:e.entityMetadata,columns:a,referencedColumns:r,name:a[0]?.foreignKeyConstraintName,onDelete:this.connection.driver.options.type==="spanner"?"NO ACTION":e.onDelete||"CASCADE",onUpdate:this.connection.driver.options.type==="oracle"||this.connection.driver.options.type==="spanner"?"NO ACTION":e.onUpdate||"CASCADE"}),new Ul({entityMetadata:o,referencedEntityMetadata:e.inverseEntityMetadata,columns:c,referencedColumns:i,name:c[0]?.foreignKeyConstraintName,onDelete:this.connection.driver.options.type==="spanner"?"NO ACTION":e.inverseRelation?e.inverseRelation.onDelete:"CASCADE",onUpdate:this.connection.driver.options.type==="oracle"||this.connection.driver.options.type==="spanner"?"NO ACTION":e.inverseRelation?e.inverseRelation.onUpdate:"CASCADE"})]:[],o.ownIndices=[new Ki({entityMetadata:o,columns:a,args:{target:o.target,synchronize:!0}}),new Ki({entityMetadata:o,columns:c,args:{target:o.target,synchronize:!0}})],o}collectReferencedColumns(e,t){let r=t.joinColumns?t.joinColumns.find(i=>!!i.referencedColumnName):!1;return!t.joinColumns||t.joinColumns&&!r?e.entityMetadata.columns.filter(i=>i.isPrimary):t.joinColumns.map(i=>{let s=e.entityMetadata.columns.find(o=>o.propertyName===i.referencedColumnName);if(!s)throw new G(`Referenced column ${i.referencedColumnName} was not found in entity ${e.entityMetadata.name}`);return s})}collectInverseReferencedColumns(e,t){let r=!!t.inverseJoinColumns,i=r?t.inverseJoinColumns.find(s=>!!s.referencedColumnName):!1;return!r||r&&!i?e.inverseEntityMetadata.primaryColumns:t.inverseJoinColumns.map(s=>{let o=e.inverseEntityMetadata.ownColumns.find(a=>a.propertyName===s.referencedColumnName);if(!o)throw new G(`Referenced column ${s.referencedColumnName} was not found in entity ${e.inverseEntityMetadata.name}`);return o})}changeDuplicatedColumnNames(e,t){e.forEach(r=>{t.forEach(i=>{if(r.givenDatabaseName===i.givenDatabaseName){let s=this.connection.namingStrategy.joinTableColumnDuplicationPrefix(r.propertyName,1);r.propertyName=s,r.givenDatabaseName=s;let o=this.connection.namingStrategy.joinTableColumnDuplicationPrefix(i.propertyName,2);i.propertyName=o,i.givenDatabaseName=o}})})}},QM=class{constructor(e){this.connection=e}build(e){let t=new jl({parentClosureEntityMetadata:e,connection:this.connection,args:{target:"",name:e.treeOptions&&e.treeOptions.closureTableName?e.treeOptions.closureTableName:e.tableNameWithoutPrefix,type:"closure-junction"}});return t.build(),e.primaryColumns.forEach(r=>{t.ownColumns.push(new Ei({connection:this.connection,entityMetadata:t,closureType:"ancestor",referencedColumn:r,args:{target:"",mode:"virtual",propertyName:e.treeOptions&&e.treeOptions.ancestorColumnName?e.treeOptions.ancestorColumnName(r):r.propertyName+"_ancestor",options:{primary:!0,length:r.length,type:r.type}}})),t.ownColumns.push(new Ei({connection:this.connection,entityMetadata:t,closureType:"descendant",referencedColumn:r,args:{target:"",mode:"virtual",propertyName:e.treeOptions&&e.treeOptions.descendantColumnName?e.treeOptions.descendantColumnName(r):r.propertyName+"_descendant",options:{primary:!0,length:r.length,type:r.type}}}))}),t.ownIndices=[new Ki({entityMetadata:t,columns:[t.ownColumns[0]],args:{target:t.target,synchronize:!0}}),new Ki({entityMetadata:t,columns:[t.ownColumns[1]],args:{target:t.target,synchronize:!0}})],e.treeLevelColumn&&t.ownColumns.push(new Ei({connection:this.connection,entityMetadata:t,args:{target:"",mode:"virtual",propertyName:"level",options:{type:this.connection.driver.mappedDataTypes.treeLevel}}})),t.foreignKeys=[new Ul({entityMetadata:t,referencedEntityMetadata:e,columns:[t.ownColumns[0]],referencedColumns:e.primaryColumns,onDelete:this.connection.driver.options.type==="mssql"?"NO ACTION":"CASCADE"}),new Ul({entityMetadata:t,referencedEntityMetadata:e,columns:[t.ownColumns[1]],referencedColumns:e.primaryColumns,onDelete:this.connection.driver.options.type==="mssql"?"NO ACTION":"CASCADE"})],t}},Hd=class{constructor(e){this.columns=[],this.columnNamesWithOrderingMap={},this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata,e.columns&&(this.columns=e.columns),e.args&&(this.target=e.args.target,this.givenName=e.args.name,this.givenColumnNames=e.args.columns,this.deferrable=e.args.deferrable)}build(e){let t={};if(this.givenColumnNames){let r=[];if(Array.isArray(this.givenColumnNames))r=this.givenColumnNames.map(i=>this.embeddedMetadata?this.embeddedMetadata.propertyPath+"."+i:i.trim()),r.forEach(i=>t[i]=1);else{let i=this.givenColumnNames(this.entityMetadata.propertiesMap);Array.isArray(i)?(r=i.map(s=>String(s)),r.forEach(s=>t[s]=1)):(r=Object.keys(i).map(s=>String(s)),Object.keys(i).forEach(s=>t[s]=i[s]))}this.columns=r.map(i=>{let s=this.entityMetadata.columns.find(l=>l.propertyPath===i);if(s)return[s];let o=this.entityMetadata.relations.find(l=>l.isWithJoinColumn&&l.propertyName===i);if(o)return o.joinColumns;let a=this.givenName?'"'+this.givenName+'" ':"",c=this.entityMetadata.targetName;throw new G(`Unique constraint ${a}contains column that is missing in the entity (${c}): `+i)}).reduce((i,s)=>i.concat(s))}return this.columnNamesWithOrderingMap=Object.keys(t).reduce((r,i)=>{let s=this.entityMetadata.columns.find(o=>o.propertyPath===i);return s&&(r[s.databasePath]=t[i]),r},{}),this.name=this.givenName?this.givenName:e.uniqueConstraintName(this.entityMetadata.tableName,this.columns.map(r=>r.databaseName)),this}},KM=class{constructor(e){this.connection=e}build(e,t){let r=this.collectReferencedColumns(e,t),i=this.collectColumns(e,t,r);if(!r.length||!t.createForeignKeyConstraints)return{foreignKey:void 0,columns:i,uniqueConstraint:void 0};let s=new Ul({name:e[0]?.foreignKeyConstraintName,entityMetadata:t.entityMetadata,referencedEntityMetadata:t.inverseEntityMetadata,namingStrategy:this.connection.namingStrategy,columns:i,referencedColumns:r,onDelete:t.onDelete,onUpdate:t.onUpdate,deferrable:t.deferrable});if(this.connection.driver.options.type==="oracle"&&i.every(o=>o.isPrimary))return{foreignKey:s,columns:i,uniqueConstraint:void 0};if(r.length>0&&t.isOneToOne){let o=new Hd({entityMetadata:t.entityMetadata,columns:s.columns,args:{name:this.connection.namingStrategy.relationConstraintName(t.entityMetadata.tableName,s.columns.map(a=>a.databaseName)),target:t.entityMetadata.target}});return o.build(this.connection.namingStrategy),{foreignKey:s,columns:i,uniqueConstraint:o}}return{foreignKey:s,columns:i,uniqueConstraint:void 0}}collectReferencedColumns(e,t){let r=e.find(o=>!!o.referencedColumnName),i=e.length===0&&t.isManyToOne,s=e.length>0&&!r;return i||s?t.inverseEntityMetadata.primaryColumns:e.map(o=>{let a=t.inverseEntityMetadata.ownColumns.find(c=>c.propertyName===o.referencedColumnName);if(!a)throw new G(`Referenced column ${o.referencedColumnName} was not found in entity ${t.inverseEntityMetadata.name}`);return a})}collectColumns(e,t,r){return r.map(i=>{let s=e.find(l=>(!l.referencedColumnName||l.referencedColumnName===i.propertyName)&&!!l.name),o=s?s.name:this.connection.namingStrategy.joinColumnName(t.propertyName,i.propertyName),c=(t.embeddedMetadata?t.embeddedMetadata.columns:t.entityMetadata.ownColumns).find(l=>l.databaseNameWithoutPrefixes===o);return c||(c=new Ei({connection:this.connection,entityMetadata:t.entityMetadata,embeddedMetadata:t.embeddedMetadata,args:{target:"",mode:"virtual",propertyName:t.propertyName,options:{name:o,type:i.type,length:!i.length&&(De.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql")&&(i.generationStrategy==="uuid"||i.type==="uuid")?"36":i.length,width:i.width,charset:i.charset,collation:i.collation,precision:i.precision,scale:i.scale,zerofill:i.zerofill,unsigned:i.unsigned,comment:i.comment,enum:i.enum,enumName:i.enumName,primary:t.isPrimary,nullable:t.isNullable}}}),t.entityMetadata.registerColumn(c)),c.referencedColumn=i,c.type=i.type,c.relationMetadata=t,c.build(this.connection),c})}},bE=class{constructor(e){this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata,this.target=e.args.target,this.propertyName=e.args.propertyName,this.type=e.args.type}isAllowed(e){return this.entityMetadata.target===e.constructor||typeof this.entityMetadata.target=="function"&&e.constructor.prototype instanceof this.entityMetadata.target}execute(e){if(!this.embeddedMetadata)return e[this.propertyName]();this.callEntityEmbeddedMethod(e,this.embeddedMetadata.propertyPath.split("."))}callEntityEmbeddedMethod(e,t){let r=t.shift();!r||!e[r]||(t.length===0?Array.isArray(e[r])?e[r].map(i=>i[this.propertyName]()):e[r][this.propertyName]():e[r]&&this.callEntityEmbeddedMethod(e[r],t))}},JM=class{constructor(e){this.entityMetadata=e.entityMetadata,e.args&&(this.target=e.args.target,this.expression=e.args.expression,this.givenName=e.args.name)}build(e){return this.name=this.givenName?this.givenName:e.checkConstraintName(this.entityMetadata.tableName,this.expression),this}},YM=class{constructor(e){this.entityMetadata=e.entityMetadata,e.args&&(this.target=e.args.target,this.expression=e.args.expression,this.givenName=e.args.name)}build(e){return this.name=this.givenName?this.givenName:e.exclusionConstraintName(this.entityMetadata.tableName,this.expression),this}},_E=class{constructor(e,t){this.connection=e,this.metadataArgsStorage=t,this.junctionEntityMetadataBuilder=new GM(e),this.closureJunctionEntityMetadataBuilder=new QM(e),this.relationJoinColumnBuilder=new KM(e)}build(e){let i=(e?this.metadataArgsStorage.filterTables(e):this.metadataArgsStorage.tables).filter(s=>s.type==="regular"||s.type==="closure"||s.type==="entity-child"||s.type==="view").map(s=>this.createEntityMetadata(s));return i.forEach(s=>this.computeParentEntityMetadata(i,s)),i.forEach(s=>{s.childEntityMetadatas=i.filter(o=>typeof s.target=="function"&&typeof o.target=="function"&&$d.isInherited(o.target,s.target))}),i.filter(s=>s.tableType!=="entity-child").forEach(s=>s.build()),i.filter(s=>s.tableType==="entity-child").forEach(s=>s.build()),i.filter(s=>s.tableType!=="entity-child").forEach(s=>this.computeEntityMetadataStep1(i,s)),i.filter(s=>s.tableType==="entity-child").forEach(s=>this.computeEntityMetadataStep1(i,s)),i.forEach(s=>this.computeEntityMetadataStep2(s)),i.forEach(s=>this.computeInverseProperties(s,i)),i.filter(s=>s.tableType!=="entity-child").forEach(s=>{s.relations.filter(o=>o.isOneToOne||o.isManyToOne).forEach(o=>{let a=this.metadataArgsStorage.filterJoinColumns(o.target,o.propertyName),{foreignKey:c,columns:l,uniqueConstraint:d}=this.relationJoinColumnBuilder.build(a,o);if(c&&(o.registerForeignKeys(c),s.foreignKeys.push(c)),l&&o.registerJoinColumns(l),d)if(De.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"||this.connection.driver.options.type==="mssql"||this.connection.driver.options.type==="sap"||this.connection.driver.options.type==="spanner"){let h=new Ki({entityMetadata:d.entityMetadata,columns:d.columns,args:{target:d.target,name:d.name,unique:!0,synchronize:!0}});this.connection.driver.options.type==="mssql"&&(h.where=h.columns.map(p=>`${this.connection.driver.escape(p.databaseName)} IS NOT NULL`).join(" AND ")),this.connection.driver.options.type==="spanner"&&(h.isNullFiltered=!0),o.embeddedMetadata?o.embeddedMetadata.indices.push(h):o.entityMetadata.ownIndices.push(h),this.computeEntityMetadataStep2(s)}else o.embeddedMetadata?o.embeddedMetadata.uniques.push(d):o.entityMetadata.ownUniques.push(d),this.computeEntityMetadataStep2(s);if(c&&this.connection.driver.options.type==="cockroachdb"){let h=new Ki({entityMetadata:o.entityMetadata,columns:c.columns,args:{target:o.entityMetadata.target,synchronize:!0}});o.embeddedMetadata?o.embeddedMetadata.indices.push(h):o.entityMetadata.ownIndices.push(h),this.computeEntityMetadataStep2(s)}}),s.relations.filter(o=>o.isManyToMany).forEach(o=>{let a=this.metadataArgsStorage.findJoinTable(o.target,o.propertyName);if(!a)return;let c=this.junctionEntityMetadataBuilder.build(o,a);o.registerForeignKeys(...c.foreignKeys),o.registerJoinColumns(c.ownIndices[0].columns,c.ownIndices[1].columns),o.registerJunctionEntityMetadata(c),this.computeEntityMetadataStep2(c),this.computeInverseProperties(c,i),i.push(c)})}),i.forEach(s=>{s.relationsWithJoinColumns=s.relations.filter(o=>o.isWithJoinColumn),s.hasNonNullableRelations=s.relationsWithJoinColumns.some(o=>!o.isNullable||o.isPrimary)}),i.filter(s=>s.treeType==="closure-table").forEach(s=>{let o=this.closureJunctionEntityMetadataBuilder.build(s);s.closureJunctionTable=o,this.computeEntityMetadataStep2(o),this.computeInverseProperties(o,i),i.push(o)}),i.filter(s=>s.inheritancePattern==="STI"&&s.discriminatorColumn).forEach(s=>this.createKeysForTableInheritance(s)),i.forEach(s=>{s.indices.forEach(o=>o.build(this.connection.namingStrategy))}),i.forEach(s=>{s.uniques.forEach(o=>o.build(this.connection.namingStrategy))}),i.forEach(s=>{s.checks.forEach(o=>o.build(this.connection.namingStrategy))}),i.forEach(s=>{s.exclusions.forEach(o=>o.build(this.connection.namingStrategy))}),i.filter(s=>typeof s.target=="function").forEach(s=>{s.relations.filter(o=>o.isLazy).forEach(o=>{this.connection.relationLoader.enableLazyLoad(o,s.target.prototype)})}),i.forEach(s=>{s.columns.forEach(o=>{let a=this.metadataArgsStorage.findGenerated(o.target,o.propertyName);a&&(o.isGenerated=!0,o.generationStrategy=a.strategy,a.strategy==="uuid"?o.type="uuid":a.strategy==="rowid"?o.type="int":o.type=o.type||Number,o.build(this.connection),this.computeEntityMetadataStep2(s))})}),i}createEntityMetadata(e){let t=typeof e.target=="function"?$d.getInheritanceTree(e.target):[e.target],r=this.metadataArgsStorage.findInheritanceType(e.target),i=this.metadataArgsStorage.findTree(e.target),s;return(r&&r.pattern==="STI"||e.type==="entity-child")&&(s=this.metadataArgsStorage.filterSingleTableChildren(e.target).map(o=>o.target).filter(o=>typeof o=="function"),t.push(...s)),new jl({connection:this.connection,args:e,inheritanceTree:t,tableTree:i,inheritancePattern:r?r.pattern:void 0})}computeParentEntityMetadata(e,t){t.tableType==="entity-child"&&(t.parentEntityMetadata=e.find(r=>r.inheritanceTree.indexOf(t.target)!==-1&&r.inheritancePattern==="STI"))}computeEntityMetadataStep1(e,t){let r=this.metadataArgsStorage.findInheritanceType(t.target),i=this.metadataArgsStorage.findDiscriminatorValue(t.target);if(typeof i<"u"?t.discriminatorValue=i.value:t.discriminatorValue=t.target.name,t.embeddeds=this.createEmbeddedsRecursively(t,this.metadataArgsStorage.filterEmbeddeds(t.inheritanceTree)).map(o=>(t.inheritancePattern==="STI"&&(o.columns=o.columns.map(a=>(a.isNullable=!0,a))),o)),t.ownColumns=this.metadataArgsStorage.filterColumns(t.inheritanceTree).map(o=>{if(t.tableType==="entity-child")return t.parentEntityMetadata.ownColumns.find(l=>l.propertyName===o.propertyName);let a=new Ei({connection:this.connection,entityMetadata:t,args:o});return e.find(l=>l.tableType==="entity-child"&&l.target===o.target)&&(a.isNullable=!0),a}),r&&r.column){let o=r.column&&r.column.name?r.column.name:"type",a=t.ownColumns.find(c=>c.propertyName===o);a?a.isDiscriminator=!0:(a=new Ei({connection:this.connection,entityMetadata:t,args:{target:t.target,mode:"virtual",propertyName:o,options:r.column||{name:o,type:"varchar",nullable:!1}}}),a.isVirtual=!0,a.isDiscriminator=!0,t.ownColumns.push(a))}if(t.tableType==="entity-child"){let o=t.parentEntityMetadata.ownColumns.find(a=>a.isDiscriminator);o&&!t.ownColumns.find(a=>a===o)&&t.ownColumns.push(o)}let{namingStrategy:s}=this.connection;if(t.treeType==="materialized-path")t.ownColumns.push(new Ei({connection:this.connection,entityMetadata:t,materializedPath:!0,args:{target:t.target,mode:"virtual",propertyName:"mpath",options:{name:s.materializedPathColumnName,type:String,nullable:!0,default:""}}}));else if(t.treeType==="nested-set"){let{left:o,right:a}=s.nestedSetColumnNames;t.ownColumns.push(new Ei({connection:this.connection,entityMetadata:t,nestedSetLeft:!0,args:{target:t.target,mode:"virtual",propertyName:o,options:{name:o,type:Number,nullable:!1,default:1}}})),t.ownColumns.push(new Ei({connection:this.connection,entityMetadata:t,nestedSetRight:!0,args:{target:t.target,mode:"virtual",propertyName:a,options:{name:a,type:Number,nullable:!1,default:2}}}))}if(t.ownRelations=this.metadataArgsStorage.filterRelations(t.inheritanceTree).map(o=>{if(t.tableType==="entity-child"){let a=t.parentEntityMetadata.ownRelations.find(l=>l.propertyName===o.propertyName),c=typeof o.type=="function"?o.type():o.type;if(a.type!==c){let l=Object.create(a);return l.type=c,l}return a}return new mE({entityMetadata:t,args:o})}),t.relationIds=this.metadataArgsStorage.filterRelationIds(t.inheritanceTree).map(o=>t.tableType==="entity-child"?t.parentEntityMetadata.relationIds.find(a=>a.propertyName===o.propertyName):new gE({entityMetadata:t,args:o})),t.relationCounts=this.metadataArgsStorage.filterRelationCounts(t.inheritanceTree).map(o=>t.tableType==="entity-child"?t.parentEntityMetadata.relationCounts.find(a=>a.propertyName===o.propertyName):new yE({entityMetadata:t,args:o})),t.ownListeners=this.metadataArgsStorage.filterListeners(t.inheritanceTree).map(o=>new bE({entityMetadata:t,args:o})),t.checks=this.metadataArgsStorage.filterChecks(t.inheritanceTree).map(o=>new JM({entityMetadata:t,args:o})),this.connection.driver.options.type==="postgres"&&(t.exclusions=this.metadataArgsStorage.filterExclusions(t.inheritanceTree).map(o=>new YM({entityMetadata:t,args:o}))),this.connection.driver.options.type==="cockroachdb"){t.ownIndices=this.metadataArgsStorage.filterIndices(t.inheritanceTree).filter(a=>!a.unique).map(a=>new Ki({entityMetadata:t,args:a}));let o=this.metadataArgsStorage.filterIndices(t.inheritanceTree).filter(a=>a.unique).map(a=>new Hd({entityMetadata:t,args:{target:a.target,name:a.name,columns:a.columns}}));t.ownUniques.push(...o)}else t.ownIndices=this.metadataArgsStorage.filterIndices(t.inheritanceTree).map(o=>new Ki({entityMetadata:t,args:o}));if(De.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"||this.connection.driver.options.type==="sap"||this.connection.driver.options.type==="spanner"){let o=this.metadataArgsStorage.filterUniques(t.inheritanceTree).map(a=>new Ki({entityMetadata:t,args:{target:a.target,name:a.name,columns:a.columns,unique:!0,synchronize:!0}}));t.ownIndices.push(...o)}else{let o=this.metadataArgsStorage.filterUniques(t.inheritanceTree).map(a=>new Hd({entityMetadata:t,args:a}));t.ownUniques.push(...o)}}createEmbeddedsRecursively(e,t){return t.map(r=>{let i=new WM({entityMetadata:e,args:r}),s=typeof i.type=="function"?$d.getInheritanceTree(i.type):[i.type];return i.columns=this.metadataArgsStorage.filterColumns(s).map(o=>new Ei({connection:this.connection,entityMetadata:e,embeddedMetadata:i,args:o})),i.relations=this.metadataArgsStorage.filterRelations(s).map(o=>new mE({entityMetadata:e,embeddedMetadata:i,args:o})),i.listeners=this.metadataArgsStorage.filterListeners(s).map(o=>new bE({entityMetadata:e,embeddedMetadata:i,args:o})),i.indices=this.metadataArgsStorage.filterIndices(s).map(o=>new Ki({entityMetadata:e,embeddedMetadata:i,args:o})),i.uniques=this.metadataArgsStorage.filterUniques(s).map(o=>new Hd({entityMetadata:e,embeddedMetadata:i,args:o})),i.relationIds=this.metadataArgsStorage.filterRelationIds(s).map(o=>new gE({entityMetadata:e,args:o})),i.relationCounts=this.metadataArgsStorage.filterRelationCounts(s).map(o=>new yE({entityMetadata:e,args:o})),i.embeddeds=this.createEmbeddedsRecursively(e,this.metadataArgsStorage.filterEmbeddeds(s)),i.embeddeds.forEach(o=>o.parentEmbeddedMetadata=i),e.allEmbeddeds.push(i),i})}computeEntityMetadataStep2(e){e.embeddeds.forEach(t=>t.build(this.connection)),e.embeddeds.forEach(t=>{t.columnsFromTree.forEach(r=>r.build(this.connection)),t.relationsFromTree.forEach(r=>r.build())}),e.ownColumns.forEach(t=>t.build(this.connection)),e.ownRelations.forEach(t=>t.build()),e.relations=e.embeddeds.reduce((t,r)=>t.concat(r.relationsFromTree),e.ownRelations),e.eagerRelations=e.relations.filter(t=>t.isEager),e.lazyRelations=e.relations.filter(t=>t.isLazy),e.oneToOneRelations=e.relations.filter(t=>t.isOneToOne),e.oneToManyRelations=e.relations.filter(t=>t.isOneToMany),e.manyToOneRelations=e.relations.filter(t=>t.isManyToOne),e.manyToManyRelations=e.relations.filter(t=>t.isManyToMany),e.ownerOneToOneRelations=e.relations.filter(t=>t.isOneToOneOwner),e.ownerManyToManyRelations=e.relations.filter(t=>t.isManyToManyOwner),e.treeParentRelation=e.relations.find(t=>t.isTreeParent),e.treeChildrenRelation=e.relations.find(t=>t.isTreeChildren),e.columns=e.embeddeds.reduce((t,r)=>t.concat(r.columnsFromTree),e.ownColumns),e.listeners=e.embeddeds.reduce((t,r)=>t.concat(r.listenersFromTree),e.ownListeners),e.afterLoadListeners=e.listeners.filter(t=>t.type===Us.AFTER_LOAD),e.afterInsertListeners=e.listeners.filter(t=>t.type===Us.AFTER_INSERT),e.afterUpdateListeners=e.listeners.filter(t=>t.type===Us.AFTER_UPDATE),e.afterRemoveListeners=e.listeners.filter(t=>t.type===Us.AFTER_REMOVE),e.afterSoftRemoveListeners=e.listeners.filter(t=>t.type===Us.AFTER_SOFT_REMOVE),e.afterRecoverListeners=e.listeners.filter(t=>t.type===Us.AFTER_RECOVER),e.beforeInsertListeners=e.listeners.filter(t=>t.type===Us.BEFORE_INSERT),e.beforeUpdateListeners=e.listeners.filter(t=>t.type===Us.BEFORE_UPDATE),e.beforeRemoveListeners=e.listeners.filter(t=>t.type===Us.BEFORE_REMOVE),e.beforeSoftRemoveListeners=e.listeners.filter(t=>t.type===Us.BEFORE_SOFT_REMOVE),e.beforeRecoverListeners=e.listeners.filter(t=>t.type===Us.BEFORE_RECOVER),e.indices=e.embeddeds.reduce((t,r)=>t.concat(r.indicesFromTree),e.ownIndices),e.uniques=e.embeddeds.reduce((t,r)=>t.concat(r.uniquesFromTree),e.ownUniques),e.primaryColumns=e.columns.filter(t=>t.isPrimary),e.nonVirtualColumns=e.columns.filter(t=>!t.isVirtual),e.ancestorColumns=e.columns.filter(t=>t.closureType==="ancestor"),e.descendantColumns=e.columns.filter(t=>t.closureType==="descendant"),e.hasMultiplePrimaryKeys=e.primaryColumns.length>1,e.generatedColumns=e.columns.filter(t=>t.isGenerated||t.isObjectId),e.hasUUIDGeneratedColumns=e.columns.filter(t=>t.isGenerated||t.generationStrategy==="uuid").length>0,e.createDateColumn=e.columns.find(t=>t.isCreateDate),e.updateDateColumn=e.columns.find(t=>t.isUpdateDate),e.deleteDateColumn=e.columns.find(t=>t.isDeleteDate),e.versionColumn=e.columns.find(t=>t.isVersion),e.discriminatorColumn=e.columns.find(t=>t.isDiscriminator),e.treeLevelColumn=e.columns.find(t=>t.isTreeLevel),e.nestedSetLeftColumn=e.columns.find(t=>t.isNestedSetLeft),e.nestedSetRightColumn=e.columns.find(t=>t.isNestedSetRight),e.materializedPathColumn=e.columns.find(t=>t.isMaterializedPath),e.objectIdColumn=e.columns.find(t=>t.isObjectId),e.foreignKeys.forEach(t=>t.build(this.connection.namingStrategy)),e.propertiesMap=e.createPropertiesMap(),e.relationIds.forEach(t=>t.build()),e.relationCounts.forEach(t=>t.build()),e.embeddeds.forEach(t=>{t.relationIdsFromTree.forEach(r=>r.build()),t.relationCountsFromTree.forEach(r=>r.build())})}computeInverseProperties(e,t){e.relations.forEach(r=>{let i=t.find(s=>s.target===r.type||typeof r.type=="string"&&(s.targetName===r.type||s.givenTableName===r.type));if(!i)throw new G("Entity metadata for "+e.name+"#"+r.propertyPath+" was not found. Check if you specified a correct entity object and if it's connected in the connection options.");r.inverseEntityMetadata=i,r.inverseSidePropertyPath=r.buildInverseSidePropertyPath(),r.inverseRelation=i.relations.find(s=>s.propertyPath===r.inverseSidePropertyPath)})}createKeysForTableInheritance(e){e.indices.push(new Ki({entityMetadata:e,columns:[e.discriminatorColumn],args:{target:e.target,unique:!1}}))}},ZM=class n extends G{static createEntitySchemaIsRequiredException(e){return new n(`EntitySchema is required for ${e} embedded field`)}static createTargetIsRequired(e){return new n(`Target field is required for ${e} embedded EntitySchema`)}constructor(e){super(e)}},XM=class{transform(e){let t=new Xv;return e.forEach(r=>{let i=r.options,s={target:i.target||i.name,name:i.tableName,database:i.database,schema:i.schema,type:i.type||"regular",orderBy:i.orderBy,synchronize:i.synchronize,withoutRowid:!!i.withoutRowid,expression:i.expression};t.tables.push(s),this.transformColumnsRecursive(i,t)}),t}transformColumnsRecursive(e,t){Object.keys(e.columns).forEach(r=>{let s=e.columns[r],o="regular";s.createDate&&(o="createDate"),s.updateDate&&(o="updateDate"),s.deleteDate&&(o="deleteDate"),s.version&&(o="version"),s.treeChildrenCount&&(o="treeChildrenCount"),s.treeLevel&&(o="treeLevel"),s.objectId&&(o="objectId");let a={target:e.target||e.name,mode:o,propertyName:r,options:{type:s.type,name:s.objectId?"_id":s.name,primaryKeyConstraintName:s.primaryKeyConstraintName,length:s.length,width:s.width,nullable:s.nullable,readonly:s.readonly,update:s.update,select:s.select,insert:s.insert,primary:s.primary,unique:s.unique,comment:s.comment,default:s.default,onUpdate:s.onUpdate,precision:s.precision,scale:s.scale,zerofill:s.zerofill,unsigned:s.unsigned,charset:s.charset,collation:s.collation,enum:s.enum,enumName:s.enumName,asExpression:s.asExpression,generatedType:s.generatedType,hstoreType:s.hstoreType,array:s.array,transformer:s.transformer,spatialFeatureType:s.spatialFeatureType,srid:s.srid}};if(t.columns.push(a),s.generated){let c={target:e.target||e.name,propertyName:r,strategy:typeof s.generated=="string"?s.generated:"increment"};t.generations.push(c)}s.unique&&t.uniques.push({target:e.target||e.name,columns:[r]})}),e.relations&&Object.keys(e.relations).forEach(r=>{let i=e.relations[r],s={target:e.target||e.name,propertyName:r,relationType:i.type,isLazy:i.lazy||!1,type:i.target,inverseSideProperty:i.inverseSide,isTreeParent:i.treeParent,isTreeChildren:i.treeChildren,options:{eager:i.eager||!1,cascade:i.cascade,nullable:i.nullable,onDelete:i.onDelete,onUpdate:i.onUpdate,deferrable:i.deferrable,createForeignKeyConstraints:i.createForeignKeyConstraints,persistence:i.persistence,orphanedRowAction:i.orphanedRowAction}};if(t.relations.push(s),i.joinColumn)if(typeof i.joinColumn=="boolean"){let o={target:e.target||e.name,propertyName:r};t.joinColumns.push(o)}else{let o=Array.isArray(i.joinColumn)?i.joinColumn:[i.joinColumn];for(let a of o){let c={target:e.target||e.name,propertyName:r,name:a.name,referencedColumnName:a.referencedColumnName,foreignKeyConstraintName:a.foreignKeyConstraintName};t.joinColumns.push(c)}}if(i.joinTable)if(typeof i.joinTable=="boolean"){let o={target:e.target||e.name,propertyName:r};t.joinTables.push(o)}else{let o={target:e.target||e.name,propertyName:r,name:i.joinTable.name,database:i.joinTable.database,schema:i.joinTable.schema,joinColumns:i.joinTable.joinColumn?[i.joinTable.joinColumn]:i.joinTable.joinColumns,inverseJoinColumns:i.joinTable.inverseJoinColumn?[i.joinTable.inverseJoinColumn]:i.joinTable.inverseJoinColumns};t.joinTables.push(o)}}),e.relationIds&&Object.keys(e.relationIds).forEach(r=>{let i=e.relationIds[r],s={propertyName:r,relation:i.relationName,target:e.target||e.name,alias:i.alias,queryBuilderFactory:i.queryBuilderFactory};t.relationIds.push(s)}),e.indices&&e.indices.forEach(r=>{let i={target:e.target||e.name,name:r.name,unique:r.unique===!0,spatial:r.spatial===!0,fulltext:r.fulltext===!0,nullFiltered:r.nullFiltered===!0,parser:r.parser,synchronize:r.synchronize!==!1,where:r.where,sparse:r.sparse,columns:r.columns};t.indices.push(i)}),e.uniques&&e.uniques.forEach(r=>{let i={target:e.target||e.name,name:r.name,columns:r.columns,deferrable:r.deferrable};t.uniques.push(i)}),e.checks&&e.checks.forEach(r=>{let i={target:e.target||e.name,name:r.name,expression:r.expression};t.checks.push(i)}),e.exclusions&&e.exclusions.forEach(r=>{let i={target:e.target||e.name,name:r.name,expression:r.expression};t.exclusions.push(i)}),e.embeddeds&&Object.keys(e.embeddeds).forEach(r=>{let i=e.embeddeds[r];if(!i.schema)throw ZM.createEntitySchemaIsRequiredException(r);let s=i.schema.options;t.embeddeds.push({target:e.target||e.name,propertyName:r,isArray:i.array===!0,prefix:i.prefix!==void 0?i.prefix:void 0,type:()=>s?.target||s.name}),this.transformColumnsRecursive(s,t)})}},eR=class{constructor(e){this.connection=e}async buildMigrations(e){let[t,r]=pt.splitClassesAndStrings(e);return[...t,...await WI(this.connection.logger,r)].map(s=>Lae(s))}async buildSubscribers(e){let[t,r]=pt.splitClassesAndStrings(e||[]),i=[...t,...await WI(this.connection.logger,r)];return wi().filterSubscribers(i).map(s=>Lae(s.target))}async buildEntityMetadatas(e){let[t,r]=pt.splitClassesAndStrings(e||[]),i=t.filter(d=>!be.isEntitySchema(d)),s=t.filter(d=>be.isEntitySchema(d)),o=[...i,...await WI(this.connection.logger,r)];o.forEach(d=>{be.isEntitySchema(d)&&s.push(d)});let a=new _E(this.connection,wi()).build(o),c=new XM().transform(s),l=new _E(this.connection,c).build();return[...a,...l]}},tR=class{constructor(e,t,r,i,s){this.expressionMap=e,this.driver=t,this.rawRelationIdResults=r,this.rawRelationCountResults=i,this.queryRunner=s}transform(e,t){let r=this.group(e,t),i=[];return r.forEach(s=>{let o=this.transformRawResultsGroup(s,t);o!==void 0&&!Object.values(o).every(a=>a===null)&&i.push(o)}),i}group(e,t){let r=new Map,i=[];return t.metadata.tableType==="view"?i.push(...t.metadata.columns.map(s=>De.buildAlias(this.driver,t.name,s.databaseName))):i.push(...t.metadata.primaryColumns.map(s=>De.buildAlias(this.driver,t.name,s.databaseName))),e.forEach(s=>{let o=i.map(c=>{let l=s[c];return He.isObject(l)?JSON.stringify(l):l}).join("_"),a=r.get(o);a?a.push(s):r.set(o,[s])}),r}transformRawResultsGroup(e,t){let r=t.metadata;if(r.discriminatorColumn){let d=e.map(p=>p[De.buildAlias(this.driver,t.name,t.metadata.discriminatorColumn.databaseName)]),h=r.childEntityMetadatas.find(p=>typeof d.find(b=>b===p.discriminatorValue)<"u");h&&(r=h)}let i=r.create(this.queryRunner,{fromDeserializer:!0,pojo:this.expressionMap.options.indexOf("create-pojo")!==-1}),s=this.transformColumns(e,t,i,r),o=this.transformJoins(e,i,t,r),a=this.transformRelationIds(e,t,i,r),c=this.transformRelationCounts(e,t,i);if(s||r.primaryColumns.filter(d=>d.isVirtual===!1).length===0&&(o||a||c))return i}transformColumns(e,t,r,i){let s=!1;return i.columns.forEach(o=>{if(i.childEntityMetadatas.length>0&&i.childEntityMetadatas.findIndex(c=>c.target===o.target)!==-1)return;let a=e[0][De.buildAlias(this.driver,t.name,o.databaseName)];a===void 0||o.isVirtual||this.expressionMap.selects.find(c=>c.selection===t.name||c.selection===t.name+"."+o.propertyPath)&&(o.setEntityValue(r,this.driver.prepareHydratedValue(a,o)),a!==null&&(s=!0))}),s}transformJoins(e,t,r,i){let s=!1;return this.expressionMap.joinAttributes.forEach(o=>{if(!o.metadata||!o.isSelected||o.relation&&!i.relations.find(c=>c===o.relation))return;if(o.mapToProperty){if(o.mapToPropertyParentAlias!==r.name)return}else if(!o.relation||o.parentAlias!==r.name||o.relationPropertyPath!==o.relation.propertyPath)return;let a=this.transform(e,o.alias);a=o.isMany?a:a[0],a=!o.isMany&&a===void 0?null:a,a!==void 0&&(o.mapToPropertyPropertyName?t[o.mapToPropertyPropertyName]=a:o.relation.setEntityValue(t,a),s=!0)}),s}transformRelationIds(e,t,r,i){let s=!1;return this.rawRelationIdResults.forEach((o,a)=>{if(o.relationIdAttribute.parentAlias!==t.name)return;let c=o.relationIdAttribute.relation,l=this.createValueMapFromJoinColumns(c,o.relationIdAttribute.parentAlias,e);if(l==null)return;this.prepareDataForTransformRelationIds();let d=this.hashEntityIds(c,l),h=this.relationIdMaps[a][d]||[],p=o.relationIdAttribute.mapToPropertyPropertyPath.split("."),b=(v,x,N)=>{let k=v.shift();if(k&&v.length===0)return x[k]=N,x;if(k&&v.length>0)b(v,x[k],N);else return x};c.isOneToOne||c.isManyToOne?h[0]!==void 0&&(b(p,r,h[0]),s=!0):(b(p,r,h),s=s||h.length>0)}),s}transformRelationCounts(e,t,r){let i=!1;return this.rawRelationCountResults.filter(s=>s.relationCountAttribute.parentAlias===t.name).forEach(s=>{let o=s.relationCountAttribute.relation,a;o.isOneToMany?a=o.inverseRelation.joinColumns[0].referencedColumn.databaseName:a=o.isOwning?o.joinColumns[0].referencedColumn.databaseName:o.inverseRelation.joinColumns[0].referencedColumn.databaseName;let c=e[0][De.buildAlias(this.driver,t.name,a)];c!=null&&(r[s.relationCountAttribute.mapToPropertyPropertyName]=0,s.results.filter(l=>l.parentId===c).forEach(l=>{r[s.relationCountAttribute.mapToPropertyPropertyName]=parseInt(l.cnt),i=!0}))}),i}createValueMapFromJoinColumns(e,t,r){let i;return e.isManyToOne||e.isOneToOneOwner?i=e.entityMetadata.primaryColumns.map(s=>s):e.isOneToMany||e.isOneToOneNotOwner?i=e.inverseRelation.joinColumns.map(s=>s):e.isOwning?i=e.joinColumns.map(s=>s):i=e.inverseRelation.inverseJoinColumns.map(s=>s),i.reduce((s,o)=>(r.forEach(a=>{e.isManyToOne||e.isOneToOneOwner?s[o.databaseName]=this.driver.prepareHydratedValue(a[De.buildAlias(this.driver,t,o.databaseName)],o):s[o.databaseName]=this.driver.prepareHydratedValue(a[De.buildAlias(this.driver,t,o.referencedColumn.databaseName)],o)}),s),{})}extractEntityPrimaryIds(e,t){let r;return e.isManyToOne||e.isOneToOneOwner?r=e.entityMetadata.primaryColumns.map(i=>i):e.isOneToMany||e.isOneToOneNotOwner?r=e.inverseRelation.joinColumns.map(i=>i):e.isOwning?r=e.joinColumns.map(i=>i):r=e.inverseRelation.inverseJoinColumns.map(i=>i),r.reduce((i,s)=>(i[s.databaseName]=t[s.databaseName],i),{})}prepareDataForTransformRelationIds(){this.relationIdMaps||(this.relationIdMaps=this.rawRelationIdResults.map(e=>{let t=e.relationIdAttribute.relation,r;return t.isManyToOne||t.isOneToOneOwner?r=t.joinColumns:t.isOneToMany||t.isOneToOneNotOwner?r=t.inverseEntityMetadata.primaryColumns:t.isOwning?r=t.inverseJoinColumns:r=t.inverseRelation.joinColumns,e.results.reduce((i,s)=>{let o=r.reduce((a,c)=>{let l=s[c.databaseName];return t.isOneToMany||t.isOneToOneNotOwner?(c.isVirtual&&c.referencedColumn&&c.referencedColumn.propertyName!==c.propertyName&&(l=c.referencedColumn.createValueMap(l)),pt.mergeDeep(a,c.createValueMap(l))):(!c.isPrimary&&c.referencedColumn.referencedColumn&&(l=c.referencedColumn.referencedColumn.createValueMap(l)),pt.mergeDeep(a,c.referencedColumn.createValueMap(l)))},{});if(r.length===1&&!e.relationIdAttribute.disableMixedMap&&(t.isOneToMany||t.isOneToOneNotOwner?o=r[0].getEntityValue(o):o=r[0].referencedColumn.getEntityValue(o)),o!==void 0){let a=this.hashEntityIds(t,s);i[a]?i[a].push(o):i[a]=[o]}return i},{})}))}hashEntityIds(e,t){let r=this.extractEntityPrimaryIds(e,t);return JSON.stringify(r)}},ps=class{static isAliasProperty(e){if(typeof e!="string"||e.indexOf(".")===-1)return!1;let[t,r]=e.split(".");return!(!t||!r||e.indexOf("(")!==-1||e.indexOf(")")!==-1)}},vE=class{constructor(e,t,r){this.connection=e,this.queryExpressionMap=t,this.isSelectedEvaluated=!1,this.relationEvaluated=!1,He.assign(this,r||{})}get isMany(){return this.isMappingMany!==void 0?this.isMappingMany:this.relation?this.relation.isManyToMany||this.relation.isOneToMany:!1}get isSelected(){if(!this.isSelectedEvaluated){let e=()=>{for(let t of this.queryExpressionMap.selects)if(t.selection===this.alias.name||this.metadata&&this.metadata.columns.find(r=>t.selection===this.alias.name+"."+r.propertyPath))return!0;return!1};this.isSelectedCache=e(),this.isSelectedEvaluated=!0}return this.isSelectedCache}get tablePath(){return this.metadata?this.metadata.tablePath:this.entityOrProperty}get parentAlias(){if(ps.isAliasProperty(this.entityOrProperty))return this.entityOrProperty.substr(0,this.entityOrProperty.indexOf("."))}get relationPropertyPath(){if(ps.isAliasProperty(this.entityOrProperty))return this.entityOrProperty.substr(this.entityOrProperty.indexOf(".")+1)}get relation(){if(!this.relationEvaluated){let e=()=>{if(!ps.isAliasProperty(this.entityOrProperty))return;let t=this.queryExpressionMap.findAliasByName(this.parentAlias),r=t.metadata.findRelationWithPropertyPath(this.relationPropertyPath);if(r||t.metadata.parentEntityMetadata&&(r=t.metadata.parentEntityMetadata.findRelationWithPropertyPath(this.relationPropertyPath),r))return r;throw new G(`Relation with property path ${this.relationPropertyPath} in entity was not found.`)};this.relationCache=e.bind(this)(),this.relationEvaluated=!0}return this.relationCache}get metadata(){if(this.relation)return this.relation.inverseEntityMetadata;if(this.connection.hasMetadata(this.entityOrProperty))return this.connection.getMetadata(this.entityOrProperty)}get junctionAlias(){if(!this.relation)throw new G("Cannot get junction table for join without relation.");return this.relation.isOwning?De.buildAlias(this.connection.driver,this.parentAlias,this.alias.name):De.buildAlias(this.connection.driver,this.alias.name,this.parentAlias)}get mapToPropertyParentAlias(){if(this.mapToProperty)return this.mapToProperty.split(".")[0]}get mapToPropertyPropertyName(){if(this.mapToProperty)return this.mapToProperty.split(".")[1]}},rm=class{constructor(e,t){this.queryExpressionMap=e,this.disableMixedMap=!1,He.assign(this,t||{})}get joinInverseSideMetadata(){return this.relation.inverseEntityMetadata}get parentAlias(){if(!ps.isAliasProperty(this.relationName))throw new G("Given value must be a string representation of alias property");return this.relationName.substr(0,this.relationName.indexOf("."))}get relationPropertyPath(){if(!ps.isAliasProperty(this.relationName))throw new G("Given value must be a string representation of alias property");return this.relationName.substr(this.relationName.indexOf(".")+1)}get relation(){if(!ps.isAliasProperty(this.relationName))throw new G("Given value must be a string representation of alias property");let t=this.queryExpressionMap.findAliasByName(this.parentAlias).metadata.findRelationWithPropertyPath(this.relationPropertyPath);if(!t)throw new G(`Relation with property path ${this.relationPropertyPath} in entity was not found.`);return t}get junctionAlias(){let[e,t]=this.relationName.split(".");return e+"_"+t+"_rid"}get junctionMetadata(){return this.relation.junctionEntityMetadata}get mapToPropertyParentAlias(){return this.mapToProperty.substr(0,this.mapToProperty.indexOf("."))}get mapToPropertyPropertyPath(){return this.mapToProperty.substr(this.mapToProperty.indexOf(".")+1)}},im=class{constructor(e,t){this.expressionMap=e,He.assign(this,t||{})}get joinInverseSideMetadata(){return this.relation.inverseEntityMetadata}get parentAlias(){if(!ps.isAliasProperty(this.relationName))throw new G("Given value must be a string representation of alias property");return this.relationName.split(".")[0]}get relationProperty(){if(!ps.isAliasProperty(this.relationName))throw new G("Given value is a string representation of alias property");return this.relationName.split(".")[1]}get junctionAlias(){let[e,t]=this.relationName.split(".");return e+"_"+t+"_rc"}get relation(){if(!ps.isAliasProperty(this.relationName))throw new G("Given value is a string representation of alias property");let[e,t]=this.relationName.split("."),i=this.expressionMap.findAliasByName(e).metadata.findRelationWithPropertyPath(t);if(!i)throw new G(`Relation with property path ${t} in entity was not found.`);return i}get metadata(){if(!ps.isAliasProperty(this.relationName))throw new G("Given value is a string representation of alias property");let e=this.relationName.split(".")[0];return this.expressionMap.findAliasByName(e).metadata}get mapToPropertyPropertyName(){return this.mapToProperty.split(".")[1]}},vet=class{constructor(e,t,r){this.connection=e,this.queryRunner=t,this.relationIdAttributes=r}async load(e){let t=this.relationIdAttributes.map(async r=>{if(r.relation.isManyToOne||r.relation.isOneToOneOwner){if(r.queryBuilderFactory)throw new G("Additional condition can not be used with ManyToOne or OneToOne owner relations.");let i={},s=e.map(o=>{let a={},c=[];r.relation.joinColumns.forEach(d=>{a[d.databaseName]=this.connection.driver.prepareHydratedValue(o[De.buildAlias(this.connection.driver,r.parentAlias,d.databaseName)],d.referencedColumn);let h=`${d.databaseName}:${a[d.databaseName]}`;c.indexOf(h)===-1&&c.push(h)}),r.relation.entityMetadata.primaryColumns.forEach(d=>{a[d.databaseName]=this.connection.driver.prepareHydratedValue(o[De.buildAlias(this.connection.driver,r.parentAlias,d.databaseName)],d);let h=`${d.databaseName}:${a[d.databaseName]}`;c.indexOf(h)===-1&&c.push(h)}),c.sort();let l=c.join("::");return i[l]?null:(i[l]=!0,a)}).filter(o=>o);return{relationIdAttribute:r,results:s}}else if(r.relation.isOneToMany||r.relation.isOneToOneNotOwner){let i=r.relation,s=i.isOwning?i.joinColumns:i.inverseRelation.joinColumns,o=i.inverseEntityMetadata.target,a=i.inverseEntityMetadata.tableName,c=r.alias||a,l={},d={},h=e.map((x,N)=>{let k=[],ee={},X=s.map(de=>{let g=de.databaseName+N,xe=x[De.buildAlias(this.connection.driver,r.parentAlias,de.referencedColumn.databaseName)],Ce=`${c}:${de.propertyPath}:${xe}`;return k.indexOf(Ce)!==-1?"":(k.push(Ce),ee[g]=xe,c+"."+de.propertyPath+" = :"+g)}).filter(de=>de).join(" AND ");k.sort();let ne=k.join("::");return l[ne]?"":(l[ne]=!0,Object.assign(d,ee),X)}).filter(x=>x).map(x=>"("+x+")").join(" OR ");if(!h)return{relationIdAttribute:r,results:[]};let p=this.connection.createQueryBuilder(this.queryRunner);pt.uniq([...s,...i.inverseRelation.entityMetadata.primaryColumns],x=>x.propertyPath).forEach(x=>{p.addSelect(c+"."+x.propertyPath,x.databaseName)}),p.from(o,c).where("("+h+")").setParameters(d),r.queryBuilderFactory&&r.queryBuilderFactory(p);let v=await p.getRawMany();return v.forEach(x=>{s.forEach(N=>{x[N.databaseName]=this.connection.driver.prepareHydratedValue(x[N.databaseName],N.referencedColumn)}),i.inverseRelation.entityMetadata.primaryColumns.forEach(N=>{x[N.databaseName]=this.connection.driver.prepareHydratedValue(x[N.databaseName],N)})}),{relationIdAttribute:r,results:v}}else{let i=r.relation,s=i.isOwning?i.joinColumns:i.inverseRelation.inverseJoinColumns,o=i.isOwning?i.inverseJoinColumns:i.inverseRelation.joinColumns,a=r.junctionAlias,c=r.joinInverseSideMetadata.tableName,l=r.alias||c,d=i.isOwning?i.junctionEntityMetadata.tableName:i.inverseRelation.junctionEntityMetadata.tableName,h=e.map(X=>s.reduce((ne,de)=>(ne[de.propertyPath]=X[De.buildAlias(this.connection.driver,r.parentAlias,de.referencedColumn.databaseName)],ne),{}));if(h.length===0)return{relationIdAttribute:r,results:[]};let p={},b={},v=h.map((X,ne)=>{let de=[],g={},xe=Object.keys(X).map(qe=>{let H=qe+ne,I=X[qe],re=`${a}:${qe}:${I}`;return de.indexOf(re)!==-1?"":(de.push(re),g[H]=I,a+"."+qe+" = :"+H)}).filter(qe=>qe).join(" AND ");de.sort();let Ce=de.join("::");return b[Ce]?"":(b[Ce]=!0,Object.assign(p,g),xe)}).filter(X=>X),x=o.map(X=>a+"."+X.propertyPath+" = "+l+"."+X.referencedColumn.propertyPath).join(" AND "),N=v.map(X=>"("+X+" AND "+x+")").join(" OR "),k=this.connection.createQueryBuilder(this.queryRunner);o.forEach(X=>{k.addSelect(a+"."+X.propertyPath,X.databaseName).addOrderBy(a+"."+X.propertyPath)}),s.forEach(X=>{k.addSelect(a+"."+X.propertyPath,X.databaseName).addOrderBy(a+"."+X.propertyPath)}),k.from(c,l).innerJoin(d,a,N).setParameters(p),r.queryBuilderFactory&&r.queryBuilderFactory(k);let ee=await k.getRawMany();return ee.forEach(X=>{[...s,...o].forEach(ne=>{X[ne.databaseName]=this.connection.driver.prepareHydratedValue(X[ne.databaseName],ne.referencedColumn)})}),{relationIdAttribute:r,results:ee}}});return Promise.all(t)}},nR=class{constructor(e){this.expressionMap=e}transform(){this.expressionMap.mainAlias&&this.expressionMap.mainAlias.metadata.relationIds.forEach(e=>{let t=this.metadataToAttribute(this.expressionMap.mainAlias.name,e);this.expressionMap.relationIdAttributes.push(t)}),this.expressionMap.joinAttributes.forEach(e=>{!e.metadata||e.metadata.isJunction||e.metadata.relationIds.forEach(t=>{let r=this.metadataToAttribute(e.alias.name,t);this.expressionMap.relationIdAttributes.push(r)})})}metadataToAttribute(e,t){return new rm(this.expressionMap,{relationName:e+"."+t.relation.propertyName,mapToProperty:e+"."+t.propertyName,alias:t.alias,queryBuilderFactory:t.queryBuilderFactory})}},rR=class{constructor(e,t,r){this.connection=e,this.queryRunner=t,this.relationCountAttributes=r}async load(e){let t=(i,s,o)=>o.indexOf(i)===s,r=this.relationCountAttributes.map(async i=>{if(i.relation.isOneToMany){let s=i.relation,o=s.inverseRelation,a=o.joinColumns[0].referencedColumn.propertyName,c=s.inverseEntityMetadata.target,l=s.inverseEntityMetadata.tableName,d=i.alias||l,h=o.propertyName,p=e.map(v=>v[i.parentAlias+"_"+a]).filter(v=>!!v);if(p=p.filter(t),p.length===0)return{relationCountAttribute:i,results:[]};let b=this.connection.createQueryBuilder(this.queryRunner);return b.select(d+"."+h,"parentId").addSelect("COUNT(*)","cnt").from(c,d).where(d+"."+h+" IN (:...ids)").addGroupBy(d+"."+h).setParameter("ids",p),i.queryBuilderFactory&&i.queryBuilderFactory(b),{relationCountAttribute:i,results:await b.getRawMany()}}else{let s,o,a,c;i.relation.isOwning?(s=i.relation.joinColumns[0].referencedColumn.databaseName,o=i.relation.inverseJoinColumns[0].referencedColumn.databaseName,a=i.relation.junctionEntityMetadata.columns[0],c=i.relation.junctionEntityMetadata.columns[1]):(s=i.relation.inverseRelation.inverseJoinColumns[0].referencedColumn.databaseName,o=i.relation.inverseRelation.joinColumns[0].referencedColumn.databaseName,a=i.relation.junctionEntityMetadata.columns[1],c=i.relation.junctionEntityMetadata.columns[0]);let l=e.map(N=>N[i.parentAlias+"_"+s]).filter(N=>!!N);if(l=l.filter(t),l.length===0)return{relationCountAttribute:i,results:[]};let d=i.junctionAlias,h=i.joinInverseSideMetadata.tableName,p=i.alias||h,b=i.relation.junctionEntityMetadata.tableName,v=d+"."+a.propertyName+" IN ("+l.map(N=>isNaN(N)?"'"+N+"'":N)+") AND "+d+"."+c.propertyName+" = "+p+"."+o,x=this.connection.createQueryBuilder(this.queryRunner);return x.select(d+"."+a.propertyName,"parentId").addSelect("COUNT("+x.escape(p)+"."+x.escape(o)+")","cnt").from(h,p).innerJoin(b,d,v).addGroupBy(d+"."+a.propertyName),i.queryBuilderFactory&&i.queryBuilderFactory(x),{relationCountAttribute:i,results:await x.getRawMany()}}});return Promise.all(r)}},iR=class{constructor(e){this.expressionMap=e}transform(){this.expressionMap.mainAlias&&this.expressionMap.mainAlias.metadata.relationCounts.forEach(e=>{let t=this.metadataToAttribute(this.expressionMap.mainAlias.name,e);this.expressionMap.relationCountAttributes.push(t)}),this.expressionMap.joinAttributes.forEach(e=>{!e.metadata||e.metadata.isJunction||e.metadata.relationCounts.forEach(t=>{let r=this.metadataToAttribute(e.alias.name,t);this.expressionMap.relationCountAttributes.push(r)})})}metadataToAttribute(e,t){return new im(this.expressionMap,{relationName:e+"."+t.relation.propertyName,mapToProperty:e+"."+t.propertyName,alias:t.alias,queryBuilderFactory:t.queryBuilderFactory})}},EE=class{constructor(e){He.assign(this,e||{})}get target(){return this.metadata.target}get hasMetadata(){return!!this._metadata}set metadata(e){this._metadata=e}get metadata(){if(!this._metadata)throw new G(`Cannot get entity metadata for the given alias "${this.name}"`);return this._metadata}},sR=class n{constructor(e){this.connection=e,this.relationLoadStrategy="join",this.queryEntity=!1,this.aliases=[],this.queryType="select",this.selects=[],this.maxExecutionTime=0,this.selectDistinct=!1,this.selectDistinctOn=[],this.extraReturningColumns=[],this.onConflict="",this.onIgnore=!1,this.joinAttributes=[],this.relationIdAttributes=[],this.relationCountAttributes=[],this.wheres=[],this.havings=[],this.orderBys={},this.groupBys=[],this.withDeleted=!1,this.parameters={},this.disableEscaping=!0,this.enableRelationIdValues=!1,this.extraAppendedAndWhereCondition="",this.subQuery=!1,this.aliasNamePrefixingEnabled=!0,this.cache=!1,this.options=[],this.insertColumns=[],this.whereEntities=[],this.updateEntity=!0,this.callListeners=!0,this.useTransaction=!1,this.nativeParameters={},this.locallyGenerated={},this.commonTableExpressions=[],e.options.relationLoadStrategy&&(this.relationLoadStrategy=e.options.relationLoadStrategy)}get allOrderBys(){if(!Object.keys(this.orderBys).length&&this.mainAlias.hasMetadata&&this.options.indexOf("disable-global-order")===-1){let e=this.mainAlias.metadata.orderBy||{};return Object.keys(e).reduce((t,r)=>(t[this.mainAlias.name+"."+r]=e[r],t),{})}return this.orderBys}setMainAlias(e){return this.mainAlias=e,e}createAlias(e){let t=e.name;!t&&e.tablePath&&(t=e.tablePath),!t&&typeof e.target=="function"&&(t=e.target.name),!t&&typeof e.target=="string"&&(t=e.target);let r=new EE;return r.type=e.type,t&&(r.name=t),e.metadata&&(r.metadata=e.metadata),e.target&&!r.hasMetadata&&(r.metadata=this.connection.getMetadata(e.target)),e.tablePath&&(r.tablePath=e.tablePath),e.subQuery&&(r.subQuery=e.subQuery),this.aliases.push(r),r}findAliasByName(e){let t=this.aliases.find(r=>r.name===e);if(!t)throw new G(`"${e}" alias was not found. Maybe you forgot to join it?`);return t}findColumnByAliasExpression(e){let[t,r]=e.split(".");return this.findAliasByName(t).metadata.findColumnWithPropertyName(r)}get relationMetadata(){if(!this.mainAlias)throw new G("Entity to work with is not specified!");let e=this.mainAlias.metadata.findRelationWithPropertyPath(this.relationPropertyPath);if(!e)throw new G(`Relation ${this.relationPropertyPath} was not found in entity ${this.mainAlias.name}`);return e}clone(){let e=new n(this.connection);return e.queryType=this.queryType,e.selects=this.selects.map(t=>t),e.maxExecutionTime=this.maxExecutionTime,e.selectDistinct=this.selectDistinct,e.selectDistinctOn=this.selectDistinctOn,this.aliases.forEach(t=>e.aliases.push(new EE(t))),e.relationLoadStrategy=this.relationLoadStrategy,e.mainAlias=this.mainAlias,e.valuesSet=this.valuesSet,e.returning=this.returning,e.onConflict=this.onConflict,e.onIgnore=this.onIgnore,e.onUpdate=this.onUpdate,e.joinAttributes=this.joinAttributes.map(t=>new vE(this.connection,this,t)),e.relationIdAttributes=this.relationIdAttributes.map(t=>new rm(this,t)),e.relationCountAttributes=this.relationCountAttributes.map(t=>new im(this,t)),e.wheres=this.wheres.map(t=>K({},t)),e.havings=this.havings.map(t=>K({},t)),e.orderBys=Object.assign({},this.orderBys),e.groupBys=this.groupBys.map(t=>t),e.limit=this.limit,e.offset=this.offset,e.skip=this.skip,e.take=this.take,e.lockMode=this.lockMode,e.onLocked=this.onLocked,e.lockVersion=this.lockVersion,e.lockTables=this.lockTables,e.withDeleted=this.withDeleted,e.parameters=Object.assign({},this.parameters),e.disableEscaping=this.disableEscaping,e.enableRelationIdValues=this.enableRelationIdValues,e.extraAppendedAndWhereCondition=this.extraAppendedAndWhereCondition,e.subQuery=this.subQuery,e.aliasNamePrefixingEnabled=this.aliasNamePrefixingEnabled,e.cache=this.cache,e.cacheId=this.cacheId,e.cacheDuration=this.cacheDuration,e.relationPropertyPath=this.relationPropertyPath,e.of=this.of,e.insertColumns=this.insertColumns,e.whereEntities=this.whereEntities,e.updateEntity=this.updateEntity,e.callListeners=this.callListeners,e.useTransaction=this.useTransaction,e.nativeParameters=Object.assign({},this.nativeParameters),e.comment=this.comment,e.commonTableExpressions=this.commonTableExpressions.map(t=>({alias:t.alias,queryBuilder:typeof t.queryBuilder=="string"?t.queryBuilder:t.queryBuilder.clone(),options:t.options})),e}},wE=class{constructor(e){this["@instanceof"]=Symbol.for("Brackets"),this.whereFactory=e}},CE=class{constructor(e,t,r=!0,i=!1,s,o){this["@instanceof"]=Symbol.for("FindOperator"),this._type=e,this._value=t,this._useParameter=r,this._multipleParameters=i,this._getSql=s,this._objectLiteralParameters=o}get useParameter(){return be.isFindOperator(this._value)?this._value.useParameter:this._useParameter}get multipleParameters(){return be.isFindOperator(this._value)?this._value.multipleParameters:this._multipleParameters}get type(){return this._type}get value(){return be.isFindOperator(this._value)?this._value.value:this._value}get objectLiteralParameters(){return be.isFindOperator(this._value)?this._value.objectLiteralParameters:this._objectLiteralParameters}get child(){if(be.isFindOperator(this._value))return this._value}get getSql(){return be.isFindOperator(this._value)?this._value.getSql:this._getSql}};function Eet(n){return new CE("in",n,!0,!0)}var wet=/[.*+\-?^${}()|[\]\\]/g,Cet=n=>n.replace(wet,"\\$&"),uc=class{constructor(e,t){this["@instanceof"]=Symbol.for("QueryBuilder"),this.parameterIndex=0,be.isQueryBuilder(e)?(this.connection=e.connection,this.queryRunner=e.queryRunner,this.expressionMap=e.expressionMap.clone()):(this.connection=e,this.queryRunner=t,this.expressionMap=new sR(this.connection))}get alias(){if(!this.expressionMap.mainAlias)throw new G("Main alias is not set");return this.expressionMap.mainAlias.name}select(e,t){this.expressionMap.queryType="select",Array.isArray(e)?this.expressionMap.selects=e.map(i=>({selection:i})):e&&(this.expressionMap.selects=[{selection:e,aliasName:t}]);let r=Ye.getBy("SelectQueryBuilder");return be.isSelectQueryBuilder(this)?this:new r(this)}insert(){this.expressionMap.queryType="insert";let e=Ye.getBy("InsertQueryBuilder");return be.isInsertQueryBuilder(this)?this:new e(this)}update(e,t){let r=t||e;if(e=be.isEntitySchema(e)?e.options.name:e,typeof e=="function"||typeof e=="string"){let s=this.createFromAlias(e);this.expressionMap.setMainAlias(s)}this.expressionMap.queryType="update",this.expressionMap.valuesSet=r;let i=Ye.getBy("UpdateQueryBuilder");return be.isUpdateQueryBuilder(this)?this:new i(this)}delete(){this.expressionMap.queryType="delete";let e=Ye.getBy("DeleteQueryBuilder");return be.isDeleteQueryBuilder(this)?this:new e(this)}softDelete(){this.expressionMap.queryType="soft-delete";let e=Ye.getBy("SoftDeleteQueryBuilder");return be.isSoftDeleteQueryBuilder(this)?this:new e(this)}restore(){this.expressionMap.queryType="restore";let e=Ye.getBy("SoftDeleteQueryBuilder");return be.isSoftDeleteQueryBuilder(this)?this:new e(this)}relation(e,t){let r=arguments.length===2?e:void 0,i=arguments.length===2?t:e;if(this.expressionMap.queryType="relation",this.expressionMap.relationPropertyPath=i,r){let o=this.createFromAlias(r);this.expressionMap.setMainAlias(o)}let s=Ye.getBy("RelationQueryBuilder");return be.isRelationQueryBuilder(this)?this:new s(this)}hasRelation(e,t){let r=this.connection.getMetadata(e);return(Array.isArray(t)?t:[t]).every(s=>!!r.findRelationWithPropertyPath(s))}hasParameter(e){return this.parentQueryBuilder?.hasParameter(e)||e in this.expressionMap.parameters}setParameter(e,t){if(typeof t=="function")throw new G(`Function parameter isn't supported in the parameters. Please check "${e}" parameter.`);if(!e.match(/^([A-Za-z0-9_.]+)$/))throw new G("QueryBuilder parameter keys may only contain numbers, letters, underscores, or periods.");return this.parentQueryBuilder&&this.parentQueryBuilder.setParameter(e,t),this.expressionMap.parameters[e]=t,this}setParameters(e){for(let[t,r]of Object.entries(e))this.setParameter(t,r);return this}createParameter(e){let t;do t=`orm_param_${this.parameterIndex++}`;while(this.hasParameter(t));return this.setParameter(t,e),`:${t}`}setNativeParameters(e){return this.parentQueryBuilder&&this.parentQueryBuilder.setNativeParameters(e),Object.keys(e).forEach(t=>{this.expressionMap.nativeParameters[t]=e[t]}),this}getParameters(){let e=Object.assign({},this.expressionMap.parameters);if(this.expressionMap.mainAlias&&this.expressionMap.mainAlias.hasMetadata){let t=this.expressionMap.mainAlias.metadata;if(t.discriminatorColumn&&t.parentEntityMetadata){let r=t.childEntityMetadatas.filter(i=>i.discriminatorColumn).map(i=>i.discriminatorValue);r.push(t.discriminatorValue),e.discriminatorColumnValues=r}}return e}printSql(){let[e,t]=this.getQueryAndParameters();return this.connection.logger.logQuery(e,t),this}getSql(){return this.getQueryAndParameters()[0]}getQueryAndParameters(){let e=this.getQuery(),t=this.getParameters();return this.connection.driver.escapeQueryWithParameters(e,t,this.expressionMap.nativeParameters)}async execute(){let[e,t]=this.getQueryAndParameters(),r=this.obtainQueryRunner();try{return await r.query(e,t)}finally{r!==this.queryRunner&&await r.release()}}createQueryBuilder(){return new this.constructor(this.connection,this.queryRunner)}clone(){return new this.constructor(this)}comment(e){return this.expressionMap.comment=e,this}disableEscaping(){return this.expressionMap.disableEscaping=!1,this}escape(e){return this.expressionMap.disableEscaping?this.connection.driver.escape(e):e}setQueryRunner(e){return this.queryRunner=e,this}callListeners(e){return this.expressionMap.callListeners=e,this}useTransaction(e){return this.expressionMap.useTransaction=e,this}addCommonTableExpression(e,t,r){return this.expressionMap.commonTableExpressions.push({queryBuilder:e,alias:t,options:r||{}}),this}getTableName(e){return e.split(".").map(t=>t===""?t:this.escape(t)).join(".")}getMainTableName(){if(!this.expressionMap.mainAlias)throw new G('Entity where values should be inserted is not specified. Call "qb.into(entity)" method to specify it.');return this.expressionMap.mainAlias.hasMetadata?this.expressionMap.mainAlias.metadata.tablePath:this.expressionMap.mainAlias.tablePath}createFromAlias(e,t){if(this.connection.hasMetadata(e)){let r=this.connection.getMetadata(e);return this.expressionMap.createAlias({type:"from",name:t,metadata:this.connection.getMetadata(e),tablePath:r.tablePath})}else{if(typeof e=="string"){let s=e.substr(0,1)==="("&&e.substr(-1)===")";return this.expressionMap.createAlias({type:"from",name:t,tablePath:s?void 0:e,subQuery:s?e:void 0})}let r=e(this.subQuery());this.setParameters(r.getParameters());let i=r.getQuery();return this.expressionMap.createAlias({type:"from",name:t,subQuery:i})}}replacePropertyNames(e){for(let t of this.expressionMap.aliases){if(!t.hasMetadata)continue;let r=this.expressionMap.aliasNamePrefixingEnabled?`${t.name}.`:"",i=this.expressionMap.aliasNamePrefixingEnabled?`${this.escape(t.name)}.`:"",s={};for(let o of t.metadata.relations)o.joinColumns.length>0&&(s[o.propertyPath]=o.joinColumns[0].databaseName);for(let o of t.metadata.relations)for(let a of[...o.joinColumns,...o.inverseJoinColumns]){let c=`${o.propertyPath}.${a.referencedColumn.propertyPath}`;s[c]=a.databaseName}for(let o of t.metadata.columns)s[o.databaseName]=o.databaseName;for(let o of t.metadata.columns)s[o.propertyName]=o.databaseName;for(let o of t.metadata.columns)s[o.propertyPath]=o.databaseName;e=e.replace(new RegExp(`([ =(]|^.{0})${Cet(r)}([^ =(),]+)(?=[ =),]|.{0}$)`,"gm"),(o,a,c)=>s[c]?`${a}${i}${this.escape(s[c])}`:o)}return e}createComment(){return this.expressionMap.comment?`/* ${this.expressionMap.comment.replace("*/","")} */ `:""}createWhereExpression(){let e=[],t=this.createWhereClausesExpression(this.expressionMap.wheres);if(t.length>0&&t!=="1=1"&&e.push(this.replacePropertyNames(t)),this.expressionMap.mainAlias.hasMetadata){let r=this.expressionMap.mainAlias.metadata;if(this.expressionMap.queryType==="select"&&!this.expressionMap.withDeleted&&r.deleteDateColumn){let i=this.expressionMap.aliasNamePrefixingEnabled?this.expressionMap.mainAlias.name+"."+r.deleteDateColumn.propertyName:r.deleteDateColumn.propertyName,s=`${this.replacePropertyNames(i)} IS NULL`;e.push(s)}if(r.discriminatorColumn&&r.parentEntityMetadata){let i=this.expressionMap.aliasNamePrefixingEnabled?this.expressionMap.mainAlias.name+"."+r.discriminatorColumn.databaseName:r.discriminatorColumn.databaseName,s=`${this.replacePropertyNames(i)} IN (:...discriminatorColumnValues)`;e.push(s)}}if(this.expressionMap.extraAppendedAndWhereCondition){let r=this.replacePropertyNames(this.expressionMap.extraAppendedAndWhereCondition);e.push(r)}return e.length?e.length===1?` WHERE ${e[0]}`:` WHERE ( ${e.join(" ) AND ( ")} )`:""}createReturningExpression(e){let t=this.getReturningColumns(),r=this.connection.driver;return typeof this.expressionMap.returning!="string"&&this.expressionMap.extraReturningColumns.length>0&&r.isReturningSqlSupported(e)&&t.push(...this.expressionMap.extraReturningColumns.filter(i=>t.indexOf(i)===-1)),t.length?t.map(s=>{let o=this.escape(s.databaseName);return r.options.type==="mssql"?this.expressionMap.queryType==="insert"||this.expressionMap.queryType==="update"||this.expressionMap.queryType==="soft-delete"||this.expressionMap.queryType==="restore"?"INSERTED."+o:this.escape(this.getMainTableName())+"."+o:o}).join(", "):typeof this.expressionMap.returning=="string"?this.expressionMap.returning:""}getReturningColumns(){let e=[];return Array.isArray(this.expressionMap.returning)&&this.expressionMap.returning.forEach(t=>{this.expressionMap.mainAlias.hasMetadata&&e.push(...this.expressionMap.mainAlias.metadata.findColumnsWithPropertyPath(t))}),e}createWhereClausesExpression(e){return e.map((t,r)=>{let i=this.createWhereConditionExpression(t.condition);switch(t.type){case"and":return(r>0?"AND ":"")+i;case"or":return(r>0?"OR ":"")+i}return i}).join(" ").trim()}createWhereConditionExpression(e,t=!1){if(typeof e=="string")return e;if(Array.isArray(e))return e.length===0?"1=1":e.length===1&&!t?this.createWhereClausesExpression(e):"("+this.createWhereClausesExpression(e)+")";let{driver:r}=this.connection;switch(e.operator){case"lessThan":return`${e.parameters[0]} < ${e.parameters[1]}`;case"lessThanOrEqual":return`${e.parameters[0]} <= ${e.parameters[1]}`;case"arrayContains":return`${e.parameters[0]} @> ${e.parameters[1]}`;case"arrayContainedBy":return`${e.parameters[0]} <@ ${e.parameters[1]}`;case"arrayOverlap":return`${e.parameters[0]} && ${e.parameters[1]}`;case"moreThan":return`${e.parameters[0]} > ${e.parameters[1]}`;case"moreThanOrEqual":return`${e.parameters[0]} >= ${e.parameters[1]}`;case"notEqual":return`${e.parameters[0]} != ${e.parameters[1]}`;case"equal":return`${e.parameters[0]} = ${e.parameters[1]}`;case"ilike":return r.options.type==="postgres"||r.options.type==="cockroachdb"?`${e.parameters[0]} ILIKE ${e.parameters[1]}`:`UPPER(${e.parameters[0]}) LIKE UPPER(${e.parameters[1]})`;case"like":return`${e.parameters[0]} LIKE ${e.parameters[1]}`;case"between":return`${e.parameters[0]} BETWEEN ${e.parameters[1]} AND ${e.parameters[2]}`;case"in":return e.parameters.length<=1?"0=1":`${e.parameters[0]} IN (${e.parameters.slice(1).join(", ")})`;case"any":return`${e.parameters[0]} = ANY(${e.parameters[1]})`;case"isNull":return`${e.parameters[0]} IS NULL`;case"not":return`NOT(${this.createWhereConditionExpression(e.condition)})`;case"brackets":return`${this.createWhereConditionExpression(e.condition,!0)}`}throw new TypeError(`Unsupported FindOperator ${CE.constructor.name}`)}createCteExpression(){if(!this.hasCommonTableExpressions())return"";let e=this.connection.driver.cteCapabilities.requiresRecursiveHint;return"WITH "+this.expressionMap.commonTableExpressions.map(r=>{let i=typeof r.queryBuilder=="string"?r.queryBuilder:r.queryBuilder.getQuery();if(typeof r.queryBuilder!="string"){if(r.queryBuilder.hasCommonTableExpressions())throw new G(`Nested CTEs aren't supported (CTE: ${r.alias})`);if(!this.connection.driver.cteCapabilities.writable&&!be.isSelectQueryBuilder(r.queryBuilder))throw new G(`Only select queries are supported in CTEs in ${this.connection.options.type} (CTE: ${r.alias})`);this.setParameters(r.queryBuilder.getParameters())}let s=this.escape(r.alias);if(r.options.columnNames){let c=r.options.columnNames.map(l=>this.escape(l));if(be.isSelectQueryBuilder(r.queryBuilder)&&r.queryBuilder.expressionMap.selects.length&&r.options.columnNames.length!==r.queryBuilder.expressionMap.selects.length)throw new G(`cte.options.columnNames length (${r.options.columnNames.length}) doesn't match subquery select list length ${r.queryBuilder.expressionMap.selects.length} (CTE: ${r.alias})`);s+=`(${c.join(", ")})`}let o=r.options.recursive&&e?"RECURSIVE":"",a=r.options.materialized&&this.connection.driver.cteCapabilities.materializedHint?"MATERIALIZED":"";return[o,s,a,"AS",`(${i})`].filter(Boolean).join(" ")}).join(", ")+" "}getWhereInIdsCondition(e){let t=this.expressionMap.mainAlias.metadata,r=(Array.isArray(e)?e:[e]).map(i=>t.ensureEntityIdMap(i));if(!t.hasMultiplePrimaryKeys){let i=t.primaryColumns[0];if(!i.transformer&&!i.relationMetadata&&!i.embeddedMetadata)return{[i.propertyName]:Eet(r.map(s=>i.getEntityValue(s,!1)))}}return new wE(i=>{for(let s of r)i.orWhere(new wE(o=>o.where(s)))})}findColumnsForPropertyPath(e){let t=this.expressionMap.mainAlias,r=[],i=e.split(".");for(;i.length>1;){let a=i[0];if(!t?.hasMetadata)break;if(t.metadata.hasEmbeddedWithPropertyPath(a)){i.unshift(`${i.shift()}.${i.shift()}`);continue}if(t.metadata.hasRelationWithPropertyPath(a)){let c=this.expressionMap.joinAttributes.find(l=>l.relationPropertyPath===a);if(!c?.alias){let l=r.length>0?`${r.join(".")}.${a}`:a;throw new Error(`Cannot find alias for relation at ${l}`)}t=c.alias,r.push(...a.split(".")),i.shift();continue}break}if(!t)throw new Error(`Cannot find alias for property ${e}`);let s=i.join("."),o=t.metadata.findColumnsWithPropertyPath(s);if(!o.length)throw new So(e,t.metadata);return[t,r,o]}createPropertyPath(e,t,r=""){let i=[];for(let s of Object.keys(t)){let o=r?`${r}.${s}`:s;if(t[s]===null||typeof t[s]!="object"||be.isFindOperator(t[s])){i.push(o);continue}if(e.hasEmbeddedWithPropertyPath(o)){let a=this.createPropertyPath(e,t[s],o);i.push(...a);continue}if(e.hasRelationWithPropertyPath(o)){let a=e.findRelationWithPropertyPath(o);if(a.relationType==="one-to-one"||a.relationType==="many-to-one"){let h=a.joinColumns.map(b=>b.referencedColumn).filter(b=>!!b);if(h.length>0&&h.every(b=>b.getEntityValue(t[s],!1))){i.push(o);continue}}if(a.relationType==="one-to-many"||a.relationType==="many-to-many")throw new Error(`Cannot query across ${a.relationType} for property ${o}`);let c=a.inverseEntityMetadata.primaryColumns;if(c.length>0&&c.every(h=>h.getEntityValue(t[s],!1))){let h=c.map(p=>`${o}.${p.propertyPath}`);i.push(...h);continue}let d=this.createPropertyPath(a.inverseEntityMetadata,t[s]).map(h=>`${o}.${h}`);i.push(...d);continue}i.push(o)}return i}*getPredicates(e){if(this.expressionMap.mainAlias.hasMetadata){let t=this.createPropertyPath(this.expressionMap.mainAlias.metadata,e);for(let r of t){let[i,s,o]=this.findColumnsForPropertyPath(r);for(let a of o){let c=e;for(let h of s){if(!c||!(h in c)){c={};break}c=c[h]}let l=this.expressionMap.aliasNamePrefixingEnabled?`${i.name}.${a.propertyPath}`:a.propertyPath,d=a.getEntityValue(c,!0);yield[l,d]}}}else for(let t of Object.keys(e)){let r=e[t];yield[this.expressionMap.aliasNamePrefixingEnabled?`${this.alias}.${t}`:t,r]}}getWherePredicateCondition(e,t){if(be.isFindOperator(t)){let r=[];if(t.useParameter)if(t.objectLiteralParameters)this.setParameters(t.objectLiteralParameters);else if(t.multipleParameters)for(let i of t.value)r.push(this.createParameter(i));else r.push(this.createParameter(t.value));return t.type==="raw"?t.getSql?t.getSql(e):{operator:"equal",parameters:[e,t.value]}:t.type==="not"?t.child?{operator:t.type,condition:this.getWherePredicateCondition(e,t.child)}:{operator:"notEqual",parameters:[e,...r]}:{operator:t.type,parameters:[e,...r]}}else return{operator:"equal",parameters:[e,this.createParameter(t)]}}getWhereCondition(e){if(typeof e=="string")return e;if(be.isBrackets(e)){let i=this.createQueryBuilder();return i.parentQueryBuilder=this,i.expressionMap.mainAlias=this.expressionMap.mainAlias,i.expressionMap.aliasNamePrefixingEnabled=this.expressionMap.aliasNamePrefixingEnabled,i.expressionMap.parameters=this.expressionMap.parameters,i.expressionMap.nativeParameters=this.expressionMap.nativeParameters,i.expressionMap.wheres=[],e.whereFactory(i),{operator:be.isNotBrackets(e)?"not":"brackets",condition:i.expressionMap.wheres}}if(typeof e=="function")return e(this);let t=Array.isArray(e)?e:[e],r=[];for(let i of t){let s=[];for(let[o,a]of this.getPredicates(i))s.push({type:"and",condition:this.getWherePredicateCondition(o,a)});r.push({type:"or",condition:s})}return r.length===1?r[0].condition:r}obtainQueryRunner(){return this.queryRunner||this.connection.createQueryRunner()}hasCommonTableExpressions(){return this.expressionMap.commonTableExpressions.length>0}},oR,Zp=oR=class extends uc{constructor(){super(...arguments),this["@instanceof"]=Symbol.for("SelectQueryBuilder"),this.findOptions={},this.selects=[],this.joins=[],this.conditions="",this.orderBys=[],this.relationMetadatas=[]}getQuery(){let e=this.createComment();return e+=this.createCteExpression(),e+=this.createSelectExpression(),e+=this.createJoinExpression(),e+=this.createWhereExpression(),e+=this.createGroupByExpression(),e+=this.createHavingExpression(),e+=this.createOrderByExpression(),e+=this.createLimitOffsetExpression(),e+=this.createLockExpression(),e=e.trim(),this.expressionMap.subQuery&&(e="("+e+")"),e}setFindOptions(e){return this.findOptions=e,this.applyFindOptions(),this}subQuery(){let e=this.createQueryBuilder();return e.expressionMap.subQuery=!0,e.parentQueryBuilder=this,e}select(e,t){if(this.expressionMap.queryType="select",Array.isArray(e))this.expressionMap.selects=e.map(r=>({selection:r}));else if(typeof e=="function"){let r=e(this.subQuery());this.setParameters(r.getParameters()),this.expressionMap.selects.push({selection:r.getQuery(),aliasName:t})}else e&&(this.expressionMap.selects=[{selection:e,aliasName:t}]);return this}addSelect(e,t){if(!e)return this;if(Array.isArray(e))this.expressionMap.selects=this.expressionMap.selects.concat(e.map(r=>({selection:r})));else if(typeof e=="function"){let r=e(this.subQuery());this.setParameters(r.getParameters()),this.expressionMap.selects.push({selection:r.getQuery(),aliasName:t})}else e&&this.expressionMap.selects.push({selection:e,aliasName:t});return this}maxExecutionTime(e){return this.expressionMap.maxExecutionTime=e,this}distinct(e=!0){return this.expressionMap.selectDistinct=e,this}distinctOn(e){return this.expressionMap.selectDistinctOn=e,this}from(e,t){let r=this.createFromAlias(e,t);return this.expressionMap.setMainAlias(r),this}addFrom(e,t){let r=this.createFromAlias(e,t);return this.expressionMap.mainAlias||this.expressionMap.setMainAlias(r),this}innerJoin(e,t,r,i){return this.join("INNER",e,t,r,i),this}leftJoin(e,t,r,i){return this.join("LEFT",e,t,r,i),this}innerJoinAndSelect(e,t,r,i){return this.addSelect(t),this.innerJoin(e,t,r,i),this}leftJoinAndSelect(e,t,r,i){return this.addSelect(t),this.leftJoin(e,t,r,i),this}innerJoinAndMapMany(e,t,r,i,s){return this.addSelect(r),this.join("INNER",t,r,i,s,e,!0),this}innerJoinAndMapOne(e,t,r,i,s){return this.addSelect(r),this.join("INNER",t,r,i,s,e,!1),this}leftJoinAndMapMany(e,t,r,i,s){return this.addSelect(r),this.join("LEFT",t,r,i,s,e,!0),this}leftJoinAndMapOne(e,t,r,i,s){return this.addSelect(r),this.join("LEFT",t,r,i,s,e,!1),this}loadRelationIdAndMap(e,t,r,i){let s=new rm(this.expressionMap);return s.mapToProperty=e,s.relationName=t,typeof r=="string"&&(s.alias=r),typeof r=="object"&&r.disableMixedMap&&(s.disableMixedMap=!0),s.queryBuilderFactory=i,this.expressionMap.relationIdAttributes.push(s),s.relation.junctionEntityMetadata&&this.expressionMap.createAlias({type:"other",name:s.junctionAlias,metadata:s.relation.junctionEntityMetadata}),this}loadRelationCountAndMap(e,t,r,i){let s=new im(this.expressionMap);return s.mapToProperty=e,s.relationName=t,s.alias=r,s.queryBuilderFactory=i,this.expressionMap.relationCountAttributes.push(s),this.expressionMap.createAlias({type:"other",name:s.junctionAlias}),s.relation.junctionEntityMetadata&&this.expressionMap.createAlias({type:"other",name:s.junctionAlias,metadata:s.relation.junctionEntityMetadata}),this}loadAllRelationIds(e){return this.expressionMap.mainAlias.metadata.relations.forEach(t=>{e!==void 0&&e.relations!==void 0&&e.relations.indexOf(t.propertyPath)===-1||this.loadRelationIdAndMap(this.expressionMap.mainAlias.name+"."+t.propertyPath,this.expressionMap.mainAlias.name+"."+t.propertyPath,e)}),this}where(e,t){this.expressionMap.wheres=[];let r=this.getWhereCondition(e);return r&&(this.expressionMap.wheres=[{type:"simple",condition:r}]),t&&this.setParameters(t),this}andWhere(e,t){return this.expressionMap.wheres.push({type:"and",condition:this.getWhereCondition(e)}),t&&this.setParameters(t),this}orWhere(e,t){return this.expressionMap.wheres.push({type:"or",condition:this.getWhereCondition(e)}),t&&this.setParameters(t),this}whereInIds(e){return this.where(this.getWhereInIdsCondition(e))}andWhereInIds(e){return this.andWhere(this.getWhereInIdsCondition(e))}orWhereInIds(e){return this.orWhere(this.getWhereInIdsCondition(e))}having(e,t){return this.expressionMap.havings.push({type:"simple",condition:e}),t&&this.setParameters(t),this}andHaving(e,t){return this.expressionMap.havings.push({type:"and",condition:e}),t&&this.setParameters(t),this}orHaving(e,t){return this.expressionMap.havings.push({type:"or",condition:e}),t&&this.setParameters(t),this}groupBy(e){return e?this.expressionMap.groupBys=[e]:this.expressionMap.groupBys=[],this}addGroupBy(e){return this.expressionMap.groupBys.push(e),this}orderBy(e,t="ASC",r){if(t!==void 0&&t!=="ASC"&&t!=="DESC")throw new G('SelectQueryBuilder.addOrderBy "order" can accept only "ASC" and "DESC" values.');if(r!==void 0&&r!=="NULLS FIRST"&&r!=="NULLS LAST")throw new G('SelectQueryBuilder.addOrderBy "nulls" can accept only "NULLS FIRST" and "NULLS LAST" values.');return e?typeof e=="object"?this.expressionMap.orderBys=e:r?this.expressionMap.orderBys={[e]:{order:t,nulls:r}}:this.expressionMap.orderBys={[e]:t}:this.expressionMap.orderBys={},this}addOrderBy(e,t="ASC",r){if(t!==void 0&&t!=="ASC"&&t!=="DESC")throw new G('SelectQueryBuilder.addOrderBy "order" can accept only "ASC" and "DESC" values.');if(r!==void 0&&r!=="NULLS FIRST"&&r!=="NULLS LAST")throw new G('SelectQueryBuilder.addOrderBy "nulls" can accept only "NULLS FIRST" and "NULLS LAST" values.');return r?this.expressionMap.orderBys[e]={order:t,nulls:r}:this.expressionMap.orderBys[e]=t,this}limit(e){if(this.expressionMap.limit=this.normalizeNumber(e),this.expressionMap.limit!==void 0&&isNaN(this.expressionMap.limit))throw new G('Provided "limit" value is not a number. Please provide a numeric value.');return this}offset(e){if(this.expressionMap.offset=this.normalizeNumber(e),this.expressionMap.offset!==void 0&&isNaN(this.expressionMap.offset))throw new G('Provided "offset" value is not a number. Please provide a numeric value.');return this}take(e){if(this.expressionMap.take=this.normalizeNumber(e),this.expressionMap.take!==void 0&&isNaN(this.expressionMap.take))throw new G('Provided "take" value is not a number. Please provide a numeric value.');return this}skip(e){if(this.expressionMap.skip=this.normalizeNumber(e),this.expressionMap.skip!==void 0&&isNaN(this.expressionMap.skip))throw new G('Provided "skip" value is not a number. Please provide a numeric value.');return this}useIndex(e){return this.expressionMap.useIndex=e,this}setLock(e,t,r){return this.expressionMap.lockMode=e,this.expressionMap.lockVersion=t,this.expressionMap.lockTables=r,this}setOnLocked(e){return this.expressionMap.onLocked=e,this}withDeleted(){return this.expressionMap.withDeleted=!0,this}async getRawOne(){return(await this.getRawMany())[0]}async getRawMany(){if(this.expressionMap.lockMode==="optimistic")throw new Bd;this.expressionMap.queryEntity=!1;let e=this.obtainQueryRunner(),t=!1;try{this.expressionMap.useTransaction===!0&&e.isTransactionActive===!1&&(await e.startTransaction(),t=!0);let r=await this.loadRawResults(e);return t&&await e.commitTransaction(),r}catch(r){if(t)try{await e.rollbackTransaction()}catch{}throw r}finally{e!==this.queryRunner&&await e.release()}}async getRawAndEntities(){let e=this.obtainQueryRunner(),t=!1;try{this.expressionMap.useTransaction===!0&&e.isTransactionActive===!1&&(await e.startTransaction(),t=!0),this.expressionMap.queryEntity=!0;let r=await this.executeEntitiesAndRawResults(e);return t&&await e.commitTransaction(),r}catch(r){if(t)try{await e.rollbackTransaction()}catch{}throw r}finally{e!==this.queryRunner&&await e.release()}}async getOne(){let t=(await this.getRawAndEntities()).entities[0];if(t&&this.expressionMap.lockMode==="optimistic"&&this.expressionMap.lockVersion){let r=this.expressionMap.mainAlias.metadata;if(this.expressionMap.lockVersion instanceof Date){let i=r.updateDateColumn.getEntityValue(t);if(i.getTime()!==this.expressionMap.lockVersion.getTime())throw new nE(r.name,this.expressionMap.lockVersion,i)}else{let i=r.versionColumn.getEntityValue(t);if(i!==this.expressionMap.lockVersion)throw new nE(r.name,this.expressionMap.lockVersion,i)}}return t===void 0?null:t}async getOneOrFail(){let e=await this.getOne();if(!e)throw new em(this.expressionMap.mainAlias.target,this);return e}async getMany(){if(this.expressionMap.lockMode==="optimistic")throw new Bd;return(await this.getRawAndEntities()).entities}async getCount(){if(this.expressionMap.lockMode==="optimistic")throw new Bd;let e=this.obtainQueryRunner(),t=!1;try{this.expressionMap.useTransaction===!0&&e.isTransactionActive===!1&&(await e.startTransaction(),t=!0),this.expressionMap.queryEntity=!1;let r=await this.executeCountQuery(e);return t&&await e.commitTransaction(),r}catch(r){if(t)try{await e.rollbackTransaction()}catch{}throw r}finally{e!==this.queryRunner&&await e.release()}}async getManyAndCount(){if(this.expressionMap.lockMode==="optimistic")throw new Bd;let e=this.obtainQueryRunner(),t=!1;try{this.expressionMap.useTransaction===!0&&e.isTransactionActive===!1&&(await e.startTransaction(),t=!0),this.expressionMap.queryEntity=!0;let r=await this.executeEntitiesAndRawResults(e);this.expressionMap.queryEntity=!1;let i=this.expressionMap.cacheId;this.expressionMap.cacheId=i&&`${i}-count`;let s=await this.executeCountQuery(e),o=[r.entities,s];return t&&await e.commitTransaction(),o}catch(r){if(t)try{await e.rollbackTransaction()}catch{}throw r}finally{e!==this.queryRunner&&await e.release()}}cache(e,t){return typeof e=="boolean"?this.expressionMap.cache=e:typeof e=="number"?(this.expressionMap.cache=!0,this.expressionMap.cacheDuration=e):(typeof e=="string"||typeof e=="number")&&(this.expressionMap.cache=!0,this.expressionMap.cacheId=e),t&&(this.expressionMap.cacheDuration=t),this}setOption(e){return this.expressionMap.options.push(e),this}join(e,t,r,i,s,o,a){this.setParameters(s||{});let c=new vE(this.connection,this.expressionMap);if(c.direction=e,c.mapToProperty=o,c.isMappingMany=a,c.entityOrProperty=t,c.condition=i||void 0,this.expressionMap.joinAttributes.push(c),c.metadata){if(c.metadata.deleteDateColumn&&!this.expressionMap.withDeleted){let l=`${r}.${c.metadata.deleteDateColumn.propertyName} IS NULL`;c.condition=c.condition?` ${c.condition} AND ${l}`:`${l}`}c.alias=this.expressionMap.createAlias({type:"join",name:r,metadata:c.metadata}),c.relation&&c.relation.junctionEntityMetadata&&this.expressionMap.createAlias({type:"join",name:c.junctionAlias,metadata:c.relation.junctionEntityMetadata})}else{let l="";if(typeof t=="function"){let h=t(this.subQuery());this.setParameters(h.getParameters()),l=h.getQuery()}else l=t;let d=typeof t=="function"||t.substr(0,1)==="("&&t.substr(-1)===")";c.alias=this.expressionMap.createAlias({type:"join",name:r,tablePath:d===!1?t:void 0,subQuery:d===!0?l:void 0})}}createSelectExpression(){if(!this.expressionMap.mainAlias)throw new G("Cannot build query because main alias is not set (call qb#from method)");let e=[],t=[];if(this.expressionMap.mainAlias.hasMetadata){let a=this.expressionMap.mainAlias.metadata;e.push(...this.buildEscapedEntityColumnSelects(this.expressionMap.mainAlias.name,a)),t.push(...this.findEntityColumnSelects(this.expressionMap.mainAlias.name,a))}this.expressionMap.joinAttributes.forEach(a=>{if(a.metadata)e.push(...this.buildEscapedEntityColumnSelects(a.alias.name,a.metadata)),t.push(...this.findEntityColumnSelects(a.alias.name,a.metadata));else if(this.expressionMap.selects.some(l=>l.selection===a.alias.name)){e.push({selection:this.escape(a.alias.name)+".*"});let l=this.expressionMap.selects.find(d=>d.selection===a.alias.name);t.push(l)}}),this.expressionMap.selects.filter(a=>t.indexOf(a)===-1).forEach(a=>e.push({selection:this.replacePropertyNames(a.selection),aliasName:a.aliasName})),e.length===0&&e.push({selection:"*"});let r="";this.expressionMap.useIndex&&De.isMySQLFamily(this.connection.driver)&&(r=` USE INDEX (${this.expressionMap.useIndex})`);let i=this.expressionMap.aliases.filter(a=>a.type==="from"&&(a.tablePath||a.subQuery)).map(a=>a.subQuery?a.subQuery+" "+this.escape(a.name):this.getTableName(a.tablePath)+" "+this.escape(a.name)),s=this.createSelectDistinctExpression(),o=e.map(a=>a.selection+(a.aliasName?" AS "+this.escape(a.aliasName):"")).join(", ");return s+o+" FROM "+i.join(", ")+this.createTableLockExpression()+r}createSelectDistinctExpression(){let{selectDistinct:e,selectDistinctOn:t,maxExecutionTime:r}=this.expressionMap,{driver:i}=this.connection,s="SELECT ";return r>0&&De.isMySQLFamily(i)&&(s+=`/*+ MAX_EXECUTION_TIME(${this.expressionMap.maxExecutionTime}) */ `),De.isPostgresFamily(i)&&t.length>0?s=`SELECT DISTINCT ON (${t.map(a=>this.replacePropertyNames(a)).join(", ")}) `:e&&(s="SELECT DISTINCT "),s}createJoinExpression(){return this.expressionMap.joinAttributes.map(t=>{let r=t.relation,i=t.tablePath,s=t.alias.name,o=t.condition?" AND ("+t.condition+")":"",a=t.parentAlias;if(!a||!r){let c=t.alias.subQuery?t.alias.subQuery:this.getTableName(i);return" "+t.direction+" JOIN "+c+" "+this.escape(s)+this.createTableLockExpression()+(t.condition?" ON "+this.replacePropertyNames(t.condition):"")}if(r.isManyToOne||r.isOneToOneOwner){let c=r.joinColumns.map(l=>s+"."+l.referencedColumn.propertyPath+"="+a+"."+r.propertyPath+"."+l.referencedColumn.propertyPath).join(" AND ");return" "+t.direction+" JOIN "+this.getTableName(i)+" "+this.escape(s)+this.createTableLockExpression()+" ON "+this.replacePropertyNames(c+o)}else if(r.isOneToMany||r.isOneToOneNotOwner){let c=r.inverseRelation.joinColumns.map(l=>(r.inverseEntityMetadata.tableType==="entity-child"&&r.inverseEntityMetadata.discriminatorColumn&&(o+=" AND "+s+"."+r.inverseEntityMetadata.discriminatorColumn.databaseName+"='"+r.inverseEntityMetadata.discriminatorValue+"'"),s+"."+r.inverseRelation.propertyPath+"."+l.referencedColumn.propertyPath+"="+a+"."+l.referencedColumn.propertyPath)).join(" AND ");return" "+t.direction+" JOIN "+this.getTableName(i)+" "+this.escape(s)+this.createTableLockExpression()+" ON "+this.replacePropertyNames(c+o)}else{let c=r.junctionEntityMetadata.tablePath,l=t.junctionAlias,d="",h="";return r.isOwning?(d=r.joinColumns.map(p=>l+"."+p.propertyPath+"="+a+"."+p.referencedColumn.propertyPath).join(" AND "),h=r.inverseJoinColumns.map(p=>s+"."+p.referencedColumn.propertyPath+"="+l+"."+p.propertyPath).join(" AND ")):(d=r.inverseRelation.inverseJoinColumns.map(p=>l+"."+p.propertyPath+"="+a+"."+p.referencedColumn.propertyPath).join(" AND "),h=r.inverseRelation.joinColumns.map(p=>s+"."+p.referencedColumn.propertyPath+"="+l+"."+p.propertyPath).join(" AND "))," "+t.direction+" JOIN "+this.getTableName(c)+" "+this.escape(l)+this.createTableLockExpression()+" ON "+this.replacePropertyNames(d)+" "+t.direction+" JOIN "+this.getTableName(i)+" "+this.escape(s)+this.createTableLockExpression()+" ON "+this.replacePropertyNames(h+o)}}).join(" ")}createGroupByExpression(){return!this.expressionMap.groupBys||!this.expressionMap.groupBys.length?"":" GROUP BY "+this.replacePropertyNames(this.expressionMap.groupBys.join(", "))}createOrderByExpression(){let e=this.expressionMap.allOrderBys;return Object.keys(e).length>0?" ORDER BY "+Object.keys(e).map(t=>typeof e[t]=="string"?this.replacePropertyNames(t)+" "+e[t]:this.replacePropertyNames(t)+" "+e[t].order+" "+e[t].nulls).join(", "):""}createLimitOffsetExpression(){let e=this.expressionMap.offset,t=this.expressionMap.limit;if(!e&&!t&&this.expressionMap.joinAttributes.length===0&&(e=this.expressionMap.skip,t=this.expressionMap.take),this.connection.driver.options.type==="mssql"){let r="";if((t||e)&&Object.keys(this.expressionMap.allOrderBys).length<=0&&(r=" ORDER BY (SELECT NULL)"),t&&e)return r+" OFFSET "+e+" ROWS FETCH NEXT "+t+" ROWS ONLY";if(t)return r+" OFFSET 0 ROWS FETCH NEXT "+t+" ROWS ONLY";if(e)return r+" OFFSET "+e+" ROWS"}else if(De.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"||this.connection.driver.options.type==="sap"||this.connection.driver.options.type==="spanner"){if(t&&e)return" LIMIT "+t+" OFFSET "+e;if(t)return" LIMIT "+t;if(e)throw new mM}else if(De.isSQLiteFamily(this.connection.driver)){if(t&&e)return" LIMIT "+t+" OFFSET "+e;if(t)return" LIMIT "+t;if(e)return" LIMIT -1 OFFSET "+e}else if(this.connection.driver.options.type==="oracle"){if(t&&e)return" OFFSET "+e+" ROWS FETCH NEXT "+t+" ROWS ONLY";if(t)return" FETCH NEXT "+t+" ROWS ONLY";if(e)return" OFFSET "+e+" ROWS"}else{if(t&&e)return" LIMIT "+t+" OFFSET "+e;if(t)return" LIMIT "+t;if(e)return" OFFSET "+e}return""}createTableLockExpression(){if(this.connection.driver.options.type==="mssql")switch(this.expressionMap.lockMode){case"pessimistic_read":return" WITH (HOLDLOCK, ROWLOCK)";case"pessimistic_write":return" WITH (UPDLOCK, ROWLOCK)";case"dirty_read":return" WITH (NOLOCK)"}return""}createLockExpression(){let e=this.connection.driver,t="";if(this.expressionMap.lockTables){if(!(De.isPostgresFamily(e)||e.options.type==="cockroachdb"))throw new G("Lock tables not supported in selected driver");if(this.expressionMap.lockTables.length<1)throw new G("lockTables cannot be an empty array");t=" OF "+this.expressionMap.lockTables.join(", ")}let r="";switch(this.expressionMap.onLocked==="nowait"?r=" NOWAIT":this.expressionMap.onLocked==="skip_locked"&&(r=" SKIP LOCKED"),this.expressionMap.lockMode){case"pessimistic_read":if(e.options.type==="mysql"||e.options.type==="aurora-mysql")return De.isReleaseVersionOrGreater(e,"8.0.0")?" FOR SHARE"+t+r:" LOCK IN SHARE MODE";if(e.options.type==="mariadb")return" LOCK IN SHARE MODE";if(De.isPostgresFamily(e))return" FOR SHARE"+t+r;if(e.options.type==="oracle")return" FOR UPDATE";if(e.options.type==="mssql")return"";throw new oc;case"pessimistic_write":if(De.isMySQLFamily(e)||e.options.type==="aurora-mysql"||e.options.type==="oracle")return" FOR UPDATE"+r;if(De.isPostgresFamily(e)||e.options.type==="cockroachdb")return" FOR UPDATE"+t+r;if(e.options.type==="mssql")return"";throw new oc;case"pessimistic_partial_write":if(De.isPostgresFamily(e))return" FOR UPDATE"+t+" SKIP LOCKED";if(De.isMySQLFamily(e))return" FOR UPDATE SKIP LOCKED";throw new oc;case"pessimistic_write_or_fail":if(De.isPostgresFamily(e)||e.options.type==="cockroachdb")return" FOR UPDATE"+t+" NOWAIT";if(De.isMySQLFamily(e))return" FOR UPDATE NOWAIT";throw new oc;case"for_no_key_update":if(De.isPostgresFamily(e)||e.options.type==="cockroachdb")return" FOR NO KEY UPDATE"+t+r;throw new oc;case"for_key_share":if(De.isPostgresFamily(e))return" FOR KEY SHARE"+t+r;throw new oc;default:return""}}createHavingExpression(){if(!this.expressionMap.havings||!this.expressionMap.havings.length)return"";let e=this.expressionMap.havings.map((t,r)=>{switch(t.type){case"and":return(r>0?"AND ":"")+this.replacePropertyNames(t.condition);case"or":return(r>0?"OR ":"")+this.replacePropertyNames(t.condition);default:return this.replacePropertyNames(t.condition)}}).join(" ");return e.length?" HAVING "+e:""}buildEscapedEntityColumnSelects(e,t){let r=this.expressionMap.selects.some(l=>l.selection===e),i=[];if(r&&i.push(...t.columns.filter(l=>l.isSelect===!0)),i.push(...t.columns.filter(l=>this.expressionMap.selects.some(d=>d.selection===e+"."+l.propertyPath))),i.length===0)return[];let s=this.expressionMap.queryEntity?t.primaryColumns.filter(l=>i.indexOf(l)===-1):[],o=[...i,...s],a=[],c=this.escape(e);return o.forEach(l=>{let d=c+"."+this.escape(l.databaseName);l.isVirtualProperty&&l.query&&(d=`(${l.query(c)})`),this.connection.driver.spatialTypes.indexOf(l.type);let h=this.expressionMap.selects.filter(p=>p.selection===e+"."+l.propertyPath);h.length?h.forEach(p=>{a.push({selection:d,aliasName:p.aliasName?p.aliasName:De.buildAlias(this.connection.driver,e,l.databaseName),virtual:p.virtual})}):a.push({selection:d,aliasName:De.buildAlias(this.connection.driver,e,l.databaseName),virtual:r})}),a}findEntityColumnSelects(e,t){let r=this.expressionMap.selects.find(i=>i.selection===e);return r?[r]:this.expressionMap.selects.filter(i=>t.columns.some(s=>i.selection===e+"."+s.propertyPath))}computeCountExpression(){let e=this.expressionMap.mainAlias.name,r=this.expressionMap.mainAlias.metadata.primaryColumns,i=this.escape(e);if(this.expressionMap.joinAttributes.length===0&&this.expressionMap.relationIdAttributes.length===0&&this.expressionMap.relationCountAttributes.length===0)return"COUNT(1)";if(this.connection.driver.options.type==="cockroachdb"||De.isPostgresFamily(this.connection.driver))return"COUNT(DISTINCT("+r.map(s=>`${i}.${this.escape(s.databaseName)}`).join(", ")+"))";if(De.isMySQLFamily(this.connection.driver))return"COUNT(DISTINCT "+r.map(s=>`${i}.${this.escape(s.databaseName)}`).join(", ")+")";if(this.connection.driver.options.type==="mssql"){let s=r.map(o=>`${i}.${this.escape(o.databaseName)}`).join(", '|;|', ");return r.length===1?`COUNT(DISTINCT(${s}))`:`COUNT(DISTINCT(CONCAT(${s})))`}return this.connection.driver.options.type==="spanner"?r.length===1?`COUNT(DISTINCT(${i}.${this.escape(r[0].databaseName)}))`:`COUNT(DISTINCT(CONCAT(${r.map(o=>`CAST(${i}.${this.escape(o.databaseName)} AS STRING)`).join(", '|;|', ")})))`:"COUNT(DISTINCT("+r.map(s=>`${i}.${this.escape(s.databaseName)}`).join(" || '|;|' || ")+"))"}async executeCountQuery(e){let t=this.computeCountExpression(),r=await this.clone().orderBy().groupBy().offset(void 0).limit(void 0).skip(void 0).take(void 0).select(t,"cnt").setOption("disable-global-order").loadRawResults(e);return!r||!r[0]||!r[0].cnt?0:parseInt(r[0].cnt)}applyFindOptions(){if(this.expressionMap.mainAlias.metadata){if(this.findOptions.relationLoadStrategy&&(this.expressionMap.relationLoadStrategy=this.findOptions.relationLoadStrategy),this.findOptions.comment&&this.comment(this.findOptions.comment),this.findOptions.withDeleted&&this.withDeleted(),this.findOptions.select){let e=Array.isArray(this.findOptions.select)?pt.propertyPathsToTruthyObject(this.findOptions.select):this.findOptions.select;this.buildSelect(e,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name)}if(this.selects.length&&this.select(this.selects),this.selects=[],this.findOptions.relations){let e=Array.isArray(this.findOptions.relations)?pt.propertyPathsToTruthyObject(this.findOptions.relations):this.findOptions.relations;this.buildRelations(e,typeof this.findOptions.select=="object"?this.findOptions.select:void 0,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name),this.findOptions.loadEagerRelations!==!1&&this.expressionMap.relationLoadStrategy==="join"&&this.buildEagerRelations(e,typeof this.findOptions.select=="object"?this.findOptions.select:void 0,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name)}if(this.selects.length&&this.addSelect(this.selects),this.findOptions.where&&(this.conditions=this.buildWhere(this.findOptions.where,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name),this.conditions.length&&this.andWhere(this.conditions.substr(0,1)!=="("?"("+this.conditions+")":this.conditions)),this.findOptions.order&&this.buildOrder(this.findOptions.order,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name),this.joins.length&&this.joins.forEach(e=>{e.select&&!e.selection?e.type==="inner"?this.innerJoinAndSelect(`${e.parentAlias}.${e.relationMetadata.propertyPath}`,e.alias):this.leftJoinAndSelect(`${e.parentAlias}.${e.relationMetadata.propertyPath}`,e.alias):e.type==="inner"?this.innerJoin(`${e.parentAlias}.${e.relationMetadata.propertyPath}`,e.alias):this.leftJoin(`${e.parentAlias}.${e.relationMetadata.propertyPath}`,e.alias)}),this.findOptions.skip!==void 0&&this.skip(this.findOptions.skip),this.findOptions.take!==void 0&&this.take(this.findOptions.take),typeof this.findOptions.cache=="number"?this.cache(this.findOptions.cache):typeof this.findOptions.cache=="boolean"?this.cache(this.findOptions.cache):typeof this.findOptions.cache=="object"&&this.cache(this.findOptions.cache.id,this.findOptions.cache.milliseconds),this.findOptions.join&&(this.findOptions.join.leftJoin&&Object.keys(this.findOptions.join.leftJoin).forEach(e=>{this.leftJoin(this.findOptions.join.leftJoin[e],e)}),this.findOptions.join.innerJoin&&Object.keys(this.findOptions.join.innerJoin).forEach(e=>{this.innerJoin(this.findOptions.join.innerJoin[e],e)}),this.findOptions.join.leftJoinAndSelect&&Object.keys(this.findOptions.join.leftJoinAndSelect).forEach(e=>{this.leftJoinAndSelect(this.findOptions.join.leftJoinAndSelect[e],e)}),this.findOptions.join.innerJoinAndSelect&&Object.keys(this.findOptions.join.innerJoinAndSelect).forEach(e=>{this.innerJoinAndSelect(this.findOptions.join.innerJoinAndSelect[e],e)})),this.findOptions.lock){if(this.findOptions.lock.mode==="optimistic")this.setLock(this.findOptions.lock.mode,this.findOptions.lock.version);else if(this.findOptions.lock.mode==="pessimistic_read"||this.findOptions.lock.mode==="pessimistic_write"||this.findOptions.lock.mode==="dirty_read"||this.findOptions.lock.mode==="pessimistic_partial_write"||this.findOptions.lock.mode==="pessimistic_write_or_fail"||this.findOptions.lock.mode==="for_no_key_update"||this.findOptions.lock.mode==="for_key_share"){let e=this.findOptions.lock.tables?this.findOptions.lock.tables.map(t=>{let r=this.expressionMap.aliases.find(i=>i.metadata.tableNameWithoutPrefix===t);if(!r)throw new G(`"${t}" is not part of this query`);return this.escape(r.name)}):void 0;this.setLock(this.findOptions.lock.mode,void 0,e),this.findOptions.lock.onLocked&&this.setOnLocked(this.findOptions.lock.onLocked)}}this.findOptions.loadRelationIds===!0?this.loadAllRelationIds():typeof this.findOptions.loadRelationIds=="object"&&this.loadAllRelationIds(this.findOptions.loadRelationIds),this.findOptions.loadEagerRelations!==!1&&oi.joinEagerRelations(this,this.expressionMap.mainAlias.name,this.expressionMap.mainAlias.metadata),this.findOptions.transaction===!0&&(this.expressionMap.useTransaction=!0)}}async executeEntitiesAndRawResults(e){if(!this.expressionMap.mainAlias)throw new G('Alias is not set. Use "from" method to set an alias.');if((this.expressionMap.lockMode==="pessimistic_read"||this.expressionMap.lockMode==="pessimistic_write"||this.expressionMap.lockMode==="pessimistic_partial_write"||this.expressionMap.lockMode==="pessimistic_write_or_fail"||this.expressionMap.lockMode==="for_no_key_update"||this.expressionMap.lockMode==="for_key_share")&&!e.isTransactionActive)throw new lM;if(this.expressionMap.lockMode==="optimistic"){let c=this.expressionMap.mainAlias.metadata;if(!c.versionColumn&&!c.updateDateColumn)throw new oM(c.name)}let t=new vet(this.connection,e,this.expressionMap.relationIdAttributes),r=new rR(this.connection,e,this.expressionMap.relationCountAttributes);new nR(this.expressionMap).transform(),new iR(this.expressionMap).transform();let o=[],a=[];if((this.expressionMap.skip||this.expressionMap.take)&&this.expressionMap.joinAttributes.length>0){let[c,l]=this.createOrderByCombinedWithSelectExpression("distinctAlias"),d=this.expressionMap.mainAlias.metadata,h=this.expressionMap.mainAlias.name,p=d.primaryColumns.map(b=>{let v=this.escape("distinctAlias"),x=this.escape(De.buildAlias(this.connection.driver,h,b.databaseName));l[x]||(l[x]="ASC");let N=De.buildAlias(this.connection.driver,"ids_"+h,b.databaseName);return`${v}.${x} AS ${this.escape(N)}`});if(o=await new oR(this.connection,e).select(`DISTINCT ${p.join(", ")}`).addSelect(c).from(`(${this.clone().orderBy().getQuery()})`,"distinctAlias").offset(this.expressionMap.skip).limit(this.expressionMap.take).orderBy(l).cache(this.expressionMap.cache?this.expressionMap.cache:this.expressionMap.cacheId,this.expressionMap.cacheDuration).setParameters(this.getParameters()).setNativeParameters(this.expressionMap.nativeParameters).getRawMany(),o.length>0){let b="",v={};if(d.hasMultiplePrimaryKeys)b=o.map((x,N)=>d.primaryColumns.map(k=>{let ee=`orm_distinct_ids_${N}_${k.databaseName}`;return v[ee]=x[`ids_${h}_${k.databaseName}`],`${h}.${k.propertyPath}=:${ee}`}).join(" AND ")).join(" OR ");else{let x=De.buildAlias(this.connection.driver,"ids_"+h,d.primaryColumns[0].databaseName),N=o.map(ee=>ee[x]);N.every(ee=>typeof ee=="number")?b=`${h}.${d.primaryColumns[0].propertyPath} IN (${N.join(", ")})`:(v.orm_distinct_ids=N,b=h+"."+d.primaryColumns[0].propertyPath+" IN (:...orm_distinct_ids)")}o=await this.clone().mergeExpressionMap({extraAppendedAndWhereCondition:b}).setParameters(v).loadRawResults(e)}}else o=await this.loadRawResults(e);if(o.length>0){let c=await t.load(o),l=await r.load(o);a=new tR(this.expressionMap,this.connection.driver,c,l,this.queryRunner).transform(o,this.expressionMap.mainAlias),this.expressionMap.callListeners===!0&&this.expressionMap.mainAlias.hasMetadata&&await e.broadcaster.broadcast("Load",this.expressionMap.mainAlias.metadata,a)}return this.expressionMap.relationLoadStrategy==="query"&&await Promise.all(this.relationMetadatas.map(async c=>{let l=c.inverseEntityMetadata.target,d=c.inverseEntityMetadata.targetName,h=Array.isArray(this.findOptions.select)?pt.propertyPathsToTruthyObject(this.findOptions.select):this.findOptions.select,p=Array.isArray(this.findOptions.relations)?pt.propertyPathsToTruthyObject(this.findOptions.relations):this.findOptions.relations,b=this.createQueryBuilder().select(d).from(l,d).setFindOptions({select:h?pt.deepValue(h,c.propertyPath):void 0,order:this.findOptions.order?pt.deepValue(this.findOptions.order,c.propertyPath):void 0,relations:p?pt.deepValue(p,c.propertyPath):void 0,withDeleted:this.findOptions.withDeleted,relationLoadStrategy:this.findOptions.relationLoadStrategy});if(a.length>0){let v=await this.connection.relationIdLoader.loadManyToManyRelationIdsAndGroup(c,a,void 0,b);a.forEach(x=>{let N=v.find(k=>k.entity===x);if(N){let k=N.related===void 0?null:N.related;c.setEntityValue(x,k)}})}})),{raw:o,entities:a}}createOrderByCombinedWithSelectExpression(e){let t=this.expressionMap.allOrderBys,r=Object.keys(t).map(s=>{if(s.indexOf(".")!==-1){let o=s.split("."),a=o[0],c=o.slice(1).join("."),d=this.expressionMap.findAliasByName(a).metadata.findColumnWithPropertyPath(c);return this.escape(e)+"."+this.escape(De.buildAlias(this.connection.driver,a,d.databaseName))}else return this.expressionMap.selects.find(o=>o.selection===s||o.aliasName===s)?this.escape(e)+"."+s:""}).join(", "),i={};return Object.keys(t).forEach(s=>{if(s.indexOf(".")!==-1){let o=s.split("."),a=o[0],c=o.slice(1).join("."),d=this.expressionMap.findAliasByName(a).metadata.findColumnWithPropertyPath(c);i[this.escape(e)+"."+this.escape(De.buildAlias(this.connection.driver,a,d.databaseName))]=t[s]}else this.expressionMap.selects.find(o=>o.selection===s||o.aliasName===s)?i[this.escape(e)+"."+s]=t[s]:i[s]=t[s]}),[r,i]}async loadRawResults(e){let[t,r]=this.getQueryAndParameters(),i=t+" -- PARAMETERS: "+JSON.stringify(r),s=typeof this.connection.options.cache=="object"?this.connection.options.cache:{},o,a=!1;if(this.connection.queryResultCache&&(this.expressionMap.cache||s.alwaysEnabled))try{if(o=await this.connection.queryResultCache.getFromCache({identifier:this.expressionMap.cacheId,query:i,duration:this.expressionMap.cacheDuration||s.duration||1e3},e),o&&!this.connection.queryResultCache.isExpired(o))return JSON.parse(o.result)}catch(l){if(!s.ignoreErrors)throw l;a=!0}let c=await e.query(t,r,!0);if(!a&&this.connection.queryResultCache&&(this.expressionMap.cache||s.alwaysEnabled))try{await this.connection.queryResultCache.storeInCache({identifier:this.expressionMap.cacheId,query:i,time:new Date().getTime(),duration:this.expressionMap.cacheDuration||s.duration||1e3,result:JSON.stringify(c.records)},o,e)}catch(l){if(!s.ignoreErrors)throw l}return c.records}mergeExpressionMap(e){return He.assign(this.expressionMap,e),this}normalizeNumber(e){return typeof e=="number"||e===void 0||e===null?e:Number(e)}obtainQueryRunner(){return this.queryRunner||this.connection.createQueryRunner("slave")}buildSelect(e,t,r,i){for(let s in e){if(e[s]===void 0||e[s]===!1)continue;let o=i?i+"."+s:s,a=t.findColumnWithPropertyPathStrict(o),c=t.findEmbeddedWithPropertyPath(o),l=t.findRelationWithPropertyPath(o);if(!c&&!a&&!l)throw new So(o,t);a?this.selects.push(r+"."+o):c&&this.buildSelect(e[s],t,r,o)}}buildRelations(e,t,r,i,s){e&&Object.keys(e).forEach(o=>{let a=e[o],c=s?s+"."+o:o,l=r.findEmbeddedWithPropertyPath(c),d=r.findRelationWithPropertyPath(c);if(!l&&!d)throw new So(c,r);if(l)this.buildRelations(a,typeof t=="object"?pt.deepValue(t,l.propertyPath):void 0,r,i,c);else if(d){let h=i+"_"+c.replace(".","_");h=De.buildAlias(this.connection.driver,{joiner:"__"},i,h),(a===!0||typeof a=="object")&&(this.expressionMap.relationLoadStrategy==="query"?this.relationMetadatas.push(d):(this.joins.push({type:"left",select:!0,selection:t&&typeof t[o]=="object"?t[o]:void 0,alias:h,parentAlias:i,relationMetadata:d}),t&&typeof t[o]=="object"&&this.buildSelect(t[o],d.inverseEntityMetadata,h))),typeof a=="object"&&this.expressionMap.relationLoadStrategy==="join"&&this.buildRelations(a,typeof t=="object"?pt.deepValue(t,d.propertyPath):void 0,d.inverseEntityMetadata,h,void 0)}})}buildEagerRelations(e,t,r,i,s){e&&Object.keys(e).forEach(o=>{let a=e[o],c=s?s+"."+o:o,l=r.findEmbeddedWithPropertyPath(c),d=r.findRelationWithPropertyPath(c);if(!l&&!d)throw new So(c,r);if(l)this.buildEagerRelations(a,typeof t=="object"?pt.deepValue(t,l.propertyPath):void 0,r,i,c);else if(d){let h=i+"_"+c.replace(".","_");h=De.buildAlias(this.connection.driver,{joiner:"__"},i,h),(a===!0||typeof a=="object")&&d.inverseEntityMetadata.eagerRelations.forEach(p=>{let b=h+"_"+p.propertyPath.replace(".","_");b=De.buildAlias(this.connection.driver,{joiner:"__"},h,b),this.joins.find(x=>x.alias===b)||this.joins.push({type:"left",select:!0,alias:b,parentAlias:h,selection:void 0,relationMetadata:p}),t&&typeof t[o]=="object"&&this.buildSelect(t[o],d.inverseEntityMetadata,h)}),typeof a=="object"&&this.buildEagerRelations(a,typeof t=="object"?pt.deepValue(t,d.propertyPath):void 0,d.inverseEntityMetadata,h,void 0)}})}buildOrder(e,t,r,i){for(let s in e){if(e[s]===void 0)continue;let o=i?i+"."+s:s,a=t.findColumnWithPropertyPathStrict(o),c=t.findEmbeddedWithPropertyPath(o),l=t.findRelationWithPropertyPath(o);if(!c&&!a&&!l)throw new So(o,t);if(a){let d=typeof e[s]=="object"?e[s].direction:e[s];d=d==="DESC"||d==="desc"||d===-1?"DESC":"ASC";let h=typeof e[s]=="object"?e[s].nulls:void 0;h=h?.toLowerCase()==="first"?"NULLS FIRST":h?.toLowerCase()==="last"?"NULLS LAST":void 0;let p=`${r}.${o}`;if(a.isVirtualProperty&&a.query){let b=this.expressionMap.selects.find(v=>v.selection===p);b?(p=De.buildAlias(this.connection.driver,r,a.databaseName),b.aliasName=p):p=`(${a.query(r)})`}this.addOrderBy(p,d,h)}else if(c)this.buildOrder(e[s],t,r,o);else if(l){let d=r+"_"+o.replace(".","_");d=De.buildAlias(this.connection.driver,{joiner:"__"},r,d),this.joins.find(p=>p.alias===d)||this.joins.push({type:"left",select:!1,alias:d,parentAlias:r,selection:void 0,relationMetadata:l}),this.buildOrder(e[s],l.inverseEntityMetadata,d)}}}buildWhere(e,t,r,i){let s="";if(Array.isArray(e))s="("+e.map(o=>this.buildWhere(o,t,r,i)).filter(o=>!!o).map(o=>"("+o+")").join(" OR ")+")";else{let o=[];for(let a in e){if(e[a]===void 0||e[a]===null)continue;let c=i?i+"."+a:a,l=t.findColumnWithPropertyPathStrict(c),d=t.findEmbeddedWithPropertyPath(c),h=t.findRelationWithPropertyPath(c);if(!d&&!l&&!h)throw new So(c,t);if(l){let p=`${r}.${c}`;l.isVirtualProperty&&l.query&&(p=`(${l.query(r)})`);let b=e[a];be.isEqualOperator(e[a])&&(b=e[a].value),l.transformer&&(b=ac.transformTo(l.transformer,b)),o.push(this.createWhereConditionExpression(this.getWherePredicateCondition(p,b)))}else if(d){let p=this.buildWhere(e[a],t,r,c);p&&o.push(p)}else if(h){if(typeof e[a]=="object"&&Object.keys(e[a]).every(b=>e[a][b]===void 0))continue;if(be.isFindOperator(e[a]))if(e[a].type==="moreThan"||e[a].type==="lessThan"){let p=e[a].type==="moreThan"?">":"<",b=this.subQuery();if(h.isManyToManyOwner)b.select("COUNT(*)").from(h.joinTableName,h.joinTableName).where(h.joinColumns.map(v=>`${h.joinTableName}.${v.propertyName} = ${r}.${v.referencedColumn.propertyName}`).join(" AND "));else if(h.isManyToManyNotOwner)b.select("COUNT(*)").from(h.inverseRelation.joinTableName,h.inverseRelation.joinTableName).where(h.inverseRelation.inverseJoinColumns.map(v=>`${h.inverseRelation.joinTableName}.${v.propertyName} = ${r}.${v.referencedColumn.propertyName}`).join(" AND "));else if(h.isOneToMany)b.select("COUNT(*)").from(h.inverseEntityMetadata.target,h.inverseEntityMetadata.tableName).where(h.inverseRelation.joinColumns.map(v=>`${h.inverseEntityMetadata.tableName}.${v.propertyName} = ${r}.${v.referencedColumn.propertyName}`).join(" AND "));else throw new Error("This relation isn't supported by given find operator");this.andWhere(b.getSql()+" "+p+" "+parseInt(e[a].value))}else if(h.isManyToOne||h.isOneToOne&&h.isOneToOneOwner){let p=`${r}.${c}`;o.push(this.createWhereConditionExpression(this.getWherePredicateCondition(p,e[a])))}else throw new Error("This relation isn't supported by given find operator");else{let p=r+"_"+h.propertyPath.replace(".","_");p=De.buildAlias(this.connection.driver,{joiner:"__"},r,p);let b=this.joins.find(x=>x.alias===p);b?b.type==="left"&&(b.type="inner"):this.joins.push({type:"inner",select:!1,selection:void 0,alias:p,parentAlias:r,relationMetadata:h});let v=this.buildWhere(e[a],h.inverseEntityMetadata,p);v&&o.push(v)}}}s=o.join(" AND ")}return s}};Zp=oR=vt([Ye.NAME("SelectQueryBuilder")],Zp);var DE=class{constructor(){this.generatedMaps=[]}static from(e){let t=new this;return t.raw=e.records,t.affected=e.affected,t}},sm=class{constructor(e,t){this.queryRunner=e,this.expressionMap=t}async update(e,t){let r=this.expressionMap.mainAlias.metadata;await Promise.all(t.map(async(i,s)=>{if(this.queryRunner.connection.driver.isReturningSqlSupported("update")){this.queryRunner.connection.driver.options.type==="oracle"&&Array.isArray(e.raw)&&this.expressionMap.extraReturningColumns.length>0&&(e.raw=e.raw.reduce((c,l,d)=>(c[this.expressionMap.extraReturningColumns[d].databaseName]=l[0],c),{}));let o=Array.isArray(e.raw)?e.raw[s]:e.raw,a=this.queryRunner.connection.driver.createGeneratedMap(r,o);a&&(this.queryRunner.manager.merge(r.target,i,a),e.generatedMaps.push(a))}else{let o=this.expressionMap.extraReturningColumns;if(o.length>0){let a=this.expressionMap.mainAlias.metadata.getEntityIdMap(i);if(!a)throw new G("Cannot update entity because entity id is not set in the entity.");let c=await this.queryRunner.manager.createQueryBuilder().select(r.primaryColumns.map(l=>r.targetName+"."+l.propertyPath)).addSelect(o.map(l=>r.targetName+"."+l.propertyPath)).from(r.target,r.targetName).where(a).withDeleted().setOption("create-pojo").getOne();c&&(this.queryRunner.manager.merge(r.target,i,c),e.generatedMaps.push(c))}}}))}async insert(e,t){let r=this.expressionMap.mainAlias.metadata,i=r.getInsertionReturningColumns(),s=this.queryRunner.connection.driver.isReturningSqlSupported("insert");i=i.filter(a=>a.isGenerated?s===!0:!0);let o=t.map((a,c)=>{this.queryRunner.connection.driver.options.type==="oracle"&&Array.isArray(e.raw)&&this.expressionMap.extraReturningColumns.length>0&&(e.raw=e.raw.reduce((h,p,b)=>(h[this.expressionMap.extraReturningColumns[b].databaseName]=p[0],h),{}));let l=Array.isArray(e.raw)?e.raw[c]:e.raw,d=this.queryRunner.connection.driver.createGeneratedMap(r,l,c,t.length)||{};return c in this.expressionMap.locallyGenerated&&this.queryRunner.manager.merge(r.target,d,this.expressionMap.locallyGenerated[c]),this.queryRunner.manager.merge(r.target,a,d),d});if(i.length>0&&!this.queryRunner.connection.driver.isReturningSqlSupported("insert")){let a=t.map(l=>{let d=r.getEntityIdMap(l);if(!d)throw new G("Cannot update entity because entity id is not set in the entity.");return d}),c=await this.queryRunner.manager.createQueryBuilder().select(r.primaryColumns.map(l=>r.targetName+"."+l.propertyPath)).addSelect(i.map(l=>r.targetName+"."+l.propertyPath)).from(r.target,r.targetName).where(a).setOption("create-pojo").getMany();t.forEach((l,d)=>{this.queryRunner.manager.merge(r.target,o[d],c[d]),this.queryRunner.manager.merge(r.target,l,c[d])})}t.forEach((a,c)=>{let l=r.getEntityIdMap(a);e.identifiers.push(l),e.generatedMaps.push(o[c])})}getUpdationReturningColumns(){return this.expressionMap.mainAlias.metadata.columns.filter(e=>e.isUpdateDate||e.isVersion)}getSoftDeletionReturningColumns(){return this.expressionMap.mainAlias.metadata.columns.filter(e=>e.isUpdateDate||e.isVersion||e.isDeleteDate)}},Det=(()=>{let n=class extends uc{constructor(t,r){super(t,r),this["@instanceof"]=Symbol.for("UpdateQueryBuilder"),this.expressionMap.aliasNamePrefixingEnabled=!1}getQuery(){let t=this.createComment();return t+=this.createCteExpression(),t+=this.createUpdateExpression(),t+=this.createOrderByExpression(),t+=this.createLimitExpression(),t.trim()}async execute(){let t=this.obtainQueryRunner(),r=!1;try{this.expressionMap.useTransaction===!0&&t.isTransactionActive===!1&&(await t.startTransaction(),r=!0),this.expressionMap.callListeners===!0&&this.expressionMap.mainAlias.hasMetadata&&await t.broadcaster.broadcast("BeforeUpdate",this.expressionMap.mainAlias.metadata,this.expressionMap.valuesSet);let i=null,s=null,o=new sm(t,this.expressionMap),a=[];if(Array.isArray(this.expressionMap.returning)&&this.expressionMap.mainAlias.hasMetadata)for(let b of this.expressionMap.returning)a.push(...this.expressionMap.mainAlias.metadata.findColumnsWithPropertyPath(b));this.expressionMap.updateEntity===!0&&this.expressionMap.mainAlias.hasMetadata&&this.expressionMap.whereEntities.length>0&&(this.expressionMap.extraReturningColumns=o.getUpdationReturningColumns(),a.push(...this.expressionMap.extraReturningColumns.filter(b=>!a.includes(b))));let[c,l]=this.getQueryAndParameters(),d=[i,c,s],h=await t.query(d.filter(b=>b!=null).join(`;

`),l,!0),p=DE.from(h);return this.expressionMap.updateEntity===!0&&this.expressionMap.mainAlias.hasMetadata&&this.expressionMap.whereEntities.length>0&&await o.update(p,this.expressionMap.whereEntities),this.expressionMap.callListeners===!0&&this.expressionMap.mainAlias.hasMetadata&&await t.broadcaster.broadcast("AfterUpdate",this.expressionMap.mainAlias.metadata,this.expressionMap.valuesSet),r&&await t.commitTransaction(),p}catch(i){if(r)try{await t.rollbackTransaction()}catch{}throw i}finally{t!==this.queryRunner&&await t.release()}}set(t){return this.expressionMap.valuesSet=t,this}where(t,r){this.expressionMap.wheres=[];let i=this.getWhereCondition(t);return i&&(this.expressionMap.wheres=[{type:"simple",condition:i}]),r&&this.setParameters(r),this}andWhere(t,r){return this.expressionMap.wheres.push({type:"and",condition:this.getWhereCondition(t)}),r&&this.setParameters(r),this}orWhere(t,r){return this.expressionMap.wheres.push({type:"or",condition:this.getWhereCondition(t)}),r&&this.setParameters(r),this}whereInIds(t){return this.where(this.getWhereInIdsCondition(t))}andWhereInIds(t){return this.andWhere(this.getWhereInIdsCondition(t))}orWhereInIds(t){return this.orWhere(this.getWhereInIdsCondition(t))}output(t){return this.returning(t)}returning(t){if(!this.connection.driver.isReturningSqlSupported("update"))throw new zd;return this.expressionMap.returning=t,this}orderBy(t,r="ASC",i){return t?typeof t=="object"?this.expressionMap.orderBys=t:i?this.expressionMap.orderBys={[t]:{order:r,nulls:i}}:this.expressionMap.orderBys={[t]:r}:this.expressionMap.orderBys={},this}addOrderBy(t,r="ASC",i){return i?this.expressionMap.orderBys[t]={order:r,nulls:i}:this.expressionMap.orderBys[t]=r,this}limit(t){return this.expressionMap.limit=t,this}whereEntity(t){if(!this.expressionMap.mainAlias.hasMetadata)throw new G(".whereEntity method can only be used on queries which update real entity table.");this.expressionMap.wheres=[];let r=Array.isArray(t)?t:[t];return r.forEach(i=>{let s=this.expressionMap.mainAlias.metadata.getEntityIdMap(i);if(!s)throw new G("Provided entity does not have ids set, cannot perform operation.");this.orWhereInIds(s)}),this.expressionMap.whereEntities=r,this}updateEntity(t){return this.expressionMap.updateEntity=t,this}createUpdateExpression(){let t=this.getValueSet(),r=this.expressionMap.mainAlias.hasMetadata?this.expressionMap.mainAlias.metadata:void 0,i={};for(let l in t)t.hasOwnProperty(l)&&t[l]!==void 0&&(i[l]=t[l]);let s=[],o=[];if(r?(this.createPropertyPath(r,i).forEach(l=>{let d=r.findColumnsWithPropertyPath(l);if(d.length<=0)throw new So(l,r);d.forEach(h=>{if(!h.isUpdate||o.includes(h))return;o.push(h);let p=h.getEntityValue(i);if(h.referencedColumn&&typeof p=="object"&&!(p instanceof Date)&&p!==null?p=h.referencedColumn.getEntityValue(p):typeof p!="function"&&(p=this.connection.driver.preparePersistentValue(p,h)),typeof p=="function")s.push(this.escape(h.databaseName)+" = "+p());else if((this.connection.driver.options.type==="sap"||this.connection.driver.options.type==="spanner")&&p===null)s.push(this.escape(h.databaseName)+" = NULL");else{let b=this.createParameter(p),v=null;this.connection.driver.options.type==="mssql"&&this.connection.driver.spatialTypes.indexOf(h.type)!==-1?v=h.type+"::STGeomFromText("+b+", "+(h.srid||"0")+")":v=b,s.push(this.escape(h.databaseName)+" = "+v)}})}),(s.length>0||Object.keys(i).length===0)&&(r.versionColumn&&o.indexOf(r.versionColumn)===-1&&s.push(this.escape(r.versionColumn.databaseName)+" = "+this.escape(r.versionColumn.databaseName)+" + 1"),r.updateDateColumn&&o.indexOf(r.updateDateColumn)===-1&&s.push(this.escape(r.updateDateColumn.databaseName)+" = CURRENT_TIMESTAMP"))):Object.keys(i).map(l=>{let d=i[l];if(typeof d=="function")s.push(this.escape(l)+" = "+d());else if((this.connection.driver.options.type==="sap"||this.connection.driver.options.type==="spanner")&&d===null)s.push(this.escape(l)+" = NULL");else{let h=this.createParameter(d);s.push(this.escape(l)+" = "+h)}}),s.length<=0)throw new Xp;let a=this.createWhereExpression(),c=this.createReturningExpression("update");return c===""?`UPDATE ${this.getTableName(this.getMainTableName())} SET ${s.join(", ")}${a}`:this.connection.driver.options.type==="mssql"?`UPDATE ${this.getTableName(this.getMainTableName())} SET ${s.join(", ")} OUTPUT ${c}${a}`:`UPDATE ${this.getTableName(this.getMainTableName())} SET ${s.join(", ")}${a} RETURNING ${c}`}createOrderByExpression(){let t=this.expressionMap.orderBys;return Object.keys(t).length>0?" ORDER BY "+Object.keys(t).map(r=>typeof t[r]=="string"?this.replacePropertyNames(r)+" "+t[r]:this.replacePropertyNames(r)+" "+t[r].order+" "+t[r].nulls).join(", "):""}createLimitExpression(){let t=this.expressionMap.limit;if(t){if(De.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql")return" LIMIT "+t;throw new rE}return""}getValueSet(){if(typeof this.expressionMap.valuesSet=="object")return this.expressionMap.valuesSet;throw new Xp}};return n=vt([Ye.NAME("UpdateQueryBuilder"),Ve("design:paramtypes",[Object,Object])],n),n})(),aR=class{static from(e){let t=new this;return t.raw=e.records,t.affected=e.affected,t}},xet=(()=>{let n=class extends uc{constructor(t,r){super(t,r),this["@instanceof"]=Symbol.for("DeleteQueryBuilder"),this.expressionMap.aliasNamePrefixingEnabled=!1}getQuery(){let t=this.createComment();return t+=this.createCteExpression(),t+=this.createDeleteExpression(),t.trim()}async execute(){let[t,r]=this.getQueryAndParameters(),i=this.obtainQueryRunner(),s=!1;try{this.expressionMap.useTransaction===!0&&i.isTransactionActive===!1&&(await i.startTransaction(),s=!0),this.expressionMap.callListeners===!0&&this.expressionMap.mainAlias.hasMetadata&&await i.broadcaster.broadcast("BeforeRemove",this.expressionMap.mainAlias.metadata);let o=await i.query(t,r,!0),a=aR.from(o);return this.expressionMap.callListeners===!0&&this.expressionMap.mainAlias.hasMetadata&&await i.broadcaster.broadcast("AfterRemove",this.expressionMap.mainAlias.metadata),s&&await i.commitTransaction(),a}catch(o){if(s)try{await i.rollbackTransaction()}catch{}throw o}finally{i!==this.queryRunner&&await i.release()}}from(t,r){t=be.isEntitySchema(t)?t.options.name:t;let i=this.createFromAlias(t,r);return this.expressionMap.setMainAlias(i),this}where(t,r){this.expressionMap.wheres=[];let i=this.getWhereCondition(t);return i&&(this.expressionMap.wheres=[{type:"simple",condition:i}]),r&&this.setParameters(r),this}andWhere(t,r){return this.expressionMap.wheres.push({type:"and",condition:this.getWhereCondition(t)}),r&&this.setParameters(r),this}orWhere(t,r){return this.expressionMap.wheres.push({type:"or",condition:this.getWhereCondition(t)}),r&&this.setParameters(r),this}whereInIds(t){return this.where(this.getWhereInIdsCondition(t))}andWhereInIds(t){return this.andWhere(this.getWhereInIdsCondition(t))}orWhereInIds(t){return this.orWhere(this.getWhereInIdsCondition(t))}output(t){return this.returning(t)}returning(t){if(!this.connection.driver.isReturningSqlSupported("delete"))throw new zd;return this.expressionMap.returning=t,this}createDeleteExpression(){let t=this.getTableName(this.getMainTableName()),r=this.createWhereExpression(),i=this.createReturningExpression("delete");return i===""?`DELETE FROM ${t}${r}`:this.connection.driver.options.type==="mssql"?`DELETE FROM ${t} OUTPUT ${i}${r}`:`DELETE FROM ${t}${r} RETURNING ${i}`}};return n=vt([Ye.NAME("DeleteQueryBuilder"),Ve("design:paramtypes",[Object,Object])],n),n})(),Tet=(()=>{let n=class extends uc{constructor(t,r){super(t,r),this["@instanceof"]=Symbol.for("SoftDeleteQueryBuilder"),this.expressionMap.aliasNamePrefixingEnabled=!1}getQuery(){let t=this.createUpdateExpression();return t+=this.createCteExpression(),t+=this.createOrderByExpression(),t+=this.createLimitExpression(),t.trim()}async execute(){let t=this.obtainQueryRunner(),r=!1;try{this.expressionMap.useTransaction===!0&&t.isTransactionActive===!1&&(await t.startTransaction(),r=!0),this.expressionMap.callListeners===!0&&this.expressionMap.mainAlias.hasMetadata&&(this.expressionMap.queryType==="soft-delete"?await t.broadcaster.broadcast("BeforeSoftRemove",this.expressionMap.mainAlias.metadata):this.expressionMap.queryType==="restore"&&await t.broadcaster.broadcast("BeforeRecover",this.expressionMap.mainAlias.metadata));let i=new sm(t,this.expressionMap);this.expressionMap.updateEntity===!0&&this.expressionMap.mainAlias.hasMetadata&&this.expressionMap.whereEntities.length>0&&(this.expressionMap.extraReturningColumns=i.getSoftDeletionReturningColumns());let[s,o]=this.getQueryAndParameters(),a=await t.query(s,o,!0),c=DE.from(a);return this.expressionMap.updateEntity===!0&&this.expressionMap.mainAlias.hasMetadata&&this.expressionMap.whereEntities.length>0&&await i.update(c,this.expressionMap.whereEntities),this.expressionMap.callListeners===!0&&this.expressionMap.mainAlias.hasMetadata&&(this.expressionMap.queryType==="soft-delete"?await t.broadcaster.broadcast("AfterSoftRemove",this.expressionMap.mainAlias.metadata):this.expressionMap.queryType==="restore"&&await t.broadcaster.broadcast("AfterRecover",this.expressionMap.mainAlias.metadata)),r&&await t.commitTransaction(),c}catch(i){if(r)try{await t.rollbackTransaction()}catch{}throw i}finally{t!==this.queryRunner&&await t.release()}}from(t,r){t=be.isEntitySchema(t)?t.options.name:t;let i=this.createFromAlias(t,r);return this.expressionMap.setMainAlias(i),this}where(t,r){this.expressionMap.wheres=[];let i=this.getWhereCondition(t);return i&&(this.expressionMap.wheres=[{type:"simple",condition:i}]),r&&this.setParameters(r),this}andWhere(t,r){return this.expressionMap.wheres.push({type:"and",condition:this.getWhereCondition(t)}),r&&this.setParameters(r),this}orWhere(t,r){return this.expressionMap.wheres.push({type:"or",condition:this.getWhereCondition(t)}),r&&this.setParameters(r),this}whereInIds(t){return this.where(this.getWhereInIdsCondition(t))}andWhereInIds(t){return this.andWhere(this.getWhereInIdsCondition(t))}orWhereInIds(t){return this.orWhere(this.getWhereInIdsCondition(t))}output(t){return this.returning(t)}returning(t){if(!this.connection.driver.isReturningSqlSupported("update"))throw new zd;return this.expressionMap.returning=t,this}orderBy(t,r="ASC",i){return t?typeof t=="object"?this.expressionMap.orderBys=t:i?this.expressionMap.orderBys={[t]:{order:r,nulls:i}}:this.expressionMap.orderBys={[t]:r}:this.expressionMap.orderBys={},this}addOrderBy(t,r="ASC",i){return i?this.expressionMap.orderBys[t]={order:r,nulls:i}:this.expressionMap.orderBys[t]=r,this}limit(t){return this.expressionMap.limit=t,this}whereEntity(t){if(!this.expressionMap.mainAlias.hasMetadata)throw new G(".whereEntity method can only be used on queries which update real entity table.");this.expressionMap.wheres=[];let r=Array.isArray(t)?t:[t];return r.forEach(i=>{let s=this.expressionMap.mainAlias.metadata.getEntityIdMap(i);if(!s)throw new G("Provided entity does not have ids set, cannot perform operation.");this.orWhereInIds(s)}),this.expressionMap.whereEntities=r,this}updateEntity(t){return this.expressionMap.updateEntity=t,this}createUpdateExpression(){let t=this.expressionMap.mainAlias.hasMetadata?this.expressionMap.mainAlias.metadata:void 0;if(!t)throw new G(`Cannot get entity metadata for the given alias "${this.expressionMap.mainAlias}"`);if(!t.deleteDateColumn)throw new nM(t);let r=[];switch(this.expressionMap.queryType){case"soft-delete":r.push(this.escape(t.deleteDateColumn.databaseName)+" = CURRENT_TIMESTAMP");break;case"restore":r.push(this.escape(t.deleteDateColumn.databaseName)+" = NULL");break;default:throw new G('The queryType must be "soft-delete" or "restore"')}if(t.versionColumn&&r.push(this.escape(t.versionColumn.databaseName)+" = "+this.escape(t.versionColumn.databaseName)+" + 1"),t.updateDateColumn&&r.push(this.escape(t.updateDateColumn.databaseName)+" = CURRENT_TIMESTAMP"),r.length<=0)throw new Xp;let i=this.createWhereExpression(),s=this.createReturningExpression("update");return s===""?`UPDATE ${this.getTableName(this.getMainTableName())} SET ${r.join(", ")}${i}`:this.connection.driver.options.type==="mssql"?`UPDATE ${this.getTableName(this.getMainTableName())} SET ${r.join(", ")} OUTPUT ${s}${i}`:`UPDATE ${this.getTableName(this.getMainTableName())} SET ${r.join(", ")}${i} RETURNING ${s}`}createOrderByExpression(){let t=this.expressionMap.orderBys;return Object.keys(t).length>0?" ORDER BY "+Object.keys(t).map(r=>typeof t[r]=="string"?this.replacePropertyNames(r)+" "+t[r]:this.replacePropertyNames(r)+" "+t[r].order+" "+t[r].nulls).join(", "):""}createLimitExpression(){let t=this.expressionMap.limit;if(t){if(De.isMySQLFamily(this.connection.driver))return" LIMIT "+t;throw new rE}return""}};return n=vt([Ye.NAME("SoftDeleteQueryBuilder"),Ve("design:paramtypes",[Object,Object])],n),n})(),xE=class{constructor(){this.identifiers=[],this.generatedMaps=[]}static from(e){let t=new this;return t.raw=e.raw,t}},Aet=(()=>{let n=class extends uc{constructor(){super(...arguments),this["@instanceof"]=Symbol.for("InsertQueryBuilder")}getQuery(){let t=this.createComment();return t+=this.createCteExpression(),t+=this.createInsertExpression(),t.trim()}async execute(){let t=this.getValueSets();if(t.length===0)return new xE;let r=this.obtainQueryRunner(),i=!1;try{if(this.expressionMap.useTransaction===!0&&r.isTransactionActive===!1&&(await r.startTransaction(),i=!0),this.expressionMap.callListeners===!0&&this.expressionMap.mainAlias.hasMetadata){let x=new ql;t.forEach(N=>{r.broadcaster.broadcastBeforeInsertEvent(x,this.expressionMap.mainAlias.metadata,N)}),await x.wait()}let s=null,o=null,a=new sm(r,this.expressionMap),c=[];if(Array.isArray(this.expressionMap.returning)&&this.expressionMap.mainAlias.hasMetadata)for(let x of this.expressionMap.returning)c.push(...this.expressionMap.mainAlias.metadata.findColumnsWithPropertyPath(x));this.expressionMap.updateEntity===!0&&this.expressionMap.mainAlias.hasMetadata&&(t.length>1&&this.connection.driver.options.type==="oracle"||(this.expressionMap.extraReturningColumns=this.expressionMap.mainAlias.metadata.getInsertionReturningColumns()),c.push(...this.expressionMap.extraReturningColumns.filter(x=>!c.includes(x)))),c.length>0&&this.connection.driver.options.type==="mssql"&&(s={}.buildTableVariableDeclaration("@OutputTable",c),o="SELECT * FROM @OutputTable");let[l,d]=this.getQueryAndParameters(),p=[s,l,o].filter(x=>x!=null).join(`;

`),b=await r.query(p,d,!0),v=xE.from(b);if(this.expressionMap.updateEntity===!0&&this.expressionMap.mainAlias.hasMetadata&&await a.insert(v,t),this.expressionMap.callListeners===!0&&this.expressionMap.mainAlias.hasMetadata){let x=new ql;t.forEach(N=>{r.broadcaster.broadcastAfterInsertEvent(x,this.expressionMap.mainAlias.metadata,N)}),await x.wait()}return i&&await r.commitTransaction(),v}catch(s){if(i)try{await r.rollbackTransaction()}catch{}throw s}finally{r!==this.queryRunner&&await r.release()}}into(t,r){t=be.isEntitySchema(t)?t.options.name:t;let i=this.createFromAlias(t);return this.expressionMap.setMainAlias(i),this.expressionMap.insertColumns=r||[],this}values(t){return this.expressionMap.valuesSet=t,this}output(t){return this.returning(t)}returning(t){if(!this.connection.driver.isReturningSqlSupported("insert"))throw new zd;return this.expressionMap.returning=t,this}updateEntity(t){return this.expressionMap.updateEntity=t,this}onConflict(t){return this.expressionMap.onConflict=t,this}orIgnore(t=!0){return this.expressionMap.onIgnore=!!t,this}orUpdate(t,r,i){return Array.isArray(t)?(this.expressionMap.onUpdate={overwrite:t,conflict:r,skipUpdateIfNoValuesChanged:i?.skipUpdateIfNoValuesChanged},this):(this.expressionMap.onUpdate={conflict:t?.conflict_target,columns:t?.columns,overwrite:t?.overwrite,skipUpdateIfNoValuesChanged:i?.skipUpdateIfNoValuesChanged},this)}createInsertExpression(){let t=this.getTableName(this.getMainTableName()),r=this.createValuesExpression(),i=this.connection.driver.options.type==="oracle"&&this.getValueSets().length>1?null:this.createReturningExpression("insert"),s=this.createColumnNamesExpression(),o="INSERT ";if((De.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql")&&(o+=`${this.expressionMap.onIgnore?" IGNORE ":""}`),o+=`INTO ${t}`,this.alias!==this.getMainTableName()&&De.isPostgresFamily(this.connection.driver)&&(o+=` AS "${this.alias}"`),s?o+=`(${s})`:!r&&(De.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql")&&(o+="()"),i&&this.connection.driver.options.type==="mssql"&&(o+=` OUTPUT ${i}`),r?this.connection.driver.options.type==="oracle"&&this.getValueSets().length>1?o+=` ${r}`:o+=` VALUES ${r}`:De.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"?o+=" VALUES ()":o+=" DEFAULT VALUES",this.connection.driver.supportedUpsertType==="on-conflict-do-update"){if(this.expressionMap.onIgnore)o+=" ON CONFLICT DO NOTHING ";else if(this.expressionMap.onConflict)o+=` ON CONFLICT ${this.expressionMap.onConflict} `;else if(this.expressionMap.onUpdate){let{overwrite:a,columns:c,conflict:l,skipUpdateIfNoValuesChanged:d}=this.expressionMap.onUpdate,h="ON CONFLICT";Array.isArray(l)?h+=` ( ${l.map(p=>this.escape(p)).join(", ")} )`:l&&(h+=` ON CONSTRAINT ${this.escape(l)}`),Array.isArray(a)?(o+=` ${h} DO UPDATE SET `,o+=a?.map(p=>`${this.escape(p)} = EXCLUDED.${this.escape(p)}`).join(", "),o+=" "):c&&(o+=` ${h} DO UPDATE SET `,o+=c.map(p=>`${this.escape(p)} = :${p}`).join(", "),o+=" "),Array.isArray(a)&&d&&De.isPostgresFamily(this.connection.driver)&&(o+=" WHERE (",o+=a.map(p=>`${t}.${this.escape(p)} IS DISTINCT FROM EXCLUDED.${this.escape(p)}`).join(" OR "),o+=") ")}}else if(this.connection.driver.supportedUpsertType==="on-duplicate-key-update"){if(this.expressionMap.onUpdate){let{overwrite:a,columns:c}=this.expressionMap.onUpdate;Array.isArray(a)?(o+=" ON DUPLICATE KEY UPDATE ",o+=a.map(l=>`${this.escape(l)} = VALUES(${this.escape(l)})`).join(", "),o+=" "):Array.isArray(c)&&(o+=" ON DUPLICATE KEY UPDATE ",o+=c.map(l=>`${this.escape(l)} = :${l}`).join(", "),o+=" ")}}else if(this.expressionMap.onUpdate)throw new G("onUpdate is not supported by the current database driver");return i&&(De.isPostgresFamily(this.connection.driver)||this.connection.driver.options.type==="oracle"||this.connection.driver.options.type==="cockroachdb"||De.isMySQLFamily(this.connection.driver))&&(o+=` RETURNING ${i}`),this.connection.driver.options.type==="mssql"&&this.expressionMap.mainAlias.hasMetadata&&this.expressionMap.mainAlias.metadata.columns.filter(a=>this.expressionMap.insertColumns.length>0?this.expressionMap.insertColumns.indexOf(a.propertyPath)!==-1:a.isInsert).some(a=>this.isOverridingAutoIncrementBehavior(a))&&(o=`SET IDENTITY_INSERT ${t} ON; ${o}; SET IDENTITY_INSERT ${t} OFF`),o}getInsertedColumns(){return this.expressionMap.mainAlias.hasMetadata?this.expressionMap.mainAlias.metadata.columns.filter(t=>this.expressionMap.insertColumns.length?this.expressionMap.insertColumns.indexOf(t.propertyPath)!==-1:!(!t.isInsert||t.isGenerated&&t.generationStrategy==="increment"&&this.connection.driver.options.type!=="spanner"&&this.connection.driver.options.type!=="oracle"&&!De.isSQLiteFamily(this.connection.driver)&&!De.isMySQLFamily(this.connection.driver)&&this.connection.driver.options.type!=="aurora-mysql"&&!(this.connection.driver.options.type==="mssql"&&this.isOverridingAutoIncrementBehavior(t)))):[]}createColumnNamesExpression(){let t=this.getInsertedColumns();if(t.length>0)return t.map(r=>this.escape(r.databaseName)).join(", ");if(!this.expressionMap.mainAlias.hasMetadata&&!this.expressionMap.insertColumns.length){let r=this.getValueSets();if(r.length===1)return Object.keys(r[0]).map(i=>this.escape(i)).join(", ")}return this.expressionMap.insertColumns.map(r=>this.escape(r)).join(", ")}createValuesExpression(){let t=this.getValueSets(),r=this.getInsertedColumns();if(r.length>0){let i="";return t.forEach((s,o)=>{r.forEach((a,c)=>{c===0&&(this.connection.driver.options.type==="oracle"&&t.length>1||this.connection.driver.options.type==="sap"&&t.length>1?i+=" SELECT ":i+="(");let l=a.getEntityValue(s);if(typeof l!="function"&&(l=this.connection.driver.preparePersistentValue(l,a)),a.isVersion&&l===void 0)i+="1";else if(a.isDiscriminator)i+=this.createParameter(this.expressionMap.mainAlias.metadata.discriminatorValue);else if(a.isGenerated&&a.generationStrategy==="uuid"&&!this.connection.driver.isUUIDGenerationSupported()&&l===void 0)l=Qv(),i+=this.createParameter(l),o in this.expressionMap.locallyGenerated||(this.expressionMap.locallyGenerated[o]={}),a.setEntityValue(this.expressionMap.locallyGenerated[o],l);else if(l===void 0)this.connection.driver.options.type==="oracle"&&t.length>1||De.isSQLiteFamily(this.connection.driver)||this.connection.driver.options.type==="sap"||this.connection.driver.options.type==="spanner"?a.default!==void 0&&a.default!==null?i+=this.connection.driver.normalizeDefault(a):i+="NULL":i+="DEFAULT";else if(l===null&&this.connection.driver.options.type==="spanner")i+="NULL";else if(typeof l=="function")i+=l();else{let d=this.createParameter(l);De.isPostgresFamily(this.connection.driver)&&this.connection.driver.spatialTypes.indexOf(a.type)!==-1?a.srid!=null?i+=`ST_SetSRID(ST_GeomFromGeoJSON(${d}), ${a.srid})::${a.type}`:i+=`ST_GeomFromGeoJSON(${d})::${a.type}`:this.connection.driver.options.type==="mssql"&&this.connection.driver.spatialTypes.indexOf(a.type)!==-1?i+=a.type+"::STGeomFromText("+d+", "+(a.srid||"0")+")":i+=d}c===r.length-1?o===t.length-1?this.connection.driver.options.type==="oracle"&&t.length>1?i+=" FROM DUAL ":this.connection.driver.options.type==="sap"&&t.length>1?i+=" FROM dummy ":i+=")":this.connection.driver.options.type==="oracle"&&t.length>1?i+=" FROM DUAL UNION ALL ":this.connection.driver.options.type==="sap"&&t.length>1?i+=" FROM dummy UNION ALL ":i+="), ":i+=", "})}),i==="()"?"":i}else{let i="";return t.forEach((s,o)=>{Object.keys(s).forEach((c,l)=>{l===0&&(i+="(");let d=s[c];typeof d=="function"?i+=d():d===void 0?this.connection.driver.options.type==="oracle"&&t.length>1||De.isSQLiteFamily(this.connection.driver)||this.connection.driver.options.type==="sap"||this.connection.driver.options.type==="spanner"?i+="NULL":i+="DEFAULT":d===null&&this.connection.driver.options.type==="spanner"||(i+=this.createParameter(d)),l===Object.keys(s).length-1?o===t.length-1?i+=")":i+="), ":i+=", "})}),i==="()"?"":i}}getValueSets(){if(Array.isArray(this.expressionMap.valuesSet))return this.expressionMap.valuesSet;if(He.isObject(this.expressionMap.valuesSet))return[this.expressionMap.valuesSet];throw new aM}isOverridingAutoIncrementBehavior(t){return t.isPrimary&&t.isGenerated&&t.generationStrategy==="increment"&&this.getValueSets().some(r=>t.getEntityValue(r)!==void 0&&t.getEntityValue(r)!==null)}};return n=vt([Ye.NAME("InsertQueryBuilder")],n),n})(),TE=class{constructor(e,t){this.queryBuilder=e,this.expressionMap=t}async update(e){let t=this.expressionMap.relationMetadata;if(t.isManyToOne||t.isOneToOneOwner){let r=t.joinColumns.reduce((i,s)=>{let o=He.isObject(e)?s.referencedColumn.getEntityValue(e):e;return s.setEntityValue(i,o),i},{});if(!this.expressionMap.of||Array.isArray(this.expressionMap.of)&&!this.expressionMap.of.length)return;await this.queryBuilder.createQueryBuilder().update(t.entityMetadata.target).set(r).whereInIds(this.expressionMap.of).execute()}else if((t.isOneToOneNotOwner||t.isOneToMany)&&e===null){let r={};t.inverseRelation.joinColumns.forEach(c=>{r[c.propertyName]=null});let i=Array.isArray(this.expressionMap.of)?this.expressionMap.of:[this.expressionMap.of],s={},o=[];i.forEach((c,l)=>{t.inverseRelation.joinColumns.map((d,h)=>{let p="joinColumn_"+l+"_"+h;s[p]=He.isObject(c)?d.referencedColumn.getEntityValue(c):c,o.push(`${d.propertyPath} = :${p}`)})});let a=o.map(c=>"("+c+")").join(" OR ");if(!a)return;await this.queryBuilder.createQueryBuilder().update(t.inverseEntityMetadata.target).set(r).where(a).setParameters(s).execute()}else if(t.isOneToOneNotOwner||t.isOneToMany){if(Array.isArray(this.expressionMap.of))throw new G("You cannot update relations of multiple entities with the same related object. Provide a single entity into .of method.");let r=this.expressionMap.of,i=t.inverseRelation.joinColumns.reduce((s,o)=>{let a=He.isObject(r)?o.referencedColumn.getEntityValue(r):r;return o.setEntityValue(s,a),s},{});if(!e||Array.isArray(e)&&!e.length)return;await this.queryBuilder.createQueryBuilder().update(t.inverseEntityMetadata.target).set(i).whereInIds(e).execute()}else{let r=t.junctionEntityMetadata,i=Array.isArray(this.expressionMap.of)?this.expressionMap.of:[this.expressionMap.of],s=Array.isArray(e)?e:[e],o=t.isManyToManyOwner?i:s,a=t.isManyToManyOwner?s:i,c=[];if(o.forEach(l=>{a.forEach(d=>{let h={};r.ownerColumns.forEach(p=>{h[p.databaseName]=He.isObject(l)?p.referencedColumn.getEntityValue(l):l}),r.inverseColumns.forEach(p=>{h[p.databaseName]=He.isObject(d)?p.referencedColumn.getEntityValue(d):d}),c.push(h)})}),!c.length)return;this.queryBuilder.connection.driver.options.type==="oracle"||this.queryBuilder.connection.driver.options.type==="sap"?await Promise.all(c.map(l=>this.queryBuilder.createQueryBuilder().insert().into(r.tableName).values(l).execute())):await this.queryBuilder.createQueryBuilder().insert().into(r.tableName).values(c).execute()}}},cR=class{constructor(e,t){this.queryBuilder=e,this.expressionMap=t}async remove(e){let t=this.expressionMap.relationMetadata;if(t.isOneToMany){let r=Array.isArray(this.expressionMap.of)?this.expressionMap.of:[this.expressionMap.of],i=Array.isArray(e)?e:[e],s={};t.inverseRelation.joinColumns.forEach(l=>{s[l.propertyName]=null});let o={},a=[];r.forEach((l,d)=>{a.push(...i.map((h,p)=>[...t.inverseRelation.joinColumns.map((b,v)=>{let x="joinColumn_"+d+"_"+p+"_"+v;return o[x]=He.isObject(l)?b.referencedColumn.getEntityValue(l):l,`${b.propertyPath} = :${x}`}),...t.inverseRelation.entityMetadata.primaryColumns.map((b,v)=>{let x="primaryColumn_"+p+"_"+p+"_"+v;return o[x]=He.isObject(h)?b.getEntityValue(h):h,`${b.propertyPath} = :${x}`})].join(" AND ")))});let c=a.map(l=>"("+l+")").join(" OR ");if(!c)return;await this.queryBuilder.createQueryBuilder().update(t.inverseEntityMetadata.target).set(s).where(c).setParameters(o).execute()}else{let r=t.junctionEntityMetadata,i=Array.isArray(this.expressionMap.of)?this.expressionMap.of:[this.expressionMap.of],s=Array.isArray(e)?e:[e],o=t.isManyToManyOwner?i:s,a=t.isManyToManyOwner?s:i,c={},l=[];o.forEach((h,p)=>{l.push(...a.map((b,v)=>[...r.ownerColumns.map((x,N)=>{let k="firstValue_"+p+"_"+v+"_"+N;return c[k]=He.isObject(h)?x.referencedColumn.getEntityValue(h):h,`${x.databaseName} = :${k}`}),...r.inverseColumns.map((x,N)=>{let k="secondValue_"+p+"_"+v+"_"+N;return c[k]=He.isObject(b)?x.referencedColumn.getEntityValue(b):b,`${x.databaseName} = :${k}`})].join(" AND ")))});let d=l.map(h=>"("+h+")").join(" OR ");await this.queryBuilder.createQueryBuilder().delete().from(r.tableName).where(d).setParameters(c).execute()}}},Net=(()=>{let n=class extends uc{constructor(){super(...arguments),this["@instanceof"]=Symbol.for("RelationQueryBuilder")}getQuery(){return""}of(t){return this.expressionMap.of=t,this}async set(t){let r=this.expressionMap.relationMetadata;if(!this.expressionMap.of)throw new G("Entity whose relation needs to be set is not set. Use .of method to define whose relation you want to set.");if(r.isManyToMany||r.isOneToMany)throw new G(`Set operation is only supported for many-to-one and one-to-one relations. However given "${r.propertyPath}" has ${r.relationType} relation. Use .add() method instead.`);if(r.joinColumns&&r.joinColumns.length>1&&(!He.isObject(t)||Object.keys(t).length<r.joinColumns.length))throw new G('Value to be set into the relation must be a map of relation ids, for example: .set({ firstName: "...", lastName: "..." })');return new TE(this,this.expressionMap).update(t)}async add(t){if(Array.isArray(t)&&t.length===0)return;let r=this.expressionMap.relationMetadata;if(!this.expressionMap.of)throw new G("Entity whose relation needs to be set is not set. Use .of method to define whose relation you want to set.");if(r.isManyToOne||r.isOneToOne)throw new G(`Add operation is only supported for many-to-many and one-to-many relations. However given "${r.propertyPath}" has ${r.relationType} relation. Use .set() method instead.`);if(r.joinColumns&&r.joinColumns.length>1&&(!He.isObject(t)||Object.keys(t).length<r.joinColumns.length))throw new G('Value to be set into the relation must be a map of relation ids, for example: .set({ firstName: "...", lastName: "..." })');return new TE(this,this.expressionMap).update(t)}async remove(t){if(Array.isArray(t)&&t.length===0)return;let r=this.expressionMap.relationMetadata;if(!this.expressionMap.of)throw new G("Entity whose relation needs to be set is not set. Use .of method to define whose relation you want to set.");if(r.isManyToOne||r.isOneToOne)throw new G(`Add operation is only supported for many-to-many and one-to-many relations. However given "${r.propertyPath}" has ${r.relationType} relation. Use .set(null) method instead.`);return new cR(this,this.expressionMap).remove(t)}async addAndRemove(t,r){await this.remove(r),await this.add(t)}async loadOne(){return this.loadMany().then(t=>t[0])}async loadMany(){let t=this.expressionMap.of;if(!He.isObject(t)){let r=this.expressionMap.mainAlias.metadata;if(r.hasMultiplePrimaryKeys)throw new G("Cannot load entity because only one primary key was specified, however entity contains multiple primary keys");t=r.primaryColumns[0].createValueMap(t)}return this.connection.relationLoader.load(this.expressionMap.relationMetadata,t,this.queryRunner)}};return n=vt([Ye.NAME("RelationQueryBuilder")],n),n})(),lR=class{constructor(e){this.options=e}logQuery(e,t,r){if(this.options==="all"||this.options===!0||Array.isArray(this.options)&&this.options.indexOf("query")!==-1){let i=e+(t&&t.length?" -- PARAMETERS: "+this.stringifyParams(t):"");console.log("query: "+i)}}logQueryError(e,t,r,i){if(this.options==="all"||this.options===!0||Array.isArray(this.options)&&this.options.indexOf("error")!==-1){let s=t+(r&&r.length?" -- PARAMETERS: "+this.stringifyParams(r):"");console.log("query failed: "+s),console.log("error:",e)}}logQuerySlow(e,t,r,i){let s=t+(r&&r.length?" -- PARAMETERS: "+this.stringifyParams(r):"");console.log("query is slow: "+s),console.log("execution time: "+e)}logSchemaBuild(e,t){(this.options==="all"||Array.isArray(this.options)&&this.options.indexOf("schema")!==-1)&&console.log(e)}logMigration(e,t){console.log(e)}log(e,t,r){switch(e){case"log":(this.options==="all"||Array.isArray(this.options)&&this.options.indexOf("log")!==-1)&&console.log(t);break;case"info":(this.options==="all"||Array.isArray(this.options)&&this.options.indexOf("info")!==-1)&&console.info(t);break;case"warn":(this.options==="all"||Array.isArray(this.options)&&this.options.indexOf("warn")!==-1)&&console.warn(t);break}}stringifyParams(e){try{return JSON.stringify(e)}catch{return e}}},SE=class{constructor(e){this.options=e}logQuery(e,t,r){if(this.options==="all"||this.options===!0||Array.isArray(this.options)&&this.options.indexOf("query")!==-1){let i=e+(t&&t.length?" -- PARAMETERS: "+this.stringifyParams(t):"");sn.logInfo("query:",sn.highlightSql(i))}}logQueryError(e,t,r,i){if(this.options==="all"||this.options===!0||Array.isArray(this.options)&&this.options.indexOf("error")!==-1){let s=t+(r&&r.length?" -- PARAMETERS: "+this.stringifyParams(r):"");sn.logError("query failed:",sn.highlightSql(s)),sn.logError("error:",e)}}logQuerySlow(e,t,r,i){let s=t+(r&&r.length?" -- PARAMETERS: "+this.stringifyParams(r):"");sn.logWarn("query is slow:",sn.highlightSql(s)),sn.logWarn("execution time:",e)}logSchemaBuild(e,t){(this.options==="all"||Array.isArray(this.options)&&this.options.indexOf("schema")!==-1)&&sn.log(e)}logMigration(e,t){sn.log(e)}log(e,t,r){switch(e){case"log":(this.options==="all"||Array.isArray(this.options)&&this.options.indexOf("log")!==-1)&&sn.log(t);break;case"info":(this.options==="all"||Array.isArray(this.options)&&this.options.indexOf("info")!==-1)&&sn.logInfo("INFO:",t);break;case"warn":(this.options==="all"||Array.isArray(this.options)&&this.options.indexOf("warn")!==-1)&&console.warn(sn.warn(t));break}}stringifyParams(e){try{return JSON.stringify(e)}catch{return e}}},uR=class{constructor(){this.debugQueryLog=(0,da.default)("typeorm:query:log"),this.debugQueryError=(0,da.default)("typeorm:query:error"),this.debugQuerySlow=(0,da.default)("typeorm:query:slow"),this.debugSchemaBuild=(0,da.default)("typeorm:schema"),this.debugMigration=(0,da.default)("typeorm:migration"),this.debugLog=(0,da.default)("typeorm:log"),this.debugInfo=(0,da.default)("typeorm:info"),this.debugWarn=(0,da.default)("typeorm:warn")}logQuery(e,t,r){this.debugQueryLog.enabled&&(this.debugQueryLog(sn.highlightSql(e)+";"),t&&t.length&&this.debugQueryLog("parameters:",t))}logQueryError(e,t,r,i){this.debugQueryError.enabled&&(this.debugQueryError(sn.highlightSql(t)+";"),r&&r.length&&this.debugQueryError("parameters:",r),this.debugQueryError("error: ",e))}logQuerySlow(e,t,r,i){this.debugQuerySlow.enabled&&(this.debugQuerySlow(sn.highlightSql(t)+";"),r&&r.length&&this.debugQuerySlow("parameters:",r),this.debugQuerySlow("execution time:",e))}logSchemaBuild(e,t){this.debugSchemaBuild.enabled&&this.debugSchemaBuild(e)}logMigration(e,t){this.debugMigration.enabled&&this.debugMigration(e)}log(e,t,r){switch(e){case"log":this.debugLog.enabled&&this.debugLog(t);break;case"info":this.debugInfo.enabled&&this.debugInfo(t);break;case"warn":this.debugWarn.enabled&&this.debugWarn(t);break}}},AE=class{create(e,t){if(He.isObject(e))return e;if(e)switch(e){case"simple-console":return new lR(t);case"file":return;case"advanced-console":return new SE(t);case"debug":return new uR}return new SE(t)}},dR=class{constructor(e,t){this.connection=e,this.clientType=t,this.redis=this.loadRedis()}async connect(){let e=this.connection.options.cache;if(this.clientType==="redis")this.client=this.redis.createClient($e(K({},e?.options),{legacyMode:!0})),typeof this.connection.options.cache=="object"&&this.connection.options.cache.ignoreErrors&&this.client.on("error",t=>{this.connection.logger.log("warn",t)}),"connect"in this.client&&await this.client.connect();else if(this.clientType==="ioredis")e&&e.port?e.options?this.client=new this.redis(e.port,e.options):this.client=new this.redis(e.port):e&&e.options?this.client=new this.redis(e.options):this.client=new this.redis;else if(this.clientType==="ioredis/cluster")if(e&&e.options&&Array.isArray(e.options))this.client=new this.redis.Cluster(e.options);else if(e&&e.options&&e.options.startupNodes)this.client=new this.redis.Cluster(e.options.startupNodes,e.options.options);else throw new G(`options.startupNodes required for ${this.clientType}.`)}async disconnect(){return new Promise((e,t)=>{this.client.quit((r,i)=>{if(r)return t(r);e(),this.client=void 0})})}async synchronize(e){}getFromCache(e,t){return new Promise((r,i)=>{e.identifier?this.client.get(e.identifier,(s,o)=>{if(s)return i(s);r(JSON.parse(o))}):e.query?this.client.get(e.query,(s,o)=>{if(s)return i(s);r(JSON.parse(o))}):r(void 0)})}isExpired(e){return e.time+e.duration<new Date().getTime()}async storeInCache(e,t,r){return new Promise((i,s)=>{e.identifier?this.client.set(e.identifier,JSON.stringify(e),"PX",e.duration,(o,a)=>{if(o)return s(o);i()}):e.query&&this.client.set(e.query,JSON.stringify(e),"PX",e.duration,(o,a)=>{if(o)return s(o);i()})})}async clear(e){return new Promise((t,r)=>{this.client.flushdb((i,s)=>{if(i)return r(i);t()})})}async remove(e,t){await Promise.all(e.map(r=>this.deleteKey(r)))}deleteKey(e){return new Promise((t,r)=>{this.client.del(e,(i,s)=>{if(i)return r(i);t()})})}loadRedis(){try{return this.clientType==="ioredis/cluster"?sn.load("ioredis"):sn.load(this.clientType)}catch{throw new G(`Cannot use cache because ${this.clientType} is not installed. Please run "npm i ${this.clientType} --save".`)}}},fR=class{constructor(e){this.connection=e;let{schema:t}=this.connection.driver.options,r=this.connection.driver.database,s=(typeof this.connection.options.cache=="object"?this.connection.options.cache:{}).tableName||"query-result-cache";this.queryResultCacheDatabase=r,this.queryResultCacheSchema=t,this.queryResultCacheTable=this.connection.driver.buildTableName(s,t,r)}async connect(){}async disconnect(){}async synchronize(e){e=this.getQueryRunner(e);let t=this.connection.driver;await e.hasTable(this.queryResultCacheTable)||await e.createTable(new fa({database:this.queryResultCacheDatabase,schema:this.queryResultCacheSchema,name:this.queryResultCacheTable,columns:[{name:"id",isPrimary:!0,isNullable:!1,type:t.normalizeType({type:t.mappedDataTypes.cacheId}),generationStrategy:t.options.type==="spanner"?"uuid":"increment",isGenerated:!0},{name:"identifier",type:t.normalizeType({type:t.mappedDataTypes.cacheIdentifier}),isNullable:!0},{name:"time",type:t.normalizeType({type:t.mappedDataTypes.cacheTime}),isPrimary:!1,isNullable:!1},{name:"duration",type:t.normalizeType({type:t.mappedDataTypes.cacheDuration}),isPrimary:!1,isNullable:!1},{name:"query",type:t.normalizeType({type:t.mappedDataTypes.cacheQuery}),isPrimary:!1,isNullable:!1},{name:"result",type:t.normalizeType({type:t.mappedDataTypes.cacheResult}),isNullable:!1}]}))}getFromCache(e,t){t=this.getQueryRunner(t);let r=this.connection.createQueryBuilder(t).select().from(this.queryResultCacheTable,"cache");return e.identifier?r.where(`${r.escape("cache")}.${r.escape("identifier")} = :identifier`).setParameters({identifier:e.identifier}).getRawOne():e.query?this.connection.driver.options.type==="oracle"?r.where(`dbms_lob.compare(${r.escape("cache")}.${r.escape("query")}, :query) = 0`,{query:e.query}).getRawOne():r.where(`${r.escape("cache")}.${r.escape("query")} = :query`).setParameters({query:e.query}).getRawOne():Promise.resolve(void 0)}isExpired(e){let t=typeof e.duration=="string"?parseInt(e.duration):e.duration;return(typeof e.time=="string"?parseInt(e.time):e.time)+t<new Date().getTime()}async storeInCache(e,t,r){let i=r===void 0||r?.getReplicationMode()==="slave";(r===void 0||i)&&(r=this.connection.createQueryRunner("master"));let s=e;if(this.connection.driver.options.type,t&&t.identifier){let o=r.manager.createQueryBuilder().update(this.queryResultCacheTable).set(s);o.where(`${o.escape("identifier")} = :condition`,{condition:s.identifier}),await o.execute()}else if(t&&t.query){let o=r.manager.createQueryBuilder().update(this.queryResultCacheTable).set(s);this.connection.driver.options.type==="oracle"?o.where('dbms_lob.compare("query", :condition) = 0',{condition:s.query}):o.where(`${o.escape("query")} = :condition`,{condition:s.query}),await o.execute()}else this.connection.driver.options.type==="spanner"&&!s.id&&(s.id=Qv()),await r.manager.createQueryBuilder().insert().into(this.queryResultCacheTable).values(s).execute();i&&await r.release()}async clear(e){return this.getQueryRunner(e).clearTable(this.queryResultCacheTable)}async remove(e,t){let r=t||this.getQueryRunner();await Promise.all(e.map(i=>{let s=r.manager.createQueryBuilder();return s.delete().from(this.queryResultCacheTable).where(`${s.escape("identifier")} = :identifier`,{identifier:i}).execute()})),t||await r.release()}getQueryRunner(e){return e||this.connection.createQueryRunner()}},NE=class{constructor(e){this.connection=e}create(){if(!this.connection.options.cache)throw new G("To use cache you need to enable it in connection options by setting cache: true or providing some caching options. Example: { host: ..., username: ..., cache: true }");let e=this.connection.options.cache;return e.provider&&typeof e.provider=="function"?e.provider(this.connection):e.type==="redis"||e.type==="ioredis"||e.type==="ioredis/cluster"?new dR(this.connection,e.type):new fR(this.connection)}},hR=class{constructor(e){this.connection=e}load(e,t,r,i){return r&&r.isReleased&&(r=void 0),e.isManyToOne||e.isOneToOneOwner?this.loadManyToOneOrOneToOneOwner(e,t,r,i):e.isOneToMany||e.isOneToOneNotOwner?this.loadOneToManyOrOneToOneNotOwner(e,t,r,i):e.isManyToManyOwner?this.loadManyToManyOwner(e,t,r,i):this.loadManyToManyNotOwner(e,t,r,i)}loadManyToOneOrOneToOneOwner(e,t,r,i){let s=Array.isArray(t)?t:[t],o=e.entityMetadata.name,a=i||this.connection.createQueryBuilder(r).select(e.propertyName).from(e.type,e.propertyName),c=a.expressionMap.mainAlias.name,l=e.entityMetadata.primaryColumns,h=(e.isOwning?e.joinColumns:e.inverseRelation.joinColumns).map(p=>`${e.entityMetadata.name}.${p.propertyName} = ${c}.${p.referencedColumn.propertyName}`).join(" AND ");if(a.innerJoin(e.entityMetadata.target,o,h),l.length===1)a.where(`${o}.${l[0].propertyPath} IN (:...${o+"_"+l[0].propertyName})`),a.setParameter(o+"_"+l[0].propertyName,s.map(p=>l[0].getEntityValue(p,!0)));else{let p=s.map((b,v)=>l.map((x,N)=>{let k=o+"_entity_"+v+"_"+N;return a.setParameter(k,x.getEntityValue(b,!0)),o+"."+x.propertyPath+" = :"+k}).join(" AND ")).map(b=>"("+b+")").join(" OR ");a.where(p)}return oi.joinEagerRelations(a,a.alias,a.expressionMap.mainAlias.metadata),a.getMany()}loadOneToManyOrOneToOneNotOwner(e,t,r,i){let s=Array.isArray(t)?t:[t],o=e.inverseRelation.joinColumns,a=i||this.connection.createQueryBuilder(r).select(e.propertyName).from(e.inverseRelation.entityMetadata.target,e.propertyName),c=a.expressionMap.mainAlias.name;if(o.length===1)a.where(`${c}.${o[0].propertyPath} IN (:...${c+"_"+o[0].propertyName})`),a.setParameter(c+"_"+o[0].propertyName,s.map(l=>o[0].referencedColumn.getEntityValue(l,!0)));else{let l=s.map((d,h)=>o.map((p,b)=>{let v=c+"_entity_"+h+"_"+b;return a.setParameter(v,p.referencedColumn.getEntityValue(d,!0)),c+"."+p.propertyPath+" = :"+v}).join(" AND ")).map(d=>"("+d+")").join(" OR ");a.where(l)}return oi.joinEagerRelations(a,a.alias,a.expressionMap.mainAlias.metadata),a.getMany()}loadManyToManyOwner(e,t,r,i){let s=Array.isArray(t)?t:[t],o=e.joinColumns.reduce((p,b)=>(p[b.propertyName]=s.map(v=>b.referencedColumn.getEntityValue(v,!0)),p),{}),a=i||this.connection.createQueryBuilder(r).select(e.propertyName).from(e.type,e.propertyName),c=a.expressionMap.mainAlias.name,l=e.junctionEntityMetadata.tableName,d=e.joinColumns.map(p=>`${l}.${p.propertyName} IN (:...${p.propertyName})`),h=e.inverseJoinColumns.map(p=>`${l}.${p.propertyName}=${c}.${p.referencedColumn.propertyName}`);return a.innerJoin(l,l,[...d,...h].join(" AND ")).setParameters(o),oi.joinEagerRelations(a,a.alias,a.expressionMap.mainAlias.metadata),a.getMany()}loadManyToManyNotOwner(e,t,r,i){let s=Array.isArray(t)?t:[t],o=i||this.connection.createQueryBuilder(r).select(e.propertyName).from(e.type,e.propertyName),a=o.expressionMap.mainAlias.name,c=e.junctionEntityMetadata.tableName,l=e.inverseRelation.joinColumns.map(p=>`${c}.${p.propertyName} = ${a}.${p.referencedColumn.propertyName}`),d=e.inverseRelation.inverseJoinColumns.map(p=>`${c}.${p.propertyName} IN (:...${p.propertyName})`),h=e.inverseRelation.inverseJoinColumns.reduce((p,b)=>(p[b.propertyName]=s.map(v=>b.referencedColumn.getEntityValue(v,!0)),p),{});return o.innerJoin(c,c,[...l,...d].join(" AND ")).setParameters(h),oi.joinEagerRelations(o,o.alias,o.expressionMap.mainAlias.metadata),o.getMany()}enableLazyLoad(e,t,r){let i=this,s="__"+e.propertyName+"__",o="__promise_"+e.propertyName+"__",a="__has_"+e.propertyName+"__",c=(d,h)=>(d[s]=h,d[a]=!0,delete d[o],h),l=(d,h)=>(delete d[a],delete d[s],d[o]=h,h.then(p=>d[o]===h?c(d,p):p),h);Object.defineProperty(t,e.propertyName,{get:function(){if(this[a]===!0||this[s]!==void 0)return Promise.resolve(this[s]);if(this[o])return this[o];let d=i.load(e,this,r).then(h=>e.isOneToOne||e.isManyToOne?h.length===0?null:h[0]:h);return l(this,d)},set:function(d){d instanceof Promise?l(this,d):c(this,d)},configurable:!0})}},pR=class{constructor(e){this.connection=e}load(e,t,r){let i=Array.isArray(t)?t:[t],s=Array.isArray(r)?r:r?[r]:void 0;return e.isManyToMany?this.loadForManyToMany(e,i,s):e.isManyToOne||e.isOneToOneOwner?this.loadForManyToOneAndOneToOneOwner(e,i,s):this.loadForOneToManyAndOneToOneNotOwner(e,i,s)}async loadManyToManyRelationIdsAndGroup(e,t,r,i){let s=e.isManyToMany||e.isOneToMany,o=Array.isArray(t)?t:[t];if(!r&&(r=await this.connection.relationLoader.load(e,t,void 0,i),!r.length))return o.map(h=>({entity:h,related:s?[]:void 0}));let a=await this.load(e,t,r),c=Array.isArray(r)?r:[r],l=[],d=[];return e.isManyToManyOwner?(l=e.junctionEntityMetadata.inverseColumns.map(h=>h.referencedColumn),d=e.junctionEntityMetadata.ownerColumns.map(h=>h.referencedColumn)):e.isManyToManyNotOwner?(l=e.junctionEntityMetadata.ownerColumns.map(h=>h.referencedColumn),d=e.junctionEntityMetadata.inverseColumns.map(h=>h.referencedColumn)):e.isManyToOne||e.isOneToOneOwner?(l=e.joinColumns.map(h=>h.referencedColumn),d=e.entityMetadata.primaryColumns):(e.isOneToMany||e.isOneToOneNotOwner)&&(l=e.inverseRelation.entityMetadata.primaryColumns,d=e.inverseRelation.joinColumns.map(h=>h.referencedColumn)),o.map(h=>{let p={entity:h,related:s?[]:void 0},b=a.filter(v=>d.every(x=>x.compareEntityValue(h,v[x.entityMetadata.name+"_"+x.propertyAliasName])));return b.length&&c.forEach(v=>{b.forEach(x=>{l.every(k=>k.compareEntityValue(v,x[De.buildAlias(this.connection.driver,k.entityMetadata.name+"_"+e.propertyPath.replace(".","_")+"_"+k.propertyPath.replace(".","_"))]))&&(s?p.related.push(v):p.related=v)})}),p})}loadForManyToMany(e,t,r){let i=e.junctionEntityMetadata,s=i.name,o=e.isOwning?i.ownerColumns:i.inverseColumns,a=e.isOwning?i.inverseColumns:i.ownerColumns,c=this.connection.createQueryBuilder();o.forEach(p=>{let b=De.buildAlias(this.connection.driver,p.referencedColumn.entityMetadata.name+"_"+p.referencedColumn.propertyPath.replace(".","_"));c.addSelect(s+"."+p.propertyPath,b)}),a.forEach(p=>{let b=De.buildAlias(this.connection.driver,p.referencedColumn.entityMetadata.name+"_"+e.propertyPath.replace(".","_")+"_"+p.referencedColumn.propertyPath.replace(".","_"));c.addSelect(s+"."+p.propertyPath,b)});let l="";if(o.length===1){let p=t.map(v=>o[0].referencedColumn.getEntityValue(v));p.every(v=>typeof v=="number")?l=`${s}.${o[0].propertyPath} IN (${p.join(", ")})`:(c.setParameter("values1",p),l=s+"."+o[0].propertyPath+" IN (:...values1)")}else l="("+t.map((p,b)=>o.map(v=>{let x="entity1_"+b+"_"+v.propertyName;return c.setParameter(x,v.referencedColumn.getEntityValue(p)),s+"."+v.propertyPath+" = :"+x}).join(" AND ")).map(p=>"("+p+")").join(" OR ")+")";let d="";if(r)if(a.length===1){let p=r.map(v=>a[0].referencedColumn.getEntityValue(v));p.every(v=>typeof v=="number")?d=`${s}.${a[0].propertyPath} IN (${p.join(", ")})`:(c.setParameter("values2",p),d=s+"."+a[0].propertyPath+" IN (:...values2)")}else d="("+r.map((p,b)=>a.map(v=>{let x="entity2_"+b+"_"+v.propertyName;return c.setParameter(x,v.referencedColumn.getEntityValue(p)),s+"."+v.propertyPath+" = :"+x}).join(" AND ")).map(p=>"("+p+")").join(" OR ")+")";let h=[l,d].filter(p=>p.length>0).join(" AND ");return c.from(i.target,s).where(h).getRawMany()}loadForManyToOneAndOneToOneOwner(e,t,r){let i=e.entityMetadata.targetName,s=e.joinColumns.every(c=>!!e.entityMetadata.nonVirtualColumns.find(l=>l===c));if(r&&s){let c=[];if(t.forEach(l=>{let d={};e.entityMetadata.primaryColumns.forEach(h=>{let p=h.entityMetadata.name+"_"+h.propertyPath.replace(".","_");d[p]=h.getEntityValue(l)}),r.forEach(h=>{e.joinColumns.forEach(p=>{let b=p.getEntityValue(l),v=p.referencedColumn.getEntityValue(h);if(!(b===void 0||v===void 0)&&b===v){let x=p.referencedColumn.entityMetadata.name+"_"+e.propertyPath.replace(".","_")+"_"+p.referencedColumn.propertyPath.replace(".","_");d[x]=v}})}),Object.keys(d).length===e.entityMetadata.primaryColumns.length+e.joinColumns.length&&c.push(d)}),c.length===t.length)return Promise.resolve(c)}let o=this.connection.createQueryBuilder();e.entityMetadata.primaryColumns.forEach(c=>{let l=De.buildAlias(this.connection.driver,c.entityMetadata.name+"_"+c.propertyPath.replace(".","_"));o.addSelect(i+"."+c.propertyPath,l)}),e.joinColumns.forEach(c=>{let l=De.buildAlias(this.connection.driver,c.referencedColumn.entityMetadata.name+"_"+e.propertyPath.replace(".","_")+"_"+c.referencedColumn.propertyPath.replace(".","_"));o.addSelect(i+"."+c.propertyPath,l)});let a="";if(e.entityMetadata.primaryColumns.length===1){let c=t.map(d=>e.entityMetadata.primaryColumns[0].getEntityValue(d));c.every(d=>typeof d=="number")?a=`${i}.${e.entityMetadata.primaryColumns[0].propertyPath} IN (${c.join(", ")})`:(o.setParameter("values",c),a=i+"."+e.entityMetadata.primaryColumns[0].propertyPath+" IN (:...values)")}else a=t.map((c,l)=>e.entityMetadata.primaryColumns.map((d,h)=>{let p="entity"+l+"_"+h;return o.setParameter(p,d.getEntityValue(c)),i+"."+d.propertyPath+" = :"+p}).join(" AND ")).map(c=>"("+c+")").join(" OR ");return o.from(e.entityMetadata.target,i).where(a).getRawMany()}loadForOneToManyAndOneToOneNotOwner(e,t,r){if(e=e.inverseRelation,e.entityMetadata.primaryColumns.length===e.joinColumns.length&&e.entityMetadata.primaryColumns.every(c=>e.joinColumns.indexOf(c)!==-1))return Promise.resolve(t.map(c=>{let l={};return e.joinColumns.forEach(function(d){let h=d.referencedColumn.getEntityValue(c),p=d.referencedColumn.entityMetadata.name+"_"+d.referencedColumn.propertyPath.replace(".","_"),b=d.entityMetadata.name+"_"+e.inverseRelation.propertyPath.replace(".","_")+"_"+d.propertyPath.replace(".","_");l[p]=h,l[b]=h}),l}));let i=e.entityMetadata.targetName,s=this.connection.createQueryBuilder();e.entityMetadata.primaryColumns.forEach(a=>{let c=De.buildAlias(this.connection.driver,a.entityMetadata.name+"_"+e.inverseRelation.propertyPath.replace(".","_")+"_"+a.propertyPath.replace(".","_"));s.addSelect(i+"."+a.propertyPath,c)}),e.joinColumns.forEach(a=>{let c=De.buildAlias(this.connection.driver,a.referencedColumn.entityMetadata.name+"_"+a.referencedColumn.propertyPath.replace(".","_"));s.addSelect(i+"."+a.propertyPath,c)});let o="";if(e.joinColumns.length===1){let a=t.map(l=>e.joinColumns[0].referencedColumn.getEntityValue(l));a.every(l=>typeof l=="number")?o=`${i}.${e.joinColumns[0].propertyPath} IN (${a.join(", ")})`:(s.setParameter("values",a),o=i+"."+e.joinColumns[0].propertyPath+" IN (:...values)")}else o=t.map((a,c)=>e.joinColumns.map((l,d)=>{let h="entity"+c+"_"+d;return s.setParameter(h,l.referencedColumn.getEntityValue(a)),i+"."+l.propertyPath+" = :"+h}).join(" AND ")).map(a=>"("+a+")").join(" OR ");return s.from(e.entityMetadata.target,i).where(o).getRawMany()}},IE=class{constructor(e){this["@instanceof"]=Symbol.for("DataSource"),this.SelectQueryBuilder=Zp,this.UpdateQueryBuilder=Det,this.DeleteQueryBuilder=xet,this.SoftDeleteQueryBuilder=Tet,this.InsertQueryBuilder=Aet,this.RelationQueryBuilder=Net,this.migrations=[],this.subscribers=[],this.entityMetadatas=[],this.name=e.name||"default",this.options=e,this.logger=new AE().create(this.options.logger,this.options.logging),this.driver=new zM().create(this),this.manager=this.createEntityManager(),this.namingStrategy=e.namingStrategy||new yM,this.metadataTableName=e.metadataTableName||"typeorm_metadata",this.queryResultCache=e.cache?new NE(this).create():void 0,this.relationLoader=new hR(this),this.relationIdLoader=new pR(this),this.isInitialized=!1}get isConnected(){return this.isInitialized}get sqljsManager(){if(!be.isSqljsEntityManager(this.manager))throw new G("SqljsEntityManager is only available for Sqljs databases.");return this.manager}setOptions(e){return Object.assign(this.options,e),(e.logger||e.logging)&&(this.logger=new AE().create(e.logger||this.options.logger,e.logging||this.options.logging)),e.namingStrategy&&(this.namingStrategy=e.namingStrategy),e.cache&&(this.queryResultCache=new NE(this).create()),this}async initialize(){if(this.isInitialized)throw new QI(this.name);await this.driver.connect(),this.queryResultCache&&await this.queryResultCache.connect(),He.assign(this,{isInitialized:!0});try{await this.buildMetadatas(),await this.driver.afterConnect(),this.options.dropSchema&&await this.dropDatabase(),this.options.migrationsRun&&await this.runMigrations({transaction:this.options.migrationsTransactionMode}),this.options.synchronize&&await this.synchronize()}catch(e){throw await this.close(),e}return this}async connect(){return this.initialize()}async destroy(){if(!this.isInitialized)throw new Fl(this.name);await this.driver.disconnect(),this.queryResultCache&&await this.queryResultCache.disconnect(),He.assign(this,{isInitialized:!1})}async close(){return this.destroy()}async synchronize(e=!1){if(!this.isInitialized)throw new Fl(this.name);e&&await this.dropDatabase(),await this.driver.createSchemaBuilder().build()}async dropDatabase(){let e=this.createQueryRunner();try{if(this.driver.options.type==="mssql"||De.isMySQLFamily(this.driver)||this.driver.options.type==="aurora-mysql"||De.isSQLiteFamily(this.driver)){let t=[];if(this.entityMetadatas.forEach(r=>{r.database&&t.indexOf(r.database)===-1&&t.push(r.database)}),t.length===0&&this.driver.database&&t.push(this.driver.database),t.length===0)await e.clearDatabase();else for(let r of t)await e.clearDatabase(r)}else await e.clearDatabase()}finally{await e.release()}}async runMigrations(e){if(!this.isInitialized)throw new Fl(this.name);let t=new Kp(this);return t.transaction=e&&e.transaction||"all",t.fake=e&&e.fake||!1,await t.executePendingMigrations()}async undoLastMigration(e){if(!this.isInitialized)throw new Fl(this.name);let t=new Kp(this);t.transaction=e&&e.transaction||"all",t.fake=e&&e.fake||!1,await t.undoLastMigration()}async showMigrations(){if(!this.isInitialized)throw new Fl(this.name);return await new Kp(this).showMigrations()}hasMetadata(e){return!!this.findMetadata(e)}getMetadata(e){let t=this.findMetadata(e);if(t=t||this.findMetadata(e[mR]),!t)throw new XI(e);return t}getRepository(e){return this.manager.getRepository(e)}getTreeRepository(e){return this.manager.getTreeRepository(e)}getCustomRepository(e){return this.manager.getCustomRepository(e)}async transaction(e,t){return this.manager.transaction(e,t)}async query(e,t,r){if(r&&r.isReleased)throw new iE;let i=r||this.createQueryRunner();try{return await i.query(e,t)}finally{r||await i.release()}}createQueryBuilder(e,t,r){if(t){t=De.buildAlias(this.driver,t);let i=this.getMetadata(e);return new Zp(this,r).select(t).from(i.target,t)}else return new Zp(this,e)}createQueryRunner(e="master"){let t=this.driver.createQueryRunner(e),r=this.createEntityManager(t);return Object.assign(t,{manager:r}),t}getManyToManyMetadata(e,t){let r=this.getMetadata(e).findRelationWithPropertyPath(t);if(!r)throw new G(`Relation "${t}" was not found in ${e} entity.`);if(!r.isManyToMany)throw new G(`Relation "${e}#${t}" does not have a many-to-many relationship.You can use this method only on many-to-many relations.`);return r.junctionEntityMetadata}createEntityManager(e){return new PM().create(this,e)}findMetadata(e){return this.entityMetadatas.find(t=>t.target===e?!0:be.isEntitySchema(e)?t.name===e.options.name:typeof e=="string"?e.indexOf(".")!==-1?t.tablePath===e:t.name===e||t.tableName===e:He.isObject(e)&&typeof e.name=="string"?e.name.indexOf(".")!==-1?t.tablePath===e.name:t.name===e.name||t.tableName===e.name:!1)}async buildMetadatas(){let e=new eR(this),t=new vM,r=He.mixedListToArray(this.options.subscribers||[]),i=await e.buildSubscribers(r);He.assign(this,{subscribers:i});let s=He.mixedListToArray(this.options.entities||[]),o=await e.buildEntityMetadatas(s);He.assign(this,{entityMetadatas:o});let a=He.mixedListToArray(this.options.migrations||[]),c=await e.buildMigrations(a);He.assign(this,{migrations:c}),t.validateMany(this.entityMetadatas.filter(l=>l.tableType!=="view"),this.driver);for(let l of o)be.isBaseEntityConstructor(l.target)&&l.target.useDataSource(this)}};function wi(){let n=sn.getGlobalVariable();return n.typeormMetadataArgsStorage||(n.typeormMetadataArgsStorage=new Xv),n.typeormMetadataArgsStorage}function ME(n,e){return function(t,r){let i;typeof n=="string"||typeof n=="function"?i=n:n&&(e=n,i=n.type),e||(e={});let s=Reflect&&Reflect.getMetadata?Reflect.getMetadata("design:type",t,r):void 0;if(!i&&s&&(i=s),!e.type&&i&&(e.type=i),e.type==="hstore"&&!e.hstoreType&&(e.hstoreType=s===Object?"object":"string"),typeof n=="function")wi().embeddeds.push({target:t.constructor,propertyName:r,isArray:s===Array||e.array===!0,prefix:e.prefix!==void 0?e.prefix:void 0,type:n});else{if(!e.type)throw new pM(t,r);e.unique===!0&&wi().uniques.push({target:t.constructor,columns:[r]}),wi().columns.push({target:t.constructor,propertyName:r,mode:"regular",options:e}),e.generated&&wi().generations.push({target:t.constructor,propertyName:r,strategy:typeof e.generated=="string"?e.generated:"increment"})}}}function qae(n){return function(e,t){wi().columns.push({target:e.constructor,propertyName:t,mode:"createDate",options:n||{}})}}function jae(n,e){let t={},r;return n?(typeof n=="string"&&(r=n),He.isObject(n)&&(r="increment",Object.assign(t,n))):r="increment",He.isObject(e)&&Object.assign(t,e),function(i,s){t.type||(r==="increment"||r==="identity"?t.type=Number:r==="uuid"?t.type="uuid":r==="rowid"&&(t.type="int")),t.primary=!0,wi().columns.push({target:i.constructor,propertyName:s,mode:"regular",options:t}),wi().generations.push({target:i.constructor,propertyName:s,strategy:r})}}function Uae(n){return function(e,t){wi().columns.push({target:e.constructor,propertyName:t,mode:"version",options:n||{}})}}function $ae(){return function(n){wi().entitySubscribers.push({target:n})}}function om(n,e){let t=(He.isObject(n)?n:e)||{},r=typeof n=="string"?n:t.name;return function(i){wi().tables.push({target:i,name:r,type:"regular",orderBy:t.orderBy?t.orderBy:void 0,engine:t.engine?t.engine:void 0,database:t.database?t.database:void 0,schema:t.schema?t.schema:void 0,synchronize:t.synchronize,withoutRowid:t.withoutRowid})}}var ftt=M(jN(),1);var Vs=Object.create(null);Vs.open="0";Vs.close="1";Vs.ping="2";Vs.pong="3";Vs.message="4";Vs.upgrade="5";Vs.noop="6";var am=Object.create(null);Object.keys(Vs).forEach(n=>{am[Vs[n]]=n});var cm={type:"error",data:"parser error"};var zae=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Wae=typeof ArrayBuffer=="function",Gae=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,lm=({type:n,data:e},t,r)=>zae&&e instanceof Blob?t?r(e):Vae(e,r):Wae&&(e instanceof ArrayBuffer||Gae(e))?t?r(e):Vae(new Blob([e]),r):r(Vs[n]+(e||"")),Vae=(n,e)=>{let t=new FileReader;return t.onload=function(){let r=t.result.split(",")[1];e("b"+(r||""))},t.readAsDataURL(n)};function Hae(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}var gR;function Qae(n,e){if(zae&&n.data instanceof Blob)return n.data.arrayBuffer().then(Hae).then(e);if(Wae&&(n.data instanceof ArrayBuffer||Gae(n.data)))return e(Hae(n.data));lm(n,!1,t=>{gR||(gR=new TextEncoder),e(gR.encode(t))})}var Kae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",um=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<Kae.length;n++)um[Kae.charCodeAt(n)]=n;var Jae=n=>{let e=n.length*.75,t=n.length,r,i=0,s,o,a,c;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);let l=new ArrayBuffer(e),d=new Uint8Array(l);for(r=0;r<t;r+=4)s=um[n.charCodeAt(r)],o=um[n.charCodeAt(r+1)],a=um[n.charCodeAt(r+2)],c=um[n.charCodeAt(r+3)],d[i++]=s<<2|o>>4,d[i++]=(o&15)<<4|a>>2,d[i++]=(a&3)<<6|c&63;return l};var Iet=typeof ArrayBuffer=="function",dm=(n,e)=>{if(typeof n!="string")return{type:"message",data:Yae(n,e)};let t=n.charAt(0);return t==="b"?{type:"message",data:Met(n.substring(1),e)}:am[t]?n.length>1?{type:am[t],data:n.substring(1)}:{type:am[t]}:cm},Met=(n,e)=>{if(Iet){let t=Jae(n);return Yae(t,e)}else return{base64:!0,data:n}},Yae=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}};var Zae="",Xae=(n,e)=>{let t=n.length,r=new Array(t),i=0;n.forEach((s,o)=>{lm(s,!1,a=>{r[o]=a,++i===t&&e(r.join(Zae))})})},ece=(n,e)=>{let t=n.split(Zae),r=[];for(let i=0;i<t.length;i++){let s=dm(t[i],e);if(r.push(s),s.type==="error")break}return r};function tce(){return new TransformStream({transform(n,e){Qae(n,t=>{let r=t.length,i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);let s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{i=new Uint8Array(9);let s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}n.data&&typeof n.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}var yR;function RE(n){return n.reduce((e,t)=>e+t.length,0)}function OE(n,e){if(n[0].length===e)return n.shift();let t=new Uint8Array(e),r=0;for(let i=0;i<e;i++)t[i]=n[0][r++],r===n[0].length&&(n.shift(),r=0);return n.length&&r<n[0].length&&(n[0]=n[0].slice(r)),t}function nce(n,e){yR||(yR=new TextDecoder);let t=[],r=0,i=-1,s=!1;return new TransformStream({transform(o,a){for(t.push(o);;){if(r===0){if(RE(t)<1)break;let c=OE(t,1);s=(c[0]&128)===128,i=c[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(RE(t)<2)break;let c=OE(t,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(RE(t)<8)break;let c=OE(t,8),l=new DataView(c.buffer,c.byteOffset,c.length),d=l.getUint32(0);if(d>Math.pow(2,21)-1){a.enqueue(cm);break}i=d*Math.pow(2,32)+l.getUint32(4),r=3}else{if(RE(t)<i)break;let c=OE(t,i);a.enqueue(dm(s?c:yR.decode(c),e)),r=0}if(i===0||i>n){a.enqueue(cm);break}}}})}var bR=4;function yn(n){if(n)return Ret(n)}function Ret(n){for(var e in yn.prototype)n[e]=yn.prototype[e];return n}yn.prototype.on=yn.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};yn.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};yn.prototype.off=yn.prototype.removeListener=yn.prototype.removeAllListeners=yn.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if(r=t[i],r===e||r.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+n],this};yn.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){t=t.slice(0);for(var r=0,i=t.length;r<i;++r)t[r].apply(this,e)}return this};yn.prototype.emitReserved=yn.prototype.emit;yn.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};yn.prototype.hasListeners=function(n){return!!this.listeners(n).length};var $r=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function PE(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}var Oet=$r.setTimeout,Pet=$r.clearTimeout;function ha(n,e){e.useNativeTimers?(n.setTimeoutFn=Oet.bind($r),n.clearTimeoutFn=Pet.bind($r)):(n.setTimeoutFn=$r.setTimeout.bind($r),n.clearTimeoutFn=$r.clearTimeout.bind($r))}var ket=1.33;function rce(n){return typeof n=="string"?Fet(n):Math.ceil((n.byteLength||n.size)*ket)}function Fet(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}function ice(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function sce(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let s=t[r].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}var kE=class extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}},pa=class extends yn{constructor(e){super(),this.writable=!1,ha(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,r){return super.emitReserved("error",new kE(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let t=dm(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let t=ice(e);return t.length?"?"+t:""}};var lce="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),_R=64,Let={},oce=0,FE=0,ace;function cce(n){let e="";do e=lce[n%_R]+e,n=Math.floor(n/_R);while(n>0);return e}function LE(){let n=cce(+new Date);return n!==ace?(oce=0,ace=n):n+"."+cce(oce++)}for(;FE<_R;FE++)Let[lce[FE]]=FE;var uce=!1;try{uce=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var dce=uce;function vR(n){let e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||dce))return new XMLHttpRequest}catch{}if(!e)try{return new $r[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Bet(){}var qet=(function(){return new vR({xdomain:!1}).responseType!=null})(),qE=class extends pa{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){let r=location.protocol==="https:",i=location.port;i||(i=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port}let t=e&&e.forceBase64;this.supportsBinary=qet&&!t,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";let t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};ece(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){let e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Xae(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=LE()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new BE(this.uri(),e)}doWrite(e,t){let r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}},BE=(()=>{class n extends yn{constructor(t,r){super(),ha(this,r),this.opts=r,this.method=r.method||"GET",this.uri=t,this.data=r.data!==void 0?r.data:null,this.create()}create(){var t;let r=PE(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this.opts.xd;let i=this.xhr=new vR(r);try{i.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&i.setRequestHeader(s,this.opts.extraHeaders[s])}}catch{}if(this.method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=()=>{var s;i.readyState===3&&((s=this.opts.cookieJar)===null||s===void 0||s.parseCookies(i)),i.readyState===4&&(i.status===200||i.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof i.status=="number"?i.status:0)},0))},i.send(this.data)}catch(s){this.setTimeoutFn(()=>{this.onError(s)},0);return}typeof document<"u"&&(this.index=n.requestsCount++,n.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Bet,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this.index],this.xhr=null}}onLoad(){let t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}return n.requestsCount=0,n.requests={},n})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",fce);else if(typeof addEventListener=="function"){let n="onpagehide"in $r?"pagehide":"unload";addEventListener(n,fce,!1)}}function fce(){for(let n in BE.requests)BE.requests.hasOwnProperty(n)&&BE.requests[n].abort()}var $l=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),fm=$r.WebSocket||$r.MozWebSocket,jE=!0,hce="arraybuffer";var pce=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",UE=class extends pa{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let e=this.uri(),t=this.opts.protocols,r=pce?{}:PE(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=jE&&!pce?t?new fm(e,t):new fm(e):new fm(e,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;lm(r,this.supportsBinary,s=>{let o={};jE||(r.options&&(o.compress=r.options.compress),this.opts.perMessageDeflate&&(typeof s=="string"?Buffer.byteLength(s):s.length)<this.opts.perMessageDeflate.threshold&&(o.compress=!1));try{jE?this.ws.send(s):this.ws.send(s,o)}catch{}i&&$l(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=LE()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!fm}};var $E=class extends pa{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{let t=nce(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),i=tce();i.readable.pipeTo(e.writable),this.writer=i.writable.getWriter();let s=()=>{r.read().then(({done:a,value:c})=>{a||(this.onPacket(c),s())}).catch(a=>{})};s();let o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;this.writer.write(r).then(()=>{i&&$l(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}};var ER={websocket:UE,webtransport:$E,polling:qE};var jet=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Uet=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ef(n){if(n.length>2e3)throw"URI too long";let e=n,t=n.indexOf("["),r=n.indexOf("]");t!=-1&&r!=-1&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=jet.exec(n||""),s={},o=14;for(;o--;)s[Uet[o]]=i[o]||"";return t!=-1&&r!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=$et(s,s.path),s.queryKey=Vet(s,s.query),s}function $et(n,e){let t=/\/{2,9}/g,r=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Vet(n,e){let t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(t[i]=s)}),t}var VE=(()=>{class n extends yn{constructor(t,r={}){super(),this.binaryType=hce,this.writeBuffer=[],t&&typeof t=="object"&&(r=t,t=null),t?(t=ef(t),r.hostname=t.host,r.secure=t.protocol==="https"||t.protocol==="wss",r.port=t.port,t.query&&(r.query=t.query)):r.host&&(r.hostname=ef(r.host).host),ha(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=sce(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){let r=Object.assign({},this.opts.query);r.EIO=bR,r.transport=t,this.id&&(r.sid=this.id);let i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new ER[t](i)}open(){let t;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(t){let r=this.createTransport(t),i=!1;n.priorWebsocketSuccess=!1;let s=()=>{i||(r.send([{type:"ping",data:"probe"}]),r.once("packet",p=>{if(!i)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;n.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(h(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{let b=new Error("probe error");b.transport=r.name,this.emitReserved("upgradeError",b)}}))};function o(){i||(i=!0,h(),r.close(),r=null)}let a=p=>{let b=new Error("probe error: "+p);b.transport=r.name,o(),this.emitReserved("upgradeError",b)};function c(){a("transport closed")}function l(){a("socket closed")}function d(p){r&&p.name!==r.name&&o()}let h=()=>{r.removeListener("open",s),r.removeListener("error",a),r.removeListener("close",c),this.off("close",l),this.off("upgrading",d)};r.once("open",s),r.once("error",a),r.once("close",c),this.once("close",l),this.once("upgrading",d),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{i||r.open()},200):r.open()}onOpen(){if(this.readyState="open",n.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0,r=this.upgrades.length;for(;t<r;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":let r=new Error("server error");r.code=t.data,this.onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){let s=this.writeBuffer[i].data;if(s&&(r+=rce(s)),i>0&&r>this.maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}write(t,r,i){return this.sendPacket("message",t,r,i),this}send(t,r,i){return this.sendPacket("message",t,r,i),this}sendPacket(t,r,i,s){if(typeof r=="function"&&(s=r,r=void 0),typeof i=="function"&&(s=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;let o={type:t,data:r,options:i};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),s&&this.once("flush",s),this.flush()}close(){let t=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}onError(t){n.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,r){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){let r=[],i=0,s=t.length;for(;i<s;i++)~this.transports.indexOf(t[i])&&r.push(t[i]);return r}}return n.protocol=bR,n})();var yVt=VE.protocol;function mce(n,e="",t){let r=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),r=ef(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";let s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+e,r.href=r.protocol+"://"+s+(t&&t.port===r.port?"":":"+r.port),r}var SR={};vO(SR,{Decoder:()=>xR,Encoder:()=>DR,PacketType:()=>xt,isPacketValid:()=>Zet,protocol:()=>vce});var Het=typeof ArrayBuffer=="function",zet=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,gce=Object.prototype.toString,Wet=typeof Blob=="function"||typeof Blob<"u"&&gce.call(Blob)==="[object BlobConstructor]",Get=typeof File=="function"||typeof File<"u"&&gce.call(File)==="[object FileConstructor]";function pm(n){return Het&&(n instanceof ArrayBuffer||zet(n))||Wet&&n instanceof Blob||Get&&n instanceof File}function hm(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(hm(n[t]))return!0;return!1}if(pm(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return hm(n.toJSON(),!0);for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&hm(n[t]))return!0;return!1}function yce(n){let e=[],t=n.data,r=n;return r.data=wR(t,e),r.attachments=e.length,{packet:r,buffers:e}}function wR(n,e){if(!n)return n;if(pm(n)){let t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){let t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=wR(n[r],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){let t={};for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=wR(n[r],e));return t}return n}function bce(n,e){return n.data=CR(n.data,e),delete n.attachments,n}function CR(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=CR(n[t],e);else if(typeof n=="object")for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=CR(n[t],e));return n}var _ce=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],vce=5,xt=(function(n){return n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",n})(xt||{}),DR=class{constructor(e){this.replacer=e}encode(e){return(e.type===xt.EVENT||e.type===xt.ACK)&&hm(e)?this.encodeAsBinary({type:e.type===xt.EVENT?xt.BINARY_EVENT:xt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===xt.BINARY_EVENT||e.type===xt.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){let t=yce(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}},xR=class n extends yn{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);let r=t.type===xt.BINARY_EVENT;r||t.type===xt.BINARY_ACK?(t.type=r?xt.EVENT:xt.ACK,this.reconstructor=new TR(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(pm(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0,r={type:Number(e.charAt(0))};if(xt[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===xt.BINARY_EVENT||r.type===xt.BINARY_ACK){let s=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);let o=e.substring(s,t);if(o!=Number(o)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(t+1)==="/"){let s=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););r.nsp=e.substring(s,t)}else r.nsp="/";let i=e.charAt(t+1);if(i!==""&&Number(i)==i){let s=t+1;for(;++t;){let o=e.charAt(t);if(o==null||Number(o)!=o){--t;break}if(t===e.length)break}r.id=Number(e.substring(s,t+1))}if(e.charAt(++t)){let s=this.tryParse(e.substr(t));if(n.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case xt.CONNECT:return HE(t);case xt.DISCONNECT:return t===void 0;case xt.CONNECT_ERROR:return typeof t=="string"||HE(t);case xt.EVENT:case xt.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&_ce.indexOf(t[0])===-1);case xt.ACK:case xt.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},TR=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let t=bce(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function Qet(n){return typeof n=="string"}var Ket=Number.isInteger||function(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n};function Jet(n){return n===void 0||Ket(n)}function HE(n){return Object.prototype.toString.call(n)==="[object Object]"}function Yet(n,e){switch(n){case xt.CONNECT:return e===void 0||HE(e);case xt.DISCONNECT:return e===void 0;case xt.EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&_ce.indexOf(e[0])===-1);case xt.ACK:return Array.isArray(e);case xt.CONNECT_ERROR:return typeof e=="string"||HE(e);default:return!1}}function Zet(n){return Qet(n.nsp)&&Jet(n.id)&&Yet(n.type,n.data)}function Ji(n,e,t){return n.on(e,t),function(){n.off(e,t)}}var Xet=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),tf=class extends yn{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[Ji(e,"open",this.onopen.bind(this)),Ji(e,"packet",this.onpacket.bind(this)),Ji(e,"error",this.onerror.bind(this)),Ji(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(Xet.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let r={type:xt.EVENT,data:t};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){let o=this.ids++,a=t.pop();this._registerAckCallback(o,a),r.id=o}let i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(e,t){var r;let i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=t;return}let s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},i),o=(...a)=>{this.io.clearTimeoutFn(s),t.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...t){return new Promise((r,i)=>{let s=(o,a)=>o?i(o):r(a);s.withError=!0,t.push(s),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());let r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:xt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){let r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case xt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case xt.EVENT:case xt.BINARY_EVENT:this.onevent(e);break;case xt.ACK:case xt.BINARY_ACK:this.onack(e);break;case xt.DISCONNECT:this.ondisconnect();break;case xt.CONNECT_ERROR:this.destroy();let r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){let t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let t=this,r=!1;return function(...i){r||(r=!0,t.packet({type:xt.ACK,id:e,data:i}))}}onack(e){let t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:xt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let r of t)r.apply(this,e.data)}}};function Vl(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}Vl.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=(Math.floor(e*10)&1)==0?n-t:n+t}return Math.min(n,this.max)|0};Vl.prototype.reset=function(){this.attempts=0};Vl.prototype.setMin=function(n){this.ms=n};Vl.prototype.setMax=function(n){this.max=n};Vl.prototype.setJitter=function(n){this.jitter=n};var nf=class extends yn{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,ha(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Vl({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;let i=t.parser||SR;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new VE(this.uri,this.opts);let t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let i=Ji(t,"open",function(){r.onopen(),e&&e()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=Ji(t,"error",s);if(this._timeout!==!1){let a=this._timeout,c=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),t.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(Ji(e,"ping",this.onping.bind(this)),Ji(e,"data",this.ondata.bind(this)),Ji(e,"error",this.onerror.bind(this)),Ji(e,"close",this.onclose.bind(this)),Ji(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){$l(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new tf(this,e,t),this.nsps[e]=r),r}_destroy(e){let t=Object.keys(this.nsps);for(let r of t)if(this.nsps[r].active)return;this._close()}_packet(e){let t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();this._reconnecting=!0;let r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}};var mm={};function gm(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};let t=mce(n,e.path||"/socket.io"),r=t.source,i=t.id,s=t.path,o=mm[i]&&s in mm[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o,c;return a?c=new nf(r,e):(mm[i]||(mm[i]=new nf(r,e)),c=mm[i]),t.query&&!e.query&&(e.query=t.queryKey),c.socket(t.path,e)}Object.assign(gm,{Manager:nf,Socket:tf,io:gm,connect:gm});var bm=class{},rf=class n extends bm{constructor(e,t,r){super(),this._parenthesis=!1,this._negation=!1,this._sibling=e,this._child=t,this._chainType=r}$(){return this._parenthesis=!0,this}not(){return this._negation=!0,this}and(e){return new n(this,e,"and")}or(e){return new n(this,e,"or")}},sf=class extends bm{constructor(e,t,...r){super(),this._column=e,this._type=t,this._values=r}and(e){return new rf(this,e,"and")}or(e){return new rf(this,e,"or")}},zE=class{constructor(e,t,r=[]){this._table=e,this._name=t,this._modifiers=r}as(e){return new this.constructor(this._table,this._name,this._modifiers.concat({name:"as",params:e}))}isNull(){return new sf(this,"is-null")}isNotNull(){return new sf(this,"is-not-null")}},WE=class{constructor(e,t){this._column=e,this._direction=t}nullsFirst(){return this._nullsPosition="FIRST",this}nullsLast(){return this._nullsPosition="LAST",this}},NR=class extends bm{constructor(e,t,r){super(),this._column=e,this._type=t,this._otherColumn=r}and(e){return new rf(this,e,"and")}or(e){return new rf(this,e,"or")}},IR=class extends zE{constructor(e,t,r=[]){super(e,t,r)}asc(){return new WE(this,"ASC")}desc(){return new WE(this,"DESC")}eq(e){return e instanceof zE?new NR(this,"eq",e):new sf(this,"eq",e)}ne(e){return new sf(this,"ne",e)}};var ym=class{constructor(e,t){this._queryProcessor=e,this._tables=t,this._distinct=!1,this._conditions=[],this._groupBy=[],this._having=[],this._orderings=[],this._columns=[]}offset(e){return this._offset=e,this}limit(e){return this._limit=e,this}distinct(){return this._distinct=!0,this}where(...e){return this._conditions=e,this}groupBy(...e){return this._groupBy=e,this}having(...e){return this._having=e,this}orderBy(...e){return this._orderings=e,this}select(...e){return this._columns=e,this._action="select",this._queryProcessor(this)}},MR=class{constructor(e,t,r){this._queryProcessor=e,this._table=t,this._conditions=r,this._columns=[]}update(e){return this._entity=e,this._action="update",this._queryProcessor(this)}delete(){return this._action="delete",this._queryProcessor(this)}count(){return this._columns=[this._table.$all.count()],this._action="select",this._queryProcessor(this).then(e=>e[0])}},RR=class{constructor(e,t){this._queryProcessor=e,this._table=t,this._columns=[]}where(...e){return new MR(this._queryProcessor,this._table,e)}insert(e){return this._entity=e,this._action="insert",this._queryProcessor(this)}deleteAll(){return this._action="delete",this._queryProcessor(this)}updateAll(e){return this._entity=e,this._action="update",this._queryProcessor(this)}countAll(){return this._columns=[this._table.$all.count()],this._action="select",this._queryProcessor(this).then(e=>e[0])}delete(e){return this._whereId(e).delete().then(t=>t>0)}update(e,t){return this._whereId(e).update(t).then(r=>r>0)}get(e){let t=this._whereId(e);return this._queryProcessor(K({_action:"select"},t)).then(r=>r[0])}_whereId(e){let t=this._table.$id;return t instanceof IR?this.where(t.eq(e)):this.where(...Object.keys(t).map(r=>this._table[r].eq(e[r])))}},OR=class{constructor(e){this._queryProcessor=e}from(e,t,r){return r!=null?new ym(this._queryProcessor,[e,t,r]):t!=null?new ym(this._queryProcessor,[e,t]):new ym(this._queryProcessor,[e])}table(e){return new RR(this._queryProcessor,e)}};function AR(n){let e=Number(n);if(Number.isNaN(e))throw new Error("Invalid number parameter in SQL query: "+n);return e}function ett(n){if(typeof n=="boolean")return n;if(n instanceof Boolean)return n.valueOf();if(n==="true")return!0;if(n==="false")return!1;throw new Error("Invalid boolean parameter in SQL query: "+n)}function ttt(n){if(n instanceof Date)return n;if(typeof n=="number"||n instanceof Number)return new Date(n);if(typeof n=="string"||n instanceof String){if(Number.isNaN(Date.parse(String(n))))throw new Error("Invalid date parameter in SQL query: "+n);return new Date(n)}throw new Error("Invalid date parameter in SQL query: "+n)}function ntt(n){if(typeof n=="string")return n;if(n instanceof String)return n.valueOf();throw new Error("Invalid string parameter in SQL query: "+n)}function Ece(n,e,t){return r;function r(H){if(H._action==="select")return d(H);if(H._action==="delete")return i(H);if(H._action==="update")return s(H);if(H._action==="insert")return a(H);throw new Error("Unknown query type:"+H._action)}function i(H){let I="DELETE FROM "+v(H._table);return I+=h(H._conditions),I}function s(H){let I="UPDATE "+v(H._table)+" SET ";return I+=o(H._table,H._entity),I+=h(H._conditions),I}function o(H,I){return Object.keys(I).sort().map(re=>{let pe=I[re],fe=H[re];return k(fe)+" = "+Ce(fe,pe)}).join(", ")}function a(H){let I=Array.isArray(H._entity)?H._entity:[H._entity],re=I.reduce((Ge,ae)=>(Object.keys(ae).forEach(dt=>Ge.add(dt)),Ge),new Set),pe=Array.from(re).sort(),fe="INSERT INTO "+v(H._table)+" ";return fe+="("+pe.map(Ge=>k(H._table[Ge])).join(", ")+")",fe+=e.lineBreak+"VALUES ",fe+=I.map(Ge=>l(H._table,Ge,pe)).map(Ge=>"("+Ge+")").join(", "),fe+=c(H),fe}function c(H){return t==="pg"&&H._action==="insert"&&!Array.isArray(H._entity)&&H._table.$id&&H._table.$id._table&&H._table.$id._name?" RETURNING "+k(H._table.$id):""}function l(H,I,re){return re.map(pe=>{let fe=I[pe],Ge=H[pe];return Ce(Ge,fe)}).join(", ")}function d(H){let I="SELECT ";return H._distinct&&(I+="DISTINCT "),H._columns==null||H._columns.length===0?I+="*":I+=H._columns.map(re=>x(re)).join(", "),I+=e.lineBreak+"FROM ",H._tables?I+=H._tables.map(re=>re._parent?p(re):v(re)).join(", "):I+=v(H._table),I+=h(H._conditions),H._groupBy&&H._groupBy.length>0&&(I+=e.lineBreak+"GROUP BY ",I+=H._groupBy.map(re=>x(re)).join(", ")),I+=h(H._having,"HAVING"),H._orderings&&H._orderings.length>0&&(I+=e.lineBreak+"ORDER BY ",I+=H._orderings.map(re=>b(re)).join(", ")),H._limit!=null&&(I+=e.lineBreak+"LIMIT "+AR(H._limit)),H._offset!=null&&(I+=e.lineBreak+"OFFSET "+AR(H._offset)),I}function h(H,I="WHERE"){let re="";return H&&H.length>0&&(re+=e.lineBreak+I+" ",ee(H),re+=H.map(pe=>ne(pe,!0)).join(" AND ")),re}function p(H){let I=[];for(;H;)I.push(H),H=H._parent;let re=I[I.length-1],pe=v(re);for(let fe=I.length-2;fe>=0;fe-=2){let Ge=I[fe]._table,ae=I[fe]._modifier,dt=I[fe-1]._condition,kt=x(dt._otherColumn);pe+=" "+ae.toUpperCase()+" JOIN "+v(Ge)+" ON "+de(dt,kt)}return pe}function b(H){if(H._column){let I=x(H._column);return H._nullsPosition!=null&&(I+=" IS NULL "+(H._nullsPosition==="FIRST"?"DESC":"ASC")+", "+I),H._direction==="ASC"&&(I+=" ASC"),H._direction==="DESC"&&(I+=" DESC"),I}else return x(H)}function v(H){return e.nameEscape+H._$name+e.nameEscape}function x(H){let I="";return H._name==="*"&&H._modifiers.length>0&&H._modifiers[0].name==="count"||(I+=v(H._table)+"."),I+=k(H),N(I,H)}function N(H,I){return I._modifiers&&I._modifiers.forEach(re=>{let pe=re.name;pe==="lower"?H="LOWER("+H+")":pe==="upper"?H="UPPER("+H+")":pe==="count"?H="COUNT("+H+")":pe==="sum"?H="SUM("+H+")":pe==="avg"?H="AVG("+H+")":pe==="min"?H="MIN("+H+")":pe==="max"?H="MAX("+H+")":pe==="as"&&(H=H+" AS "+e.nameEscape+re.params+e.nameEscape)}),H+""}function k(H){if(H._name==="*")return H._name;let I=typeof H._name=="string"?H._name:H._name.name;return e.nameEscape+I+e.nameEscape}function ee(H){H.forEach(I=>{H.length>1&&I._sibling&&(I._parenthesis=!0),X(I)})}function X(H){H._sibling&&X(H._sibling),!H._sibling&&!H._child&&(H.__param=xe(H)),H._child&&X(H._child)}function ne(H,I=!1){if(!H._sibling&&!H._child)return de(H,H.__param);let re="";return H._child&&(re+=ne(H._child)),H._sibling&&(re=ne(H._sibling,I)+" "+H._chainType.toUpperCase()+" "+re),(H._parenthesis||(!I||H._negation)&&H._child)&&(re="( "+re+" )"),H._negation&&(re="NOT "+re),re}function de(H,I){let re=x(H._column);return re+=g(H,I),re}function g(H,I){switch(H._type){case"eq":return" = "+I;case"ne":return" <> "+I;case"lt":return" < "+I;case"gt":return" > "+I;case"lte":return" <= "+I;case"gte":return" >= "+I;case"is-null":return" IS NULL";case"is-not-null":return" IS NOT NULL";case"like":return" LIKE "+I;case"not-like":return" NOT LIKE "+I;case"in":return" IN ("+I+")";case"not-in":return" NOT IN ("+I+")";case"between":return" BETWEEN "+I;case"not-between":return" NOT BETWEEN "+I;default:return""}}function xe(H){let I="";if(H._otherColumn)I=x(H._otherColumn);else{let re=pe=>Ce(H._column,pe);H._type==="in"||H._type==="not-in"?I=H._values.map(pe=>re(pe)).join(", "):H._type==="between"||H._type==="not-between"?I=re(H._values[0])+" AND "+re(H._values[1]):H._type!=="is-null"&&H._type!=="is-not-null"&&(I=re(H._values[0]))}return I}function Ce(H,I){return I==null?"NULL":n(qe(H._type,I))}function qe(H,I){return H==="number"?AR(I):H==="boolean"?ett(I):H==="date"?ttt(I):H==="string"?ntt(I):I}}function rtt(n){return n==null?"NULL":typeof n=="string"||n instanceof String?`'${String(n)}'`:typeof n=="boolean"||n instanceof Boolean?String(n).toUpperCase():n instanceof Date?`'${n.toISOString()}'`:typeof n=="number"||n instanceof Number?String(n):`'${JSON.stringify(n)}'`}function itt(n){return typeof n=="object"&&!(n==null||n instanceof String||n instanceof Number||n instanceof Boolean||n instanceof Date)?JSON.stringify(n):n}var stt=n=>"$"+n,ott=n=>"?";function att(n,e,t){return e.push(itt(n)),t(e.length)}function ctt(n,e,t){let r=[],i=t==="mysql"?ott:stt;return{sql:Ece(o=>att(o,r,i),e,t)(n),params:r}}function ltt(n,e,t){return Ece(r=>rtt(r),e,t)(n)}var JVt=$v.create("query processor"),utt={lineBreaks:!1,parameterized:!0,logging:!0,identifierQuote:'"'};function dtt(n,e={},t="pg"){let r=Object.assign({},utt,e),i={lineBreak:r.lineBreaks?`
`:" ",nameEscape:e.identifierQuote||(t==="mysql"?"`":'"')};return s=>{if(r.parameterized){let{sql:o,params:a}=ctt(s,i,t);return n.query(o,a)}else{let o=ltt(s,i,t);return n.query(o,void 0)}}}var GE=class extends OR{constructor(e,t={}){super(dtt(e,t,"mysql"))}};var htt;htt=new _e("TAON_CONTEXT");var ptt;ptt=new _e("CURRENT_HOST_BACKEND_PORT");var mtt;mtt=new _e("CURRENT_HOST_URL");var QE="api";var gtt="databases";var ytt=gtt,je=(function(n){return n.ENTITY="ENTITY",n.CONTROLLER="CONTROLLER",n.REPOSITORY="REPOSITORY",n.PROVIDER="PROVIDER",n.SUBSCRIBER="SUBSCRIBER",n.MIGRATION="MIGRATION",n.MIDDLEWARE="MIDDLEWARE",n})(je||{}),PR={[je.ENTITY]:"entities",[je.CONTROLLER]:"controllers",[je.REPOSITORY]:"repositories",[je.PROVIDER]:"providers",[je.SUBSCRIBER]:"subscribers",[je.MIGRATION]:"migrations",[je.MIDDLEWARE]:"middlewares"},LR=class{},dc=class n extends LR{static from(e){return Ur(new n,e)}get databaseConfigTypeORM(){let e=Wi(this);return e.recreateMode&&(e.recreateMode==="DROP_DB+MIGRATIONS"?(e.synchronize=!0,e.dropSchema=!0):e.recreateMode==="PRESERVE_DATA+MIGRATIONS"&&(e.synchronize=!1,e.dropSchema=!1)),delete e.recreateMode,e}};var btt=n=>{let e=n||{};e.methods=e.methods||{};for(let t in e.methods)if(e.methods.hasOwnProperty(t)){e.methods[t]=e.methods[t]||{};let r=e.methods[t].parameters||{};e.methods[t].parameters=r||{};for(let i in r)r.hasOwnProperty(i)&&(r[i]=r[i]||{})}return e},BR=class{constructor(){this.KEYroomSubscribe="roomSubscribe",this.KEYroomUnsubscribe="roomUnsubscribe"}NAMESPACE(e){return`${e}-taonRealtimeNsp`}TABLE_CHANGE(e,t){return`${e}:listentablename${t}`}ROOM_NAME_CUSTOM(e,t){return`${e}:CustomRoomEvent${t}`}ROOM_SUBSCRIBE_CUSTOM(e){return`${e}:${this.KEYroomSubscribe}CustomRoomEvent`}ROOM_UNSUBSCRIBE_CUSTOM(e){return`${e}:${this.KEYroomUnsubscribe}CustomRoomEvent`}ROOM_NAME_UPDATE_ENTITY(e,t,r){return`${e}:room${Mv(t)}${r}`.toLowerCase()}ROOM_SUBSCRIBE_ENTITY_UPDATE_EVENTS(e){return`${e}:${this.KEYroomSubscribe}EntityEvents`}ROOM_UNSUBSCRIBE_ENTITY_UPDATE_EVENTS(e){return`${e}:${this.KEYroomUnsubscribe}EntityEvents`}ROOM_NAME_UPDATE_ENTITY_PROPERTY(e,t,r,i){return`${e}:room${Mv(t)}${Mv(r)}${i}`.toLowerCase()}ROOM_SUBSCRIBE_ENTITY_PROPERTY_UPDATE_EVENTS(e){return`${e}:${this.KEYroomSubscribe}EntityPropertyEvents`}ROOM_UNSUBSCRIBE_ENTITY_PROPERTY_UPDATE_EVENTS(e){return`${e}:${this.KEYroomUnsubscribe}EntityPropertyEvents`}},af=Symbol(),cf=En.ClassNameStaticProperty,kR="$$fullclassName$$",_m=mR;var _tt="$$classMethodsNames$$",xn=new BR,kn={className:"class:realname",options:{controller:"controller:options",entity:"entity:options",repository:"repository:options",provider:"provider:options",subscriber:"subscriber:options",migration:"migration:options"}},qt={HAS_TABLE_IN_DB:Symbol(),MDC_KEY:"modeldataconfig",WEBSQL_REST_PROGRESS_FUN:Symbol(),WEBSQL_REST_PROGRESS_FUN_START:Symbol(),WEBSQL_REST_PROGRESS_FUN_DONE:Symbol(),WEBSQL_REST_PROGRESS_TIMEOUT:Symbol(),X_TOTAL_COUNT:"x-total-count",CIRCURAL_OBJECTS_MAP_BODY:"circuralmapbody",CIRCURAL_OBJECTS_MAP_QUERY_PARAM:"circuralmapbody",MAPPING_CONFIG_HEADER:"mappingheader",MAPPING_CONFIG_HEADER_BODY_PARAMS:"mhbodyparams",MAPPING_CONFIG_HEADER_QUERY_PARAMS:"mhqueryparams",ENDPOINT_META_CONFIG:"ng2_rest_endpoint_config",CLASS_DECORATOR_CONTEXT:"$$ng2_rest_class_context",SOCKET_MSG:"socketmessageng2rest",ANGULAR:{INPUT_NAMES:Symbol()},ERROR_MESSAGES:{CLASS_NAME_MATCH:'Please check if your "class name" matches  @Controller( className ) or @Entity( className )'}},vtt=(n,e)=>(setTimeout(()=>{if(ut(n))throw`[Taon]
      Please provide "className" property for each Controller and Entity:

          @Taon.Controller({ className: 'MyExampleCtrl'  })
          class MyExampleCtrl {
            ...
          }

          @Taon.Entity({ className: 'MyExampleEntity'  })
          class MyExampleEntity {
            ...
          }

    Notice that minified javascript code does not preserve
    Functions/Classes names -this is only solution to preserve classes names.

        `}),ut(n)?e.name:n);var Ett=(n,e)=>{if(ut(n))throw`Bad update by id, config, id: ${e}`},iw=n=>{if(ut(n)||Md(n))return;if(n.constructor)return n.constructor;let e=Object.getPrototypeOf(n);return e&&e.constructor&&e.constructor.name!=="Object"?e.constructor:void 0},rt=n=>{if(n instanceof FormData)return"FormData";if(!n)throw console.error("OBJECT OR CLASS",n),new Error("Cannot get name from this object or class.");return(n[cf]?n[cf]:n?.constructor[cf])||(At(n)?Ye.getName(n):void 0)},qR=n=>{let e=n[_m];return e?qR(e):n};var Sce=n=>{let e=At(n)?n:n.constructor;return Reflect.getMetadata(kn.options.entity,e).uniqueKeyProp};var Hl=(n,e)=>{vtt(e,n),n[cf]=e};var wtt=["length","name","arguments","caller","constructor","apply","bind","call","toString","__defineGetter__","__defineSetter__","hasOwnProperty","__lookupGetter__","__lookupSetter__","isPrototypeOf","propertyIsEnumerable","valueOf","__proto__","toLocaleString"],Ctt=n=>(e,t,r)=>{Promise.resolve(n(e,t,r)).catch(r)},Ace=(n,e=[])=>{if(!n)return Pv(e);let t=At(n),r=t?n:Object.getPrototypeOf(n),i=t?n?.prototype:n,s=Object.getPrototypeOf(i||{});return Rv([...Object.getOwnPropertyNames(i||{}),...Object.getOwnPropertyNames(s||{}),...Object.keys(i||{}),...Object.keys(s||{})]).filter(a=>!!a&&!wtt.includes(a)).filter(a=>typeof i[a]=="function").forEach(a=>e.push(a)),!r||!r.constructor||r?.constructor?.name==="Object"?Pv(e):Ace(Object.getPrototypeOf(r),e)},Nce=(n,e=[],t)=>{if(!At(n))throw`[typescript-class-helper][getControllerConfigs] Cannot get class config from: ${n}`;let r,i=Object.getPrototypeOf(n),s=i?rt(i):void 0,o=At(i)&&s!=="";return r=btt(Dtt(n)),e.push(r),o?Nce(i,e,n):e},Ice=n=>{let e=Reflect.getOwnMetadata(kn.options.controller,n);if(!e){e={methods:{}};let t=Object.getPrototypeOf(n);if(t&&t!==Function.prototype){let r=Reflect.getMetadata(kn.options.controller,t);if(r){let i={};for(let[s,o]of Object.entries(r.methods))i[s]=$e(K({},o),{parameters:K({},o.parameters)});e=$e(K({},r),{methods:i})}}Reflect.defineMetadata(kn.options.controller,e,n)}return e},Mce=(n,e)=>{let t=Ice(n.constructor),r=t.methods[e?.toString()];return r||(r={methodName:e?.toString(),parameters:{}},t.methods[e?.toString()]=r),r},Dtt=n=>Reflect.getMetadata(kn.options.controller,n),jR=class{constructor(e){this.ctx=e,this.DEFAULT_MIGRATION_TABLE_NAME="TAON_MIGRATION_META",this.MIGRATION_STATUS_COMPLETED="completed",this.MIGRATION_STATUS_PENDING="pending",this.table=new fa({name:this.DEFAULT_MIGRATION_TABLE_NAME,columns:[{name:"id",type:"integer",isPrimary:!0,isGenerated:!0,generationStrategy:"increment"},{name:"name",type:"varchar",length:"255",isUnique:!0,isNullable:!1},{name:"context",type:"varchar",length:"255",isNullable:!1},{name:"applied_at",type:"timestamp",default:"CURRENT_TIMESTAMP",isNullable:!0},{name:"status",type:"varchar",length:"50",default:`'${this.MIGRATION_STATUS_COMPLETED}'`,isNullable:!1}]})}async ensureMigrationTableExists(){if(this.ctx.isRemoteHost||!this.ctx.connection)return;let e=this.ctx.connection.createQueryRunner();if(await e.connect(),await e.startTransaction(),await e.hasTable(this.DEFAULT_MIGRATION_TABLE_NAME)){this.ctx.logMigrations&&console.log(`Table ${this.DEFAULT_MIGRATION_TABLE_NAME} already exists.`),await e.commitTransaction(),await e.release();return}try{await e.createTable(this.table),await e.createIndex(this.DEFAULT_MIGRATION_TABLE_NAME,new lc({name:"IDX_NAME",columnNames:["name"]})),await e.commitTransaction()}catch(r){this.ctx.logMigrations&&console.error("Transaction failed [ensureMigrationTableExists], rolling back:",r),await e.rollbackTransaction()}finally{await e.release()}}async logSelectALl(e,t){console.log(e,(await t.query(`SELECT * FROM ${this.DEFAULT_MIGRATION_TABLE_NAME} WHERE context = $1`,[this.ctx.contextName])).map(r=>r.name))}async revertMigrationToTimestamp(e){if(this.ctx.isRemoteHost||!this.ctx.connection)return;SI(e)||AI(`Invalid timestamp provided for migration revert: ${e}`);let r=this.ctx.getClassFunByArr(je.MIGRATION).reverse().map(s=>Number(lae(rt(s)))<=e?null:this.ctx.getInstanceBy(s)).filter(s=>!!s).map(s=>s).filter(s=>s.isReadyToRun()),i=this.ctx.connection.createQueryRunner();await i.connect();try{await i.startTransaction();let o=(await i.query(`SELECT name FROM ${this.DEFAULT_MIGRATION_TABLE_NAME}
         WHERE status = $1 AND context = $2`,[this.MIGRATION_STATUS_COMPLETED,this.ctx.contextName])).map(a=>a.name);for(let a of r){let c=rt(a);if(!o.includes(c)){this.ctx.logMigrations&&console.warn(`Skipping migration not marked as applied: ${c}`);continue}this.ctx.logMigrations&&console.log(`Reverting migration: ${c} , context: ${this.ctx.contextName}`),await a.down(i),await i.query(`DELETE FROM ${this.DEFAULT_MIGRATION_TABLE_NAME} WHERE name = $1`,[c])}await i.commitTransaction(),this.ctx.logMigrations&&console.log(`Migrations successfully reverted to the specified timestamp ${e} .`)}catch(s){this.ctx.logMigrations&&console.error("Transaction failed, rolling back:",s),await i.rollbackTransaction()}finally{await i.release()}}async clearMigrationTable(){if(this.ctx.isRemoteHost||!this.ctx.connection)return;let e=this.ctx.connection.createQueryRunner();await e.connect(),await e.startTransaction();try{await e.clearTable(this.DEFAULT_MIGRATION_TABLE_NAME),await e.commitTransaction()}catch(t){this.ctx.logMigrations&&console.error("Transaction failed, rolling back:",t),await e.rollbackTransaction()}finally{await e.release()}}async markAllMigrationsAsApplied(){if(this.ctx.isRemoteHost||!this.ctx.connection)return;let t=this.ctx.getClassFunByArr(je.MIGRATION).map(i=>this.ctx.getInstanceBy(i)).map(i=>i).filter(i=>i.isReadyToRun()),r=this.ctx.connection.createQueryRunner();await r.connect();try{await r.startTransaction();let s=(await r.query(`SELECT name FROM ${this.DEFAULT_MIGRATION_TABLE_NAME}`)).map(o=>o.name);for(let o of t){let a=rt(o);if(s.includes(a)){this.ctx.logMigrations&&console.log(`Skipping already applied migration: ${a}`);continue}this.ctx.logMigrations&&console.log(`Marking migration as applied: ${a}`),await r.query(`INSERT INTO ${this.DEFAULT_MIGRATION_TABLE_NAME} (name, status, context, applied_at) VALUES ($1, $2, $3, CURRENT_TIMESTAMP)`,[a,this.MIGRATION_STATUS_COMPLETED,o.ctx.contextName])}await r.query(`UPDATE ${this.DEFAULT_MIGRATION_TABLE_NAME}
         SET status = $1, applied_at = CURRENT_TIMESTAMP
         WHERE status = $2`,[this.MIGRATION_STATUS_COMPLETED,this.MIGRATION_STATUS_PENDING]),await r.commitTransaction(),this.ctx.logMigrations&&console.log("All migrations marked as applied.")}catch(i){this.ctx.logMigrations&&console.error("Failed to mark all migrations as applied, rolling back:",i),await r.rollbackTransaction()}finally{await r.release()}}async runAllNotCompletedMigrations(){if(this.ctx.isRemoteHost||!this.ctx.connection)return;let t=this.ctx.getClassFunByArr(je.MIGRATION).map(i=>this.ctx.getInstanceBy(i)).map(i=>i).filter(i=>i.isReadyToRun()),r=this.ctx.connection.createQueryRunner();await r.connect();try{await r.startTransaction();let i=await r.query(`SELECT name, status FROM ${this.DEFAULT_MIGRATION_TABLE_NAME} WHERE context = $1`,[this.ctx.contextName]),s=i.filter(o=>o.status===this.MIGRATION_STATUS_PENDING);for(let o of s){let a=t.find(c=>rt(c)===o.name);if(!a){this.ctx.logMigrations&&console.warn(`Pending migration ${o.name} not found in loaded migrations.`);continue}this.ctx.logMigrations&&console.log(`Completing pending migration: ${o.name}`),await a.up(r),await r.query(`UPDATE ${this.DEFAULT_MIGRATION_TABLE_NAME}
           SET status = $1, applied_at = CURRENT_TIMESTAMP
           WHERE name = $2`,[this.MIGRATION_STATUS_COMPLETED,o.name])}for(let o of t){let a=rt(o);if(i.some(c=>c.name===a)){this.ctx.logMigrations&&console.log(`Skipping already applied migration: ${a}`);continue}this.ctx.logMigrations&&console.log(`Applying new migration: ${a}`),await r.query(`INSERT INTO ${this.DEFAULT_MIGRATION_TABLE_NAME} (name, status, context, applied_at) VALUES ($1, $2, $3, NULL)`,[a,this.MIGRATION_STATUS_PENDING,this.ctx.contextName]);try{await o.up(r),await r.query(`UPDATE ${this.DEFAULT_MIGRATION_TABLE_NAME} SET status = '${this.MIGRATION_STATUS_COMPLETED}', applied_at = CURRENT_TIMESTAMP WHERE name = $1`,[a])}catch(c){throw this.ctx.logMigrations&&console.error(`Failed to apply migration: ${a}`,c),await r.query(`DELETE FROM ${this.DEFAULT_MIGRATION_TABLE_NAME} WHERE name = $1`,[a]),c}}await r.commitTransaction()}catch(i){this.ctx.logMigrations&&console.error("Transaction failed, rolling back:",i),await r.rollbackTransaction()}finally{await r.release()}}},UR=class n{static{this.instances=new Map}static resolve(e){if(n.instances.has(e))return n.instances.get(e);let t=[],r=new e(...t);return n.instances.set(e,r),r}static inject(e){return new Proxy({},{get:(t,r)=>{let i=n.instances.get(e)||n.resolve(e);return typeof i[r]=="function"?i[r].bind(i):i[r]},set:(t,r,i)=>{let s=n.instances.get(e)||n.resolve(e);return s[r]=i,!0}})}},xtt=(n,e)=>{let{req:t,res:r}=e||{};return new Promise(async(i,s)=>{if(typeof n=="function"){let o=n;try{let a=await o(t,r);i(a)}catch(a){s(a)}}else s(`[taon] Not recognized type of response ${n}`)})},Ttt=(n,e)=>Joe(e,t=>n.charAt(t)?n.charAt(t):" ").join(""),wce=n=>n&&typeof n=="string"&&n.trim()!=="";var Stt=(n,e)=>typeof e=="string"?`${n.calculatedPath}${e}`.replace(/\/$/,""):`${n.calculatedPath}${e.path}`.replace(/\/$/,"");var Att=(n,e,t)=>["response",rt(n),e.methodName,e.type,t].join("--"),Ntt=(n,e,t)=>["request",rt(n),e.methodName,e.type,t].join("--"),Cce=n=>({request:{},response:{status(r){return{send(i){}}},setHeader(r,i){n[r]=i}}}),$R=class{constructor(e){this.options=e,this.isListening=!1,this.observers=[]}startListenIfNotStarted(e){if(this.options.core.ctx.disabledRealtime){console.warn("[Taon][startListenIfNotStarted] sockets are disabled");return}if(!e){console.warn("[Taon][startListenIfNotStarted] invalid socket connection");return}if(!this.isListening){if(this.isListening=!0,this.options.customEvent){let t=xn.ROOM_SUBSCRIBE_CUSTOM(this.options.core.ctx.contextName);e.emit(t,this.options.roomName)}else if(mn(this.options.property)){let t=xn.ROOM_SUBSCRIBE_ENTITY_PROPERTY_UPDATE_EVENTS(this.options.core.ctx.contextName);e.emit(t,this.options.roomName)}else{let t=xn.ROOM_SUBSCRIBE_ENTITY_UPDATE_EVENTS(this.options.core.ctx.contextName);e.emit(t,this.options.roomName)}e.on(this.options.roomName,t=>{this.update(t)})}}add(e){this.observers.push(e)}remove(e){if(this.observers=this.observers.filter(t=>t!==e),this.observers.length===0){this.isListening=!1;let{core:t,customEvent:r,roomName:i,property:s}=this.options,o=t.socketFE;r?o.emit(xn.ROOM_UNSUBSCRIBE_CUSTOM(this.options.core.ctx.contextName),i):mn(s)?o.emit(xn.ROOM_UNSUBSCRIBE_ENTITY_PROPERTY_UPDATE_EVENTS(this.options.core.ctx.contextName),i):o.emit(xn.ROOM_UNSUBSCRIBE_ENTITY_UPDATE_EVENTS(this.options.core.ctx.contextName),i)}}update(e){this.observers.forEach(t=>{t.closed||t.next(e)})}},KE=class{constructor(e){this.core=e,this.subsManagers={},this.core=e,e.ctx.disabledRealtime||this.init()}init(){let e={global:this.core.pathFor(),realtime:this.core.pathFor(xn.NAMESPACE(this.core.ctx.contextName))};this.core.ctx.config.frontendHost&&this.core.ctx.config.frontendHost!==""&&this.core.ctx.isRunningInsideDocker?(this.core.ctx.logRealtime&&NI(`[${this.core.ctx.contextName}] USING FRONTEND HOST ${this.core.ctx.config.frontendHost} FOR REALTIME`),e.global=new URL(`${this.core.ctx.frontendHostUri.origin}${e.global.pathname}`),e.realtime=new URL(`${this.core.ctx.frontendHostUri.origin}${e.realtime.pathname}`)):this.core.ctx.logRealtime&&NI(`[${this.core.ctx.contextName}] Not using frontend host for realtime`),this.core.ctx.logRealtime&&console.info("[CLIENT] NAMESPACE GLOBAL ",e.global.href+` host: ${this.core.ctx.host}`),this.core.ctx.logRealtime&&console.info("[CLIENT] NAMESPACE REALTIME",e.realtime.href+` host: ${this.core.ctx.host}`),this.core.conectSocketFE=this.core.strategy.ioClient(e.global.origin,{path:e.global.pathname}),this.core.conectSocketFE.on&&this.core.conectSocketFE.on("connect",()=>{this.core.ctx.logRealtime&&console.info(`[CLIENT] connected to GLOBAL namespace ${e.global.pathname} of host: ${this.core.ctx.host}`)}),this.core.socketFE=this.core.strategy.ioClient(e.realtime.origin,{path:e.realtime.pathname}),this.core.socketFE.on&&this.core.socketFE.on("connect",()=>{this.core.ctx.logRealtime&&console.info(`[CLIENT] connected to REALTIME namespace ${e.realtime.pathname} host: ${this.core.ctx.host}`)})}listenChangesEntity(e,t){if(t=t||{},Ut(e)){let o=e;e=iw(e);let a=Sce(e);a&&(t.idOrUniqValue=o[a])}let{property:r,customEvent:i}=t,s=!i&&rt(e);if(mn(r)&&r.trim()==="")throw new Error(`[Taon][listenChangesEntity.. incorrect property '' for ${s}`);return new et(o=>{if(this.core.ctx.disabledRealtime)return console.error(`[Taon][realtime rxjs] remove taon config flag:

        ...
        disabledRealtime: true
        ...

to use socket realtime connection;
        `),()=>{};let a;i?a=xn.ROOM_NAME_CUSTOM(this.core.ctx.contextName,i):a=mn(r)?xn.ROOM_NAME_UPDATE_ENTITY_PROPERTY(this.core.ctx.contextName,s,r,t.idOrUniqValue):xn.ROOM_NAME_UPDATE_ENTITY(this.core.ctx.contextName,s,t.idOrUniqValue);let c={core:this.core,property:r,roomName:a,customEvent:i},l=this.getUniqueIdentifierForConnection(c);this.subsManagers[l]||(this.subsManagers[l]=new $R(c));let d=this.subsManagers[l];return d.add(o),d.startListenIfNotStarted(this.core.socketFE),()=>{d.remove(o)}})}listenChangesEntityTable(e){let t=rt(e);return this.listenChangesEntity(e,{customEvent:xn.TABLE_CHANGE(this.core.ctx.contextName,t)})}listenChangesCustomEvent(e){return this.listenChangesEntity(void 0,{customEvent:e})}triggerCustomEvent(e,t){this.core.socketFE.emit(e,t)}getUniqueIdentifierForConnection(e){let t=new URL(e.core.ctx.host);return`${e.core.ctx.contextNameForCommunication}:${t.origin}|${e.roomName}|${e.property}|${e.customEvent}`}},JE=class{constructor(e){this.core=e,this.core=e,!(e.ctx.disabledRealtime||this.core.ctx.isRemoteHost)&&this.init()}init(){this.core.ctx.config.frontendHost||console.warn(`[Taon][Realtime]

      Frontend host is not defined
      REALTIME COMMUNICATION WILL NOT WORK

      provide "frontendHost" property in your taon config

      `);let e=this.core.pathFor(),t=this.core.pathFor(xn.NAMESPACE(this.core.ctx.contextName)),r={origin:this.core.ctx.frontendHostUri.origin,methods:this.core.allHttpMethods};this.core.connectSocketBE=this.core.strategy.ioServer(Do?this.core.ctx.uriOrigin:this.core.ctx.serverTcpUdp,{path:e.pathname,cors:r},this.core.ctx),this.core.ctx.logRealtime&&console.info(`[backend] CREATE GLOBAL NAMESPACE: '${this.core.connectSocketBE.path()}' , path: '${e.pathname}'`),this.core.connectSocketBE.on("connection",i=>{this.core.ctx.logRealtime&&console.info(`[backend] client connected to namespace "${e.pathname}",  host: ${this.core.ctx.host}`)}),this.core.socketBE=this.core.strategy.ioServer(Do||Rl?this.core.ctx.uriOrigin:this.core.ctx.serverTcpUdp,{path:t.pathname,cors:r},this.core.ctx),this.core.ctx.logRealtime&&console.info(`[backend] CREATE REALTIME NAMESPACE: '${this.core.socketBE.path()}' , path: '${t.pathname}' `),this.core.socketBE.on("connection",i=>{this.core.ctx.logRealtime&&console.info(`[backend] client connected to namespace "${t.pathname}",  host: ${this.core.ctx.host}`),i.on(xn.ROOM_SUBSCRIBE_CUSTOM(this.core.ctx.contextName),s=>{this.core.ctx.logRealtime&&console.info(`Joining room ${s} in namespace  REALTIME host: ${this.core.ctx.contextName}/${this.core.ctx.host}`),i.join(s)}),i.on(xn.ROOM_SUBSCRIBE_ENTITY_UPDATE_EVENTS(this.core.ctx.contextName),s=>{this.core.ctx.logRealtime&&console.info(`[backend] Joining room ${s} in namespace  REALTIME host: ${this.core.ctx.contextName}/${this.core.ctx.host}`),i.join(s)}),i.on(xn.ROOM_SUBSCRIBE_ENTITY_PROPERTY_UPDATE_EVENTS(this.core.ctx.contextName),s=>{this.core.ctx.logRealtime&&console.info(`[backend] Joining room ${s} in namespace REALTIME  host: ${this.core.ctx.contextName}/${this.core.ctx.host}`),i.join(s)}),i.on(xn.ROOM_UNSUBSCRIBE_CUSTOM(this.core.ctx.contextName),s=>{this.core.ctx.logRealtime&&console.info(`[backend] Leaving room ${s} in namespace  REALTIME host: ${this.core.ctx.contextName}/${this.core.ctx.host}`),i.leave(s)}),i.on(xn.ROOM_UNSUBSCRIBE_ENTITY_UPDATE_EVENTS(this.core.ctx.contextName),s=>{this.core.ctx.logRealtime&&console.info(`[backend] Leaving room ${s} in namespace REALTIME  host: ${this.core.ctx.contextName}/${this.core.ctx.host}`),i.leave(s)}),i.on(xn.ROOM_UNSUBSCRIBE_ENTITY_PROPERTY_UPDATE_EVENTS(this.core.ctx.contextName),s=>{this.core.ctx.logRealtime&&console.info(`[backend] Leaving room ${s} in namespace REALTIME  host: ${this.core.ctx.contextName}/${this.core.ctx.host}`),i.leave(s)})})}triggerChanges(e,t,r,i,s){let o;if(!(this.core.ctx.disabledRealtime||this.core.ctx.isRemoteHost)){if(i)o=xn.ROOM_NAME_CUSTOM(this.core.ctx.contextName,i);else{let a=e,c=!At(e)&&Ut(e);c&&(a=iw(e));let l=Sce(a);if(c&&(r=e[l]),!r){$p(`[Taon][Realtime] Entity without iD ! ${rt(a)} `,!0,!0);return}o=mn(t)?xn.ROOM_NAME_UPDATE_ENTITY_PROPERTY(this.core.ctx.contextName,rt(a),t,r):xn.ROOM_NAME_UPDATE_ENTITY(this.core.ctx.contextName,rt(a),r)}this.core.socketBE.in(o).emit(o,i?s:"")}}triggerEntityChanges(e,t){if(this.core.ctx.disabledRealtime){let r=rt(e);console.warn(`[Taon][TriggerEntityChanges] Entity "${r}' is not realtime`);return}this.triggerChanges(e,void 0,t)}triggerEntityPropertyChanges(e,t,r){if(this.core.ctx.disabledRealtime){let i=rt(e);console.warn(`[Taon][TriggerEntityPropertyChanges][property=${t}] Entity "${i}' is not realtime`);return}An(t)?t.forEach(i=>{this.triggerChanges(e,i,r)}):this.triggerChanges(e,t,r)}triggerEntityTableChanges(e){let t=rt(e);if(this.core.ctx.disabledRealtime){console.warn(`[Taon][TriggerEntityTableChanges] Entity "${t}' is not realtime`);return}this.triggerChanges(e,void 0,void 0,xn.TABLE_CHANGE(this.core.ctx.contextName,t))}triggerCustomEvent(e,t){this.triggerChanges(void 0,void 0,void 0,e,t)}listenChangesCustomEvent(e){let t=new Ke;return this.core.socketBE.on("connection",r=>{r.on(e,(i,...s)=>{t.next(i)})}),t.asObservable()}},Em=class{constructor(e){this.ctx=e}get ioClient(){throw new Error("Not implemented")}ioServer(e,t){throw new Error("Not implemented")}},VR=class n{static{this.serverByContextName=new Map}static from(e){return n.serverByContextName.has(e)||n.serverByContextName.set(e,new n(e)),n.serverByContextName.get(e)}constructor(e){this.contextName=e,this.namespacesByName=new Map,n.serverByContextName.set(e,this)}of(e){return this.namespacesByName.has(e)||this.namespacesByName.set(e,new HR(e,this)),this.namespacesByName.get(e)}},HR=class{constructor(e,t){this.name=e,this.server=t,this.electronClients=new Set,this.roomsByRoomName={},this.namespaceEventHandlers={}}on(e,t){}off(e,t){}emit(e,...t){}to(e){let t=this.roomsByRoomName[e];return new YE(t,this.name,!0)}in(e){let t=this.roomsByRoomName[e];return new YE(t,this.name,!1)}join(e,t){this.roomsByRoomName[t]||(this.roomsByRoomName[t]=new Set),this.roomsByRoomName[t].add(e)}leave(e,t){this.roomsByRoomName[t]&&(this.roomsByRoomName[t].delete(e),this.roomsByRoomName[t].size===0&&delete this.roomsByRoomName[t])}path(){return this.name}get nsp(){let e=this;return{get name(){return e.name}}}},YE=class{constructor(e,t,r=!1,i=null){this.electronClients=e,this.name=t,this.includeSender=r,this.sender=i}emit(e,...t){let r=`(${this.name}) "${e}"`;this.electronClients?.forEach(i=>{i.send(r,...t)})}},zR=class{get name(){return this.namespaceName}constructor(e){this.namespaceName=e,this.socketEventHandlers={},this.ipcRenderer=window.require("electron").ipcRenderer}on(e,t){this.socketEventHandlers[e]||(this.socketEventHandlers[e]=new Set),this.socketEventHandlers[e].add(t);let r=`(${this.name}) "${e}"`;if(this.ipcRenderer.on(r,(i,s)=>{t(s)}),e==="connect"){let i=`(${this.name}) "connection"`;this.ipcRenderer.send(i,this.name)}}off(e,t){if(!this.socketEventHandlers[e])return;t?this.socketEventHandlers[e].delete(t):delete this.socketEventHandlers[e];let r=`(${this.name}) "${e}"`;this.ipcRenderer.removeListener(r,i=>{t(i)})}emit(e,...t){let r=`(${this.name}) "${e}"`;this.ipcRenderer.send(r,...t)}},WR=class extends Em{toString(){return"ipc"}constructor(e){super(e),this.ctx=e}ioServer(e,t){let r=t?.path||"/";return VR.from(this.ctx.contextName).of(r)}get ioClient(){return(t,r)=>{let i=r?.path||"/";return new zR(i)}}},ZE=class n{static{this.serverByUrl=new Map}static from(e){return n.serverByUrl.has(e)||n.serverByUrl.set(e,new n(e)),n.serverByUrl.get(e)}get allServers(){return Array.from(n.serverByUrl.values())}constructor(e){this.url=e,this.namespacesByName=new Map,n.serverByUrl.set(e,this)}of(e){return this.namespacesByName.has(e)||this.namespacesByName.set(e,new GR(e,this)),this.namespacesByName.get(e)}path(){return this.url}},GR=class{constructor(e,t){this.name=e,this.server=t,this.allSocketsForNamespace=new Set,this.socketByRoomName={},this.namespaceEventHandlers={}}on(e,t){this.namespaceEventHandlers[e]||(this.namespaceEventHandlers[e]=new Set),this.namespaceEventHandlers[e].has(t)||this.namespaceEventHandlers[e].add(t),e==="connection"&&setTimeout(()=>{this.emit("connection",this)})}emit(e,...t){this.allSocketsForNamespace?.forEach(r=>{r.emit(e,...t)})}connect(e){this.allSocketsForNamespace.add(e),e.namespaceInstance=this}to(e){let t=this.socketByRoomName[e];return new XE(t,!0)}in(e){let t=this.socketByRoomName[e];return new XE(t,!1)}joinRoom(e,t){this.socketByRoomName[e]||(this.socketByRoomName[e]=new Set),this.socketByRoomName[e].add(t)}leaveRoom(e,t){this.socketByRoomName[e]&&this.socketByRoomName[e].delete(t)}get nsp(){let e=this;return{get name(){return e.name}}}path(){return this.name}},XE=class{constructor(e,t=!1,r=null){this.sockets=e,this.includeSender=t,this.sender=r}emit(e,...t){this.sockets?.forEach(r=>{(this.includeSender||r!==this.sender)&&r.emit(e,...t)})}},QR=class{get id(){return this.nsp.name}constructor(e,t){this.url=e,this.socketEventHandlers={};let[r,i]=[e,t.path||"/"],s=i||"/";ZE.from(e).of(s).connect(this)}get nsp(){let e=this;return{get name(){return e.namespaceInstance?.name}}}path(){return this.namespaceInstance?.name}on(e,t){this.socketEventHandlers[e]||(this.socketEventHandlers[e]=new Set),this.socketEventHandlers[e].add(t),e==="connect"&&setTimeout(()=>{this.emit("connect")})}emit(e,...t){if(e=e||"",e.includes(`:${xn.KEYroomSubscribe}`)){let r=t[0];this.join(r)}else if(e.includes(`:${xn.KEYroomUnsubscribe}`)){let r=t[0];this.leave(r)}else if(this.namespaceInstance){let r=this.namespaceInstance.namespaceEventHandlers[e]||[];for(let o of r)o&&o(...t);let i=Array.from(this.namespaceInstance.allSocketsForNamespace.values()).filter(o=>o!==this);for(let o of i){let a=o.socketEventHandlers[e];for(let c of a)c&&c(...t)}let s=this.socketEventHandlers[e]||[];for(let o of s)o&&o(...t)}}join(e){this.namespaceInstance.joinRoom(e,this)}leave(e){this.namespaceInstance.leaveRoom(e,this)}},KR=class extends Em{toString(){return"mock"}constructor(e){super(e),this.ctx=e}ioServer(e,t){return ZE.from(e||this.ctx.uriOrigin).of(t?.path||"/")}get ioClient(){return(t,r)=>new QR(t||this.ctx.uriOrigin,r)}},JR=class extends Em{toString(){return"socket-io"}constructor(e){super(e),this.ctx=e}ioServer(...e){}get ioClient(){return gm}},YR=class{constructor(e){this.ctx=e,this.allHttpMethods=["GET","POST","PUT","DELETE","PATCH","OPTIONS","HEAD"],this.ctx=e,this.strategy=this.resolveStrategy(),Do?(this.server=new JE(this),this.client=new KE(this)):(this.client=new KE(this),this.server=new JE(this))}resolveStrategy(){return this.ctx.mode==="backend-frontend(websql)"||this.ctx.mode==="backend-frontend(websql-electron)"?new KR(this.ctx):this.ctx.mode==="backend-frontend(ipc-electron)"?new WR(this.ctx):new JR(this.ctx)}pathFor(e){let t=e||"";t=t==="/"?"":t;let r=this.ctx.contextNameForCommunication,i=`${QE}/${r}/udp`;Rl&&(i="");let s=`${this.ctx.uriOrigin}${this.ctx.uriPathnameOrNothingIfRoot}/${i}${i&&t?"-"+t:t}`;return new URL(s)}},Itt=globalThis.ENV,ew=class n{static get Instance(){return this._instance||(this._instance=new n),this._instance}constructor(){this.scrollableEnabled=!1,this.onEditMode=new Ke,this.onEditMode$=this.onEditMode.asObservable(),this.enabledTabs=[],n._instance=this,this.scrollableEnabled=!!Itt?.useGlobalNgxScrollbar}setEditMode(e){this.onEditMode.next(e)}setKeepWebsqlDbDataAfterReload(e){this.keepWebsqlDbDataAfterReload=e}hide(){this.draggablePopupMode=!1,this.adminPanelIsOpen=!1}show(){this.draggablePopupMode=!1,this.adminPanelIsOpen=!0}logout(){}};var ZR=class{get sourceContext(){return this.cloneOptions?.sourceContext}get isRunOrRevertOnlyMigrationAppStart(){return!!(this.onlyMigrationRun||this.onlyMigrationRevertToTimestamp)}get realtimeClient(){return this.realtime.client}get realtimeServer(){return this.realtime.server}get logHttp(){return Ut(this.config?.logs)?!!this.config.logs.http:this.config?.logs===!0}get logRealtime(){return Ut(this.config?.logs)?!!this.config.logs.realtime:this.config?.logs===!0}get logFramework(){return Ut(this.config?.logs)?!!this.config.logs.framework:this.config?.logs===!0}get logRoutes(){return Ut(this.config?.logs)?!!this.config.logs.routes:this.config?.logs===!0}get logDb(){return Ut(this.config?.logs)?!!this.config.logs.db:this.config?.logs===!0}get logMigrations(){return Ut(this.config?.logs)?!!this.config.logs.migrations:this.config?.logs===!0}constructor(e,t,r){this.originalConfig=e,this.configFn=t,this.cloneOptions=r,this.USE_MARIADB_MYSQL_IN_DOCKER=!1,this.disabledRealtime=!1,this.inited=!1,this.dbMigrations=new jR(this),this.localInstaceObjSymbol=Symbol("localInstaceObjSymbol"),this.allClassesInstances={},this.classInstancesByNameObj={},this.objWithClassesInstancesArr={},this.activeRoutes=[],this.repos=new Map,this.skipWritingServerRoutes=!1,this.injectableTypesfromContexts=[je.CONTROLLER,je.PROVIDER,je.MIDDLEWARE,je.REPOSITORY,je.SUBSCRIBER,je.MIGRATION],this.allTypesfromContexts=[...this.injectableTypesfromContexts,je.ENTITY],this.expressApp={},this.onlyMigrationRun=!1,this.onlyMigrationRevertToTimestamp=void 0,this.entitiesTriggers={},this.isRunningInsideDocker=!1,this.cloneClassWithNewMetadata=({TaonBaseClass:i,className:s,config:o,ctx:a,classType:c})=>(()=>{var h,p,b,v,x;return i[kR]===`${a.contextName}.${s}`?i:class extends i{constructor(){super(...arguments),this[x]=a}static{h=_m,p=kR,b=cf,v=af,x=af}static{this[h]=i}static{this[p]=`${a.contextName}.${s}`}static{this[b]=s}static{this[v]=a}static __getFullPathForClass__(N=[]){let k=this[kR];return N.push(k),this[_m]&&this[_m].__getFullPathForClass__&&this[_m].__getFullPathForClass__(N),N.join("/")}static get fullPathForClass(){return this.__getFullPathForClass__()}}})(),this.cloneClassesObjWithNewMetadata=({classesInput:i,config:s,ctx:o,classType:a})=>{let c={};for(let d of Object.keys(i||{})){let h=i[d];h||$p(`Class ${d} is not defined in context ${o.contextName}

        Please check if you have correct import in context file

        `);var l=Reflect.getMetadata(kn.className,h);l=l||d,h[cf]=l;let p=this.cloneClassWithNewMetadata({TaonBaseClass:h,className:l,config:s,ctx:o,classType:a});c[l]=p}return c},this.cloneOptions=this.cloneOptions||{},this.isRunningInsideDocker=TI()}async init(e){let{initFromRecrusiveContextResovle:t,onlyMigrationRun:r,onlyMigrationRevertToTimestamp:i}=e||{};if(this.inited=!0,this.onlyMigrationRun=r,this.onlyMigrationRevertToTimestamp=i,this.config=this.configFn({}),Ut(this.config.database)&&(this.config.database=dc.from(this.config.database).databaseConfigTypeORM),this.config.host=this.host===null?void 0:this.host,this.cloneOptions.overrideHost&&!this.cloneOptions.useAsRemoteContext&&(this.config.host=this.cloneOptions.overrideHost),this.cloneOptions.overrideRemoteHost&&this.cloneOptions.useAsRemoteContext&&(this.config.host=this.cloneOptions.overrideRemoteHost),this.config.host&&!this.config.host.startsWith("http://")&&!this.config.host.startsWith("https://")&&AI(`[taon-config] Your${this.host?" remote":""} 'host' must start with http:// or https://`),ut(this.config.useIpcWhenElectron)&&(this.config.useIpcWhenElectron=!0),this.skipWritingServerRoutes=Id(this.config.skipWritingServerRoutes)?this.config.skipWritingServerRoutes:!1,this.config.host&&(this.mode="backend-frontend(tcp+udp)",this.mode="backend-frontend(websql)"),this.isRemoteHost&&(this.mode="remote-backend(tcp+udp)"),this.config.useIpcWhenElectron&&Rl&&(Do?this.mode="backend-frontend(websql-electron)":this.mode="backend-frontend(ipc-electron)"),!this.mode&&!this.config.abstract&&$p(`[taon][Context=${this.contextName}]: You need to provide host property or useIpcWhenElectron or mark it as abstract`,!1,!0),this.config.database===!0?(this.logFramework&&console.log(`

        ASSIGNING AUTO GENERATED DATABASE CONFIG

        `),this.databaseConfig=this.getAutoGeneratedConfig()):Ut(this.config.database)&&(this.logFramework&&console.log(`

        OVERRIDE DATABASE CONFIG FROM CONFIGURATION

        `),this.databaseConfig=this.getAutoGeneratedConfig(),ic.Object(this.config.database,(s,o)=>{Il(s)||At(s)||Ut(s)||(this.logFramework&&console.info(`Overriding database config: ${o}=${s}`),Qi(this.databaseConfig,o,s))},{walkGetters:!1})),this.config.session){this.session=Wi(this.config.session);let s=1e3*60*60*1;this.session.cookieMaxAge||(this.session.cookieMaxAge=s),Nl.defaults.withCredentials=!0}this.config.contexts=this.config.contexts||{},this.config.entities=this.config.entities||{},this.config.controllers=this.config.controllers||{},this.config.repositories=this.config.repositories||{},this.config.providers=this.config.providers||{},this.config.subscribers=this.config.subscribers||{},this.config.migrations=this.config.migrations||{},this.config.entities=K(K({},await this.getRecrusiveClassesfromContextsObj(je.ENTITY)),this.config.entities),this.config.controllers=K(K({},await this.getRecrusiveClassesfromContextsObj(je.CONTROLLER)),this.config.controllers),this.config.providers=K(K({},await this.getRecrusiveClassesfromContextsObj(je.PROVIDER)),this.config.providers),this.config.middlewares=K(K({},await this.getRecrusiveClassesfromContextsObj(je.MIDDLEWARE)),this.config.middlewares),this.config.subscribers=K(K({},await this.getRecrusiveClassesfromContextsObj(je.SUBSCRIBER)),this.config.subscribers),this.config.repositories=K(K({},await this.getRecrusiveClassesfromContextsObj(je.REPOSITORY)),this.config.repositories),this.config.migrations=K(K({},await this.getRecrusiveClassesfromContextsObj(je.MIGRATION)),this.config.migrations),this.config.controllers=this.cloneClassesObjWithNewMetadata({classesInput:this.config.controllers,config:this.config,ctx:this,classType:je.CONTROLLER}),this.config.repositories=this.cloneClassesObjWithNewMetadata({classesInput:this.config.repositories,config:this.config,ctx:this,classType:je.REPOSITORY}),this.config.providers=this.cloneClassesObjWithNewMetadata({classesInput:this.config.providers,config:this.config,ctx:this,classType:je.PROVIDER}),this.config.middlewares=this.cloneClassesObjWithNewMetadata({classesInput:this.config.middlewares,config:this.config,ctx:this,classType:je.MIDDLEWARE}),this.config.subscribers=this.cloneClassesObjWithNewMetadata({classesInput:this.config.subscribers,config:this.config,ctx:this,classType:je.SUBSCRIBER}),this.config.migrations=this.cloneClassesObjWithNewMetadata({classesInput:this.config.migrations,config:this.config,ctx:this,classType:je.MIGRATION});for(let s of this.injectableTypesfromContexts)this.classInstancesByNameObj[s]={},this.objWithClassesInstancesArr[s]=[];for(let s of this.injectableTypesfromContexts)await this.createInstances(this.config[PR[s]],s);if(!this.isRunOrRevertOnlyMigrationAppStart&&(this.mode==="backend-frontend(tcp+udp)"&&!this.config.abstract&&await this.initCustomClientMiddlewares(),!this.config.abstract)){if(this.disabledRealtime=this.config.disabledRealtime,!this.host)throw`

            host is required for context initialization..
            (Or maybe you forgot mark ${this.config.contextName} context as abstract?)

          `;this.logRealtime&&xo(`[ctx=${this.contextName}] Init Realtime for ${this.mode}`),this.realtime=new YR(this)}this.config.abstract?this.logFramework&&xo(`[taon] Create abstract context: ${this.config.contextName}`):this.isRemoteHost?this.logFramework&&xo(`[taon] Create context for remote host: ${this.config.host}`):this.logFramework&&xo(`[taon] Create context for host: ${this.config.host}`),Object.keys(this.config).forEach(s=>{this.originalConfig[s]=this.config[s]})}getAutoGeneratedConfig(){this.logFramework&&console.log(`


         IS RUNNING IN DOCKER: ${this.isRunningInsideDocker}

    `);let e=dc.from({}),t=`${ytt}/db-${this.contextName}.sqlite`;if(this.isRunningInsideDocker)this.USE_MARIADB_MYSQL_IN_DOCKER||(this.logFramework&&console.log(`

          USING GENERATED CONFIG FOR SQLJS IN DOCKER

          `),e=e=dc.from({location:t,type:"sqljs",useLocalForage:!1,recreateMode:"PRESERVE_DATA+MIGRATIONS",logging:!0}));else switch(this.logFramework&&xo(`[taon][database] Automatically resolving database config for mode ${this.mode}`),this.mode){case"backend-frontend(ipc-electron)":e=dc.from({location:Rl?void 0:`db-${this.contextName}.sqlite`,type:"sqljs",recreateMode:"DROP_DB+MIGRATIONS",logging:this.logDb});break;case"backend-frontend(websql-electron)":case"backend-frontend(websql)":let i=!1;i=ew.Instance?.keepWebsqlDbDataAfterReload,e=e=dc.from({location:`db-${this.contextName}.sqlite`,type:"sqljs",useLocalForage:!0,recreateMode:i?"PRESERVE_DATA+MIGRATIONS":"DROP_DB+MIGRATIONS",logging:this.logDb});break;case"backend-frontend(tcp+udp)":e=dc.from({database:`context-db-${this.contextName}`,location:t,type:"sqljs",recreateMode:"DROP_DB+MIGRATIONS",logging:this.logDb});break}return e.databaseConfigTypeORM}async startServer(){}displayRoutes(e){}get modeAllowsDatabaseCreation(){return this.mode==="backend-frontend(tcp+udp)"||this.mode==="backend-frontend(websql)"||this.mode==="backend-frontend(ipc-electron)"}async getRecrusiveClassesfromContextsObj(e){return(await this.getRecrusiveClassesfromContexts(e)).reduce((r,i)=>(r[rt(i)]=i,r),{})}async getRecrusiveClassesfromContexts(e,t=[]){let r=Object.values(this.config.contexts||{});for(let i of r){let s=await i.__ref(),o=s.getClassFunBy(e);Object.values(this.cloneClassesObjWithNewMetadata({classesInput:o,config:this.config,ctx:this,classType:e})).forEach(c=>t.push(c)),await s.getRecrusiveClassesfromContexts(e,t)}return t}getClassInstanceObjBy(e){return this.classInstancesByNameObj[e]}getClassesInstancesArrBy(e){return this.objWithClassesInstancesArr[e]}inject(e,t){let r=rt(e),i=t.locaInstanceConstructorArgs||[];if(this.isCLassType(je.REPOSITORY,e)&&(t.localInstance=!0),t?.localInstance){let o=this.getClassFunByClassName(r),a="",c=Co(i),l=c&&c();a=l&&rt(l)||"",t.contextClassInstance[this.localInstaceObjSymbol]||(t.contextClassInstance[this.localInstaceObjSymbol]={});let d=r+(a?`.${a}`:""),h=t.contextClassInstance[this.localInstaceObjSymbol][d];if(h)return h;if(!o)throw new Error(`Not able to inject "${r}" inside context "${this.contextName}"

        Make sure they share the same context or import context where "${r}" is defined.

        `);let p=new o(...i);return t.contextClassInstance[this.localInstaceObjSymbol][d]=p,p}return this.allClassesInstances[r]}getInstanceBy(e){return this.inject(e,{localInstance:!1,parentInstanceThatWillGetInjectedStuff:this})}checkIfContextInitialized(){if(ut(this.config))throw new Error(`Please check if your context has been initialized.

      // ...
      await Context.initialize();
      // ...


      `)}getClassFunBy(e){switch(this.checkIfContextInitialized(),e){case je.CONTROLLER:return this.config.controllers;case je.ENTITY:return this.config.entities;case je.PROVIDER:return this.config.providers;case je.MIDDLEWARE:return this.config.middlewares;case je.REPOSITORY:return this.config.repositories;case je.SUBSCRIBER:return this.config.subscribers;case je.MIGRATION:return this.config.migrations}}isCLassType(e,t){return!!this.getClassFunBy(e)[rt(t)]}getClassFunByClassName(e){for(let t of this.allTypesfromContexts){let r=this.config[PR[t]];if(r[e])return r[e]}}getClassFunByClass(e){let t=rt(e);return this.getClassFunByClassName(t)}getClassFunByArr(e){return Object.values(this.getClassFunBy(e)||{})}async createInstances(e,t){for(let r of[...Object.values(e)]){let i=UR.resolve(r),s=this.classInstancesByNameObj[t],o=rt(r);s[o]=i,this.config[PR[t]][o]=r,this.objWithClassesInstancesArr[t].push(i),this.allClassesInstances[o]=i}}async initClasses(){if(!this.isRemoteHost){for(let e of this.getClassFunByArr(je.ENTITY)){let t=await this.connection.getRepository(qR(e));this.repos.set(rt(e),t)}for(let e of[je.MIDDLEWARE,je.PROVIDER,je.REPOSITORY,je.CONTROLLER,je.ENTITY,je.MIGRATION])for(let t of this.getClassFunByArr(e))At(t._)&&await t._();for(let e of[je.MIDDLEWARE,je.PROVIDER,je.REPOSITORY,je.CONTROLLER,je.MIGRATION])for(let t of this.getClassesInstancesArrBy(e))At(t._)&&await t._()}}isActiveOn(e){let t=e[af];return this===t}get frontendHostUri(){let e=this.config?.frontendHost?.startsWith("http")?this.config.frontendHost:`${globalThis?.location?.protocol||"http:"}//${this.config?.frontendHost}`;return new URL(e.replace(/\/$/,""))}get uri(){return this.host?new URL(this.host):void 0}get uriProtocol(){return this.uri?.protocol}get uriOrigin(){return this.uri?.origin}get uriPathname(){return this.uri?.pathname}get uriPathnameOrNothingIfRoot(){return this.uri?.pathname&&this.uri.pathname!=="/"?this.uri.pathname.replace(/\/$/,""):""}get uriPort(){return this.uri?.origin?.includes("localhost")?this.uri?.port:this.config?.hostPortNumber?.toString()}get port(){return this.uri?.port?Number(this.uriPort):void 0}get isHttpServer(){return this.uriProtocol==="https:"}get isRemoteHost(){return!!this.cloneOptions?.useAsRemoteContext}get contextName(){return this.config?.contextName||this.originalConfig?.contextName}get contextNameForCommunication(){let e=this.contextName;return this.isRemoteHost&&this.sourceContext?.contextName&&(e=this.sourceContext?.contextName),e}get contextType(){return this.config.abstract?"abstract":this.host?this.isRemoteHost?"remote":"normal":"invalid"}get cwd(){return this.config.cwd||process.cwd()}get activeContext(){return this.config.activeContext||null}get appId(){return this.config.appId}get publicAssets(){return this.config?.publicAssets||[]}get isProductionMode(){return this.config.productionMode}get host(){return this.config.host}get origin(){return this.uri?.origin}async initSubscribers(){if(this.isRemoteHost)return;let e=this.getClassFunByArr(je.SUBSCRIBER);for(let t of e){let r=Reflect.getMetadata(kn.options.subscriber,t);$ae()(t)}}async initEntities(){if(this.isRemoteHost)return;let e=this.getClassFunByArr(je.ENTITY);for(let t of e){let r=Reflect.getMetadata(kn.options.entity,t),i=ut(r.createTable)?!0:r.createTable,s=rt(t);i?(this.logDb&&console.info(`[taon][typeorm] create table for entity "${s}" ? '${i}'`),om(s)(t)):this.logDb&&console.info(`[taon][typeorm] create table for entity "${s}" ? '${i}'`)}}async destroy(){this.connection&&(await this.connection?.destroy(),delete this.connection),this.serverTcpUdp&&(await new Promise(e=>{this.serverTcpUdp?.close(()=>{e(!0)})}),delete this.serverTcpUdp),delete this.expressApp}async initDatabaseConnection(){if(this.isRemoteHost||!this.databaseConfig)return;let e=this.getClassFunByArr(je.ENTITY).map(s=>qR(s)),t=this.getClassFunByArr(je.SUBSCRIBER),r=!1;Il(this.databaseConfig.autoSave)?this.USE_MARIADB_MYSQL_IN_DOCKER?r=!this.isRunningInsideDocker:r=!0:r=this.databaseConfig.autoSave;let i=Ut(this.databaseConfig)?{type:this.databaseConfig.type,port:this.databaseConfig.databasePort,host:this.databaseConfig.databaseHost,database:this.databaseConfig.database,username:this.databaseConfig.databaseUsername,password:this.databaseConfig.databasePassword,useLocalForage:this.databaseConfig.useLocalForage,entities:e,subscribers:t,synchronize:this.isRunOrRevertOnlyMigrationAppStart?!1:this.databaseConfig.synchronize,autoSave:r,dropSchema:this.isRunOrRevertOnlyMigrationAppStart?!1:this.databaseConfig.dropSchema,logging:!!this.databaseConfig.logging,location:this.databaseConfig.location}:{};if(this.logFramework&&console.log(`[Context: "${this.contextName}"] dataSourceDbConfig`,i),this.modeAllowsDatabaseCreation&&this.databaseConfig){this.logDb&&this.logFramework&&xo("[taon][database] prepare typeorm connection...");try{let s=new IE(i);this.connection=s,await this.connection.initialize()}catch(s){console.error(`[taon][typeorm] Error while initializing connection for ${this.contextName}, ERROR STARTED `),console.error(s?.stack||"< No stack trace > "),console.error(s?.message||s),console.error(`[taon][typeorm] Error while initializing connection for ${this.contextName}, ERROR ENDS `)}if(!this.connection?.isInitialized)throw console.log("WRONG CONFIG",i),new Error(`Something wrong with connection init in ${this.mode}`);(this.logDb||this.logFramework)&&(console.info(`

        CONTECTION OK for ${this.contextName} - ${this.mode}

        [taon][typeorm] db prepration done.. db initialize=${this.connection?.isInitialized}


        `,{"this.connection":!!this.connection}),console.log(`Database file location: ${this.connection.options.database}`))}else xo(`[taon][typeorm] Not initing db for mode ${this.mode}`)}updateCalculatedPathsForControllers(e,t,r){let i=EI(e,1).reverse().map(o=>wce(o.path)?o.path:o.className).join("/"),s=this.contextNameForCommunication;wce(t.path)?t.calculatedPath=t.path:t.calculatedPath=`${this.uriPathnameOrNothingIfRoot}/${QE}/${s}/tcp${i}/${rt(r)}`.replace(/\/\//g,"/").split("/").reduce((o,a)=>bI(o)===a?o:[...o,a],[]).join("/")}mergeControllerMethodsConfigs(e,t,r){let i=t.methods;EI(e,1).forEach(s=>{let o=Wi(s.methods);for(let a in o)if(o.hasOwnProperty(a)&&!i[a]){let c=o[a];i[a]=c}})}async initControllersHook(e){if(this.isRunOrRevertOnlyMigrationAppStart)return;let t=this.getClassFunByArr(je.CONTROLLER);for(let r of t){let i=this.getInstanceBy(r);At(i.afterAllCtxInited)&&await i.afterAllCtxInited({ctxStorage:e})}}async initControllers(){if(this.isRunOrRevertOnlyMigrationAppStart)return;let e=this.getClassFunByArr(je.CONTROLLER);for(let t of e){t[_tt]=Ace(t);let r=Nce(t),i=r[0];this.updateCalculatedPathsForControllers(r,i,t),this.mergeControllerMethodsConfigs(r,i,t),i.calculatedMiddlewaresControllerObj={},[...r].reverse().forEach(o=>{At(o.middlewares)&&(i.calculatedMiddlewaresControllerObj=o.middlewares({parentMiddlewares:i.calculatedMiddlewaresControllerObj,className(a){return rt(t)}}))}),this.logHttp&&console.groupCollapsed(`[taon][express-server] routes [${i.className}]`);let s=Object.keys(i.methods);for(let o of s){let a=i.methods[o],c={};[...r].reverse().forEach(b=>{if(b.methods[o]){let v=b.methods[o];At(v.middlewares)&&(c=v.middlewares({parentMiddlewares:c,className(x){return rt(t)}}))}}),a.calculatedMiddlewaresMethodObj=K(K({},c),i.calculatedMiddlewaresControllerObj),a.calculatedMiddlewares=Object.values(a.calculatedMiddlewaresMethodObj||{});let l=a.type,d=this.isRunningInsideDocker||!this.frontendHostUri?.origin?.includes("localhost")?`${this.uriPathnameOrNothingIfRoot.replace(/\/$/,"")}/${QE}/${this.contextName}`.replace(/\/\//,"/"):"",h=a.global?`${d}/${a.path?.replace(/\/$/,"")}`.replace(/\/\//,"/"):Stt(i,a);if(aae||Do){let b=this.initServer(l,a,i,h,t);this.activeRoutes.push({expressPath:b.expressPath,method:b.method})}(ca||this.isRemoteHost||Do)&&await this.initClient(t,l,a,h)}this.logHttp&&console.groupEnd()}}writeActiveRoutes(){if(this.isRemoteHost||this.isRunOrRevertOnlyMigrationAppStart)return;let e=Pv(this.activeRoutes.map(i=>`${i.method} ${i.expressPath}`)).map(i=>{let[s,o]=i.split(" ");return`
### ${wI(bI(o.split("/")))}
`+Ttt(s.toUpperCase()+" ",10)+this.uriOrigin+o}),t=["",`#  ROUTES FOR HOST ${this.uriOrigin} `,...e].join(`
`),r=CI([`routes/routes-${this.config.contextName}.rest`]);this.logFramework&&console.log(`[taon] routes file: ${r} `),this.logRoutes&&console.log(t)}get middlewares(){}async initCustomClientMiddlewares(){this.getClassesInstancesArrBy(je.MIDDLEWARE).map(t=>t).filter(t=>At(t.interceptClient)).forEach(t=>{let r=this.contextName,i=`${r}-${rt(t)}`;hs.request.interceptors.set(i,{intercept:({req:s,next:o})=>new URL(s.url).pathname.startsWith(`${this.uriPathnameOrNothingIfRoot}/${QE}/${r}/`)?t.interceptClient({req:s,next:o}):o.handle(s)})})}async initCustomBackendMiddlewares(){}async initBackendMiddlewares(){}initServer(e,t,r,i,s){let o=t.calculatedMiddlewares.map(c=>{let l=this.getInstanceBy(c);if(l&&At(l.interceptServerMethod))return Ctt(async(h,p,b)=>{await l.interceptServerMethod({req:h,res:p,next:b},{methodName:t.methodName,expressPath:i,httpRequestType:t.type})})}).filter(c=>!!c),a=async(c,l,d)=>{let h=t.descriptor.value.apply(this.getInstanceBy(s),c);return await xtt(h,{req:l,res:d})};return this.isRemoteHost||Do&&(this.expressApp[e.toLowerCase()]||(this.expressApp[e.toLowerCase()]=()=>{})),{expressPath:i,method:t.type}}sendError(e,t,r,i){}async initClient(e,t,r,i){let s=this;r.calculatedMiddlewares.map(X=>this.getInstanceBy(X)).filter(X=>At(X.interceptClientMethod)).forEach(X=>{let de=`${rt(X)}-${r.type?.toUpperCase()}-${i}`;hs.request.methodsInterceptors.set(de,{intercept:({req:g,next:xe})=>X.interceptClientMethod({req:g,next:xe},{methodName:r.methodName,expressPath:i,httpRequestType:t})})});let c=globalThis,l=e.prototype[r.methodName];if(Rl){let X=window.require("electron").ipcRenderer;e.prototype[r.methodName]=function(...ne){let de=new Promise(async(g,xe)=>{let Ce={},{request:qe,response:H}=Cce(Ce);X.once(Att(e,r,i),(I,re)=>{let pe=re;console.log({responseData:re});try{let fe=pe;pe=new Od({body:void 0,isArray:void 0,method:r.type,url:`${s.uriOrigin}${r.path} `},la(fe)||mn(fe)?fe:JSON.stringify(fe),si.from(Ce),void 0,()=>fe),g(pe)}catch(fe){console.error(fe),xe(fe)}}),X.send(Ntt(e,r,i),ne)});return de.observable=Yt(de),{received:de,request(g){return de}}};return}let d=400,h=200,p=globalThis,b=p[qt.WEBSQL_REST_PROGRESS_TIMEOUT]||d,v=p[qt.WEBSQL_REST_PROGRESS_FUN];p[qt.WEBSQL_REST_PROGRESS_FUN]||(p[qt.WEBSQL_REST_PROGRESS_FUN]=new Ke),v=p[qt.WEBSQL_REST_PROGRESS_FUN];let x=p[qt.WEBSQL_REST_PROGRESS_FUN_START];p[qt.WEBSQL_REST_PROGRESS_FUN_START]||(p[qt.WEBSQL_REST_PROGRESS_FUN_START]=new Ke),x=p[qt.WEBSQL_REST_PROGRESS_FUN_START];let N=p[qt.WEBSQL_REST_PROGRESS_FUN_DONE];p[qt.WEBSQL_REST_PROGRESS_FUN_DONE]||(p[qt.WEBSQL_REST_PROGRESS_FUN_DONE]=new Ke),N=p[qt.WEBSQL_REST_PROGRESS_FUN_DONE];let k=0;b>=d&&(k=Math.floor(b/h));let ee=async()=>{x.next();for(let X=1;X<=k;X++){let ne=Math.round(h*X/b*100);ne>100&&(ne=100),v.next(ne),await new Promise((de,g)=>{setTimeout(()=>{de(void 0)},h)})}N.next()};e.prototype[r.methodName]=function(...X){let ne=new Promise(async(de,g)=>{let xe={},{request:Ce,response:qe}=Cce(xe),H;try{H=await Lv({functionFn:l,context:this,arrayOfParams:X}),typeof H=="function"&&(H=await Lv({functionFn:H,context:this,arrayOfParams:[Ce,qe]})),typeof H=="function"&&(H=await Lv({functionFn:H,context:this,arrayOfParams:[Ce,qe]})),typeof H=="object"&&H?.received&&(H=await H.received);let I=H;H=new Od({body:void 0,isArray:void 0,method:r.type,url:`${s.uriOrigin}${r.path} `},la(I)||mn(I)?I:JSON.stringify(I),si.from(xe),void 0,()=>I),await ee(),de(H)}catch(I){await ee(),console.error(I),g(I)}});if(ne.observable=Yt(ne),Do)return{received:ne,request(de){return ne}}},!Do&&(e.prototype[r.methodName]=function(...X){c[qt.ENDPOINT_META_CONFIG]||(c[qt.ENDPOINT_META_CONFIG]={}),c[qt.ENDPOINT_META_CONFIG][s.uriOrigin]||(c[qt.ENDPOINT_META_CONFIG][s.uriOrigin]={});let ne=c[qt.ENDPOINT_META_CONFIG],de;if(ne[s.uriOrigin][i])de=ne[s.uriOrigin][i];else{let I={};r.contentType&&!r.responseType?de=hs.create(s.uriOrigin,i,qt.MAPPING_CONFIG_HEADER,qt.CIRCURAL_OBJECTS_MAP_BODY,si.from({"Content-Type":r.contentType,Accept:r.contentType})):r.contentType&&r.responseType?de=hs.create(s.uriOrigin,i,qt.MAPPING_CONFIG_HEADER,qt.CIRCURAL_OBJECTS_MAP_BODY,si.from({"Content-Type":r.contentType,Accept:r.contentType,responsetypeaxios:r.responseType})):!r.contentType&&r.responseType?de=hs.create(s.uriOrigin,i,qt.MAPPING_CONFIG_HEADER,qt.CIRCURAL_OBJECTS_MAP_BODY,si.from({responsetypeaxios:r.responseType})):de=hs.create(s.uriOrigin,i,qt.MAPPING_CONFIG_HEADER,qt.CIRCURAL_OBJECTS_MAP_BODY),ne[s.uriOrigin][i]=de}let g=t.toLowerCase(),xe={},Ce={},qe={};if(X.forEach((I,re)=>{let pe;for(let fe in r.parameters){let Ge=r.parameters[fe];if(Ge.index===re){pe=Ge;break}}if(!pe){let fe=`[${dae.frameworkName}] Unable to resolve parameter at index ${re} for method ${r.methodName} at path ${i}.`;throw new Error(fe)}if(pe.paramType==="Path"&&(xe[pe.paramName]=I),pe.paramType==="Query")if(pe.paramName){let fe=Gp(I,!s.isProductionMode);fe&&de.headers.set(`${qt.MAPPING_CONFIG_HEADER_QUERY_PARAMS}${pe.paramName} `,JSON.stringify(fe)),Ce[pe.paramName]=I}else{let fe=Gp(I,!s.isProductionMode);fe&&de.headers.set(qt.MAPPING_CONFIG_HEADER_QUERY_PARAMS,JSON.stringify(fe)),Ce=Wi(I)}if(pe.paramType==="Header")if(pe.paramName)pe.paramName===qt.MDC_KEY?de.headers.set(pe.paramName,encodeURIComponent(JSON.stringify(I))):de.headers.set(pe.paramName,I);else for(let fe in I)de.headers.set(fe,I[fe]);if(pe.paramType==="Cookie"&&hs.Cookies.write(pe.paramName,I,pe.expireInSeconds),pe.paramType==="Body")if(pe.paramName){if(rt(qe)==="FormData")throw new Error(`[taon - framework] Don use param names when posting / putting FormData.
              Use this:
// ...
(@Taon.Http.Param.Body() formData: FormData) ...
// ...

instead
  // ...
  (@Taon.Http.Param.Body('${pe.paramName}') formData: FormData) ...
// ...
`);let fe=Gp(I,!s.isProductionMode);fe&&de.headers.set(`${qt.MAPPING_CONFIG_HEADER_BODY_PARAMS}${pe.paramName} `,JSON.stringify(fe)),qe[pe.paramName]=I}else{let fe=Gp(I,!s.isProductionMode);fe&&de.headers.set(qt.MAPPING_CONFIG_HEADER_BODY_PARAMS,JSON.stringify(fe)),qe=I}}),typeof qe=="object"&&rt(qe)!=="FormData"){let I=[];qe=fs.parse(fs.stringify(qe,void 0,void 0,re=>{I=re})),de.headers.set(qt.CIRCURAL_OBJECTS_MAP_BODY,fs.stringify(I))}if(typeof Ce=="object"){let I=[];Ce=fs.parse(fs.stringify(Ce,void 0,void 0,re=>{I=re})),de.headers.set(qt.CIRCURAL_OBJECTS_MAP_QUERY_PARAM,fs.stringify(I))}return{get received(){return de.model(xe)[g](qe,[Ce])},request(I){return de.model(xe)[g](qe,[Ce],I)}}})}},tw=class n{constructor(){this.SPECIAL_APP_READY_MESSAGE=Xoe,this.taonEndpointContexts=new Map}static get Instance(){return n.instance||(n.instance=new n),n.instance}set(e){this.taonEndpointContexts.has(e.contextName)||this.taonEndpointContexts.set(e.contextName,e)}get arr(){return Array.from(this.taonEndpointContexts.values()).filter(e=>e.contextType==="normal")}getBy(e){return typeof e=="string"?this.taonEndpointContexts.get(e):this.taonEndpointContexts.get(e.contextName)}};globalThis.$$$ContextsEndpointStorage$$$=tw.Instance;var XR=(n,e)=>{e=e||{};let t=n({}),r=new ZR(t,n,e);return{get contextName(){return t.contextName},get appId(){return t.appId},cloneAsRemote:s=>{s=s||{};let o=$e(K({},s),{sourceContext:r,useAsRemoteContext:!0});return XR(n,o)},cloneAsNormal:s=>{s=s||{};let o=$e(K({},s),{sourceContext:r,useAsRemoteContext:!1});return XR(n,o)},async __ref(){return r.inited||await r.init({initFromRecrusiveContextResovle:!0}),r},get __refSync(){return r},getClassInstance(s){return r.getInstanceBy(s)},getClass(s){return r.getClassFunByClass(s)},initialize:async s=>await new Promise(async(o,a)=>{setTimeout(async()=>{if(TI()){let c=t?.activeContext||null;if(mn(c)&&c!==""&&c!==t?.contextName){console.warn(`[taon] Context ${r.contextName} is not active context, skipping initialization.`),o(r);return}}if(await r.init(K({},s)),t.abstract)throw new Error("Abstract context can not be initialized");if(await r.initEntities(),await r.initSubscribers(),await r.initDatabaseConnection(),await r.dbMigrations.ensureMigrationTableExists(),await r.initControllers(),await r.startServer(),r.writeActiveRoutes(),await r.initClasses(),r.databaseConfig){let c=!1;c=ew.Instance?.keepWebsqlDbDataAfterReload,c?!oae()&&xo(`[taon] Keeping websql data after reload (context=${r.contextName}).`):xo(`[taon] Dropping all tables and data (context=${r.contextName}).`),r.onlyMigrationRun?(r.logMigrations&&Ol(`[taon] Running only migrations (context=${r.contextName}).`),await r.dbMigrations.runAllNotCompletedMigrations()):r.onlyMigrationRevertToTimestamp?(r.logMigrations&&Ol(`[taon] Reverting migrations to timestamp ${r.onlyMigrationRevertToTimestamp} (context=${r.contextName}).`),await r.dbMigrations.revertMigrationToTimestamp(r.onlyMigrationRevertToTimestamp)):(r.logMigrations&&Ol(`[taon] Running all not applied migrations (context=${r.contextName}).`),await r.dbMigrations.runAllNotCompletedMigrations())}tw.Instance.set(r),o(r)})}),get realtime(){return{get client(){return r.realtimeClient},get server(){return r.realtimeServer}}}}},nO=n=>XR(n,{useAsRemoteContext:!1});var gHt=(n=null,e=100)=>ME({type:"varchar",length:e,nullable:Il(n),default:n});var Dce=(n,e)=>{let t=Ur(new e,Wi(void 0));return ic.Object(n||{},(r,i)=>{Il(r)||At(r)||Ut(r)||Qi(t,i,r)},{walkGetters:!1}),t},eO=class{async _(){}clone(e){if(mn(e))throw console.log(e),new Error("String is not supported as .clone() method argument");let t=iw(this);if(At(e)){let r=Wi(this)||{};return Dce(e(r),t)}return Dce(e,t)}},Mtt=(()=>{let n=class extends eO{relation(t){return t}relations(t){return t}};return n=vt([om()],n),n})(),Rtt=(()=>{let n=class extends Mtt{};return vt([jae(),Ve("design:type",String)],n.prototype,"id",void 0),vt([Uae(),Ve("design:type",Number)],n.prototype,"version",void 0),n=vt([om()],n),n})();var lr=(function(n){return n.NORMAL="normal",n.DRAINING="draining",n.READONLY="readonly",n.MIGRATING="migrating",n.FROZEN="frozen",n})(lr||{}),Ott={[lr.NORMAL]:[lr.DRAINING,lr.FROZEN],[lr.DRAINING]:[lr.READONLY,lr.FROZEN],[lr.READONLY]:[lr.MIGRATING,lr.NORMAL,lr.FROZEN],[lr.MIGRATING]:[lr.READONLY],[lr.FROZEN]:[lr.READONLY,lr.NORMAL]},Ptt={description:"",version:0,id:void 0,status:lr.NORMAL};function ktt(n){return function(e){n=n||{},n.uniqueKeyProp=n.uniqueKeyProp||"id",Hl(e,n?.className),UI(n?.defaultModelValues||{},Ur(n?.defaultModelMapping||{},n?.defaultModelMappingDeep||{}))(e),UI(void 0,{})(e),Reflect.defineMetadata(kn.options.entity,n,e),Reflect.defineMetadata(kn.className,n?.className||e.name,e),om(n?.className)(e),Ye.setName(e,n?.className)}}var sw=(()=>{let n=class extends Rtt{};return vt([ME({type:"varchar",length:20,nullable:!1,default:Ptt.status}),Ve("design:type",String)],n.prototype,"status",void 0),vt([qae(),Ve("design:type",Date)],n.prototype,"createdAt",void 0),vt([ME({type:"int",nullable:!0}),Ve("design:type",Date)],n.prototype,"secondsBeforeReadonly",void 0),n=vt([ktt({className:"TAON_GLOBAL_STATE",createTable:!0})],n),n})();function rO(n){return function(e){Hl(e,n?.className),Reflect.defineMetadata(kn.className,n?.className||e.name,e);let t=Ice(e);n=n||{},t.className=n.className||e.name,t.path=n.path||"",t.realtime=n.realtime,t.middlewares=n.middlewares}}var wm=(n,e,t,r,i,s,o)=>{let a=Mce(t,r),c;typeof s=="object"?(c=s,s=c.path,o=!!c.pathIsGlobal,e=c.path):c={pathOrOptions:s,pathIsGlobal:o};let{overrideContentType:l,overrideResponseType:d,overrideExpressSendAsHtml:h,middlewares:p}=c;if(a.methodName=r,a.middlewares=p,a.type=n,e)a.path=e;else{let b="";for(let v in a.parameters)if(a.parameters.hasOwnProperty(v)){let x=a.parameters[v];x.paramType==="Path"&&mn(x.paramName)&&x.paramName.trim().length>0&&(b+=`/${x.paramName}/:${x.paramName}`)}a.path=`/${r}${b}`}a.descriptor=i,a.global=o,a.contentType=l,a.responseType=d,a.overrideExpressSendAsHtml=h};function vm(n,e=!1){return function(t,r,i){wm("get",n,t,r,i,n,e)}}function nw(n,e=!1){return function(t,r,i){wm("post",n,t,r,i,n,e)}}function xce(n,e=!1){return function(t,r,i){wm("put",n,t,r,i,n,e)}}function Ftt(n,e=!1){return function(t,r,i){wm("patch",n,t,r,i,n,e)}}function FR(n,e=!1){return function(t,r,i){wm("delete",n,t,r,i,n,e)}}function Rce(n,e,t,r=void 0,i,s,o){let a=Mce(i,s),c=e||n;a.parameters[c]={index:o,paramName:e,paramType:n,defaultType:r,expireInSeconds:t}}function Yi(n){return function(e,t,r){Rce("Query",n,void 0,{},e,t,r)}}function of(n){return function(e,t,r){Rce("Body",n,void 0,{},e,t,r)}}function Oce(n){return function(e){Reflect.defineMetadata(kn.options.provider,n,e),Reflect.defineMetadata(kn.className,n?.className||e.name,e),Hl(e,n?.className||e.name)}}var fc=class{async _(){}get __endpoint_context__(){return this[af]}get ctx(){return this.__endpoint_context__}injectRepo(e){return this.__inject(void 0,{localInstance:!0,resolveClassFromContext:"TaonBaseRepository",locaInstanceConstructorArgs:[()=>e]})}injectCustomRepository(e){return this.__inject(e,{localInstance:!0,locaInstanceConstructorArgs:[()=>this.ctx.allClassesInstances[rt(e)].entityClassResolveFn()]})}injectCustomRepo(e){return this.injectCustomRepository(e)}injectController(e){return this.__inject(e,{localInstance:!1})}injectSubscriber(e){return this.__inject(e,{localInstance:!1})}injectCtrl(e){return this.injectController(e)}injectMiddleware(e){return this.__inject(e,{localInstance:!1})}injectProvider(e){return this.__inject(e,{localInstance:!1})}__inject(e,t){t||(t={});let r=this;return new Proxy({},{get:(i,s)=>{let o=e&&e[af],a=o||this.__endpoint_context__;if(t.resolveClassFromContext&&(e=a.getClassFunByClassName(t.resolveClassFromContext)),a){var c=a.inject(e,$e(K({},t),{contextClassInstance:r,parentInstanceThatWillGetInjectedStuff:this}));if(!c)throw new Error(`Not able to inject "${rt(e)||e.name}" inside property "${s?.toString()}" on  class "${rt(this)}".

              Please add "${rt(e)||e.name}" to (entites or contorllers or providers or repositories or middlewares)

              `);return typeof c[s]=="function"?c[s].bind(c):c[s]}},set:(i,s,o)=>{let a=e&&e[af],c=a||this.__endpoint_context__;if(t.resolveClassFromContext&&(e=c.getClassFunByClassName(t.resolveClassFromContext)),c){var l=c.inject(e,$e(K({},t),{contextClassInstance:r,parentInstanceThatWillGetInjectedStuff:this}));if(!l){let d=rt(e)||e.name;throw new Error(`Not able to inject "${d}" inside property "${s?.toString()}" on  class "${rt(this)}".

              Please add "${rt(e)||e.name}" to (entites or contorllers or providers or repositories or middlewares)

              `)}l[s]=o}return!0}})}},rw=class extends fc{},Pce=(()=>{let n=class extends rw{async interceptServerMethod({req:t,res:r,next:i},{methodName:s,expressPath:o}){return this.middleware()(t,r,i)}uploadDir(){return CI([this.ctx.cwd,"uploaded-files"])}storage(){}upload(){}middleware(){}};return n=vt([Oce({className:"TaonBaseFileUploadMiddleware"})],n),n})(),Ltt=(()=>{let n=class extends fc{async afterAllCtxInited(t){}uploadFormDataToServer(t,r){}afterFileUploadAction(t,r){}async uploadLocalFileToServer(t,r,i){}async _waitForProperStatusChange(t){let r=t.poolingInterval||1e3,i=t.request,s=t.maxTries||Number.POSITIVE_INFINITY,o=0,a=0;for(;;){await uae(r);try{let c=await i({reqIndexNum:o,httpErrorsCount:a});if(t.statusCheck&&t.statusCheck(c))return}catch(c){if(a++,t.loopRequestsOnBackendError){let l=c instanceof Pl&&c.body.json[Ov],d=c instanceof Pl&&!l,h=!(c instanceof Pl);if(await t.loopRequestsOnBackendError({taonError:l?c:void 0,unknownHttpError:d?c:void 0,unknownError:h?c:void 0,reqIndexNum:o,httpErrorsCount:a})){o++;continue}else return}if(a>(t.allowedHttpErrors||Number.POSITIVE_INFINITY))throw new Error(`Too many http errors (${a}) for "${t.actionName}".`)}if(o++>s)throw new Error(`Timeout waiting for "${t.actionName}" to be finished. Waited for ${s} seconds`)}}};return vt([nw({overrideContentType:"multipart/form-data",middlewares:({parentMiddlewares:e})=>$e(K({},e),{TaonBaseFileUploadMiddleware:Pce})}),Hn(0,of()),Hn(1,Yi()),Ve("design:type",Function),Ve("design:paramtypes",[FormData,Object]),Ve("design:returntype",Object)],n.prototype,"uploadFormDataToServer",null),n=vt([rO({className:"TaonBaseController"})],n),n})(),Btt=(()=>{let n=class extends Ltt{async _(){if(!At(this.entityClassResolveFn)){Fv(`Skipping initing CRUD controller ${rt(this)} because entityClassResolveFn is not provided.`);return}let t=this.entityClassResolveFn();this.db=this.injectRepo(t),t?Reflect.getMetadata(kn.options.entity,iw(this))?.createTable===!1&&Fv(`Table for entity ${rt(t)} will not be created. Crud will not work properly.`):$p(`Entity class not provided for controller ${rt(this)}.

      Please provide entity as class property entityClassFn:

      class ${rt(this)} extends TaonBaseCrudController<Entity> {
        // ...
        entityClassResolveFn = ()=> MyEntityClass;
        // ...
      }

      `),await super._()}bufforedChanges(t,r,i){return async(s,o)=>{let a=await this.db.getBy(t);if(a===void 0)return;Ett(a,t);let c=a[r],l;return(mn(c)||An(c))&&(l=c.slice(i)),l}}pagination(t=1,r=10,i=""){return async(s,o)=>{if(this.db.repositoryExists){let a={page:t,take:r,keyword:i},c=a.take||10,d=((a.page||1)-1)*c,h=a.keyword||"",[p,b]=await this.db.findAndCount({take:c,skip:d});return o?.setHeader(qt.X_TOTAL_COUNT,b),p}return[]}}getAll(){return async(t,r)=>{if(this.db.repositoryExists){let{models:i,totalCount:s}=await this.db.getAll();return r?.setHeader(qt.X_TOTAL_COUNT,s),i}return[]}}getBy(t){return async()=>await this.db.getBy(t)}updateById(t,r){return async()=>await this.db.updateById(t,r)}patchById(t,r){return async()=>await this.db.updateById(t,r)}bulkUpdate(t){return async()=>{if(!Array.isArray(t)||t?.length===0)return[];let{models:r}=await this.db.bulkUpdate(t);return r}}deleteById(t){return async()=>await this.db.deleteById(t)}bulkDelete(t){return async()=>await this.db.bulkDelete(t)}clearTable(){return async()=>{await this.db.clear()}}save(t){return async()=>await this.db.save(t)}bulkCreate(t){return async()=>await this.db.bulkCreate(t)}};return vt([vm(),Hn(0,Yi("id")),Hn(1,Yi("property")),Hn(2,Yi("alreadyLength")),Ve("design:type",Function),Ve("design:paramtypes",[Object,String,Number]),Ve("design:returntype",Object)],n.prototype,"bufforedChanges",null),vt([vm(),Hn(0,Yi("pageNumber")),Hn(1,Yi("pageSize")),Hn(2,Yi("search")),Ve("design:type",Function),Ve("design:paramtypes",[Number,Number,String]),Ve("design:returntype",Object)],n.prototype,"pagination",null),vt([vm(),Ve("design:type",Function),Ve("design:paramtypes",[]),Ve("design:returntype",Object)],n.prototype,"getAll",null),vt([vm(),Hn(0,Yi("id")),Ve("design:type",Function),Ve("design:paramtypes",[Object]),Ve("design:returntype",Object)],n.prototype,"getBy",null),vt([xce(),Hn(0,Yi("id")),Hn(1,of()),Ve("design:type",Function),Ve("design:paramtypes",[Object,Object]),Ve("design:returntype",Object)],n.prototype,"updateById",null),vt([Ftt(),Hn(0,Yi("id")),Hn(1,of()),Ve("design:type",Function),Ve("design:paramtypes",[Object,Object]),Ve("design:returntype",Object)],n.prototype,"patchById",null),vt([xce(),Hn(0,of()),Ve("design:type",Function),Ve("design:paramtypes",[Array]),Ve("design:returntype",Object)],n.prototype,"bulkUpdate",null),vt([FR(),Hn(0,Yi("id")),Ve("design:type",Function),Ve("design:paramtypes",[Object]),Ve("design:returntype",Object)],n.prototype,"deleteById",null),vt([FR(),Hn(0,Yi("ids")),Ve("design:type",Function),Ve("design:paramtypes",[Array]),Ve("design:returntype",Object)],n.prototype,"bulkDelete",null),vt([FR(),Ve("design:type",Function),Ve("design:paramtypes",[]),Ve("design:returntype",Object)],n.prototype,"clearTable",null),vt([nw(),Hn(0,of()),Ve("design:type",Function),Ve("design:paramtypes",[Object]),Ve("design:returntype",Object)],n.prototype,"save",null),vt([nw(),Hn(0,of()),Ve("design:type",Function),Ve("design:paramtypes",[Object]),Ve("design:returntype",Object)],n.prototype,"bulkCreate",null),n=vt([rO({className:"TaonBaseCrudController"})],n),n})();function iO(n){return function(e){Reflect.defineMetadata(kn.options.repository,n,e),Reflect.defineMetadata(kn.className,n?.className||e.name,e),Hl(e,n?.className)}}var qtt=(()=>{let n=class extends fc{};return n=vt([iO({className:"TaonBaseCustomRepository"})],n),n})(),jtt=["id"],kce=(()=>{let n=class extends qtt{constructor(t){super(),this.REPOS_CACHE_KEY=Symbol("repository cache inside instance"),this.allowedTypesToUpdate=["simple-json","simple-array","json"],this.entityClassResolveFn=t}get dbQuery(){if(!this.__dbQuery){if(!this.ctx)return;let t=this.ctx?.connection;if(!t)throw new Error(`[TaonBaseRepository] Database not inited for context ${this.ctx?.contextName}`);this.__dbQuery=new GE(t)}return this.__dbQuery}get connection(){return this.ctx?.connection}get repository(){if(this[this.REPOS_CACHE_KEY])return this[this.REPOS_CACHE_KEY];let t=this.entityClassResolveFn(),r=rt(t),i=this.ctx.repos.get(r);if(!i)throw`[TaonBaseRepository] Repository for entity "${r}"
      not found in context "${this.ctx?.contextName}".

      Is ${r} a Taon entity class ?

      OR

      If ${r} is a Taon Custom Repository, then use this:

      ...
       ${_I(r)} = injectCustomRepository(${r});
      ...

      `;return this[this.REPOS_CACHE_KEY]=i,this[this.REPOS_CACHE_KEY]}get target(){return this?.repository?.target}get repo(){return this.repository}get repositoryExists(){return!!this.repository}hasId(t){return this.repo.hasId(t)}getId(t){return this.repo.getId(t)}async save(t,r){let i=await this.repo.create(t);i=await this.repo.save(i,r);let{id:s}=i;return i=await this.repo.findOne({where:{id:s}}),i}create(t){return this.repo.create(t)}async bulkSave(t,r){let i=[];for(let s=0;s<t.length;s++){let o=t[s],a=await this.save(o,r);i.push(a)}return i}async bulkCreate(t,r){return this.bulkSave(t,r)}merge(t,...r){return this.repo.merge(t,...r)}preload(t){return this.repo.preload(t)}async remove(t){Ut(t)&&(t=t.id);let r=await this.repo.findOne({where:{id:t}});if(!r){Fv(`[TaonBaseRepository] Entity "${rt(this.repo.target)}" with id ${t} not found, cannot remove`);return}let i=r.id;return await this.repo.remove(r),r.id=i,r}async delete(t){return this.remove(t)}async deleteById(t){return this.remove(t)}async bulkRemove(t){t=t.map(i=>Ut(i)?i.id:i);let r=[];for(let i=0;i<t.length;i++){let s=t[i],o=await this.remove(s);r.push(o)}return r}async bulkDelete(t){return this.bulkRemove(t)}softRemove(t,r){return this.repo.softRemove(t,r)}recover(t,r){return this.repo.recover(t,r)}insert(t){return this.repo.insert(t)}async update(t){let{id:r}=t;return await this.updateById(r,t)}async updateById(t,r){let i=[];for(let o in r){let a=this.repo.metadata.ownColumns.find(c=>c.propertyName===o);Ut(r)&&r.hasOwnProperty(o)&&(typeof r[o]!="object"||this.allowedTypesToUpdate.includes(a?.type))&&!ut(a)&&i.push(o)}for(let o=0;o<i.length;o++){let a=i[o];if(!jtt.includes(a.toLowerCase())){let c=r[a];await this.repo.update({id:t},{[a]:c})}}return await this.repo.findOne({where:{id:t}})}async bulkUpdate(t){let r=[];for(let i=0;i<t.length;i++){let s=t[i],{id:o}=s,a=await this.updateById(o,s);r.push(a)}return{models:r}}upsert(t,r){return this.repo.upsert(t,r)}softDelete(t){return this.repo.softDelete(t)}restore(t){return this.repo.restore(t)}count(t){return this.repo.count(t)}countBy(t){return this.repo.countBy(t)}find(t){return this.repo.find(t)}findBy(t){return this.repo.findBy(t)}findAndCount(t){return this.repo.findAndCount(t)}findAndCountBy(t){return this.repo.findAndCountBy(t)}findByIds(t){return this.repo.findByIds(t)}findOne(t){return this.repo.findOne(t)}findOneBy(t){return this.repo.findOneBy(t)}findOneById(t){return this.repo.findOneById(t)}findOneOrFail(t){return this.repo.findOneOrFail(t)}findOneByOrFail(t){return this.repo.findOneByOrFail(t)}query(t,r){return this.repo.query(t,r)}createQueryBuilder(t,r){return this.repo.createQueryBuilder(t,r)}clear(){return this.repo.clear()}increment(t,r,i){return this.repo.increment(t,r,i)}decrement(t,r,i){return this.repo.decrement(t,r,i)}async getAll(){let t=await this.repo.count();return{models:await this.repo.find(),totalCount:t}}async getBy(t){return await await this.repo.findOne({where:{id:t}})}};return n=vt([iO({className:"TaonBaseRepository"}),Ve("design:paramtypes",[Function])],n),n})(),Utt=(n,e)=>{if(!Ott[n]?.includes(e))throw new Error(`Invalid state transition: ${n} \u2192 ${e}`)},Fce=(()=>{let n=class extends kce{constructor(){super(...arguments),this.entityClassResolveFn=()=>sw}async getLastStatus(){return await this.findOne({order:{createdAt:"DESC"}})}async setDraining(t=0){await this.transitionTo(lr.DRAINING),t>0&&setTimeout(async()=>{await this.transitionTo(lr.READONLY)},t)}async transitionTo(t){let r=await this.getLastStatus();Utt(r.status,t);let i=this.create({status:t});return await this.save(i),i}};return n=vt([iO({className:"TaonGlobalStateRepository"})],n),n})(),$tt=(()=>{let n=class extends Btt{constructor(){super(...arguments),this.entityClassResolveFn=()=>sw,this.taonGlobalStateRepository=this.injectCustomRepo(Fce)}getStatus(){return async()=>(await this.taonGlobalStateRepository.getLastStatus()).status}setDraining(t=0){return async()=>{await this.taonGlobalStateRepository.setDraining(t)}}};return vt([vm(),Ve("design:type",Function),Ve("design:paramtypes",[]),Ve("design:returntype",Object)],n.prototype,"getStatus",null),vt([nw(),Hn(0,Yi("secondsBeforeReadonly")),Ve("design:type",Function),Ve("design:paramtypes",[Object]),Ve("design:returntype",Object)],n.prototype,"setDraining",null),n=vt([rO({className:"TaonGlobalStateController"})],n),n})(),tO=class extends fc{};function Vtt(n){return function(e){Reflect.defineMetadata(kn.options.provider,n,e),Reflect.defineMetadata(kn.className,n?.className||e.name,e),Hl(e,n?.className||e.name)}}var Lce=(()=>{let n=class extends tO{};return n=vt([Vtt({className:"TaonGlobalStateProvider"})],n),n})(),Htt=(()=>{let n=class extends rw{};return n=vt([Oce({className:"TaonGlobalStateMiddleware"})],n),n})();function Bce(n){return function(e){Reflect.defineMetadata(kn.options.subscriber,n,e),Reflect.defineMetadata(kn.className,n?.className||e.name,e),Hl(e,n?.className)}}var ztt=(()=>{let n=class extends fc{afterLoad(t){this.ctx.logDb&&console.log("AFTER ENTITY LOADED: ",t)}beforeQuery(t){this.ctx.logDb&&console.log("BEFORE QUERY: ",t.query)}afterQuery(t){this.ctx.logDb&&console.log("AFTER QUERY: ",t.query)}beforeInsert(t){this.ctx.logDb&&console.log("BEFORE ENTITY INSERTED: ",t.entity)}afterInsert(t){this.ctx.logDb&&console.log("AFTER ENTITY INSERTED: ",t.entity)}beforeUpdate(t){this.ctx.logDb&&console.log("BEFORE ENTITY UPDATED: ",t.entity)}afterUpdate(t){this.ctx.logDb&&console.log("AFTER ENTITY UPDATED: ",t.entity)}beforeRemove(t){this.ctx.logDb&&console.log(`BEFORE ENTITY WITH ID ${t.entityId} REMOVED: `,t.entity)}afterRemove(t){this.ctx.logDb&&console.log(`AFTER ENTITY WITH ID ${t.entityId} REMOVED: `,t.entity)}beforeSoftRemove(t){this.ctx.logDb&&console.log(`BEFORE ENTITY WITH ID ${t.entityId} SOFT REMOVED: `,t.entity)}afterSoftRemove(t){this.ctx.logDb&&console.log(`AFTER ENTITY WITH ID ${t.entityId} SOFT REMOVED: `,t.entity)}beforeRecover(t){this.ctx.logDb&&console.log(`BEFORE ENTITY WITH ID ${t.entityId} RECOVERED: `,t.entity)}afterRecover(t){this.ctx.logDb&&console.log(`AFTER ENTITY WITH ID ${t.entityId} RECOVERED: `,t.entity)}beforeTransactionStart(t){this.ctx.logDb&&console.log("BEFORE TRANSACTION STARTED: ",t)}afterTransactionStart(t){this.ctx.logDb&&console.log("AFTER TRANSACTION STARTED: ",t)}beforeTransactionCommit(t){this.ctx.logDb&&console.log("BEFORE TRANSACTION COMMITTED: ",t)}afterTransactionCommit(t){this.ctx.logDb&&console.log("AFTER TRANSACTION COMMITTED: ",t)}beforeTransactionRollback(t){this.ctx.logDb&&console.log("BEFORE TRANSACTION ROLLBACK: ",t)}afterTransactionRollback(t){this.ctx.logDb&&console.log("AFTER TRANSACTION ROLLBACK: ",t)}};return n=vt([Bce({className:"TaonBaseSubscriberForEntity"})],n),n})(),Wtt=(()=>{let n=class extends ztt{constructor(){super(...arguments),this.taonGlobalStateProvider=this.injectProvider(Lce)}listenTo(){return sw}};return n=vt([Bce({className:"TaonGlobalStateSubscriber"})],n),n})(),Gtt=nO(()=>({contextName:"TaonGlobalStateContext",abstract:!0,entities:{TAON_GLOBAL_STATE:sw},controllers:{TaonGlobalStateController:$tt},repositories:{TaonGlobalStateRepository:Fce},providers:{TaonGlobalStateProvider:Lce},middlewares:{TaonGlobalStateMiddleware:Htt},subscribers:{TaonGlobalStateSubscriber:Wtt}})),MHt=nO(()=>({contextName:"TaonBaseContext",abstract:!0,contexts:{TaonGlobalStateContext:Gtt},middlewares:{TaonBaseFileUploadMiddleware:Pce},repositories:{TaonBaseRepository:kce}}));var Tce=class extends fc{isReadyToRun(){return!0}getDescription(){return wI(rt(this))}async up(e){console.log(`[TaonBaseMigration] Running migration UP "${rt(this)}"`)}async down(e){console.log(`[TaonBaseMigration] Running migration DOWN "${rt(this)}"`)}};function RHt(n){return function(e){Reflect.defineMetadata(kn.options.migration,n,e),Reflect.defineMetadata(kn.className,n?.className||e.name,e),Hl(e,n?.className)}}var OHt=(n=0)=>new Promise(e=>{setTimeout(()=>{globalThis?.window?.document?.getElementById("taonpreloadertoremove")?.remove();let t=globalThis?.window?.document?.body;t&&t.style&&(t.style.backgroundColor=""),e()},n)});var PHt=nO;export{Hx as a,fn as b,et as c,Ke as d,vf as e,LO as f,vt as g,Ve as h,ze as i,Et as j,xf as k,Hle as l,zle as m,Wle as n,Mn as o,Ai as p,nP as q,cu as r,fi as s,Ni as t,Kle as u,Ae as v,Zs as w,xa as x,me as y,Tt as z,_e as A,Pe as B,U as C,Mi as D,ln as E,Mg as F,Rg as G,HC as H,zC as I,Xt as J,st as K,hn as L,Nt as M,Sue as N,zn as O,jg as P,rr as Q,ji as R,Uo as S,_n as T,zc as U,mi as V,Pa as W,Z0 as X,Iu as Y,Gde as Z,wy as _,Fa as $,Ra as aa,pi as ba,Vo as ca,jr as da,OD as ea,is as fa,Rn as ga,It as ha,un as ia,Zr as ja,By as ka,UD as la,uh as ma,HD as na,pL as oa,GD as pa,jy as qa,Tr as ra,KD as sa,ss as ta,JD as ua,ZD as va,wL as wa,CL as xa,DL as ya,Uy as za,dh as Aa,fh as Ba,ku as Ca,Yc as Da,Zc as Ea,zo as Fa,TL as Ga,nx as Ha,NL as Ia,La as Ja,rx as Ka,Ns as La,Ui as Ma,ph as Na,mh as Oa,gh as Pa,yh as Qa,RL as Ra,OL as Sa,Qpe as Ta,ix as Ua,$y as Va,yr as Wa,Fu as Xa,UL as Ya,sx as Za,ox as _a,zL as $a,GL as ab,yme as bb,QL as cb,bme as db,_me as eb,Ba as fb,Cme as gb,Dme as hb,ZL as ib,Sme as jb,lx as kb,qa as lb,_h as mb,vmt as nb,Emt as ob,wmt as pb,el as qb,gi as rb,Cx as sb,Cmt as tb,Dmt as ub,xmt as vb,Tmt as wb,Wo as xb,Lu as yb,Ua as zb,zge as Ab,Wge as Bb,jB as Cb,tl as Db,VB as Eb,UB as Fb,Bu as Gb,Ch as Hb,aye as Ib,jx as Jb,lbt as Kb,ubt as Lb,Th as Mb,Sh as Nb,Wx as Ob,Gx as Pb,Ms as Qb,ir as Rb,$u as Sb,fq as Tb,fo as Ub,lb as Vb,Wye as Wb,Ko as Xb,Ih as Yb,Jx as Zb,db as _b,Yx as $b,fb as ac,Jye as bc,xq as cc,abe as dc,lbe as ec,ube as fc,tT as gc,Nq as hc,nT as ic,Iq as jc,fbe as kc,hbe as lc,K_t as mc,svt as nc,avt as oc,hvt as pc,pvt as qc,Va as rc,vvt as sc,wvt as tc,Fvt as uc,Uq as vc,xbe as wc,Hq as xc,sr as yc,bb as zc,pEt as Ac,mEt as Bc,bEt as Cc,Wq as Dc,jEt as Ec,UEt as Fc,qbe as Gc,dT as Hc,uwt as Ic,aj as Jc,Xq as Kc,Gu as Lc,rj as Mc,a_e as Nc,f_e as Oc,mwt as Pc,Tj as Qc,xwt as Rc,Rwt as Sc,Jwt as Tc,Ywt as Uc,Sj as Vc,Zwt as Wc,vT as Xc,ET as Yc,Mb as Zc,Aj as _c,sCt as $c,oCt as ad,lCt as bd,jT as cd,Kve as dd,Jve as ed,Yve as fd,ut as gd,We as hd,$v as id,htt as jd,gHt as kd,Rtt as ld,ktt as md,rO as nd,vm as od,Btt as pd,MHt as qd,Tce as rd,RHt as sd,OHt as td,PHt as ud};
