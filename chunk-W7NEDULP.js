import{a as Zce}from"./chunk-WXE6BMS3.js";import{a as Z,b as We,d as ff,e as b,f as UN,g as R}from"./chunk-VB56BUGO.js";var Ox=b(()=>{var NB;(function(n){(function(e){var t=typeof globalThis=="object"?globalThis:typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:a(),r=i(n);typeof t.Reflect<"u"&&(r=i(t.Reflect,r)),e(r,t),typeof t.Reflect>"u"&&(t.Reflect=n);function i(c,u){return function(l,f){Object.defineProperty(c,l,{configurable:!0,writable:!0,value:f}),u&&u(l,f)}}function s(){try{return Function("return this;")()}catch{}}function o(){try{return(0,eval)("(function() { return this; })()")}catch{}}function a(){return s()||o()}})(function(e,t){var r=Object.prototype.hasOwnProperty,i=typeof Symbol=="function",s=i&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",o=i&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",a=typeof Object.create=="function",c={__proto__:[]}instanceof Array,u=!a&&!c,l={create:a?function(){return L(Object.create(null))}:c?function(){return L({__proto__:null})}:function(){return L({})},has:u?function(M,A){return r.call(M,A)}:function(M,A){return A in M},get:u?function(M,A){return r.call(M,A)?M[A]:void 0}:function(M,A){return M[A]}},f=Object.getPrototypeOf(Function),p=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:te(),g=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:x(),v=typeof WeakMap=="function"?WeakMap:T(),E=i?Symbol.for("@reflect-metadata:registry"):void 0,D=oi(),P=O(D);function K(M,A,j,H){if(Re(j)){if(!Cn(M))throw new TypeError;if(!Vt(A))throw new TypeError;return ee(M,A)}else{if(!Cn(M))throw new TypeError;if(!Tt(A))throw new TypeError;if(!Tt(H)&&!Re(H)&&!Tn(H))throw new TypeError;return Tn(H)&&(H=void 0),j=ur(j),de(M,A,j,H)}}e("decorate",K);function J(M,A){function j(H,fe){if(!Tt(H))throw new TypeError;if(!Re(fe)&&!Qi(fe))throw new TypeError;Mt(M,A,H,fe)}return j}e("metadata",J);function re(M,A,j,H){if(!Tt(j))throw new TypeError;return Re(H)||(H=ur(H)),Mt(M,A,j,H)}e("defineMetadata",re);function he(M,A,j){if(!Tt(A))throw new TypeError;return Re(j)||(j=ur(j)),pe(M,A,j)}e("hasMetadata",he);function y(M,A,j){if(!Tt(A))throw new TypeError;return Re(j)||(j=ur(j)),Ke(M,A,j)}e("hasOwnMetadata",y);function Te(M,A,j){if(!Tt(A))throw new TypeError;return Re(j)||(j=ur(j)),ce(M,A,j)}e("getMetadata",Te);function De(M,A,j){if(!Tt(A))throw new TypeError;return Re(j)||(j=ur(j)),st(M,A,j)}e("getOwnMetadata",De);function Ve(M,A){if(!Tt(M))throw new TypeError;return Re(A)||(A=ur(A)),Wt(M,A)}e("getMetadataKeys",Ve);function q(M,A){if(!Tt(M))throw new TypeError;return Re(A)||(A=ur(A)),Kn(M,A)}e("getOwnMetadataKeys",q);function I(M,A,j){if(!Tt(A))throw new TypeError;if(Re(j)||(j=ur(j)),!Tt(A))throw new TypeError;Re(j)||(j=ur(j));var H=$(A,j,!1);return Re(H)?!1:H.OrdinaryDeleteMetadata(M,A,j)}e("deleteMetadata",I);function ee(M,A){for(var j=M.length-1;j>=0;--j){var H=M[j],fe=H(A);if(!Re(fe)&&!Tn(fe)){if(!Vt(fe))throw new TypeError;A=fe}}return A}function de(M,A,j,H){for(var fe=M.length-1;fe>=0;--fe){var be=M[fe],Ie=be(A,j,H);if(!Re(Ie)&&!Tn(Ie)){if(!Tt(Ie))throw new TypeError;H=Ie}}return H}function pe(M,A,j){var H=Ke(M,A,j);if(H)return!0;var fe=cn(A);return Tn(fe)?!1:pe(M,fe,j)}function Ke(M,A,j){var H=$(A,j,!1);return Re(H)?!1:Ci(H.OrdinaryHasOwnMetadata(M,A,j))}function ce(M,A,j){var H=Ke(M,A,j);if(H)return st(M,A,j);var fe=cn(A);if(!Tn(fe))return ce(M,fe,j)}function st(M,A,j){var H=$(A,j,!1);if(!Re(H))return H.OrdinaryGetOwnMetadata(M,A,j)}function Mt(M,A,j,H){var fe=$(j,H,!0);fe.OrdinaryDefineOwnMetadata(M,A,j,H)}function Wt(M,A){var j=Kn(M,A),H=cn(M);if(H===null)return j;var fe=Wt(H,A);if(fe.length<=0)return j;if(j.length<=0)return fe;for(var be=new g,Ie=[],xe=0,ae=j;xe<ae.length;xe++){var ve=ae[xe],Ce=be.has(ve);Ce||(be.add(ve),Ie.push(ve))}for(var ge=0,qe=fe;ge<qe.length;ge++){var ve=qe[ge],Ce=be.has(ve);Ce||(be.add(ve),Ie.push(ve))}return Ie}function Kn(M,A){var j=$(M,A,!1);return j?j.OrdinaryOwnMetadataKeys(M,A):[]}function xn(M){if(M===null)return 1;switch(typeof M){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return M===null?1:6;default:return 6}}function Re(M){return M===void 0}function Tn(M){return M===null}function In(M){return typeof M=="symbol"}function Tt(M){return typeof M=="object"?M!==null:typeof M=="function"}function vr(M,A){switch(xn(M)){case 0:return M;case 1:return M;case 2:return M;case 3:return M;case 4:return M;case 5:return M}var j=A===3?"string":A===5?"number":"default",H=an(M,s);if(H!==void 0){var fe=H.call(M,j);if(Tt(fe))throw new TypeError;return fe}return Un(M,j==="default"?"number":j)}function Un(M,A){if(A==="string"){var j=M.toString;if(Mn(j)){var H=j.call(M);if(!Tt(H))return H}var fe=M.valueOf;if(Mn(fe)){var H=fe.call(M);if(!Tt(H))return H}}else{var fe=M.valueOf;if(Mn(fe)){var H=fe.call(M);if(!Tt(H))return H}var be=M.toString;if(Mn(be)){var H=be.call(M);if(!Tt(H))return H}}throw new TypeError}function Ci(M){return!!M}function Yn(M){return""+M}function ur(M){var A=vr(M,3);return In(A)?A:Yn(A)}function Cn(M){return Array.isArray?Array.isArray(M):M instanceof Object?M instanceof Array:Object.prototype.toString.call(M)==="[object Array]"}function Mn(M){return typeof M=="function"}function Vt(M){return typeof M=="function"}function Qi(M){switch(xn(M)){case 3:return!0;case 4:return!0;default:return!1}}function nn(M,A){return M===A||M!==M&&A!==A}function an(M,A){var j=M[A];if(j!=null){if(!Mn(j))throw new TypeError;return j}}function kn(M){var A=an(M,o);if(!Mn(A))throw new TypeError;var j=A.call(M);if(!Tt(j))throw new TypeError;return j}function lr(M){return M.value}function Ln(M){var A=M.next();return A.done?!1:A}function Jt(M){var A=M.return;A&&A.call(M)}function cn(M){var A=Object.getPrototypeOf(M);if(typeof M!="function"||M===f||A!==f)return A;var j=M.prototype,H=j&&Object.getPrototypeOf(j);if(H==null||H===Object.prototype)return A;var fe=H.constructor;return typeof fe!="function"||fe===M?A:fe}function dr(){var M;!Re(E)&&typeof t.Reflect<"u"&&!(E in t.Reflect)&&typeof t.Reflect.defineMetadata=="function"&&(M=N(t.Reflect));var A,j,H,fe=new v,be={registerProvider:Ie,getProvider:ae,setProvider:Ce};return be;function Ie(ge){if(!Object.isExtensible(be))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case M===ge:break;case Re(A):A=ge;break;case A===ge:break;case Re(j):j=ge;break;case j===ge:break;default:H===void 0&&(H=new g),H.add(ge);break}}function xe(ge,qe){if(!Re(A)){if(A.isProviderFor(ge,qe))return A;if(!Re(j)){if(j.isProviderFor(ge,qe))return A;if(!Re(H))for(var Ue=kn(H);;){var ot=Ln(Ue);if(!ot)return;var Gt=lr(ot);if(Gt.isProviderFor(ge,qe))return Jt(Ue),Gt}}}if(!Re(M)&&M.isProviderFor(ge,qe))return M}function ae(ge,qe){var Ue=fe.get(ge),ot;return Re(Ue)||(ot=Ue.get(qe)),Re(ot)&&(ot=xe(ge,qe),Re(ot)||(Re(Ue)&&(Ue=new p,fe.set(ge,Ue)),Ue.set(qe,ot))),ot}function ve(ge){if(Re(ge))throw new TypeError;return A===ge||j===ge||!Re(H)&&H.has(ge)}function Ce(ge,qe,Ue){if(!ve(Ue))throw new Error("Metadata provider not registered.");var ot=ae(ge,qe);if(ot!==Ue){if(!Re(ot))return!1;var Gt=fe.get(ge);Re(Gt)&&(Gt=new p,fe.set(ge,Gt)),Gt.set(qe,Ue)}return!0}}function oi(){var M;return!Re(E)&&Tt(t.Reflect)&&Object.isExtensible(t.Reflect)&&(M=t.Reflect[E]),Re(M)&&(M=dr()),!Re(E)&&Tt(t.Reflect)&&Object.isExtensible(t.Reflect)&&Object.defineProperty(t.Reflect,E,{enumerable:!1,configurable:!1,writable:!1,value:M}),M}function O(M){var A=new v,j={isProviderFor:function(ve,Ce){var ge=A.get(ve);return Re(ge)?!1:ge.has(Ce)},OrdinaryDefineOwnMetadata:Ie,OrdinaryHasOwnMetadata:fe,OrdinaryGetOwnMetadata:be,OrdinaryOwnMetadataKeys:xe,OrdinaryDeleteMetadata:ae};return D.registerProvider(j),j;function H(ve,Ce,ge){var qe=A.get(ve),Ue=!1;if(Re(qe)){if(!ge)return;qe=new p,A.set(ve,qe),Ue=!0}var ot=qe.get(Ce);if(Re(ot)){if(!ge)return;if(ot=new p,qe.set(Ce,ot),!M.setProvider(ve,Ce,j))throw qe.delete(Ce),Ue&&A.delete(ve),new Error("Wrong provider for target.")}return ot}function fe(ve,Ce,ge){var qe=H(Ce,ge,!1);return Re(qe)?!1:Ci(qe.has(ve))}function be(ve,Ce,ge){var qe=H(Ce,ge,!1);if(!Re(qe))return qe.get(ve)}function Ie(ve,Ce,ge,qe){var Ue=H(ge,qe,!0);Ue.set(ve,Ce)}function xe(ve,Ce){var ge=[],qe=H(ve,Ce,!1);if(Re(qe))return ge;for(var Ue=qe.keys(),ot=kn(Ue),Gt=0;;){var Bn=Ln(ot);if(!Bn)return ge.length=Gt,ge;var Mr=lr(Bn);try{ge[Gt]=Mr}catch(Rr){try{Jt(ot)}finally{throw Rr}}Gt++}}function ae(ve,Ce,ge){var qe=H(Ce,ge,!1);if(Re(qe)||!qe.delete(ve))return!1;if(qe.size===0){var Ue=A.get(Ce);Re(Ue)||(Ue.delete(ge),Ue.size===0&&A.delete(Ue))}return!0}}function N(M){var A=M.defineMetadata,j=M.hasOwnMetadata,H=M.getOwnMetadata,fe=M.getOwnMetadataKeys,be=M.deleteMetadata,Ie=new v,xe={isProviderFor:function(ae,ve){var Ce=Ie.get(ae);return!Re(Ce)&&Ce.has(ve)?!0:fe(ae,ve).length?(Re(Ce)&&(Ce=new g,Ie.set(ae,Ce)),Ce.add(ve),!0):!1},OrdinaryDefineOwnMetadata:A,OrdinaryHasOwnMetadata:j,OrdinaryGetOwnMetadata:H,OrdinaryOwnMetadataKeys:fe,OrdinaryDeleteMetadata:be};return xe}function $(M,A,j){var H=D.getProvider(M,A);if(!Re(H))return H;if(j){if(D.setProvider(M,A,P))return P;throw new Error("Illegal state.")}}function te(){var M={},A=[],j=(function(){function xe(ae,ve,Ce){this._index=0,this._keys=ae,this._values=ve,this._selector=Ce}return xe.prototype["@@iterator"]=function(){return this},xe.prototype[o]=function(){return this},xe.prototype.next=function(){var ae=this._index;if(ae>=0&&ae<this._keys.length){var ve=this._selector(this._keys[ae],this._values[ae]);return ae+1>=this._keys.length?(this._index=-1,this._keys=A,this._values=A):this._index++,{value:ve,done:!1}}return{value:void 0,done:!0}},xe.prototype.throw=function(ae){throw this._index>=0&&(this._index=-1,this._keys=A,this._values=A),ae},xe.prototype.return=function(ae){return this._index>=0&&(this._index=-1,this._keys=A,this._values=A),{value:ae,done:!0}},xe})(),H=(function(){function xe(){this._keys=[],this._values=[],this._cacheKey=M,this._cacheIndex=-2}return Object.defineProperty(xe.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),xe.prototype.has=function(ae){return this._find(ae,!1)>=0},xe.prototype.get=function(ae){var ve=this._find(ae,!1);return ve>=0?this._values[ve]:void 0},xe.prototype.set=function(ae,ve){var Ce=this._find(ae,!0);return this._values[Ce]=ve,this},xe.prototype.delete=function(ae){var ve=this._find(ae,!1);if(ve>=0){for(var Ce=this._keys.length,ge=ve+1;ge<Ce;ge++)this._keys[ge-1]=this._keys[ge],this._values[ge-1]=this._values[ge];return this._keys.length--,this._values.length--,nn(ae,this._cacheKey)&&(this._cacheKey=M,this._cacheIndex=-2),!0}return!1},xe.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=M,this._cacheIndex=-2},xe.prototype.keys=function(){return new j(this._keys,this._values,fe)},xe.prototype.values=function(){return new j(this._keys,this._values,be)},xe.prototype.entries=function(){return new j(this._keys,this._values,Ie)},xe.prototype["@@iterator"]=function(){return this.entries()},xe.prototype[o]=function(){return this.entries()},xe.prototype._find=function(ae,ve){if(!nn(this._cacheKey,ae)){this._cacheIndex=-1;for(var Ce=0;Ce<this._keys.length;Ce++)if(nn(this._keys[Ce],ae)){this._cacheIndex=Ce;break}}return this._cacheIndex<0&&ve&&(this._cacheIndex=this._keys.length,this._keys.push(ae),this._values.push(void 0)),this._cacheIndex},xe})();return H;function fe(xe,ae){return xe}function be(xe,ae){return ae}function Ie(xe,ae){return[xe,ae]}}function x(){var M=(function(){function A(){this._map=new p}return Object.defineProperty(A.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),A.prototype.has=function(j){return this._map.has(j)},A.prototype.add=function(j){return this._map.set(j,j),this},A.prototype.delete=function(j){return this._map.delete(j)},A.prototype.clear=function(){this._map.clear()},A.prototype.keys=function(){return this._map.keys()},A.prototype.values=function(){return this._map.keys()},A.prototype.entries=function(){return this._map.entries()},A.prototype["@@iterator"]=function(){return this.keys()},A.prototype[o]=function(){return this.keys()},A})();return M}function T(){var M=16,A=l.create(),j=H();return(function(){function ae(){this._key=H()}return ae.prototype.has=function(ve){var Ce=fe(ve,!1);return Ce!==void 0?l.has(Ce,this._key):!1},ae.prototype.get=function(ve){var Ce=fe(ve,!1);return Ce!==void 0?l.get(Ce,this._key):void 0},ae.prototype.set=function(ve,Ce){var ge=fe(ve,!0);return ge[this._key]=Ce,this},ae.prototype.delete=function(ve){var Ce=fe(ve,!1);return Ce!==void 0?delete Ce[this._key]:!1},ae.prototype.clear=function(){this._key=H()},ae})();function H(){var ae;do ae="@@WeakMap@@"+xe();while(l.has(A,ae));return A[ae]=!0,ae}function fe(ae,ve){if(!r.call(ae,j)){if(!ve)return;Object.defineProperty(ae,j,{value:l.create()})}return ae[j]}function be(ae,ve){for(var Ce=0;Ce<ve;++Ce)ae[Ce]=Math.random()*255|0;return ae}function Ie(ae){if(typeof Uint8Array=="function"){var ve=new Uint8Array(ae);return typeof crypto<"u"?crypto.getRandomValues(ve):typeof msCrypto<"u"?msCrypto.getRandomValues(ve):be(ve,ae),ve}return be(new Array(ae),ae)}function xe(){var ae=Ie(M);ae[6]=ae[6]&79|64,ae[8]=ae[8]&191|128;for(var ve="",Ce=0;Ce<M;++Ce){var ge=ae[Ce];(Ce===4||Ce===6||Ce===8)&&(ve+="-"),ge<16&&(ve+="0"),ve+=ge.toString(16).toLowerCase()}return ve}}function L(M){return M.__=void 0,delete M.__,M}})})(NB||(NB={}))});var jT=b((s0t,i2)=>{var $_e=typeof global=="object"&&global&&global.Object===Object&&global;i2.exports=$_e});var or=b((o0t,s2)=>{var V_e=jT(),U_e=typeof self=="object"&&self&&self.Object===Object&&self,H_e=V_e||U_e||Function("return this")();s2.exports=H_e});var Ga=b((a0t,o2)=>{var W_e=or(),z_e=W_e.Symbol;o2.exports=z_e});var l2=b((c0t,u2)=>{var a2=Ga(),c2=Object.prototype,G_e=c2.hasOwnProperty,Q_e=c2.toString,Yh=a2?a2.toStringTag:void 0;function K_e(n){var e=G_e.call(n,Yh),t=n[Yh];try{n[Yh]=void 0;var r=!0}catch{}var i=Q_e.call(n);return r&&(e?n[Yh]=t:delete n[Yh]),i}u2.exports=K_e});var f2=b((u0t,d2)=>{var Y_e=Object.prototype,J_e=Y_e.toString;function Z_e(n){return J_e.call(n)}d2.exports=Z_e});var Zr=b((l0t,m2)=>{var h2=Ga(),X_e=l2(),eEe=f2(),tEe="[object Null]",nEe="[object Undefined]",p2=h2?h2.toStringTag:void 0;function rEe(n){return n==null?n===void 0?nEe:tEe:p2&&p2 in Object(n)?X_e(n):eEe(n)}m2.exports=rEe});var Pn=b((d0t,g2)=>{function iEe(n){return n!=null&&typeof n=="object"}g2.exports=iEe});var rs=b((f0t,y2)=>{var sEe=Zr(),oEe=Pn(),aEe="[object Symbol]";function cEe(n){return typeof n=="symbol"||oEe(n)&&sEe(n)==aEe}y2.exports=cEe});var v2=b((h0t,b2)=>{var uEe=rs(),lEe=NaN;function dEe(n){return typeof n=="number"?n:uEe(n)?lEe:+n}b2.exports=dEe});var Fn=b((p0t,_2)=>{function fEe(n,e){for(var t=-1,r=n==null?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}_2.exports=fEe});var Lt=b((m0t,E2)=>{var hEe=Array.isArray;E2.exports=hEe});var Rs=b((g0t,T2)=>{var w2=Ga(),pEe=Fn(),mEe=Lt(),gEe=rs(),yEe=1/0,C2=w2?w2.prototype:void 0,D2=C2?C2.toString:void 0;function x2(n){if(typeof n=="string")return n;if(mEe(n))return pEe(n,x2)+"";if(gEe(n))return D2?D2.call(n):"";var e=n+"";return e=="0"&&1/n==-yEe?"-0":e}T2.exports=x2});var Jh=b((y0t,I2)=>{var A2=v2(),S2=Rs();function bEe(n,e){return function(t,r){var i;if(t===void 0&&r===void 0)return e;if(t!==void 0&&(i=t),r!==void 0){if(i===void 0)return r;typeof t=="string"||typeof r=="string"?(t=S2(t),r=S2(r)):(t=A2(t),r=A2(r)),i=n(t,r)}return i}}I2.exports=bEe});var R2=b((b0t,M2)=>{var vEe=Jh(),_Ee=vEe(function(n,e){return n+e},0);M2.exports=_Ee});var $T=b((v0t,N2)=>{var EEe=/\s/;function wEe(n){for(var e=n.length;e--&&EEe.test(n.charAt(e)););return e}N2.exports=wEe});var VT=b((_0t,O2)=>{var CEe=$T(),DEe=/^\s+/;function xEe(n){return n&&n.slice(0,CEe(n)+1).replace(DEe,"")}O2.exports=xEe});var Gn=b((E0t,P2)=>{function TEe(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}P2.exports=TEe});var Yo=b((w0t,L2)=>{var AEe=VT(),F2=Gn(),SEe=rs(),k2=NaN,IEe=/^[-+]0x[0-9a-f]+$/i,MEe=/^0b[01]+$/i,REe=/^0o[0-7]+$/i,NEe=parseInt;function OEe(n){if(typeof n=="number")return n;if(SEe(n))return k2;if(F2(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=F2(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=AEe(n);var t=MEe.test(n);return t||REe.test(n)?NEe(n.slice(2),t?2:8):IEe.test(n)?k2:+n}L2.exports=OEe});var ad=b((C0t,q2)=>{var PEe=Yo(),B2=1/0,FEe=17976931348623157e292;function kEe(n){if(!n)return n===0?n:0;if(n=PEe(n),n===B2||n===-B2){var e=n<0?-1:1;return e*FEe}return n===n?n:0}q2.exports=kEe});var qt=b((D0t,j2)=>{var LEe=ad();function BEe(n){var e=LEe(n),t=e%1;return e===e?t?e-t:e:0}j2.exports=BEe});var V2=b((x0t,$2)=>{var qEe=qt(),jEe="Expected a function";function $Ee(n,e){if(typeof e!="function")throw new TypeError(jEe);return n=qEe(n),function(){if(--n<1)return e.apply(this,arguments)}}$2.exports=$Ee});var gi=b((T0t,U2)=>{function VEe(n){return n}U2.exports=VEe});var ho=b((A0t,H2)=>{var UEe=Zr(),HEe=Gn(),WEe="[object AsyncFunction]",zEe="[object Function]",GEe="[object GeneratorFunction]",QEe="[object Proxy]";function KEe(n){if(!HEe(n))return!1;var e=UEe(n);return e==zEe||e==GEe||e==WEe||e==QEe}H2.exports=KEe});var UT=b((S0t,W2)=>{var YEe=or(),JEe=YEe["__core-js_shared__"];W2.exports=JEe});var Q2=b((I0t,G2)=>{var HT=UT(),z2=(function(){var n=/[^.]+$/.exec(HT&&HT.keys&&HT.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function ZEe(n){return!!z2&&z2 in n}G2.exports=ZEe});var WT=b((M0t,K2)=>{var XEe=Function.prototype,ewe=XEe.toString;function twe(n){if(n!=null){try{return ewe.call(n)}catch{}try{return n+""}catch{}}return""}K2.exports=twe});var zT=b((R0t,Y2)=>{var nwe=ho(),rwe=Q2(),iwe=Gn(),swe=WT(),owe=/[\\^$.*+?()[\]{}|]/g,awe=/^\[object .+?Constructor\]$/,cwe=Function.prototype,uwe=Object.prototype,lwe=cwe.toString,dwe=uwe.hasOwnProperty,fwe=RegExp("^"+lwe.call(dwe).replace(owe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hwe(n){if(!iwe(n)||rwe(n))return!1;var e=nwe(n)?fwe:awe;return e.test(swe(n))}Y2.exports=hwe});var Z2=b((N0t,J2)=>{function pwe(n,e){return n?.[e]}J2.exports=pwe});var Qa=b((O0t,X2)=>{var mwe=zT(),gwe=Z2();function ywe(n,e){var t=gwe(n,e);return mwe(t)?t:void 0}X2.exports=ywe});var GT=b((P0t,e$)=>{var bwe=Qa(),vwe=or(),_we=bwe(vwe,"WeakMap");e$.exports=_we});var QT=b((F0t,n$)=>{var t$=GT(),Ewe=t$&&new t$;n$.exports=Ewe});var KT=b((k0t,i$)=>{var wwe=gi(),r$=QT(),Cwe=r$?function(n,e){return r$.set(n,e),n}:wwe;i$.exports=Cwe});var gu=b((L0t,o$)=>{var Dwe=Gn(),s$=Object.create,xwe=(function(){function n(){}return function(e){if(!Dwe(e))return{};if(s$)return s$(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}})();o$.exports=xwe});var Zh=b((B0t,a$)=>{var Twe=gu(),Awe=Gn();function Swe(n){return function(){var e=arguments;switch(e.length){case 0:return new n;case 1:return new n(e[0]);case 2:return new n(e[0],e[1]);case 3:return new n(e[0],e[1],e[2]);case 4:return new n(e[0],e[1],e[2],e[3]);case 5:return new n(e[0],e[1],e[2],e[3],e[4]);case 6:return new n(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new n(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=Twe(n.prototype),r=n.apply(t,e);return Awe(r)?r:t}}a$.exports=Swe});var u$=b((q0t,c$)=>{var Iwe=Zh(),Mwe=or(),Rwe=1;function Nwe(n,e,t){var r=e&Rwe,i=Iwe(n);function s(){var o=this&&this!==Mwe&&this instanceof s?i:n;return o.apply(r?t:this,arguments)}return s}c$.exports=Nwe});var Ui=b((j0t,l$)=>{function Owe(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}l$.exports=Owe});var YT=b(($0t,d$)=>{var Pwe=Math.max;function Fwe(n,e,t,r){for(var i=-1,s=n.length,o=t.length,a=-1,c=e.length,u=Pwe(s-o,0),l=Array(c+u),f=!r;++a<c;)l[a]=e[a];for(;++i<o;)(f||i<s)&&(l[t[i]]=n[i]);for(;u--;)l[a++]=n[i++];return l}d$.exports=Fwe});var JT=b((V0t,f$)=>{var kwe=Math.max;function Lwe(n,e,t,r){for(var i=-1,s=n.length,o=-1,a=t.length,c=-1,u=e.length,l=kwe(s-a,0),f=Array(l+u),p=!r;++i<l;)f[i]=n[i];for(var g=i;++c<u;)f[g+c]=e[c];for(;++o<a;)(p||i<s)&&(f[g+t[o]]=n[i++]);return f}f$.exports=Lwe});var p$=b((U0t,h$)=>{function Bwe(n,e){for(var t=n.length,r=0;t--;)n[t]===e&&++r;return r}h$.exports=Bwe});var tv=b((H0t,m$)=>{function qwe(){}m$.exports=qwe});var rv=b((W0t,g$)=>{var jwe=gu(),$we=tv(),Vwe=4294967295;function nv(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Vwe,this.__views__=[]}nv.prototype=jwe($we.prototype);nv.prototype.constructor=nv;g$.exports=nv});var iv=b((z0t,y$)=>{function Uwe(){}y$.exports=Uwe});var sv=b((G0t,v$)=>{var b$=QT(),Hwe=iv(),Wwe=b$?function(n){return b$.get(n)}:Hwe;v$.exports=Wwe});var E$=b((Q0t,_$)=>{var zwe={};_$.exports=zwe});var ZT=b((K0t,C$)=>{var w$=E$(),Gwe=Object.prototype,Qwe=Gwe.hasOwnProperty;function Kwe(n){for(var e=n.name+"",t=w$[e],r=Qwe.call(w$,e)?t.length:0;r--;){var i=t[r],s=i.func;if(s==null||s==n)return i.name}return e}C$.exports=Kwe});var av=b((Y0t,D$)=>{var Ywe=gu(),Jwe=tv();function ov(n,e){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}ov.prototype=Ywe(Jwe.prototype);ov.prototype.constructor=ov;D$.exports=ov});var is=b((J0t,x$)=>{function Zwe(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}x$.exports=Zwe});var A$=b((Z0t,T$)=>{var Xwe=rv(),eCe=av(),tCe=is();function nCe(n){if(n instanceof Xwe)return n.clone();var e=new eCe(n.__wrapped__,n.__chain__);return e.__actions__=tCe(n.__actions__),e.__index__=n.__index__,e.__values__=n.__values__,e}T$.exports=nCe});var XT=b((X0t,I$)=>{var rCe=rv(),S$=av(),iCe=tv(),sCe=Lt(),oCe=Pn(),aCe=A$(),cCe=Object.prototype,uCe=cCe.hasOwnProperty;function cv(n){if(oCe(n)&&!sCe(n)&&!(n instanceof rCe)){if(n instanceof S$)return n;if(uCe.call(n,"__wrapped__"))return aCe(n)}return new S$(n)}cv.prototype=iCe.prototype;cv.prototype.constructor=cv;I$.exports=cv});var eA=b((eDt,M$)=>{var lCe=rv(),dCe=sv(),fCe=ZT(),hCe=XT();function pCe(n){var e=fCe(n),t=hCe[e];if(typeof t!="function"||!(e in lCe.prototype))return!1;if(n===t)return!0;var r=dCe(t);return!!r&&n===r[0]}M$.exports=pCe});var tA=b((tDt,R$)=>{var mCe=800,gCe=16,yCe=Date.now;function bCe(n){var e=0,t=0;return function(){var r=yCe(),i=gCe-(r-t);if(t=r,i>0){if(++e>=mCe)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}R$.exports=bCe});var nA=b((nDt,N$)=>{var vCe=KT(),_Ce=tA(),ECe=_Ce(vCe);N$.exports=ECe});var P$=b((rDt,O$)=>{var wCe=/\{\n\/\* \[wrapped with (.+)\] \*/,CCe=/,? & /;function DCe(n){var e=n.match(wCe);return e?e[1].split(CCe):[]}O$.exports=DCe});var k$=b((iDt,F$)=>{var xCe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function TCe(n,e){var t=e.length;if(!t)return n;var r=t-1;return e[r]=(t>1?"& ":"")+e[r],e=e.join(t>2?", ":" "),n.replace(xCe,`{
/* [wrapped with `+e+`] */
`)}F$.exports=TCe});var uv=b((sDt,L$)=>{function ACe(n){return function(){return n}}L$.exports=ACe});var rA=b((oDt,B$)=>{var SCe=Qa(),ICe=(function(){try{var n=SCe(Object,"defineProperty");return n({},"",{}),n}catch{}})();B$.exports=ICe});var $$=b((aDt,j$)=>{var MCe=uv(),q$=rA(),RCe=gi(),NCe=q$?function(n,e){return q$(n,"toString",{configurable:!0,enumerable:!1,value:MCe(e),writable:!0})}:RCe;j$.exports=NCe});var lv=b((cDt,V$)=>{var OCe=$$(),PCe=tA(),FCe=PCe(OCe);V$.exports=FCe});var yu=b((uDt,U$)=>{function kCe(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}U$.exports=kCe});var Xh=b((lDt,H$)=>{function LCe(n,e,t,r){for(var i=n.length,s=t+(r?1:-1);r?s--:++s<i;)if(e(n[s],s,n))return s;return-1}H$.exports=LCe});var iA=b((dDt,W$)=>{function BCe(n){return n!==n}W$.exports=BCe});var G$=b((fDt,z$)=>{function qCe(n,e,t){for(var r=t-1,i=n.length;++r<i;)if(n[r]===e)return r;return-1}z$.exports=qCe});var bu=b((hDt,Q$)=>{var jCe=Xh(),$Ce=iA(),VCe=G$();function UCe(n,e,t){return e===e?VCe(n,e,t):jCe(n,$Ce,t)}Q$.exports=UCe});var ep=b((pDt,K$)=>{var HCe=bu();function WCe(n,e){var t=n==null?0:n.length;return!!t&&HCe(n,e,0)>-1}K$.exports=WCe});var J$=b((mDt,Y$)=>{var zCe=yu(),GCe=ep(),QCe=1,KCe=2,YCe=8,JCe=16,ZCe=32,XCe=64,e0e=128,t0e=256,n0e=512,r0e=[["ary",e0e],["bind",QCe],["bindKey",KCe],["curry",YCe],["curryRight",JCe],["flip",n0e],["partial",ZCe],["partialRight",XCe],["rearg",t0e]];function i0e(n,e){return zCe(r0e,function(t){var r="_."+t[0];e&t[1]&&!GCe(n,r)&&n.push(r)}),n.sort()}Y$.exports=i0e});var sA=b((gDt,Z$)=>{var s0e=P$(),o0e=k$(),a0e=lv(),c0e=J$();function u0e(n,e,t){var r=e+"";return a0e(n,o0e(r,c0e(s0e(r),t)))}Z$.exports=u0e});var oA=b((yDt,tV)=>{var l0e=eA(),d0e=nA(),f0e=sA(),h0e=1,p0e=2,m0e=4,g0e=8,X$=32,eV=64;function y0e(n,e,t,r,i,s,o,a,c,u){var l=e&g0e,f=l?o:void 0,p=l?void 0:o,g=l?s:void 0,v=l?void 0:s;e|=l?X$:eV,e&=~(l?eV:X$),e&m0e||(e&=~(h0e|p0e));var E=[n,e,i,g,f,v,p,a,c,u],D=t.apply(void 0,E);return l0e(n)&&d0e(D,E),D.placeholder=r,f0e(D,n,e)}tV.exports=y0e});var vu=b((bDt,nV)=>{function b0e(n){var e=n;return e.placeholder}nV.exports=b0e});var Jo=b((vDt,rV)=>{var v0e=9007199254740991,_0e=/^(?:0|[1-9]\d*)$/;function E0e(n,e){var t=typeof n;return e=e??v0e,!!e&&(t=="number"||t!="symbol"&&_0e.test(n))&&n>-1&&n%1==0&&n<e}rV.exports=E0e});var sV=b((_Dt,iV)=>{var w0e=is(),C0e=Jo(),D0e=Math.min;function x0e(n,e){for(var t=n.length,r=D0e(e.length,t),i=w0e(n);r--;){var s=e[r];n[r]=C0e(s,t)?i[s]:void 0}return n}iV.exports=x0e});var Ka=b((EDt,aV)=>{var oV="__lodash_placeholder__";function T0e(n,e){for(var t=-1,r=n.length,i=0,s=[];++t<r;){var o=n[t];(o===e||o===oV)&&(n[t]=oV,s[i++]=t)}return s}aV.exports=T0e});var aA=b((wDt,lV)=>{var A0e=YT(),S0e=JT(),I0e=p$(),cV=Zh(),M0e=oA(),R0e=vu(),N0e=sV(),O0e=Ka(),P0e=or(),F0e=1,k0e=2,L0e=8,B0e=16,q0e=128,j0e=512;function uV(n,e,t,r,i,s,o,a,c,u){var l=e&q0e,f=e&F0e,p=e&k0e,g=e&(L0e|B0e),v=e&j0e,E=p?void 0:cV(n);function D(){for(var P=arguments.length,K=Array(P),J=P;J--;)K[J]=arguments[J];if(g)var re=R0e(D),he=I0e(K,re);if(r&&(K=A0e(K,r,i,g)),s&&(K=S0e(K,s,o,g)),P-=he,g&&P<u){var y=O0e(K,re);return M0e(n,e,uV,D.placeholder,t,K,y,a,c,u-P)}var Te=f?t:this,De=p?Te[n]:n;return P=K.length,a?K=N0e(K,a):v&&P>1&&K.reverse(),l&&c<P&&(K.length=c),this&&this!==P0e&&this instanceof D&&(De=E||cV(De)),De.apply(Te,K)}return D}lV.exports=uV});var fV=b((CDt,dV)=>{var $0e=Ui(),V0e=Zh(),U0e=aA(),H0e=oA(),W0e=vu(),z0e=Ka(),G0e=or();function Q0e(n,e,t){var r=V0e(n);function i(){for(var s=arguments.length,o=Array(s),a=s,c=W0e(i);a--;)o[a]=arguments[a];var u=s<3&&o[0]!==c&&o[s-1]!==c?[]:z0e(o,c);if(s-=u.length,s<t)return H0e(n,e,U0e,i.placeholder,void 0,o,u,void 0,void 0,t-s);var l=this&&this!==G0e&&this instanceof i?r:n;return $0e(l,this,o)}return i}dV.exports=Q0e});var pV=b((DDt,hV)=>{var K0e=Ui(),Y0e=Zh(),J0e=or(),Z0e=1;function X0e(n,e,t,r){var i=e&Z0e,s=Y0e(n);function o(){for(var a=-1,c=arguments.length,u=-1,l=r.length,f=Array(l+c),p=this&&this!==J0e&&this instanceof o?s:n;++u<l;)f[u]=r[u];for(;c--;)f[u++]=arguments[++a];return K0e(p,i?t:this,f)}return o}hV.exports=X0e});var _V=b((xDt,vV)=>{var eDe=YT(),tDe=JT(),mV=Ka(),gV="__lodash_placeholder__",cA=1,nDe=2,rDe=4,yV=8,tp=128,bV=256,iDe=Math.min;function sDe(n,e){var t=n[1],r=e[1],i=t|r,s=i<(cA|nDe|tp),o=r==tp&&t==yV||r==tp&&t==bV&&n[7].length<=e[8]||r==(tp|bV)&&e[7].length<=e[8]&&t==yV;if(!(s||o))return n;r&cA&&(n[2]=e[2],i|=t&cA?0:rDe);var a=e[3];if(a){var c=n[3];n[3]=c?eDe(c,a,e[4]):a,n[4]=c?mV(n[3],gV):e[4]}return a=e[5],a&&(c=n[5],n[5]=c?tDe(c,a,e[6]):a,n[6]=c?mV(n[5],gV):e[6]),a=e[7],a&&(n[7]=a),r&tp&&(n[8]=n[8]==null?e[8]:iDe(n[8],e[8])),n[9]==null&&(n[9]=e[9]),n[0]=e[0],n[1]=i,n}vV.exports=sDe});var po=b((TDt,xV)=>{var oDe=KT(),aDe=u$(),cDe=fV(),uDe=aA(),lDe=pV(),dDe=sv(),fDe=_V(),hDe=nA(),pDe=sA(),EV=qt(),mDe="Expected a function",wV=1,gDe=2,uA=8,lA=16,dA=32,CV=64,DV=Math.max;function yDe(n,e,t,r,i,s,o,a){var c=e&gDe;if(!c&&typeof n!="function")throw new TypeError(mDe);var u=r?r.length:0;if(u||(e&=~(dA|CV),r=i=void 0),o=o===void 0?o:DV(EV(o),0),a=a===void 0?a:EV(a),u-=i?i.length:0,e&CV){var l=r,f=i;r=i=void 0}var p=c?void 0:dDe(n),g=[n,e,t,r,i,l,f,s,o,a];if(p&&fDe(g,p),n=g[0],e=g[1],t=g[2],r=g[3],i=g[4],a=g[9]=g[9]===void 0?c?0:n.length:DV(g[9]-u,0),!a&&e&(uA|lA)&&(e&=~(uA|lA)),!e||e==wV)var v=aDe(n,e,t);else e==uA||e==lA?v=cDe(n,e,a):(e==dA||e==(wV|dA))&&!i.length?v=lDe(n,e,t,r):v=uDe.apply(void 0,g);var E=p?oDe:hDe;return pDe(E(v,g),n,e)}xV.exports=yDe});var fA=b((ADt,TV)=>{var bDe=po(),vDe=128;function _De(n,e,t){return e=t?void 0:e,e=n&&e==null?n.length:e,bDe(n,vDe,void 0,void 0,void 0,void 0,e)}TV.exports=_De});var mo=b((SDt,SV)=>{var AV=rA();function EDe(n,e,t){e=="__proto__"&&AV?AV(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}SV.exports=EDe});var ss=b((IDt,IV)=>{function wDe(n,e){return n===e||n!==n&&e!==e}IV.exports=wDe});var cd=b((MDt,MV)=>{var CDe=mo(),DDe=ss(),xDe=Object.prototype,TDe=xDe.hasOwnProperty;function ADe(n,e,t){var r=n[e];(!(TDe.call(n,e)&&DDe(r,t))||t===void 0&&!(e in n))&&CDe(n,e,t)}MV.exports=ADe});var Ns=b((RDt,RV)=>{var SDe=cd(),IDe=mo();function MDe(n,e,t,r){var i=!t;t||(t={});for(var s=-1,o=e.length;++s<o;){var a=e[s],c=r?r(t[a],n[a],a,t,n):void 0;c===void 0&&(c=n[a]),i?IDe(t,a,c):SDe(t,a,c)}return t}RV.exports=MDe});var hA=b((NDt,OV)=>{var RDe=Ui(),NV=Math.max;function NDe(n,e,t){return e=NV(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,s=NV(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=t(o),RDe(n,this,a)}}OV.exports=NDe});var Nt=b((ODt,PV)=>{var ODe=gi(),PDe=hA(),FDe=lv();function kDe(n,e){return FDe(PDe(n,e,ODe),n+"")}PV.exports=kDe});var np=b((PDt,FV)=>{var LDe=9007199254740991;function BDe(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=LDe}FV.exports=BDe});var Xr=b((FDt,kV)=>{var qDe=ho(),jDe=np();function $De(n){return n!=null&&jDe(n.length)&&!qDe(n)}kV.exports=$De});var ei=b((kDt,LV)=>{var VDe=ss(),UDe=Xr(),HDe=Jo(),WDe=Gn();function zDe(n,e,t){if(!WDe(t))return!1;var r=typeof e;return(r=="number"?UDe(t)&&HDe(e,t.length):r=="string"&&e in t)?VDe(t[e],n):!1}LV.exports=zDe});var _u=b((LDt,BV)=>{var GDe=Nt(),QDe=ei();function KDe(n){return GDe(function(e,t){var r=-1,i=t.length,s=i>1?t[i-1]:void 0,o=i>2?t[2]:void 0;for(s=n.length>3&&typeof s=="function"?(i--,s):void 0,o&&QDe(t[0],t[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=t[r];a&&n(e,a,r,s)}return e})}BV.exports=KDe});var ud=b((BDt,qV)=>{var YDe=Object.prototype;function JDe(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||YDe;return n===t}qV.exports=JDe});var dv=b((qDt,jV)=>{function ZDe(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}jV.exports=ZDe});var VV=b((jDt,$V)=>{var XDe=Zr(),exe=Pn(),txe="[object Arguments]";function nxe(n){return exe(n)&&XDe(n)==txe}$V.exports=nxe});var Eu=b(($Dt,WV)=>{var UV=VV(),rxe=Pn(),HV=Object.prototype,ixe=HV.hasOwnProperty,sxe=HV.propertyIsEnumerable,oxe=UV((function(){return arguments})())?UV:function(n){return rxe(n)&&ixe.call(n,"callee")&&!sxe.call(n,"callee")};WV.exports=oxe});var fv=b((VDt,zV)=>{function axe(){return!1}zV.exports=axe});var Ya=b((rp,ld)=>{var cxe=or(),uxe=fv(),KV=typeof rp=="object"&&rp&&!rp.nodeType&&rp,GV=KV&&typeof ld=="object"&&ld&&!ld.nodeType&&ld,lxe=GV&&GV.exports===KV,QV=lxe?cxe.Buffer:void 0,dxe=QV?QV.isBuffer:void 0,fxe=dxe||uxe;ld.exports=fxe});var JV=b((UDt,YV)=>{var hxe=Zr(),pxe=np(),mxe=Pn(),gxe="[object Arguments]",yxe="[object Array]",bxe="[object Boolean]",vxe="[object Date]",_xe="[object Error]",Exe="[object Function]",wxe="[object Map]",Cxe="[object Number]",Dxe="[object Object]",xxe="[object RegExp]",Txe="[object Set]",Axe="[object String]",Sxe="[object WeakMap]",Ixe="[object ArrayBuffer]",Mxe="[object DataView]",Rxe="[object Float32Array]",Nxe="[object Float64Array]",Oxe="[object Int8Array]",Pxe="[object Int16Array]",Fxe="[object Int32Array]",kxe="[object Uint8Array]",Lxe="[object Uint8ClampedArray]",Bxe="[object Uint16Array]",qxe="[object Uint32Array]",_n={};_n[Rxe]=_n[Nxe]=_n[Oxe]=_n[Pxe]=_n[Fxe]=_n[kxe]=_n[Lxe]=_n[Bxe]=_n[qxe]=!0;_n[gxe]=_n[yxe]=_n[Ixe]=_n[bxe]=_n[Mxe]=_n[vxe]=_n[_xe]=_n[Exe]=_n[wxe]=_n[Cxe]=_n[Dxe]=_n[xxe]=_n[Txe]=_n[Axe]=_n[Sxe]=!1;function jxe(n){return mxe(n)&&pxe(n.length)&&!!_n[hxe(n)]}YV.exports=jxe});var Hi=b((HDt,ZV)=>{function $xe(n){return function(e){return n(e)}}ZV.exports=$xe});var wu=b((ip,dd)=>{var Vxe=jT(),XV=typeof ip=="object"&&ip&&!ip.nodeType&&ip,sp=XV&&typeof dd=="object"&&dd&&!dd.nodeType&&dd,Uxe=sp&&sp.exports===XV,pA=Uxe&&Vxe.process,Hxe=(function(){try{var n=sp&&sp.require&&sp.require("util").types;return n||pA&&pA.binding&&pA.binding("util")}catch{}})();dd.exports=Hxe});var Cu=b((WDt,nU)=>{var Wxe=JV(),zxe=Hi(),eU=wu(),tU=eU&&eU.isTypedArray,Gxe=tU?zxe(tU):Wxe;nU.exports=Gxe});var mA=b((zDt,rU)=>{var Qxe=dv(),Kxe=Eu(),Yxe=Lt(),Jxe=Ya(),Zxe=Jo(),Xxe=Cu(),eTe=Object.prototype,tTe=eTe.hasOwnProperty;function nTe(n,e){var t=Yxe(n),r=!t&&Kxe(n),i=!t&&!r&&Jxe(n),s=!t&&!r&&!i&&Xxe(n),o=t||r||i||s,a=o?Qxe(n.length,String):[],c=a.length;for(var u in n)(e||tTe.call(n,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Zxe(u,c)))&&a.push(u);return a}rU.exports=nTe});var gA=b((GDt,iU)=>{function rTe(n,e){return function(t){return n(e(t))}}iU.exports=rTe});var oU=b((QDt,sU)=>{var iTe=gA(),sTe=iTe(Object.keys,Object);sU.exports=sTe});var hv=b((KDt,aU)=>{var oTe=ud(),aTe=oU(),cTe=Object.prototype,uTe=cTe.hasOwnProperty;function lTe(n){if(!oTe(n))return aTe(n);var e=[];for(var t in Object(n))uTe.call(n,t)&&t!="constructor"&&e.push(t);return e}aU.exports=lTe});var yr=b((YDt,cU)=>{var dTe=mA(),fTe=hv(),hTe=Xr();function pTe(n){return hTe(n)?dTe(n):fTe(n)}cU.exports=pTe});var lU=b((JDt,uU)=>{var mTe=cd(),gTe=Ns(),yTe=_u(),bTe=Xr(),vTe=ud(),_Te=yr(),ETe=Object.prototype,wTe=ETe.hasOwnProperty,CTe=yTe(function(n,e){if(vTe(e)||bTe(e)){gTe(e,_Te(e),n);return}for(var t in e)wTe.call(e,t)&&mTe(n,t,e[t])});uU.exports=CTe});var fU=b((ZDt,dU)=>{function DTe(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}dU.exports=DTe});var pU=b((XDt,hU)=>{var xTe=Gn(),TTe=ud(),ATe=fU(),STe=Object.prototype,ITe=STe.hasOwnProperty;function MTe(n){if(!xTe(n))return ATe(n);var e=TTe(n),t=[];for(var r in n)r=="constructor"&&(e||!ITe.call(n,r))||t.push(r);return t}hU.exports=MTe});var ti=b((ext,mU)=>{var RTe=mA(),NTe=pU(),OTe=Xr();function PTe(n){return OTe(n)?RTe(n,!0):NTe(n)}mU.exports=PTe});var yA=b((txt,gU)=>{var FTe=Ns(),kTe=_u(),LTe=ti(),BTe=kTe(function(n,e){FTe(e,LTe(e),n)});gU.exports=BTe});var pv=b((nxt,yU)=>{var qTe=Ns(),jTe=_u(),$Te=ti(),VTe=jTe(function(n,e,t,r){qTe(e,$Te(e),n,r)});yU.exports=VTe});var vU=b((rxt,bU)=>{var UTe=Ns(),HTe=_u(),WTe=yr(),zTe=HTe(function(n,e,t,r){UTe(e,WTe(e),n,r)});bU.exports=zTe});var mv=b((ixt,_U)=>{var GTe=Lt(),QTe=rs(),KTe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,YTe=/^\w*$/;function JTe(n,e){if(GTe(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||QTe(n)?!0:YTe.test(n)||!KTe.test(n)||e!=null&&n in Object(e)}_U.exports=JTe});var op=b((sxt,EU)=>{var ZTe=Qa(),XTe=ZTe(Object,"create");EU.exports=XTe});var DU=b((oxt,CU)=>{var wU=op();function eAe(){this.__data__=wU?wU(null):{},this.size=0}CU.exports=eAe});var TU=b((axt,xU)=>{function tAe(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}xU.exports=tAe});var SU=b((cxt,AU)=>{var nAe=op(),rAe="__lodash_hash_undefined__",iAe=Object.prototype,sAe=iAe.hasOwnProperty;function oAe(n){var e=this.__data__;if(nAe){var t=e[n];return t===rAe?void 0:t}return sAe.call(e,n)?e[n]:void 0}AU.exports=oAe});var MU=b((uxt,IU)=>{var aAe=op(),cAe=Object.prototype,uAe=cAe.hasOwnProperty;function lAe(n){var e=this.__data__;return aAe?e[n]!==void 0:uAe.call(e,n)}IU.exports=lAe});var NU=b((lxt,RU)=>{var dAe=op(),fAe="__lodash_hash_undefined__";function hAe(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=dAe&&e===void 0?fAe:e,this}RU.exports=hAe});var PU=b((dxt,OU)=>{var pAe=DU(),mAe=TU(),gAe=SU(),yAe=MU(),bAe=NU();function fd(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}fd.prototype.clear=pAe;fd.prototype.delete=mAe;fd.prototype.get=gAe;fd.prototype.has=yAe;fd.prototype.set=bAe;OU.exports=fd});var kU=b((fxt,FU)=>{function vAe(){this.__data__=[],this.size=0}FU.exports=vAe});var ap=b((hxt,LU)=>{var _Ae=ss();function EAe(n,e){for(var t=n.length;t--;)if(_Ae(n[t][0],e))return t;return-1}LU.exports=EAe});var qU=b((pxt,BU)=>{var wAe=ap(),CAe=Array.prototype,DAe=CAe.splice;function xAe(n){var e=this.__data__,t=wAe(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():DAe.call(e,t,1),--this.size,!0}BU.exports=xAe});var $U=b((mxt,jU)=>{var TAe=ap();function AAe(n){var e=this.__data__,t=TAe(e,n);return t<0?void 0:e[t][1]}jU.exports=AAe});var UU=b((gxt,VU)=>{var SAe=ap();function IAe(n){return SAe(this.__data__,n)>-1}VU.exports=IAe});var WU=b((yxt,HU)=>{var MAe=ap();function RAe(n,e){var t=this.__data__,r=MAe(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}HU.exports=RAe});var cp=b((bxt,zU)=>{var NAe=kU(),OAe=qU(),PAe=$U(),FAe=UU(),kAe=WU();function hd(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}hd.prototype.clear=NAe;hd.prototype.delete=OAe;hd.prototype.get=PAe;hd.prototype.has=FAe;hd.prototype.set=kAe;zU.exports=hd});var gv=b((vxt,GU)=>{var LAe=Qa(),BAe=or(),qAe=LAe(BAe,"Map");GU.exports=qAe});var YU=b((_xt,KU)=>{var QU=PU(),jAe=cp(),$Ae=gv();function VAe(){this.size=0,this.__data__={hash:new QU,map:new($Ae||jAe),string:new QU}}KU.exports=VAe});var ZU=b((Ext,JU)=>{function UAe(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}JU.exports=UAe});var up=b((wxt,XU)=>{var HAe=ZU();function WAe(n,e){var t=n.__data__;return HAe(e)?t[typeof e=="string"?"string":"hash"]:t.map}XU.exports=WAe});var tH=b((Cxt,eH)=>{var zAe=up();function GAe(n){var e=zAe(this,n).delete(n);return this.size-=e?1:0,e}eH.exports=GAe});var rH=b((Dxt,nH)=>{var QAe=up();function KAe(n){return QAe(this,n).get(n)}nH.exports=KAe});var sH=b((xxt,iH)=>{var YAe=up();function JAe(n){return YAe(this,n).has(n)}iH.exports=JAe});var aH=b((Txt,oH)=>{var ZAe=up();function XAe(n,e){var t=ZAe(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}oH.exports=XAe});var yv=b((Axt,cH)=>{var eSe=YU(),tSe=tH(),nSe=rH(),rSe=sH(),iSe=aH();function pd(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}pd.prototype.clear=eSe;pd.prototype.delete=tSe;pd.prototype.get=nSe;pd.prototype.has=rSe;pd.prototype.set=iSe;cH.exports=pd});var vA=b((Sxt,lH)=>{var uH=yv(),sSe="Expected a function";function bA(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(sSe);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=t.cache;if(s.has(i))return s.get(i);var o=n.apply(this,r);return t.cache=s.set(i,o)||s,o};return t.cache=new(bA.Cache||uH),t}bA.Cache=uH;lH.exports=bA});var fH=b((Ixt,dH)=>{var oSe=vA(),aSe=500;function cSe(n){var e=oSe(n,function(r){return t.size===aSe&&t.clear(),r}),t=e.cache;return e}dH.exports=cSe});var _A=b((Mxt,hH)=>{var uSe=fH(),lSe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dSe=/\\(\\)?/g,fSe=uSe(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(lSe,function(t,r,i,s){e.push(i?s.replace(dSe,"$1"):r||t)}),e});hH.exports=fSe});var sn=b((Rxt,pH)=>{var hSe=Rs();function pSe(n){return n==null?"":hSe(n)}pH.exports=pSe});var Zo=b((Nxt,mH)=>{var mSe=Lt(),gSe=mv(),ySe=_A(),bSe=sn();function vSe(n,e){return mSe(n)?n:gSe(n,e)?[n]:ySe(bSe(n))}mH.exports=vSe});var Os=b((Oxt,gH)=>{var _Se=rs(),ESe=1/0;function wSe(n){if(typeof n=="string"||_Se(n))return n;var e=n+"";return e=="0"&&1/n==-ESe?"-0":e}gH.exports=wSe});var Ja=b((Pxt,yH)=>{var CSe=Zo(),DSe=Os();function xSe(n,e){e=CSe(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[DSe(e[t++])];return t&&t==r?n:void 0}yH.exports=xSe});var bv=b((Fxt,bH)=>{var TSe=Ja();function ASe(n,e,t){var r=n==null?void 0:TSe(n,e);return r===void 0?t:r}bH.exports=ASe});var EA=b((kxt,vH)=>{var SSe=bv();function ISe(n,e){for(var t=-1,r=e.length,i=Array(r),s=n==null;++t<r;)i[t]=s?void 0:SSe(n,e[t]);return i}vH.exports=ISe});var Du=b((Lxt,_H)=>{function MSe(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}_H.exports=MSe});var DH=b((Bxt,CH)=>{var EH=Ga(),RSe=Eu(),NSe=Lt(),wH=EH?EH.isConcatSpreadable:void 0;function OSe(n){return NSe(n)||RSe(n)||!!(wH&&n&&n[wH])}CH.exports=OSe});var Tr=b((qxt,TH)=>{var PSe=Du(),FSe=DH();function xH(n,e,t,r,i){var s=-1,o=n.length;for(t||(t=FSe),i||(i=[]);++s<o;){var a=n[s];e>0&&t(a)?e>1?xH(a,e-1,t,r,i):PSe(i,a):r||(i[i.length]=a)}return i}TH.exports=xH});var wA=b((jxt,AH)=>{var kSe=Tr();function LSe(n){var e=n==null?0:n.length;return e?kSe(n,1):[]}AH.exports=LSe});var Xo=b(($xt,SH)=>{var BSe=wA(),qSe=hA(),jSe=lv();function $Se(n){return jSe(qSe(n,void 0,BSe),n+"")}SH.exports=$Se});var MH=b((Vxt,IH)=>{var VSe=EA(),USe=Xo(),HSe=USe(VSe);IH.exports=HSe});var lp=b((Uxt,RH)=>{var WSe=gA(),zSe=WSe(Object.getPrototypeOf,Object);RH.exports=zSe});var md=b((Hxt,OH)=>{var GSe=Zr(),QSe=lp(),KSe=Pn(),YSe="[object Object]",JSe=Function.prototype,ZSe=Object.prototype,NH=JSe.toString,XSe=ZSe.hasOwnProperty,eIe=NH.call(Object);function tIe(n){if(!KSe(n)||GSe(n)!=YSe)return!1;var e=QSe(n);if(e===null)return!0;var t=XSe.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&NH.call(t)==eIe}OH.exports=tIe});var vv=b((Wxt,PH)=>{var nIe=Zr(),rIe=Pn(),iIe=md(),sIe="[object DOMException]",oIe="[object Error]";function aIe(n){if(!rIe(n))return!1;var e=nIe(n);return e==oIe||e==sIe||typeof n.message=="string"&&typeof n.name=="string"&&!iIe(n)}PH.exports=aIe});var CA=b((zxt,FH)=>{var cIe=Ui(),uIe=Nt(),lIe=vv(),dIe=uIe(function(n,e){try{return cIe(n,void 0,e)}catch(t){return lIe(t)?t:new Error(t)}});FH.exports=dIe});var DA=b((Gxt,kH)=>{var fIe=qt(),hIe="Expected a function";function pIe(n,e){var t;if(typeof e!="function")throw new TypeError(hIe);return n=fIe(n),function(){return--n>0&&(t=e.apply(this,arguments)),n<=1&&(e=void 0),t}}kH.exports=pIe});var TA=b((Qxt,LH)=>{var mIe=Nt(),gIe=po(),yIe=vu(),bIe=Ka(),vIe=1,_Ie=32,xA=mIe(function(n,e,t){var r=vIe;if(t.length){var i=bIe(t,yIe(xA));r|=_Ie}return gIe(n,r,e,t,i)});xA.placeholder={};LH.exports=xA});var qH=b((Kxt,BH)=>{var EIe=yu(),wIe=mo(),CIe=TA(),DIe=Xo(),xIe=Os(),TIe=DIe(function(n,e){return EIe(e,function(t){t=xIe(t),wIe(n,t,CIe(n[t],n))}),n});BH.exports=TIe});var $H=b((Yxt,jH)=>{var AIe=Nt(),SIe=po(),IIe=vu(),MIe=Ka(),RIe=1,NIe=2,OIe=32,AA=AIe(function(n,e,t){var r=RIe|NIe;if(t.length){var i=MIe(t,IIe(AA));r|=OIe}return SIe(e,r,n,t,i)});AA.placeholder={};jH.exports=AA});var os=b((Jxt,VH)=>{function PIe(n,e,t){var r=-1,i=n.length;e<0&&(e=-e>i?0:i+e),t=t>i?i:t,t<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=n[r+e];return s}VH.exports=PIe});var ea=b((Zxt,UH)=>{var FIe=os();function kIe(n,e,t){var r=n.length;return t=t===void 0?r:t,!e&&t>=r?n:FIe(n,e,t)}UH.exports=kIe});var xu=b((Xxt,HH)=>{var LIe="\\ud800-\\udfff",BIe="\\u0300-\\u036f",qIe="\\ufe20-\\ufe2f",jIe="\\u20d0-\\u20ff",$Ie=BIe+qIe+jIe,VIe="\\ufe0e\\ufe0f",UIe="\\u200d",HIe=RegExp("["+UIe+LIe+$Ie+VIe+"]");function WIe(n){return HIe.test(n)}HH.exports=WIe});var zH=b((eTt,WH)=>{function zIe(n){return n.split("")}WH.exports=zIe});var eW=b((tTt,XH)=>{var GH="\\ud800-\\udfff",GIe="\\u0300-\\u036f",QIe="\\ufe20-\\ufe2f",KIe="\\u20d0-\\u20ff",YIe=GIe+QIe+KIe,JIe="\\ufe0e\\ufe0f",ZIe="["+GH+"]",SA="["+YIe+"]",IA="\\ud83c[\\udffb-\\udfff]",XIe="(?:"+SA+"|"+IA+")",QH="[^"+GH+"]",KH="(?:\\ud83c[\\udde6-\\uddff]){2}",YH="[\\ud800-\\udbff][\\udc00-\\udfff]",eMe="\\u200d",JH=XIe+"?",ZH="["+JIe+"]?",tMe="(?:"+eMe+"(?:"+[QH,KH,YH].join("|")+")"+ZH+JH+")*",nMe=ZH+JH+tMe,rMe="(?:"+[QH+SA+"?",SA,KH,YH,ZIe].join("|")+")",iMe=RegExp(IA+"(?="+IA+")|"+rMe+nMe,"g");function sMe(n){return n.match(iMe)||[]}XH.exports=sMe});var ta=b((nTt,tW)=>{var oMe=zH(),aMe=xu(),cMe=eW();function uMe(n){return aMe(n)?cMe(n):oMe(n)}tW.exports=uMe});var MA=b((rTt,nW)=>{var lMe=ea(),dMe=xu(),fMe=ta(),hMe=sn();function pMe(n){return function(e){e=hMe(e);var t=dMe(e)?fMe(e):void 0,r=t?t[0]:e.charAt(0),i=t?lMe(t,1).join(""):e.slice(1);return r[n]()+i}}nW.exports=pMe});var _v=b((iTt,rW)=>{var mMe=MA(),gMe=mMe("toUpperCase");rW.exports=gMe});var RA=b((sTt,iW)=>{var yMe=sn(),bMe=_v();function vMe(n){return bMe(yMe(n).toLowerCase())}iW.exports=vMe});var NA=b((oTt,sW)=>{function _Me(n,e,t,r){var i=-1,s=n==null?0:n.length;for(r&&s&&(t=n[++i]);++i<s;)t=e(t,n[i],i,n);return t}sW.exports=_Me});var Ev=b((aTt,oW)=>{function EMe(n){return function(e){return n?.[e]}}oW.exports=EMe});var cW=b((cTt,aW)=>{var wMe=Ev(),CMe={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},DMe=wMe(CMe);aW.exports=DMe});var OA=b((uTt,uW)=>{var xMe=cW(),TMe=sn(),AMe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,SMe="\\u0300-\\u036f",IMe="\\ufe20-\\ufe2f",MMe="\\u20d0-\\u20ff",RMe=SMe+IMe+MMe,NMe="["+RMe+"]",OMe=RegExp(NMe,"g");function PMe(n){return n=TMe(n),n&&n.replace(AMe,xMe).replace(OMe,"")}uW.exports=PMe});var dW=b((lTt,lW)=>{var FMe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function kMe(n){return n.match(FMe)||[]}lW.exports=kMe});var hW=b((dTt,fW)=>{var LMe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function BMe(n){return LMe.test(n)}fW.exports=BMe});var NW=b((fTt,RW)=>{var bW="\\ud800-\\udfff",qMe="\\u0300-\\u036f",jMe="\\ufe20-\\ufe2f",$Me="\\u20d0-\\u20ff",VMe=qMe+jMe+$Me,vW="\\u2700-\\u27bf",_W="a-z\\xdf-\\xf6\\xf8-\\xff",UMe="\\xac\\xb1\\xd7\\xf7",HMe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",WMe="\\u2000-\\u206f",zMe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",EW="A-Z\\xc0-\\xd6\\xd8-\\xde",GMe="\\ufe0e\\ufe0f",wW=UMe+HMe+WMe+zMe,CW="['\u2019]",pW="["+wW+"]",QMe="["+VMe+"]",DW="\\d+",KMe="["+vW+"]",xW="["+_W+"]",TW="[^"+bW+wW+DW+vW+_W+EW+"]",YMe="\\ud83c[\\udffb-\\udfff]",JMe="(?:"+QMe+"|"+YMe+")",ZMe="[^"+bW+"]",AW="(?:\\ud83c[\\udde6-\\uddff]){2}",SW="[\\ud800-\\udbff][\\udc00-\\udfff]",gd="["+EW+"]",XMe="\\u200d",mW="(?:"+xW+"|"+TW+")",eRe="(?:"+gd+"|"+TW+")",gW="(?:"+CW+"(?:d|ll|m|re|s|t|ve))?",yW="(?:"+CW+"(?:D|LL|M|RE|S|T|VE))?",IW=JMe+"?",MW="["+GMe+"]?",tRe="(?:"+XMe+"(?:"+[ZMe,AW,SW].join("|")+")"+MW+IW+")*",nRe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rRe="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",iRe=MW+IW+tRe,sRe="(?:"+[KMe,AW,SW].join("|")+")"+iRe,oRe=RegExp([gd+"?"+xW+"+"+gW+"(?="+[pW,gd,"$"].join("|")+")",eRe+"+"+yW+"(?="+[pW,gd+mW,"$"].join("|")+")",gd+"?"+mW+"+"+gW,gd+"+"+yW,rRe,nRe,DW,sRe].join("|"),"g");function aRe(n){return n.match(oRe)||[]}RW.exports=aRe});var PA=b((hTt,OW)=>{var cRe=dW(),uRe=hW(),lRe=sn(),dRe=NW();function fRe(n,e,t){return n=lRe(n),e=t?void 0:e,e===void 0?uRe(n)?dRe(n):cRe(n):n.match(e)||[]}OW.exports=fRe});var Tu=b((pTt,PW)=>{var hRe=NA(),pRe=OA(),mRe=PA(),gRe="['\u2019]",yRe=RegExp(gRe,"g");function bRe(n){return function(e){return hRe(mRe(pRe(e).replace(yRe,"")),n,"")}}PW.exports=bRe});var kW=b((mTt,FW)=>{var vRe=RA(),_Re=Tu(),ERe=_Re(function(n,e,t){return e=e.toLowerCase(),n+(t?vRe(e):e)});FW.exports=ERe});var BW=b((gTt,LW)=>{var wRe=Lt();function CRe(){if(!arguments.length)return[];var n=arguments[0];return wRe(n)?n:[n]}LW.exports=CRe});var wv=b((yTt,jW)=>{var DRe=or(),xRe=qt(),TRe=Yo(),qW=sn(),ARe=DRe.isFinite,SRe=Math.min;function IRe(n){var e=Math[n];return function(t,r){if(t=TRe(t),r=r==null?0:SRe(xRe(r),292),r&&ARe(t)){var i=(qW(t)+"e").split("e"),s=e(i[0]+"e"+(+i[1]+r));return i=(qW(s)+"e").split("e"),+(i[0]+"e"+(+i[1]-r))}return e(t)}}jW.exports=IRe});var VW=b((bTt,$W)=>{var MRe=wv(),RRe=MRe("ceil");$W.exports=RRe});var HW=b((vTt,UW)=>{var NRe=XT();function ORe(n){var e=NRe(n);return e.__chain__=!0,e}UW.exports=ORe});var zW=b((_Tt,WW)=>{var PRe=os(),FRe=ei(),kRe=qt(),LRe=Math.ceil,BRe=Math.max;function qRe(n,e,t){(t?FRe(n,e,t):e===void 0)?e=1:e=BRe(kRe(e),0);var r=n==null?0:n.length;if(!r||e<1)return[];for(var i=0,s=0,o=Array(LRe(r/e));i<r;)o[s++]=PRe(n,i,i+=e);return o}WW.exports=qRe});var Za=b((ETt,GW)=>{function jRe(n,e,t){return n===n&&(t!==void 0&&(n=n<=t?n:t),e!==void 0&&(n=n>=e?n:e)),n}GW.exports=jRe});var KW=b((wTt,QW)=>{var $Re=Za(),FA=Yo();function VRe(n,e,t){return t===void 0&&(t=e,e=void 0),t!==void 0&&(t=FA(t),t=t===t?t:0),e!==void 0&&(e=FA(e),e=e===e?e:0),$Re(FA(n),e,t)}QW.exports=VRe});var JW=b((CTt,YW)=>{var URe=cp();function HRe(){this.__data__=new URe,this.size=0}YW.exports=HRe});var XW=b((DTt,ZW)=>{function WRe(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}ZW.exports=WRe});var tz=b((xTt,ez)=>{function zRe(n){return this.__data__.get(n)}ez.exports=zRe});var rz=b((TTt,nz)=>{function GRe(n){return this.__data__.has(n)}nz.exports=GRe});var sz=b((ATt,iz)=>{var QRe=cp(),KRe=gv(),YRe=yv(),JRe=200;function ZRe(n,e){var t=this.__data__;if(t instanceof QRe){var r=t.__data__;if(!KRe||r.length<JRe-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new YRe(r)}return t.set(n,e),this.size=t.size,this}iz.exports=ZRe});var dp=b((STt,oz)=>{var XRe=cp(),eNe=JW(),tNe=XW(),nNe=tz(),rNe=rz(),iNe=sz();function yd(n){var e=this.__data__=new XRe(n);this.size=e.size}yd.prototype.clear=eNe;yd.prototype.delete=tNe;yd.prototype.get=nNe;yd.prototype.has=rNe;yd.prototype.set=iNe;oz.exports=yd});var kA=b((ITt,az)=>{var sNe=Ns(),oNe=yr();function aNe(n,e){return n&&sNe(e,oNe(e),n)}az.exports=aNe});var uz=b((MTt,cz)=>{var cNe=Ns(),uNe=ti();function lNe(n,e){return n&&cNe(e,uNe(e),n)}cz.exports=lNe});var LA=b((fp,bd)=>{var dNe=or(),hz=typeof fp=="object"&&fp&&!fp.nodeType&&fp,lz=hz&&typeof bd=="object"&&bd&&!bd.nodeType&&bd,fNe=lz&&lz.exports===hz,dz=fNe?dNe.Buffer:void 0,fz=dz?dz.allocUnsafe:void 0;function hNe(n,e){if(e)return n.slice();var t=n.length,r=fz?fz(t):new n.constructor(t);return n.copy(r),r}bd.exports=hNe});var na=b((RTt,pz)=>{function pNe(n,e){for(var t=-1,r=n==null?0:n.length,i=0,s=[];++t<r;){var o=n[t];e(o,t,n)&&(s[i++]=o)}return s}pz.exports=pNe});var Cv=b((NTt,mz)=>{function mNe(){return[]}mz.exports=mNe});var Dv=b((OTt,yz)=>{var gNe=na(),yNe=Cv(),bNe=Object.prototype,vNe=bNe.propertyIsEnumerable,gz=Object.getOwnPropertySymbols,_Ne=gz?function(n){return n==null?[]:(n=Object(n),gNe(gz(n),function(e){return vNe.call(n,e)}))}:yNe;yz.exports=_Ne});var vz=b((PTt,bz)=>{var ENe=Ns(),wNe=Dv();function CNe(n,e){return ENe(n,wNe(n),e)}bz.exports=CNe});var BA=b((FTt,_z)=>{var DNe=Du(),xNe=lp(),TNe=Dv(),ANe=Cv(),SNe=Object.getOwnPropertySymbols,INe=SNe?function(n){for(var e=[];n;)DNe(e,TNe(n)),n=xNe(n);return e}:ANe;_z.exports=INe});var wz=b((kTt,Ez)=>{var MNe=Ns(),RNe=BA();function NNe(n,e){return MNe(n,RNe(n),e)}Ez.exports=NNe});var qA=b((LTt,Cz)=>{var ONe=Du(),PNe=Lt();function FNe(n,e,t){var r=e(n);return PNe(n)?r:ONe(r,t(n))}Cz.exports=FNe});var jA=b((BTt,Dz)=>{var kNe=qA(),LNe=Dv(),BNe=yr();function qNe(n){return kNe(n,BNe,LNe)}Dz.exports=qNe});var xv=b((qTt,xz)=>{var jNe=qA(),$Ne=BA(),VNe=ti();function UNe(n){return jNe(n,VNe,$Ne)}xz.exports=UNe});var Az=b((jTt,Tz)=>{var HNe=Qa(),WNe=or(),zNe=HNe(WNe,"DataView");Tz.exports=zNe});var Iz=b(($Tt,Sz)=>{var GNe=Qa(),QNe=or(),KNe=GNe(QNe,"Promise");Sz.exports=KNe});var $A=b((VTt,Mz)=>{var YNe=Qa(),JNe=or(),ZNe=YNe(JNe,"Set");Mz.exports=ZNe});var go=b((UTt,Lz)=>{var VA=Az(),UA=gv(),HA=Iz(),WA=$A(),zA=GT(),kz=Zr(),vd=WT(),Rz="[object Map]",XNe="[object Object]",Nz="[object Promise]",Oz="[object Set]",Pz="[object WeakMap]",Fz="[object DataView]",eOe=vd(VA),tOe=vd(UA),nOe=vd(HA),rOe=vd(WA),iOe=vd(zA),Au=kz;(VA&&Au(new VA(new ArrayBuffer(1)))!=Fz||UA&&Au(new UA)!=Rz||HA&&Au(HA.resolve())!=Nz||WA&&Au(new WA)!=Oz||zA&&Au(new zA)!=Pz)&&(Au=function(n){var e=kz(n),t=e==XNe?n.constructor:void 0,r=t?vd(t):"";if(r)switch(r){case eOe:return Fz;case tOe:return Rz;case nOe:return Nz;case rOe:return Oz;case iOe:return Pz}return e});Lz.exports=Au});var qz=b((HTt,Bz)=>{var sOe=Object.prototype,oOe=sOe.hasOwnProperty;function aOe(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&oOe.call(n,"index")&&(t.index=n.index,t.input=n.input),t}Bz.exports=aOe});var GA=b((WTt,jz)=>{var cOe=or(),uOe=cOe.Uint8Array;jz.exports=uOe});var Tv=b((zTt,Vz)=>{var $z=GA();function lOe(n){var e=new n.constructor(n.byteLength);return new $z(e).set(new $z(n)),e}Vz.exports=lOe});var Hz=b((GTt,Uz)=>{var dOe=Tv();function fOe(n,e){var t=e?dOe(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}Uz.exports=fOe});var zz=b((QTt,Wz)=>{var hOe=/\w*$/;function pOe(n){var e=new n.constructor(n.source,hOe.exec(n));return e.lastIndex=n.lastIndex,e}Wz.exports=pOe});var Jz=b((KTt,Yz)=>{var Gz=Ga(),Qz=Gz?Gz.prototype:void 0,Kz=Qz?Qz.valueOf:void 0;function mOe(n){return Kz?Object(Kz.call(n)):{}}Yz.exports=mOe});var QA=b((YTt,Zz)=>{var gOe=Tv();function yOe(n,e){var t=e?gOe(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}Zz.exports=yOe});var e3=b((JTt,Xz)=>{var bOe=Tv(),vOe=Hz(),_Oe=zz(),EOe=Jz(),wOe=QA(),COe="[object Boolean]",DOe="[object Date]",xOe="[object Map]",TOe="[object Number]",AOe="[object RegExp]",SOe="[object Set]",IOe="[object String]",MOe="[object Symbol]",ROe="[object ArrayBuffer]",NOe="[object DataView]",OOe="[object Float32Array]",POe="[object Float64Array]",FOe="[object Int8Array]",kOe="[object Int16Array]",LOe="[object Int32Array]",BOe="[object Uint8Array]",qOe="[object Uint8ClampedArray]",jOe="[object Uint16Array]",$Oe="[object Uint32Array]";function VOe(n,e,t){var r=n.constructor;switch(e){case ROe:return bOe(n);case COe:case DOe:return new r(+n);case NOe:return vOe(n,t);case OOe:case POe:case FOe:case kOe:case LOe:case BOe:case qOe:case jOe:case $Oe:return wOe(n,t);case xOe:return new r;case TOe:case IOe:return new r(n);case AOe:return _Oe(n);case SOe:return new r;case MOe:return EOe(n)}}Xz.exports=VOe});var KA=b((ZTt,t3)=>{var UOe=gu(),HOe=lp(),WOe=ud();function zOe(n){return typeof n.constructor=="function"&&!WOe(n)?UOe(HOe(n)):{}}t3.exports=zOe});var r3=b((XTt,n3)=>{var GOe=go(),QOe=Pn(),KOe="[object Map]";function YOe(n){return QOe(n)&&GOe(n)==KOe}n3.exports=YOe});var YA=b((eAt,o3)=>{var JOe=r3(),ZOe=Hi(),i3=wu(),s3=i3&&i3.isMap,XOe=s3?ZOe(s3):JOe;o3.exports=XOe});var c3=b((tAt,a3)=>{var ePe=go(),tPe=Pn(),nPe="[object Set]";function rPe(n){return tPe(n)&&ePe(n)==nPe}a3.exports=rPe});var JA=b((nAt,d3)=>{var iPe=c3(),sPe=Hi(),u3=wu(),l3=u3&&u3.isSet,oPe=l3?sPe(l3):iPe;d3.exports=oPe});var yo=b((rAt,m3)=>{var aPe=dp(),cPe=yu(),uPe=cd(),lPe=kA(),dPe=uz(),fPe=LA(),hPe=is(),pPe=vz(),mPe=wz(),gPe=jA(),yPe=xv(),bPe=go(),vPe=qz(),_Pe=e3(),EPe=KA(),wPe=Lt(),CPe=Ya(),DPe=YA(),xPe=Gn(),TPe=JA(),APe=yr(),SPe=ti(),IPe=1,MPe=2,RPe=4,f3="[object Arguments]",NPe="[object Array]",OPe="[object Boolean]",PPe="[object Date]",FPe="[object Error]",h3="[object Function]",kPe="[object GeneratorFunction]",LPe="[object Map]",BPe="[object Number]",p3="[object Object]",qPe="[object RegExp]",jPe="[object Set]",$Pe="[object String]",VPe="[object Symbol]",UPe="[object WeakMap]",HPe="[object ArrayBuffer]",WPe="[object DataView]",zPe="[object Float32Array]",GPe="[object Float64Array]",QPe="[object Int8Array]",KPe="[object Int16Array]",YPe="[object Int32Array]",JPe="[object Uint8Array]",ZPe="[object Uint8ClampedArray]",XPe="[object Uint16Array]",eFe="[object Uint32Array]",mn={};mn[f3]=mn[NPe]=mn[HPe]=mn[WPe]=mn[OPe]=mn[PPe]=mn[zPe]=mn[GPe]=mn[QPe]=mn[KPe]=mn[YPe]=mn[LPe]=mn[BPe]=mn[p3]=mn[qPe]=mn[jPe]=mn[$Pe]=mn[VPe]=mn[JPe]=mn[ZPe]=mn[XPe]=mn[eFe]=!0;mn[FPe]=mn[h3]=mn[UPe]=!1;function Av(n,e,t,r,i,s){var o,a=e&IPe,c=e&MPe,u=e&RPe;if(t&&(o=i?t(n,r,i,s):t(n)),o!==void 0)return o;if(!xPe(n))return n;var l=wPe(n);if(l){if(o=vPe(n),!a)return hPe(n,o)}else{var f=bPe(n),p=f==h3||f==kPe;if(CPe(n))return fPe(n,a);if(f==p3||f==f3||p&&!i){if(o=c||p?{}:EPe(n),!a)return c?mPe(n,dPe(o,n)):pPe(n,lPe(o,n))}else{if(!mn[f])return i?n:{};o=_Pe(n,f,a)}}s||(s=new aPe);var g=s.get(n);if(g)return g;s.set(n,o),TPe(n)?n.forEach(function(D){o.add(Av(D,e,t,D,n,s))}):DPe(n)&&n.forEach(function(D,P){o.set(P,Av(D,e,t,P,n,s))});var v=u?c?yPe:gPe:c?SPe:APe,E=l?void 0:v(n);return cPe(E||n,function(D,P){E&&(P=D,D=n[P]),uPe(o,P,Av(D,e,t,P,n,s))}),o}m3.exports=Av});var y3=b((iAt,g3)=>{var tFe=yo(),nFe=4;function rFe(n){return tFe(n,nFe)}g3.exports=rFe});var v3=b((sAt,b3)=>{var iFe=yo(),sFe=1,oFe=4;function aFe(n){return iFe(n,sFe|oFe)}b3.exports=aFe});var E3=b((oAt,_3)=>{var cFe=yo(),uFe=1,lFe=4;function dFe(n,e){return e=typeof e=="function"?e:void 0,cFe(n,uFe|lFe,e)}_3.exports=dFe});var C3=b((aAt,w3)=>{var fFe=yo(),hFe=4;function pFe(n,e){return e=typeof e=="function"?e:void 0,fFe(n,hFe,e)}w3.exports=pFe});var x3=b((cAt,D3)=>{function mFe(n){for(var e=-1,t=n==null?0:n.length,r=0,i=[];++e<t;){var s=n[e];s&&(i[r++]=s)}return i}D3.exports=mFe});var A3=b((uAt,T3)=>{var gFe=Du(),yFe=Tr(),bFe=is(),vFe=Lt();function _Fe(){var n=arguments.length;if(!n)return[];for(var e=Array(n-1),t=arguments[0],r=n;r--;)e[r-1]=arguments[r];return gFe(vFe(t)?bFe(t):[t],yFe(e,1))}T3.exports=_Fe});var I3=b((lAt,S3)=>{var EFe="__lodash_hash_undefined__";function wFe(n){return this.__data__.set(n,EFe),this}S3.exports=wFe});var R3=b((dAt,M3)=>{function CFe(n){return this.__data__.has(n)}M3.exports=CFe});var hp=b((fAt,N3)=>{var DFe=yv(),xFe=I3(),TFe=R3();function Sv(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new DFe;++e<t;)this.add(n[e])}Sv.prototype.add=Sv.prototype.push=xFe;Sv.prototype.has=TFe;N3.exports=Sv});var Iv=b((hAt,O3)=>{function AFe(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}O3.exports=AFe});var pp=b((pAt,P3)=>{function SFe(n,e){return n.has(e)}P3.exports=SFe});var ZA=b((mAt,F3)=>{var IFe=hp(),MFe=Iv(),RFe=pp(),NFe=1,OFe=2;function PFe(n,e,t,r,i,s){var o=t&NFe,a=n.length,c=e.length;if(a!=c&&!(o&&c>a))return!1;var u=s.get(n),l=s.get(e);if(u&&l)return u==e&&l==n;var f=-1,p=!0,g=t&OFe?new IFe:void 0;for(s.set(n,e),s.set(e,n);++f<a;){var v=n[f],E=e[f];if(r)var D=o?r(E,v,f,e,n,s):r(v,E,f,n,e,s);if(D!==void 0){if(D)continue;p=!1;break}if(g){if(!MFe(e,function(P,K){if(!RFe(g,K)&&(v===P||i(v,P,t,r,s)))return g.push(K)})){p=!1;break}}else if(!(v===E||i(v,E,t,r,s))){p=!1;break}}return s.delete(n),s.delete(e),p}F3.exports=PFe});var Mv=b((gAt,k3)=>{function FFe(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}k3.exports=FFe});var mp=b((yAt,L3)=>{function kFe(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}L3.exports=kFe});var V3=b((bAt,$3)=>{var B3=Ga(),q3=GA(),LFe=ss(),BFe=ZA(),qFe=Mv(),jFe=mp(),$Fe=1,VFe=2,UFe="[object Boolean]",HFe="[object Date]",WFe="[object Error]",zFe="[object Map]",GFe="[object Number]",QFe="[object RegExp]",KFe="[object Set]",YFe="[object String]",JFe="[object Symbol]",ZFe="[object ArrayBuffer]",XFe="[object DataView]",j3=B3?B3.prototype:void 0,XA=j3?j3.valueOf:void 0;function eke(n,e,t,r,i,s,o){switch(t){case XFe:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case ZFe:return!(n.byteLength!=e.byteLength||!s(new q3(n),new q3(e)));case UFe:case HFe:case GFe:return LFe(+n,+e);case WFe:return n.name==e.name&&n.message==e.message;case QFe:case YFe:return n==e+"";case zFe:var a=qFe;case KFe:var c=r&$Fe;if(a||(a=jFe),n.size!=e.size&&!c)return!1;var u=o.get(n);if(u)return u==e;r|=VFe,o.set(n,e);var l=BFe(a(n),a(e),r,i,s,o);return o.delete(n),l;case JFe:if(XA)return XA.call(n)==XA.call(e)}return!1}$3.exports=eke});var W3=b((vAt,H3)=>{var U3=jA(),tke=1,nke=Object.prototype,rke=nke.hasOwnProperty;function ike(n,e,t,r,i,s){var o=t&tke,a=U3(n),c=a.length,u=U3(e),l=u.length;if(c!=l&&!o)return!1;for(var f=c;f--;){var p=a[f];if(!(o?p in e:rke.call(e,p)))return!1}var g=s.get(n),v=s.get(e);if(g&&v)return g==e&&v==n;var E=!0;s.set(n,e),s.set(e,n);for(var D=o;++f<c;){p=a[f];var P=n[p],K=e[p];if(r)var J=o?r(K,P,p,e,n,s):r(P,K,p,n,e,s);if(!(J===void 0?P===K||i(P,K,t,r,s):J)){E=!1;break}D||(D=p=="constructor")}if(E&&!D){var re=n.constructor,he=e.constructor;re!=he&&"constructor"in n&&"constructor"in e&&!(typeof re=="function"&&re instanceof re&&typeof he=="function"&&he instanceof he)&&(E=!1)}return s.delete(n),s.delete(e),E}H3.exports=ike});var X3=b((_At,Z3)=>{var eS=dp(),ske=ZA(),oke=V3(),ake=W3(),z3=go(),G3=Lt(),Q3=Ya(),cke=Cu(),uke=1,K3="[object Arguments]",Y3="[object Array]",Rv="[object Object]",lke=Object.prototype,J3=lke.hasOwnProperty;function dke(n,e,t,r,i,s){var o=G3(n),a=G3(e),c=o?Y3:z3(n),u=a?Y3:z3(e);c=c==K3?Rv:c,u=u==K3?Rv:u;var l=c==Rv,f=u==Rv,p=c==u;if(p&&Q3(n)){if(!Q3(e))return!1;o=!0,l=!1}if(p&&!l)return s||(s=new eS),o||cke(n)?ske(n,e,t,r,i,s):oke(n,e,c,t,r,i,s);if(!(t&uke)){var g=l&&J3.call(n,"__wrapped__"),v=f&&J3.call(e,"__wrapped__");if(g||v){var E=g?n.value():n,D=v?e.value():e;return s||(s=new eS),i(E,D,t,r,s)}}return p?(s||(s=new eS),ake(n,e,t,r,i,s)):!1}Z3.exports=dke});var gp=b((EAt,n8)=>{var fke=X3(),e8=Pn();function t8(n,e,t,r,i){return n===e?!0:n==null||e==null||!e8(n)&&!e8(e)?n!==n&&e!==e:fke(n,e,t,r,t8,i)}n8.exports=t8});var Nv=b((wAt,r8)=>{var hke=dp(),pke=gp(),mke=1,gke=2;function yke(n,e,t,r){var i=t.length,s=i,o=!r;if(n==null)return!s;for(n=Object(n);i--;){var a=t[i];if(o&&a[2]?a[1]!==n[a[0]]:!(a[0]in n))return!1}for(;++i<s;){a=t[i];var c=a[0],u=n[c],l=a[1];if(o&&a[2]){if(u===void 0&&!(c in n))return!1}else{var f=new hke;if(r)var p=r(u,l,c,n,e,f);if(!(p===void 0?pke(l,u,mke|gke,r,f):p))return!1}}return!0}r8.exports=yke});var tS=b((CAt,i8)=>{var bke=Gn();function vke(n){return n===n&&!bke(n)}i8.exports=vke});var Ov=b((DAt,s8)=>{var _ke=tS(),Eke=yr();function wke(n){for(var e=Eke(n),t=e.length;t--;){var r=e[t],i=n[r];e[t]=[r,i,_ke(i)]}return e}s8.exports=wke});var nS=b((xAt,o8)=>{function Cke(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}o8.exports=Cke});var rS=b((TAt,a8)=>{var Dke=Nv(),xke=Ov(),Tke=nS();function Ake(n){var e=xke(n);return e.length==1&&e[0][2]?Tke(e[0][0],e[0][1]):function(t){return t===n||Dke(t,n,e)}}a8.exports=Ake});var u8=b((AAt,c8)=>{function Ske(n,e){return n!=null&&e in Object(n)}c8.exports=Ske});var iS=b((SAt,l8)=>{var Ike=Zo(),Mke=Eu(),Rke=Lt(),Nke=Jo(),Oke=np(),Pke=Os();function Fke(n,e,t){e=Ike(e,n);for(var r=-1,i=e.length,s=!1;++r<i;){var o=Pke(e[r]);if(!(s=n!=null&&t(n,o)))break;n=n[o]}return s||++r!=i?s:(i=n==null?0:n.length,!!i&&Oke(i)&&Nke(o,i)&&(Rke(n)||Mke(n)))}l8.exports=Fke});var Pv=b((IAt,d8)=>{var kke=u8(),Lke=iS();function Bke(n,e){return n!=null&&Lke(n,e,kke)}d8.exports=Bke});var sS=b((MAt,f8)=>{var qke=gp(),jke=bv(),$ke=Pv(),Vke=mv(),Uke=tS(),Hke=nS(),Wke=Os(),zke=1,Gke=2;function Qke(n,e){return Vke(n)&&Uke(e)?Hke(Wke(n),e):function(t){var r=jke(t,n);return r===void 0&&r===e?$ke(t,n):qke(e,r,zke|Gke)}}f8.exports=Qke});var Fv=b((RAt,h8)=>{function Kke(n){return function(e){return e?.[n]}}h8.exports=Kke});var m8=b((NAt,p8)=>{var Yke=Ja();function Jke(n){return function(e){return Yke(e,n)}}p8.exports=Jke});var oS=b((OAt,g8)=>{var Zke=Fv(),Xke=m8(),e1e=mv(),t1e=Os();function n1e(n){return e1e(n)?Zke(t1e(n)):Xke(n)}g8.exports=n1e});var Et=b((PAt,y8)=>{var r1e=rS(),i1e=sS(),s1e=gi(),o1e=Lt(),a1e=oS();function c1e(n){return typeof n=="function"?n:n==null?s1e:typeof n=="object"?o1e(n)?i1e(n[0],n[1]):r1e(n):a1e(n)}y8.exports=c1e});var _8=b((FAt,v8)=>{var b8=Ui(),u1e=Fn(),l1e=Et(),d1e=Nt(),f1e="Expected a function";function h1e(n){var e=n==null?0:n.length,t=l1e;return n=e?u1e(n,function(r){if(typeof r[1]!="function")throw new TypeError(f1e);return[t(r[0]),r[1]]}):[],d1e(function(r){for(var i=-1;++i<e;){var s=n[i];if(b8(s[0],this,r))return b8(s[1],this,r)}})}v8.exports=h1e});var aS=b((kAt,E8)=>{function p1e(n,e,t){var r=t.length;if(n==null)return!r;for(n=Object(n);r--;){var i=t[r],s=e[i],o=n[i];if(o===void 0&&!(i in n)||!s(o))return!1}return!0}E8.exports=p1e});var C8=b((LAt,w8)=>{var m1e=aS(),g1e=yr();function y1e(n){var e=g1e(n);return function(t){return m1e(t,n,e)}}w8.exports=y1e});var x8=b((BAt,D8)=>{var b1e=yo(),v1e=C8(),_1e=1;function E1e(n){return v1e(b1e(n,_1e))}D8.exports=E1e});var A8=b((qAt,T8)=>{var w1e=aS(),C1e=yr();function D1e(n,e){return e==null||w1e(n,e,C1e(e))}T8.exports=D1e});var I8=b((jAt,S8)=>{function x1e(n,e,t,r){for(var i=-1,s=n==null?0:n.length;++i<s;){var o=n[i];e(r,o,t(o),n)}return r}S8.exports=x1e});var cS=b(($At,M8)=>{function T1e(n){return function(e,t,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var c=o[n?a:++i];if(t(s[c],c,s)===!1)break}return e}}M8.exports=T1e});var kv=b((VAt,R8)=>{var A1e=cS(),S1e=A1e();R8.exports=S1e});var Xa=b((UAt,N8)=>{var I1e=kv(),M1e=yr();function R1e(n,e){return n&&I1e(n,e,M1e)}N8.exports=R1e});var uS=b((HAt,O8)=>{var N1e=Xr();function O1e(n,e){return function(t,r){if(t==null)return t;if(!N1e(t))return n(t,r);for(var i=t.length,s=e?i:-1,o=Object(t);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return t}}O8.exports=O1e});var ra=b((WAt,P8)=>{var P1e=Xa(),F1e=uS(),k1e=F1e(P1e);P8.exports=k1e});var k8=b((zAt,F8)=>{var L1e=ra();function B1e(n,e,t,r){return L1e(n,function(i,s,o){e(r,i,t(i),o)}),r}F8.exports=B1e});var yp=b((GAt,L8)=>{var q1e=I8(),j1e=k8(),$1e=Et(),V1e=Lt();function U1e(n,e){return function(t,r){var i=V1e(t)?q1e:j1e,s=e?e():{};return i(t,n,$1e(r,2),s)}}L8.exports=U1e});var q8=b((QAt,B8)=>{var H1e=mo(),W1e=yp(),z1e=Object.prototype,G1e=z1e.hasOwnProperty,Q1e=W1e(function(n,e,t){G1e.call(n,t)?++n[t]:H1e(n,t,1)});B8.exports=Q1e});var $8=b((KAt,j8)=>{var K1e=kA(),Y1e=gu();function J1e(n,e){var t=Y1e(n);return e==null?t:K1e(t,e)}j8.exports=J1e});var U8=b((YAt,V8)=>{var Z1e=po(),X1e=8;function lS(n,e,t){e=t?void 0:e;var r=Z1e(n,X1e,void 0,void 0,void 0,void 0,void 0,e);return r.placeholder=lS.placeholder,r}lS.placeholder={};V8.exports=lS});var W8=b((JAt,H8)=>{var eLe=po(),tLe=16;function dS(n,e,t){e=t?void 0:e;var r=eLe(n,tLe,void 0,void 0,void 0,void 0,void 0,e);return r.placeholder=dS.placeholder,r}dS.placeholder={};H8.exports=dS});var fS=b((ZAt,z8)=>{var nLe=or(),rLe=function(){return nLe.Date.now()};z8.exports=rLe});var pS=b((XAt,Q8)=>{var iLe=Gn(),hS=fS(),G8=Yo(),sLe="Expected a function",oLe=Math.max,aLe=Math.min;function cLe(n,e,t){var r,i,s,o,a,c,u=0,l=!1,f=!1,p=!0;if(typeof n!="function")throw new TypeError(sLe);e=G8(e)||0,iLe(t)&&(l=!!t.leading,f="maxWait"in t,s=f?oLe(G8(t.maxWait)||0,e):s,p="trailing"in t?!!t.trailing:p);function g(y){var Te=r,De=i;return r=i=void 0,u=y,o=n.apply(De,Te),o}function v(y){return u=y,a=setTimeout(P,e),l?g(y):o}function E(y){var Te=y-c,De=y-u,Ve=e-Te;return f?aLe(Ve,s-De):Ve}function D(y){var Te=y-c,De=y-u;return c===void 0||Te>=e||Te<0||f&&De>=s}function P(){var y=hS();if(D(y))return K(y);a=setTimeout(P,E(y))}function K(y){return a=void 0,p&&r?g(y):(r=i=void 0,o)}function J(){a!==void 0&&clearTimeout(a),u=0,r=c=i=a=void 0}function re(){return a===void 0?o:K(hS())}function he(){var y=hS(),Te=D(y);if(r=arguments,i=this,c=y,Te){if(a===void 0)return v(c);if(f)return clearTimeout(a),a=setTimeout(P,e),g(c)}return a===void 0&&(a=setTimeout(P,e)),o}return he.cancel=J,he.flush=re,he}Q8.exports=cLe});var Y8=b((eSt,K8)=>{function uLe(n,e){return n==null||n!==n?e:n}K8.exports=uLe});var X8=b((tSt,Z8)=>{var lLe=Nt(),dLe=ss(),fLe=ei(),hLe=ti(),J8=Object.prototype,pLe=J8.hasOwnProperty,mLe=lLe(function(n,e){n=Object(n);var t=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&fLe(e[0],e[1],i)&&(r=1);++t<r;)for(var s=e[t],o=hLe(s),a=-1,c=o.length;++a<c;){var u=o[a],l=n[u];(l===void 0||dLe(l,J8[u])&&!pLe.call(n,u))&&(n[u]=s[u])}return n});Z8.exports=mLe});var mS=b((nSt,eG)=>{var gLe=mo(),yLe=ss();function bLe(n,e,t){(t!==void 0&&!yLe(n[e],t)||t===void 0&&!(e in n))&&gLe(n,e,t)}eG.exports=bLe});var ni=b((rSt,tG)=>{var vLe=Xr(),_Le=Pn();function ELe(n){return _Le(n)&&vLe(n)}tG.exports=ELe});var gS=b((iSt,nG)=>{function wLe(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}nG.exports=wLe});var yS=b((sSt,rG)=>{var CLe=Ns(),DLe=ti();function xLe(n){return CLe(n,DLe(n))}rG.exports=xLe});var uG=b((oSt,cG)=>{var iG=mS(),TLe=LA(),ALe=QA(),SLe=is(),ILe=KA(),sG=Eu(),oG=Lt(),MLe=ni(),RLe=Ya(),NLe=ho(),OLe=Gn(),PLe=md(),FLe=Cu(),aG=gS(),kLe=yS();function LLe(n,e,t,r,i,s,o){var a=aG(n,t),c=aG(e,t),u=o.get(c);if(u){iG(n,t,u);return}var l=s?s(a,c,t+"",n,e,o):void 0,f=l===void 0;if(f){var p=oG(c),g=!p&&RLe(c),v=!p&&!g&&FLe(c);l=c,p||g||v?oG(a)?l=a:MLe(a)?l=SLe(a):g?(f=!1,l=TLe(c,!0)):v?(f=!1,l=ALe(c,!0)):l=[]:PLe(c)||sG(c)?(l=a,sG(a)?l=kLe(a):(!OLe(a)||NLe(a))&&(l=ILe(c))):f=!1}f&&(o.set(c,l),i(l,c,r,s,o),o.delete(c)),iG(n,t,l)}cG.exports=LLe});var Lv=b((aSt,dG)=>{var BLe=dp(),qLe=mS(),jLe=kv(),$Le=uG(),VLe=Gn(),ULe=ti(),HLe=gS();function lG(n,e,t,r,i){n!==e&&jLe(e,function(s,o){if(i||(i=new BLe),VLe(s))$Le(n,e,o,t,lG,r,i);else{var a=r?r(HLe(n,o),s,o+"",n,e,i):void 0;a===void 0&&(a=s),qLe(n,o,a)}},ULe)}dG.exports=lG});var mG=b((cSt,pG)=>{var WLe=Lv(),fG=Gn();function hG(n,e,t,r,i,s){return fG(n)&&fG(e)&&(s.set(e,n),WLe(n,e,void 0,hG,s),s.delete(e)),n}pG.exports=hG});var bS=b((uSt,gG)=>{var zLe=Lv(),GLe=_u(),QLe=GLe(function(n,e,t,r){zLe(n,e,t,r)});gG.exports=QLe});var bG=b((lSt,yG)=>{var KLe=Ui(),YLe=Nt(),JLe=mG(),ZLe=bS(),XLe=YLe(function(n){return n.push(void 0,JLe),KLe(ZLe,void 0,n)});yG.exports=XLe});var vS=b((dSt,vG)=>{var eBe="Expected a function";function tBe(n,e,t){if(typeof n!="function")throw new TypeError(eBe);return setTimeout(function(){n.apply(void 0,t)},e)}vG.exports=tBe});var EG=b((fSt,_G)=>{var nBe=vS(),rBe=Nt(),iBe=rBe(function(n,e){return nBe(n,1,e)});_G.exports=iBe});var CG=b((hSt,wG)=>{var sBe=vS(),oBe=Nt(),aBe=Yo(),cBe=oBe(function(n,e,t){return sBe(n,aBe(e)||0,t)});wG.exports=cBe});var Bv=b((pSt,DG)=>{function uBe(n,e,t){for(var r=-1,i=n==null?0:n.length;++r<i;)if(t(e,n[r]))return!0;return!1}DG.exports=uBe});var _d=b((mSt,xG)=>{var lBe=hp(),dBe=ep(),fBe=Bv(),hBe=Fn(),pBe=Hi(),mBe=pp(),gBe=200;function yBe(n,e,t,r){var i=-1,s=dBe,o=!0,a=n.length,c=[],u=e.length;if(!a)return c;t&&(e=hBe(e,pBe(t))),r?(s=fBe,o=!1):e.length>=gBe&&(s=mBe,o=!1,e=new lBe(e));e:for(;++i<a;){var l=n[i],f=t==null?l:t(l);if(l=r||l!==0?l:0,o&&f===f){for(var p=u;p--;)if(e[p]===f)continue e;c.push(l)}else s(e,f,r)||c.push(l)}return c}xG.exports=yBe});var SG=b((gSt,AG)=>{var bBe=_d(),vBe=Tr(),_Be=Nt(),TG=ni(),EBe=_Be(function(n,e){return TG(n)?bBe(n,vBe(e,1,TG,!0)):[]});AG.exports=EBe});var as=b((ySt,IG)=>{function wBe(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}IG.exports=wBe});var RG=b((bSt,MG)=>{var CBe=_d(),DBe=Tr(),xBe=Et(),TBe=Nt(),_S=ni(),ABe=as(),SBe=TBe(function(n,e){var t=ABe(e);return _S(t)&&(t=void 0),_S(n)?CBe(n,DBe(e,1,_S,!0),xBe(t,2)):[]});MG.exports=SBe});var OG=b((vSt,NG)=>{var IBe=_d(),MBe=Tr(),RBe=Nt(),ES=ni(),NBe=as(),OBe=RBe(function(n,e){var t=NBe(e);return ES(t)&&(t=void 0),ES(n)?IBe(n,MBe(e,1,ES,!0),void 0,t):[]});NG.exports=OBe});var FG=b((_St,PG)=>{var PBe=Jh(),FBe=PBe(function(n,e){return n/e},1);PG.exports=FBe});var LG=b((ESt,kG)=>{var kBe=os(),LBe=qt();function BBe(n,e,t){var r=n==null?0:n.length;return r?(e=t||e===void 0?1:LBe(e),kBe(n,e<0?0:e,r)):[]}kG.exports=BBe});var qG=b((wSt,BG)=>{var qBe=os(),jBe=qt();function $Be(n,e,t){var r=n==null?0:n.length;return r?(e=t||e===void 0?1:jBe(e),e=r-e,qBe(n,0,e<0?0:e)):[]}BG.exports=$Be});var bp=b((CSt,$G)=>{var jG=os();function VBe(n,e,t,r){for(var i=n.length,s=r?i:-1;(r?s--:++s<i)&&e(n[s],s,n););return t?jG(n,r?0:s,r?s+1:i):jG(n,r?s+1:0,r?i:s)}$G.exports=VBe});var UG=b((DSt,VG)=>{var UBe=Et(),HBe=bp();function WBe(n,e){return n&&n.length?HBe(n,UBe(e,3),!0,!0):[]}VG.exports=WBe});var WG=b((xSt,HG)=>{var zBe=Et(),GBe=bp();function QBe(n,e){return n&&n.length?GBe(n,zBe(e,3),!0):[]}HG.exports=QBe});var Ps=b((TSt,zG)=>{var KBe=gi();function YBe(n){return typeof n=="function"?n:KBe}zG.exports=YBe});var wS=b((ASt,GG)=>{var JBe=yu(),ZBe=ra(),XBe=Ps(),eqe=Lt();function tqe(n,e){var t=eqe(n)?JBe:ZBe;return t(n,XBe(e))}GG.exports=tqe});var KG=b((SSt,QG)=>{QG.exports=wS()});var JG=b((ISt,YG)=>{function nqe(n,e){for(var t=n==null?0:n.length;t--&&e(n[t],t,n)!==!1;);return n}YG.exports=nqe});var CS=b((MSt,ZG)=>{var rqe=cS(),iqe=rqe(!0);ZG.exports=iqe});var qv=b((RSt,XG)=>{var sqe=CS(),oqe=yr();function aqe(n,e){return n&&sqe(n,e,oqe)}XG.exports=aqe});var DS=b((NSt,e4)=>{var cqe=qv(),uqe=uS(),lqe=uqe(cqe,!0);e4.exports=lqe});var xS=b((OSt,t4)=>{var dqe=JG(),fqe=DS(),hqe=Ps(),pqe=Lt();function mqe(n,e){var t=pqe(n)?dqe:fqe;return t(n,hqe(e))}t4.exports=mqe});var r4=b((PSt,n4)=>{n4.exports=xS()});var s4=b((FSt,i4)=>{var gqe=Za(),yqe=Rs(),bqe=qt(),vqe=sn();function _qe(n,e,t){n=vqe(n),e=yqe(e);var r=n.length;t=t===void 0?r:gqe(bqe(t),0,r);var i=t;return t-=e.length,t>=0&&n.slice(t,i)==e}i4.exports=_qe});var a4=b((kSt,o4)=>{var Eqe=Fn();function wqe(n,e){return Eqe(e,function(t){return[t,n[t]]})}o4.exports=wqe});var u4=b((LSt,c4)=>{function Cqe(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=[r,r]}),t}c4.exports=Cqe});var TS=b((BSt,l4)=>{var Dqe=a4(),xqe=go(),Tqe=Mv(),Aqe=u4(),Sqe="[object Map]",Iqe="[object Set]";function Mqe(n){return function(e){var t=xqe(e);return t==Sqe?Tqe(e):t==Iqe?Aqe(e):Dqe(e,n(e))}}l4.exports=Mqe});var AS=b((qSt,d4)=>{var Rqe=TS(),Nqe=yr(),Oqe=Rqe(Nqe);d4.exports=Oqe});var h4=b((jSt,f4)=>{f4.exports=AS()});var SS=b(($St,p4)=>{var Pqe=TS(),Fqe=ti(),kqe=Pqe(Fqe);p4.exports=kqe});var g4=b((VSt,m4)=>{m4.exports=SS()});var b4=b((USt,y4)=>{var Lqe=Ev(),Bqe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},qqe=Lqe(Bqe);y4.exports=qqe});var IS=b((HSt,_4)=>{var jqe=b4(),$qe=sn(),v4=/[&<>"']/g,Vqe=RegExp(v4.source);function Uqe(n){return n=$qe(n),n&&Vqe.test(n)?n.replace(v4,jqe):n}_4.exports=Uqe});var C4=b((WSt,w4)=>{var Hqe=sn(),E4=/[\\^$.*+?()[\]{}|]/g,Wqe=RegExp(E4.source);function zqe(n){return n=Hqe(n),n&&Wqe.test(n)?n.replace(E4,"\\$&"):n}w4.exports=zqe});var MS=b((zSt,D4)=>{function Gqe(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(!e(n[t],t,n))return!1;return!0}D4.exports=Gqe});var T4=b((GSt,x4)=>{var Qqe=ra();function Kqe(n,e){var t=!0;return Qqe(n,function(r,i,s){return t=!!e(r,i,s),t}),t}x4.exports=Kqe});var S4=b((QSt,A4)=>{var Yqe=MS(),Jqe=T4(),Zqe=Et(),Xqe=Lt(),eje=ei();function tje(n,e,t){var r=Xqe(n)?Yqe:Jqe;return t&&eje(n,e,t)&&(e=void 0),r(n,Zqe(e,3))}A4.exports=tje});var M4=b((KSt,I4)=>{I4.exports=yA()});var N4=b((YSt,R4)=>{R4.exports=pv()});var RS=b((JSt,O4)=>{var nje=Za(),rje=qt(),ije=4294967295;function sje(n){return n?nje(rje(n),0,ije):0}O4.exports=sje});var k4=b((ZSt,F4)=>{var P4=qt(),oje=RS();function aje(n,e,t,r){var i=n.length;for(t=P4(t),t<0&&(t=-t>i?0:i+t),r=r===void 0||r>i?i:P4(r),r<0&&(r+=i),r=t>r?0:oje(r);t<r;)n[t++]=e;return n}F4.exports=aje});var B4=b((XSt,L4)=>{var cje=k4(),uje=ei();function lje(n,e,t,r){var i=n==null?0:n.length;return i?(t&&typeof t!="number"&&uje(n,e,t)&&(t=0,r=i),cje(n,e,t,r)):[]}L4.exports=lje});var NS=b((eIt,q4)=>{var dje=ra();function fje(n,e){var t=[];return dje(n,function(r,i,s){e(r,i,s)&&t.push(r)}),t}q4.exports=fje});var $4=b((tIt,j4)=>{var hje=na(),pje=NS(),mje=Et(),gje=Lt();function yje(n,e){var t=gje(n)?hje:pje;return t(n,mje(e,3))}j4.exports=yje});var OS=b((nIt,V4)=>{var bje=Et(),vje=Xr(),_je=yr();function Eje(n){return function(e,t,r){var i=Object(e);if(!vje(e)){var s=bje(t,3);e=_je(e),t=function(a){return s(i[a],a,i)}}var o=n(e,t,r);return o>-1?i[s?e[o]:o]:void 0}}V4.exports=Eje});var PS=b((rIt,U4)=>{var wje=Xh(),Cje=Et(),Dje=qt(),xje=Math.max;function Tje(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=t==null?0:Dje(t);return i<0&&(i=xje(r+i,0)),wje(n,Cje(e,3),i)}U4.exports=Tje});var W4=b((iIt,H4)=>{var Aje=OS(),Sje=PS(),Ije=Aje(Sje);H4.exports=Ije});var FS=b((sIt,z4)=>{function Mje(n,e,t){var r;return t(n,function(i,s,o){if(e(i,s,o))return r=s,!1}),r}z4.exports=Mje});var Q4=b((oIt,G4)=>{var Rje=FS(),Nje=Xa(),Oje=Et();function Pje(n,e){return Rje(n,Oje(e,3),Nje)}G4.exports=Pje});var kS=b((aIt,K4)=>{var Fje=Xh(),kje=Et(),Lje=qt(),Bje=Math.max,qje=Math.min;function jje(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=r-1;return t!==void 0&&(i=Lje(t),i=t<0?Bje(r+i,0):qje(i,r-1)),Fje(n,kje(e,3),i,!0)}K4.exports=jje});var J4=b((cIt,Y4)=>{var $je=OS(),Vje=kS(),Uje=$je(Vje);Y4.exports=Uje});var X4=b((uIt,Z4)=>{var Hje=FS(),Wje=qv(),zje=Et();function Gje(n,e){return Hje(n,zje(e,3),Wje)}Z4.exports=Gje});var LS=b((lIt,e6)=>{function Qje(n){return n&&n.length?n[0]:void 0}e6.exports=Qje});var n6=b((dIt,t6)=>{t6.exports=LS()});var BS=b((fIt,r6)=>{var Kje=ra(),Yje=Xr();function Jje(n,e){var t=-1,r=Yje(n)?Array(n.length):[];return Kje(n,function(i,s,o){r[++t]=e(i,s,o)}),r}r6.exports=Jje});var vp=b((hIt,i6)=>{var Zje=Fn(),Xje=Et(),e2e=BS(),t2e=Lt();function n2e(n,e){var t=t2e(n)?Zje:e2e;return t(n,Xje(e,3))}i6.exports=n2e});var o6=b((pIt,s6)=>{var r2e=Tr(),i2e=vp();function s2e(n,e){return r2e(i2e(n,e),1)}s6.exports=s2e});var c6=b((mIt,a6)=>{var o2e=Tr(),a2e=vp(),c2e=1/0;function u2e(n,e){return o2e(a2e(n,e),c2e)}a6.exports=u2e});var l6=b((gIt,u6)=>{var l2e=Tr(),d2e=vp(),f2e=qt();function h2e(n,e,t){return t=t===void 0?1:f2e(t),l2e(d2e(n,e),t)}u6.exports=h2e});var f6=b((yIt,d6)=>{var p2e=Tr(),m2e=1/0;function g2e(n){var e=n==null?0:n.length;return e?p2e(n,m2e):[]}d6.exports=g2e});var p6=b((bIt,h6)=>{var y2e=Tr(),b2e=qt();function v2e(n,e){var t=n==null?0:n.length;return t?(e=e===void 0?1:b2e(e),y2e(n,e)):[]}h6.exports=v2e});var g6=b((vIt,m6)=>{var _2e=po(),E2e=512;function w2e(n){return _2e(n,E2e)}m6.exports=w2e});var b6=b((_It,y6)=>{var C2e=wv(),D2e=C2e("floor");y6.exports=D2e});var jS=b((EIt,E6)=>{var v6=av(),x2e=Xo(),T2e=sv(),qS=ZT(),A2e=Lt(),_6=eA(),S2e="Expected a function",I2e=8,M2e=32,R2e=128,N2e=256;function O2e(n){return x2e(function(e){var t=e.length,r=t,i=v6.prototype.thru;for(n&&e.reverse();r--;){var s=e[r];if(typeof s!="function")throw new TypeError(S2e);if(i&&!o&&qS(s)=="wrapper")var o=new v6([],!0)}for(r=o?r:t;++r<t;){s=e[r];var a=qS(s),c=a=="wrapper"?T2e(s):void 0;c&&_6(c[0])&&c[1]==(R2e|I2e|M2e|N2e)&&!c[4].length&&c[9]==1?o=o[qS(c[0])].apply(o,c[3]):o=s.length==1&&_6(s)?o[a]():o.thru(s)}return function(){var u=arguments,l=u[0];if(o&&u.length==1&&A2e(l))return o.plant(l).value();for(var f=0,p=t?e[f].apply(this,u):l;++f<t;)p=e[f].call(this,p);return p}})}E6.exports=O2e});var C6=b((wIt,w6)=>{var P2e=jS(),F2e=P2e();w6.exports=F2e});var x6=b((CIt,D6)=>{var k2e=jS(),L2e=k2e(!0);D6.exports=L2e});var A6=b((DIt,T6)=>{var B2e=kv(),q2e=Ps(),j2e=ti();function $2e(n,e){return n==null?n:B2e(n,q2e(e),j2e)}T6.exports=$2e});var I6=b((xIt,S6)=>{var V2e=CS(),U2e=Ps(),H2e=ti();function W2e(n,e){return n==null?n:V2e(n,U2e(e),H2e)}S6.exports=W2e});var R6=b((TIt,M6)=>{var z2e=Xa(),G2e=Ps();function Q2e(n,e){return n&&z2e(n,G2e(e))}M6.exports=Q2e});var O6=b((AIt,N6)=>{var K2e=qv(),Y2e=Ps();function J2e(n,e){return n&&K2e(n,Y2e(e))}N6.exports=J2e});var F6=b((SIt,P6)=>{function Z2e(n){for(var e=-1,t=n==null?0:n.length,r={};++e<t;){var i=n[e];r[i[0]]=i[1]}return r}P6.exports=Z2e});var jv=b((IIt,k6)=>{var X2e=na(),e$e=ho();function t$e(n,e){return X2e(e,function(t){return e$e(n[t])})}k6.exports=t$e});var B6=b((MIt,L6)=>{var n$e=jv(),r$e=yr();function i$e(n){return n==null?[]:n$e(n,r$e(n))}L6.exports=i$e});var j6=b((RIt,q6)=>{var s$e=jv(),o$e=ti();function a$e(n){return n==null?[]:s$e(n,o$e(n))}q6.exports=a$e});var V6=b((NIt,$6)=>{var c$e=mo(),u$e=yp(),l$e=Object.prototype,d$e=l$e.hasOwnProperty,f$e=u$e(function(n,e,t){d$e.call(n,t)?n[t].push(e):c$e(n,t,[e])});$6.exports=f$e});var $v=b((OIt,U6)=>{function h$e(n,e){return n>e}U6.exports=h$e});var _p=b((PIt,W6)=>{var H6=Yo();function p$e(n){return function(e,t){return typeof e=="string"&&typeof t=="string"||(e=H6(e),t=H6(t)),n(e,t)}}W6.exports=p$e});var G6=b((FIt,z6)=>{var m$e=$v(),g$e=_p(),y$e=g$e(m$e);z6.exports=y$e});var K6=b((kIt,Q6)=>{var b$e=_p(),v$e=b$e(function(n,e){return n>=e});Q6.exports=v$e});var J6=b((LIt,Y6)=>{var _$e=Object.prototype,E$e=_$e.hasOwnProperty;function w$e(n,e){return n!=null&&E$e.call(n,e)}Y6.exports=w$e});var X6=b((BIt,Z6)=>{var C$e=J6(),D$e=iS();function x$e(n,e){return n!=null&&D$e(n,e,C$e)}Z6.exports=x$e});var t5=b((qIt,e5)=>{var T$e=Math.max,A$e=Math.min;function S$e(n,e,t){return n>=A$e(e,t)&&n<T$e(e,t)}e5.exports=S$e});var i5=b((jIt,r5)=>{var I$e=t5(),n5=ad(),M$e=Yo();function R$e(n,e,t){return e=n5(e),t===void 0?(t=e,e=0):t=n5(t),n=M$e(n),I$e(n,e,t)}r5.exports=R$e});var Ep=b(($It,s5)=>{var N$e=Zr(),O$e=Lt(),P$e=Pn(),F$e="[object String]";function k$e(n){return typeof n=="string"||!O$e(n)&&P$e(n)&&N$e(n)==F$e}s5.exports=k$e});var Vv=b((VIt,o5)=>{var L$e=Fn();function B$e(n,e){return L$e(e,function(t){return n[t]})}o5.exports=B$e});var Su=b((UIt,a5)=>{var q$e=Vv(),j$e=yr();function $$e(n){return n==null?[]:q$e(n,j$e(n))}a5.exports=$$e});var u5=b((HIt,c5)=>{var V$e=bu(),U$e=Xr(),H$e=Ep(),W$e=qt(),z$e=Su(),G$e=Math.max;function Q$e(n,e,t,r){n=U$e(n)?n:z$e(n),t=t&&!r?W$e(t):0;var i=n.length;return t<0&&(t=G$e(i+t,0)),H$e(n)?t<=i&&n.indexOf(e,t)>-1:!!i&&V$e(n,e,t)>-1}c5.exports=Q$e});var d5=b((WIt,l5)=>{var K$e=bu(),Y$e=qt(),J$e=Math.max;function Z$e(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=t==null?0:Y$e(t);return i<0&&(i=J$e(r+i,0)),K$e(n,e,i)}l5.exports=Z$e});var h5=b((zIt,f5)=>{var X$e=os();function eVe(n){var e=n==null?0:n.length;return e?X$e(n,0,-1):[]}f5.exports=eVe});var Uv=b((GIt,m5)=>{var tVe=hp(),nVe=ep(),rVe=Bv(),iVe=Fn(),sVe=Hi(),p5=pp(),oVe=Math.min;function aVe(n,e,t){for(var r=t?rVe:nVe,i=n[0].length,s=n.length,o=s,a=Array(s),c=1/0,u=[];o--;){var l=n[o];o&&e&&(l=iVe(l,sVe(e))),c=oVe(l.length,c),a[o]=!t&&(e||i>=120&&l.length>=120)?new tVe(o&&l):void 0}l=n[0];var f=-1,p=a[0];e:for(;++f<i&&u.length<c;){var g=l[f],v=e?e(g):g;if(g=t||g!==0?g:0,!(p?p5(p,v):r(u,v,t))){for(o=s;--o;){var E=a[o];if(!(E?p5(E,v):r(n[o],v,t)))continue e}p&&p.push(v),u.push(g)}}return u}m5.exports=aVe});var Hv=b((QIt,g5)=>{var cVe=ni();function uVe(n){return cVe(n)?n:[]}g5.exports=uVe});var b5=b((KIt,y5)=>{var lVe=Fn(),dVe=Uv(),fVe=Nt(),hVe=Hv(),pVe=fVe(function(n){var e=lVe(n,hVe);return e.length&&e[0]===n[0]?dVe(e):[]});y5.exports=pVe});var E5=b((YIt,_5)=>{var mVe=Fn(),gVe=Uv(),yVe=Et(),bVe=Nt(),vVe=Hv(),v5=as(),_Ve=bVe(function(n){var e=v5(n),t=mVe(n,vVe);return e===v5(t)?e=void 0:t.pop(),t.length&&t[0]===n[0]?gVe(t,yVe(e,2)):[]});_5.exports=_Ve});var C5=b((JIt,w5)=>{var EVe=Fn(),wVe=Uv(),CVe=Nt(),DVe=Hv(),xVe=as(),TVe=CVe(function(n){var e=xVe(n),t=EVe(n,DVe);return e=typeof e=="function"?e:void 0,e&&t.pop(),t.length&&t[0]===n[0]?wVe(t,void 0,e):[]});w5.exports=TVe});var x5=b((ZIt,D5)=>{var AVe=Xa();function SVe(n,e,t,r){return AVe(n,function(i,s,o){e(r,t(i),s,o)}),r}D5.exports=SVe});var $S=b((XIt,T5)=>{var IVe=x5();function MVe(n,e){return function(t,r){return IVe(t,n,e(r),{})}}T5.exports=MVe});var S5=b((eMt,A5)=>{var RVe=uv(),NVe=$S(),OVe=gi(),PVe=Object.prototype,FVe=PVe.toString,kVe=NVe(function(n,e,t){e!=null&&typeof e.toString!="function"&&(e=FVe.call(e)),n[e]=t},RVe(OVe));A5.exports=kVe});var R5=b((tMt,M5)=>{var LVe=Et(),BVe=$S(),I5=Object.prototype,qVe=I5.hasOwnProperty,jVe=I5.toString,$Ve=BVe(function(n,e,t){e!=null&&typeof e.toString!="function"&&(e=jVe.call(e)),qVe.call(n,e)?n[e].push(t):n[e]=[t]},LVe);M5.exports=$Ve});var VS=b((nMt,N5)=>{var VVe=Ja(),UVe=os();function HVe(n,e){return e.length<2?n:VVe(n,UVe(e,0,-1))}N5.exports=HVe});var wp=b((rMt,O5)=>{var WVe=Ui(),zVe=Zo(),GVe=as(),QVe=VS(),KVe=Os();function YVe(n,e,t){e=zVe(e,n),n=QVe(n,e);var r=n==null?n:n[KVe(GVe(e))];return r==null?void 0:WVe(r,n,t)}O5.exports=YVe});var F5=b((iMt,P5)=>{var JVe=wp(),ZVe=Nt(),XVe=ZVe(JVe);P5.exports=XVe});var L5=b((sMt,k5)=>{var eUe=Ui(),tUe=ra(),nUe=wp(),rUe=Nt(),iUe=Xr(),sUe=rUe(function(n,e,t){var r=-1,i=typeof e=="function",s=iUe(n)?Array(n.length):[];return tUe(n,function(o){s[++r]=i?eUe(e,o,t):nUe(o,e,t)}),s});k5.exports=sUe});var q5=b((oMt,B5)=>{var oUe=Zr(),aUe=Pn(),cUe="[object ArrayBuffer]";function uUe(n){return aUe(n)&&oUe(n)==cUe}B5.exports=uUe});var U5=b((aMt,V5)=>{var lUe=q5(),dUe=Hi(),j5=wu(),$5=j5&&j5.isArrayBuffer,fUe=$5?dUe($5):lUe;V5.exports=fUe});var W5=b((cMt,H5)=>{var hUe=Zr(),pUe=Pn(),mUe="[object Boolean]";function gUe(n){return n===!0||n===!1||pUe(n)&&hUe(n)==mUe}H5.exports=gUe});var G5=b((uMt,z5)=>{var yUe=Zr(),bUe=Pn(),vUe="[object Date]";function _Ue(n){return bUe(n)&&yUe(n)==vUe}z5.exports=_Ue});var J5=b((lMt,Y5)=>{var EUe=G5(),wUe=Hi(),Q5=wu(),K5=Q5&&Q5.isDate,CUe=K5?wUe(K5):EUe;Y5.exports=CUe});var X5=b((dMt,Z5)=>{var DUe=Pn(),xUe=md();function TUe(n){return DUe(n)&&n.nodeType===1&&!xUe(n)}Z5.exports=TUe});var t9=b((fMt,e9)=>{var AUe=hv(),SUe=go(),IUe=Eu(),MUe=Lt(),RUe=Xr(),NUe=Ya(),OUe=ud(),PUe=Cu(),FUe="[object Map]",kUe="[object Set]",LUe=Object.prototype,BUe=LUe.hasOwnProperty;function qUe(n){if(n==null)return!0;if(RUe(n)&&(MUe(n)||typeof n=="string"||typeof n.splice=="function"||NUe(n)||PUe(n)||IUe(n)))return!n.length;var e=SUe(n);if(e==FUe||e==kUe)return!n.size;if(OUe(n))return!AUe(n).length;for(var t in n)if(BUe.call(n,t))return!1;return!0}e9.exports=qUe});var r9=b((hMt,n9)=>{var jUe=gp();function $Ue(n,e){return jUe(n,e)}n9.exports=$Ue});var s9=b((pMt,i9)=>{var VUe=gp();function UUe(n,e,t){t=typeof t=="function"?t:void 0;var r=t?t(n,e):void 0;return r===void 0?VUe(n,e,void 0,t):!!r}i9.exports=UUe});var a9=b((mMt,o9)=>{var HUe=or(),WUe=HUe.isFinite;function zUe(n){return typeof n=="number"&&WUe(n)}o9.exports=zUe});var US=b((gMt,c9)=>{var GUe=qt();function QUe(n){return typeof n=="number"&&n==GUe(n)}c9.exports=QUe});var l9=b((yMt,u9)=>{var KUe=Nv(),YUe=Ov();function JUe(n,e){return n===e||KUe(n,e,YUe(e))}u9.exports=JUe});var f9=b((bMt,d9)=>{var ZUe=Nv(),XUe=Ov();function eHe(n,e,t){return t=typeof t=="function"?t:void 0,ZUe(n,e,XUe(e),t)}d9.exports=eHe});var HS=b((vMt,h9)=>{var tHe=Zr(),nHe=Pn(),rHe="[object Number]";function iHe(n){return typeof n=="number"||nHe(n)&&tHe(n)==rHe}h9.exports=iHe});var m9=b((_Mt,p9)=>{var sHe=HS();function oHe(n){return sHe(n)&&n!=+n}p9.exports=oHe});var y9=b((EMt,g9)=>{var aHe=UT(),cHe=ho(),uHe=fv(),lHe=aHe?cHe:uHe;g9.exports=lHe});var v9=b((wMt,b9)=>{var dHe=zT(),fHe=y9(),hHe="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function pHe(n){if(fHe(n))throw new Error(hHe);return dHe(n)}b9.exports=pHe});var E9=b((CMt,_9)=>{function mHe(n){return n==null}_9.exports=mHe});var C9=b((DMt,w9)=>{function gHe(n){return n===null}w9.exports=gHe});var x9=b((xMt,D9)=>{var yHe=Zr(),bHe=Pn(),vHe="[object RegExp]";function _He(n){return bHe(n)&&yHe(n)==vHe}D9.exports=_He});var Wv=b((TMt,S9)=>{var EHe=x9(),wHe=Hi(),T9=wu(),A9=T9&&T9.isRegExp,CHe=A9?wHe(A9):EHe;S9.exports=CHe});var R9=b((AMt,M9)=>{var DHe=US(),I9=9007199254740991;function xHe(n){return DHe(n)&&n>=-I9&&n<=I9}M9.exports=xHe});var O9=b((SMt,N9)=>{function THe(n){return n===void 0}N9.exports=THe});var F9=b((IMt,P9)=>{var AHe=go(),SHe=Pn(),IHe="[object WeakMap]";function MHe(n){return SHe(n)&&AHe(n)==IHe}P9.exports=MHe});var L9=b((MMt,k9)=>{var RHe=Zr(),NHe=Pn(),OHe="[object WeakSet]";function PHe(n){return NHe(n)&&RHe(n)==OHe}k9.exports=PHe});var q9=b((RMt,B9)=>{var FHe=yo(),kHe=Et(),LHe=1;function BHe(n){return kHe(typeof n=="function"?n:FHe(n,LHe))}B9.exports=BHe});var $9=b((NMt,j9)=>{var qHe=Array.prototype,jHe=qHe.join;function $He(n,e){return n==null?"":jHe.call(n,e)}j9.exports=$He});var U9=b((OMt,V9)=>{var VHe=Tu(),UHe=VHe(function(n,e,t){return n+(t?"-":"")+e.toLowerCase()});V9.exports=UHe});var W9=b((PMt,H9)=>{var HHe=mo(),WHe=yp(),zHe=WHe(function(n,e,t){HHe(n,t,e)});H9.exports=zHe});var G9=b((FMt,z9)=>{function GHe(n,e,t){for(var r=t+1;r--;)if(n[r]===e)return r;return r}z9.exports=GHe});var K9=b((kMt,Q9)=>{var QHe=Xh(),KHe=iA(),YHe=G9(),JHe=qt(),ZHe=Math.max,XHe=Math.min;function eWe(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=r;return t!==void 0&&(i=JHe(t),i=i<0?ZHe(r+i,0):XHe(i,r-1)),e===e?YHe(n,e,i):QHe(n,KHe,i,!0)}Q9.exports=eWe});var J9=b((LMt,Y9)=>{var tWe=Tu(),nWe=tWe(function(n,e,t){return n+(t?" ":"")+e.toLowerCase()});Y9.exports=nWe});var X9=b((BMt,Z9)=>{var rWe=MA(),iWe=rWe("toLowerCase");Z9.exports=iWe});var zv=b((qMt,eQ)=>{function sWe(n,e){return n<e}eQ.exports=sWe});var nQ=b((jMt,tQ)=>{var oWe=zv(),aWe=_p(),cWe=aWe(oWe);tQ.exports=cWe});var iQ=b(($Mt,rQ)=>{var uWe=_p(),lWe=uWe(function(n,e){return n<=e});rQ.exports=lWe});var oQ=b((VMt,sQ)=>{var dWe=mo(),fWe=Xa(),hWe=Et();function pWe(n,e){var t={};return e=hWe(e,3),fWe(n,function(r,i,s){dWe(t,e(r,i,s),r)}),t}sQ.exports=pWe});var cQ=b((UMt,aQ)=>{var mWe=mo(),gWe=Xa(),yWe=Et();function bWe(n,e){var t={};return e=yWe(e,3),gWe(n,function(r,i,s){mWe(t,i,e(r,i,s))}),t}aQ.exports=bWe});var lQ=b((HMt,uQ)=>{var vWe=yo(),_We=rS(),EWe=1;function wWe(n){return _We(vWe(n,EWe))}uQ.exports=wWe});var fQ=b((WMt,dQ)=>{var CWe=yo(),DWe=sS(),xWe=1;function TWe(n,e){return DWe(n,CWe(e,xWe))}dQ.exports=TWe});var Cp=b((zMt,hQ)=>{var AWe=rs();function SWe(n,e,t){for(var r=-1,i=n.length;++r<i;){var s=n[r],o=e(s);if(o!=null&&(a===void 0?o===o&&!AWe(o):t(o,a)))var a=o,c=s}return c}hQ.exports=SWe});var mQ=b((GMt,pQ)=>{var IWe=Cp(),MWe=$v(),RWe=gi();function NWe(n){return n&&n.length?IWe(n,RWe,MWe):void 0}pQ.exports=NWe});var yQ=b((QMt,gQ)=>{var OWe=Cp(),PWe=$v(),FWe=Et();function kWe(n,e){return n&&n.length?OWe(n,FWe(e,2),PWe):void 0}gQ.exports=kWe});var Gv=b((KMt,bQ)=>{function LWe(n,e){for(var t,r=-1,i=n.length;++r<i;){var s=e(n[r]);s!==void 0&&(t=t===void 0?s:t+s)}return t}bQ.exports=LWe});var WS=b((YMt,vQ)=>{var BWe=Gv(),qWe=NaN;function jWe(n,e){var t=n==null?0:n.length;return t?BWe(n,e)/t:qWe}vQ.exports=jWe});var EQ=b((JMt,_Q)=>{var $We=WS(),VWe=gi();function UWe(n){return $We(n,VWe)}_Q.exports=UWe});var CQ=b((ZMt,wQ)=>{var HWe=Et(),WWe=WS();function zWe(n,e){return WWe(n,HWe(e,2))}wQ.exports=zWe});var xQ=b((XMt,DQ)=>{var GWe=Lv(),QWe=_u(),KWe=QWe(function(n,e,t){GWe(n,e,t)});DQ.exports=KWe});var AQ=b((eRt,TQ)=>{var YWe=wp(),JWe=Nt(),ZWe=JWe(function(n,e){return function(t){return YWe(t,n,e)}});TQ.exports=ZWe});var IQ=b((tRt,SQ)=>{var XWe=wp(),eze=Nt(),tze=eze(function(n,e){return function(t){return XWe(n,t,e)}});SQ.exports=tze});var RQ=b((nRt,MQ)=>{var nze=Cp(),rze=zv(),ize=gi();function sze(n){return n&&n.length?nze(n,ize,rze):void 0}MQ.exports=sze});var OQ=b((rRt,NQ)=>{var oze=Cp(),aze=Et(),cze=zv();function uze(n,e){return n&&n.length?oze(n,aze(e,2),cze):void 0}NQ.exports=uze});var FQ=b((iRt,PQ)=>{var lze=yu(),dze=Du(),fze=jv(),hze=is(),pze=ho(),mze=Gn(),gze=yr();function yze(n,e,t){var r=gze(e),i=fze(e,r),s=!(mze(t)&&"chain"in t)||!!t.chain,o=pze(n);return lze(i,function(a){var c=e[a];n[a]=c,o&&(n.prototype[a]=function(){var u=this.__chain__;if(s||u){var l=n(this.__wrapped__),f=l.__actions__=hze(this.__actions__);return f.push({func:c,args:arguments,thisArg:n}),l.__chain__=u,l}return c.apply(n,dze([this.value()],arguments))})}),n}PQ.exports=yze});var LQ=b((sRt,kQ)=>{var bze=Jh(),vze=bze(function(n,e){return n*e},1);kQ.exports=vze});var Qv=b((oRt,BQ)=>{var _ze="Expected a function";function Eze(n){if(typeof n!="function")throw new TypeError(_ze);return function(){var e=arguments;switch(e.length){case 0:return!n.call(this);case 1:return!n.call(this,e[0]);case 2:return!n.call(this,e[0],e[1]);case 3:return!n.call(this,e[0],e[1],e[2])}return!n.apply(this,e)}}BQ.exports=Eze});var zS=b((aRt,qQ)=>{var wze=Jo();function Cze(n,e){var t=n.length;if(t)return e+=e<0?t:0,wze(e,t)?n[e]:void 0}qQ.exports=Cze});var $Q=b((cRt,jQ)=>{var Dze=zS(),xze=qt();function Tze(n,e){return n&&n.length?Dze(n,xze(e)):void 0}jQ.exports=Tze});var UQ=b((uRt,VQ)=>{var Aze=zS(),Sze=Nt(),Ize=qt();function Mze(n){return n=Ize(n),Sze(function(e){return Aze(e,n)})}VQ.exports=Mze});var Kv=b((lRt,HQ)=>{var Rze=Zo(),Nze=as(),Oze=VS(),Pze=Os(),Fze=Object.prototype,kze=Fze.hasOwnProperty;function Lze(n,e){e=Rze(e,n);var t=-1,r=e.length;if(!r)return!0;for(var i=n==null||typeof n!="object"&&typeof n!="function";++t<r;){var s=e[t];if(typeof s=="string"){if(s==="__proto__"&&!kze.call(n,"__proto__"))return!1;if(s==="constructor"&&t+1<r&&typeof e[t+1]=="string"&&e[t+1]==="prototype"){if(i&&t===0)continue;return!1}}}var o=Oze(n,e);return o==null||delete o[Pze(Nze(e))]}HQ.exports=Lze});var zQ=b((dRt,WQ)=>{var Bze=md();function qze(n){return Bze(n)?void 0:n}WQ.exports=qze});var QQ=b((fRt,GQ)=>{var jze=Fn(),$ze=yo(),Vze=Kv(),Uze=Zo(),Hze=Ns(),Wze=zQ(),zze=Xo(),Gze=xv(),Qze=1,Kze=2,Yze=4,Jze=zze(function(n,e){var t={};if(n==null)return t;var r=!1;e=jze(e,function(s){return s=Uze(s,n),r||(r=s.length>1),s}),Hze(n,Gze(n),t),r&&(t=$ze(t,Qze|Kze|Yze,Wze));for(var i=e.length;i--;)Vze(t,e[i]);return t});GQ.exports=Jze});var Ed=b((hRt,YQ)=>{var Zze=cd(),Xze=Zo(),e3e=Jo(),KQ=Gn(),t3e=Os();function n3e(n,e,t,r){if(!KQ(n))return n;e=Xze(e,n);for(var i=-1,s=e.length,o=s-1,a=n;a!=null&&++i<s;){var c=t3e(e[i]),u=t;if(c==="__proto__"||c==="constructor"||c==="prototype")return n;if(i!=o){var l=a[c];u=r?r(l,c,a):void 0,u===void 0&&(u=KQ(l)?l:e3e(e[i+1])?[]:{})}Zze(a,c,u),a=a[c]}return n}YQ.exports=n3e});var GS=b((pRt,JQ)=>{var r3e=Ja(),i3e=Ed(),s3e=Zo();function o3e(n,e,t){for(var r=-1,i=e.length,s={};++r<i;){var o=e[r],a=r3e(n,o);t(a,o)&&i3e(s,s3e(o,n),a)}return s}JQ.exports=o3e});var QS=b((mRt,ZQ)=>{var a3e=Fn(),c3e=Et(),u3e=GS(),l3e=xv();function d3e(n,e){if(n==null)return{};var t=a3e(l3e(n),function(r){return[r]});return e=c3e(e),u3e(n,t,function(r,i){return e(r,i[0])})}ZQ.exports=d3e});var e7=b((gRt,XQ)=>{var f3e=Et(),h3e=Qv(),p3e=QS();function m3e(n,e){return p3e(n,h3e(f3e(e)))}XQ.exports=m3e});var n7=b((yRt,t7)=>{var g3e=DA();function y3e(n){return g3e(2,n)}t7.exports=y3e});var i7=b((bRt,r7)=>{function b3e(n,e){var t=n.length;for(n.sort(e);t--;)n[t]=n[t].value;return n}r7.exports=b3e});var KS=b((vRt,o7)=>{var s7=rs();function v3e(n,e){if(n!==e){var t=n!==void 0,r=n===null,i=n===n,s=s7(n),o=e!==void 0,a=e===null,c=e===e,u=s7(e);if(!a&&!u&&!s&&n>e||s&&o&&c&&!a&&!u||r&&o&&c||!t&&c||!i)return 1;if(!r&&!s&&!u&&n<e||u&&t&&i&&!r&&!s||a&&t&&i||!o&&i||!c)return-1}return 0}o7.exports=v3e});var c7=b((_Rt,a7)=>{var _3e=KS();function E3e(n,e,t){for(var r=-1,i=n.criteria,s=e.criteria,o=i.length,a=t.length;++r<o;){var c=_3e(i[r],s[r]);if(c){if(r>=a)return c;var u=t[r];return c*(u=="desc"?-1:1)}}return n.index-e.index}a7.exports=E3e});var JS=b((ERt,u7)=>{var YS=Fn(),w3e=Ja(),C3e=Et(),D3e=BS(),x3e=i7(),T3e=Hi(),A3e=c7(),S3e=gi(),I3e=Lt();function M3e(n,e,t){e.length?e=YS(e,function(s){return I3e(s)?function(o){return w3e(o,s.length===1?s[0]:s)}:s}):e=[S3e];var r=-1;e=YS(e,T3e(C3e));var i=D3e(n,function(s,o,a){var c=YS(e,function(u){return u(s)});return{criteria:c,index:++r,value:s}});return x3e(i,function(s,o){return A3e(s,o,t)})}u7.exports=M3e});var f7=b((wRt,d7)=>{var R3e=JS(),l7=Lt();function N3e(n,e,t,r){return n==null?[]:(l7(e)||(e=e==null?[]:[e]),t=r?void 0:t,l7(t)||(t=t==null?[]:[t]),R3e(n,e,t))}d7.exports=N3e});var Yv=b((CRt,h7)=>{var O3e=Ui(),P3e=Fn(),F3e=Et(),k3e=Nt(),L3e=Hi(),B3e=Xo();function q3e(n){return B3e(function(e){return e=P3e(e,L3e(F3e)),k3e(function(t){var r=this;return n(e,function(i){return O3e(i,r,t)})})})}h7.exports=q3e});var m7=b((DRt,p7)=>{var j3e=Fn(),$3e=Yv(),V3e=$3e(j3e);p7.exports=V3e});var y7=b((xRt,g7)=>{var U3e=Nt(),H3e=U3e;g7.exports=H3e});var w7=b((TRt,E7)=>{var W3e=Ui(),b7=Fn(),z3e=Tr(),v7=Et(),G3e=Nt(),_7=Hi(),Q3e=y7(),K3e=Lt(),Y3e=Math.min,J3e=Q3e(function(n,e){e=e.length==1&&K3e(e[0])?b7(e[0],_7(v7)):b7(z3e(e,1),_7(v7));var t=e.length;return G3e(function(r){for(var i=-1,s=Y3e(r.length,t);++i<s;)r[i]=e[i].call(this,r[i]);return W3e(n,this,r)})});E7.exports=J3e});var D7=b((ARt,C7)=>{var Z3e=MS(),X3e=Yv(),e8e=X3e(Z3e);C7.exports=e8e});var T7=b((SRt,x7)=>{var t8e=Iv(),n8e=Yv(),r8e=n8e(t8e);x7.exports=r8e});var ZS=b((IRt,A7)=>{var i8e=9007199254740991,s8e=Math.floor;function o8e(n,e){var t="";if(!n||e<1||e>i8e)return t;do e%2&&(t+=n),e=s8e(e/2),e&&(n+=n);while(e);return t}A7.exports=o8e});var I7=b((MRt,S7)=>{var a8e=Fv(),c8e=a8e("length");S7.exports=c8e});var B7=b((RRt,L7)=>{var R7="\\ud800-\\udfff",u8e="\\u0300-\\u036f",l8e="\\ufe20-\\ufe2f",d8e="\\u20d0-\\u20ff",f8e=u8e+l8e+d8e,h8e="\\ufe0e\\ufe0f",p8e="["+R7+"]",XS="["+f8e+"]",eI="\\ud83c[\\udffb-\\udfff]",m8e="(?:"+XS+"|"+eI+")",N7="[^"+R7+"]",O7="(?:\\ud83c[\\udde6-\\uddff]){2}",P7="[\\ud800-\\udbff][\\udc00-\\udfff]",g8e="\\u200d",F7=m8e+"?",k7="["+h8e+"]?",y8e="(?:"+g8e+"(?:"+[N7,O7,P7].join("|")+")"+k7+F7+")*",b8e=k7+F7+y8e,v8e="(?:"+[N7+XS+"?",XS,O7,P7,p8e].join("|")+")",M7=RegExp(eI+"(?="+eI+")|"+v8e+b8e,"g");function _8e(n){for(var e=M7.lastIndex=0;M7.test(n);)++e;return e}L7.exports=_8e});var Iu=b((NRt,q7)=>{var E8e=I7(),w8e=xu(),C8e=B7();function D8e(n){return w8e(n)?C8e(n):E8e(n)}q7.exports=D8e});var Jv=b((ORt,$7)=>{var j7=ZS(),x8e=Rs(),T8e=ea(),A8e=xu(),S8e=Iu(),I8e=ta(),M8e=Math.ceil;function R8e(n,e){e=e===void 0?" ":x8e(e);var t=e.length;if(t<2)return t?j7(e,n):e;var r=j7(e,M8e(n/S8e(e)));return A8e(e)?T8e(I8e(r),0,n).join(""):r.slice(0,n)}$7.exports=R8e});var H7=b((PRt,U7)=>{var V7=Jv(),N8e=Iu(),O8e=qt(),P8e=sn(),F8e=Math.ceil,k8e=Math.floor;function L8e(n,e,t){n=P8e(n),e=O8e(e);var r=e?N8e(n):0;if(!e||r>=e)return n;var i=(e-r)/2;return V7(k8e(i),t)+n+V7(F8e(i),t)}U7.exports=L8e});var z7=b((FRt,W7)=>{var B8e=Jv(),q8e=Iu(),j8e=qt(),$8e=sn();function V8e(n,e,t){n=$8e(n),e=j8e(e);var r=e?q8e(n):0;return e&&r<e?n+B8e(e-r,t):n}W7.exports=V8e});var Q7=b((kRt,G7)=>{var U8e=Jv(),H8e=Iu(),W8e=qt(),z8e=sn();function G8e(n,e,t){n=z8e(n),e=W8e(e);var r=e?H8e(n):0;return e&&r<e?U8e(e-r,t)+n:n}G7.exports=G8e});var Y7=b((LRt,K7)=>{var Q8e=or(),K8e=sn(),Y8e=/^\s+/,J8e=Q8e.parseInt;function Z8e(n,e,t){return t||e==null?e=0:e&&(e=+e),J8e(K8e(n).replace(Y8e,""),e||0)}K7.exports=Z8e});var nI=b((BRt,J7)=>{var X8e=Nt(),eGe=po(),tGe=vu(),nGe=Ka(),rGe=32,tI=X8e(function(n,e){var t=nGe(e,tGe(tI));return eGe(n,rGe,void 0,e,t)});tI.placeholder={};J7.exports=tI});var X7=b((qRt,Z7)=>{var iGe=Nt(),sGe=po(),oGe=vu(),aGe=Ka(),cGe=64,rI=iGe(function(n,e){var t=aGe(e,oGe(rI));return sGe(n,cGe,void 0,e,t)});rI.placeholder={};Z7.exports=rI});var tK=b((jRt,eK)=>{var uGe=yp(),lGe=uGe(function(n,e,t){n[t?0:1].push(e)},function(){return[[],[]]});eK.exports=lGe});var rK=b(($Rt,nK)=>{var dGe=GS(),fGe=Pv();function hGe(n,e){return dGe(n,e,function(t,r){return fGe(n,r)})}nK.exports=hGe});var sK=b((VRt,iK)=>{var pGe=rK(),mGe=Xo(),gGe=mGe(function(n,e){return n==null?{}:pGe(n,e)});iK.exports=gGe});var aK=b((URt,oK)=>{var yGe=Ja();function bGe(n){return function(e){return n==null?void 0:yGe(n,e)}}oK.exports=bGe});var uK=b((HRt,cK)=>{function vGe(n,e,t,r){for(var i=t-1,s=n.length;++i<s;)if(r(n[i],e))return i;return-1}cK.exports=vGe});var Zv=b((WRt,dK)=>{var _Ge=Fn(),EGe=bu(),wGe=uK(),CGe=Hi(),DGe=is(),xGe=Array.prototype,lK=xGe.splice;function TGe(n,e,t,r){var i=r?wGe:EGe,s=-1,o=e.length,a=n;for(n===e&&(e=DGe(e)),t&&(a=_Ge(n,CGe(t)));++s<o;)for(var c=0,u=e[s],l=t?t(u):u;(c=i(a,l,c,r))>-1;)a!==n&&lK.call(a,c,1),lK.call(n,c,1);return n}dK.exports=TGe});var iI=b((zRt,fK)=>{var AGe=Zv();function SGe(n,e){return n&&n.length&&e&&e.length?AGe(n,e):n}fK.exports=SGe});var pK=b((GRt,hK)=>{var IGe=Nt(),MGe=iI(),RGe=IGe(MGe);hK.exports=RGe});var gK=b((QRt,mK)=>{var NGe=Et(),OGe=Zv();function PGe(n,e,t){return n&&n.length&&e&&e.length?OGe(n,e,NGe(t,2)):n}mK.exports=PGe});var bK=b((KRt,yK)=>{var FGe=Zv();function kGe(n,e,t){return n&&n.length&&e&&e.length?FGe(n,e,void 0,t):n}yK.exports=kGe});var sI=b((YRt,vK)=>{var LGe=Kv(),BGe=Jo(),qGe=Array.prototype,jGe=qGe.splice;function $Ge(n,e){for(var t=n?e.length:0,r=t-1;t--;){var i=e[t];if(t==r||i!==s){var s=i;BGe(i)?jGe.call(n,i,1):LGe(n,i)}}return n}vK.exports=$Ge});var EK=b((JRt,_K)=>{var VGe=Fn(),UGe=EA(),HGe=sI(),WGe=KS(),zGe=Xo(),GGe=Jo(),QGe=zGe(function(n,e){var t=n==null?0:n.length,r=UGe(n,e);return HGe(n,VGe(e,function(i){return GGe(i,t)?+i:i}).sort(WGe)),r});_K.exports=QGe});var Xv=b((ZRt,wK)=>{var KGe=Math.floor,YGe=Math.random;function JGe(n,e){return n+KGe(YGe()*(e-n+1))}wK.exports=JGe});var xK=b((XRt,DK)=>{var ZGe=Xv(),XGe=ei(),CK=ad(),e4e=parseFloat,t4e=Math.min,n4e=Math.random;function r4e(n,e,t){if(t&&typeof t!="boolean"&&XGe(n,e,t)&&(e=t=void 0),t===void 0&&(typeof e=="boolean"?(t=e,e=void 0):typeof n=="boolean"&&(t=n,n=void 0)),n===void 0&&e===void 0?(n=0,e=1):(n=CK(n),e===void 0?(e=n,n=0):e=CK(e)),n>e){var r=n;n=e,e=r}if(t||n%1||e%1){var i=n4e();return t4e(n+i*(e-n+e4e("1e-"+((i+"").length-1))),e)}return ZGe(n,e)}DK.exports=r4e});var AK=b((eNt,TK)=>{var i4e=Math.ceil,s4e=Math.max;function o4e(n,e,t,r){for(var i=-1,s=s4e(i4e((e-n)/(t||1)),0),o=Array(s);s--;)o[r?s:++i]=n,n+=t;return o}TK.exports=o4e});var aI=b((tNt,SK)=>{var a4e=AK(),c4e=ei(),oI=ad();function u4e(n){return function(e,t,r){return r&&typeof r!="number"&&c4e(e,t,r)&&(t=r=void 0),e=oI(e),t===void 0?(t=e,e=0):t=oI(t),r=r===void 0?e<t?1:-1:oI(r),a4e(e,t,r,n)}}SK.exports=u4e});var MK=b((nNt,IK)=>{var l4e=aI(),d4e=l4e();IK.exports=d4e});var NK=b((rNt,RK)=>{var f4e=aI(),h4e=f4e(!0);RK.exports=h4e});var PK=b((iNt,OK)=>{var p4e=po(),m4e=Xo(),g4e=256,y4e=m4e(function(n,e){return p4e(n,g4e,void 0,void 0,void 0,e)});OK.exports=y4e});var cI=b((sNt,FK)=>{function b4e(n,e,t,r,i){return i(n,function(s,o,a){t=r?(r=!1,s):e(t,s,o,a)}),t}FK.exports=b4e});var LK=b((oNt,kK)=>{var v4e=NA(),_4e=ra(),E4e=Et(),w4e=cI(),C4e=Lt();function D4e(n,e,t){var r=C4e(n)?v4e:w4e,i=arguments.length<3;return r(n,E4e(e,4),t,i,_4e)}kK.exports=D4e});var qK=b((aNt,BK)=>{function x4e(n,e,t,r){var i=n==null?0:n.length;for(r&&i&&(t=n[--i]);i--;)t=e(t,n[i],i,n);return t}BK.exports=x4e});var $K=b((cNt,jK)=>{var T4e=qK(),A4e=DS(),S4e=Et(),I4e=cI(),M4e=Lt();function R4e(n,e,t){var r=M4e(n)?T4e:I4e,i=arguments.length<3;return r(n,S4e(e,4),t,i,A4e)}jK.exports=R4e});var UK=b((uNt,VK)=>{var N4e=na(),O4e=NS(),P4e=Et(),F4e=Lt(),k4e=Qv();function L4e(n,e){var t=F4e(n)?N4e:O4e;return t(n,k4e(P4e(e,3)))}VK.exports=L4e});var WK=b((lNt,HK)=>{var B4e=Et(),q4e=sI();function j4e(n,e){var t=[];if(!(n&&n.length))return t;var r=-1,i=[],s=n.length;for(e=B4e(e,3);++r<s;){var o=n[r];e(o,r,n)&&(t.push(o),i.push(r))}return q4e(n,i),t}HK.exports=j4e});var GK=b((dNt,zK)=>{var $4e=ZS(),V4e=ei(),U4e=qt(),H4e=sn();function W4e(n,e,t){return(t?V4e(n,e,t):e===void 0)?e=1:e=U4e(e),$4e(H4e(n),e)}zK.exports=W4e});var KK=b((fNt,QK)=>{var z4e=sn();function G4e(){var n=arguments,e=z4e(n[0]);return n.length<3?e:e.replace(n[1],n[2])}QK.exports=G4e});var JK=b((hNt,YK)=>{var Q4e=Nt(),K4e=qt(),Y4e="Expected a function";function J4e(n,e){if(typeof n!="function")throw new TypeError(Y4e);return e=e===void 0?e:K4e(e),Q4e(n,e)}YK.exports=J4e});var XK=b((pNt,ZK)=>{var Z4e=Zo(),X4e=ho(),e6e=Os();function t6e(n,e,t){e=Z4e(e,n);var r=-1,i=e.length;for(i||(i=1,n=void 0);++r<i;){var s=n?.[e6e(e[r])];s===void 0&&(r=i,s=t),n=X4e(s)?s.call(n):s}return n}ZK.exports=t6e});var tY=b((mNt,eY)=>{var n6e=Array.prototype,r6e=n6e.reverse;function i6e(n){return n==null?n:r6e.call(n)}eY.exports=i6e});var rY=b((gNt,nY)=>{var s6e=wv(),o6e=s6e("round");nY.exports=o6e});var uI=b((yNt,iY)=>{var a6e=Xv();function c6e(n){var e=n.length;return e?n[a6e(0,e-1)]:void 0}iY.exports=c6e});var oY=b((bNt,sY)=>{var u6e=uI(),l6e=Su();function d6e(n){return u6e(l6e(n))}sY.exports=d6e});var cY=b((vNt,aY)=>{var f6e=uI(),h6e=oY(),p6e=Lt();function m6e(n){var e=p6e(n)?f6e:h6e;return e(n)}aY.exports=m6e});var Dp=b((_Nt,uY)=>{var g6e=Xv();function y6e(n,e){var t=-1,r=n.length,i=r-1;for(e=e===void 0?r:e;++t<e;){var s=g6e(t,i),o=n[s];n[s]=n[t],n[t]=o}return n.length=e,n}uY.exports=y6e});var dY=b((ENt,lY)=>{var b6e=Za(),v6e=is(),_6e=Dp();function E6e(n,e){return _6e(v6e(n),b6e(e,0,n.length))}lY.exports=E6e});var hY=b((wNt,fY)=>{var w6e=Za(),C6e=Dp(),D6e=Su();function x6e(n,e){var t=D6e(n);return C6e(t,w6e(e,0,t.length))}fY.exports=x6e});var mY=b((CNt,pY)=>{var T6e=dY(),A6e=hY(),S6e=Lt(),I6e=ei(),M6e=qt();function R6e(n,e,t){(t?I6e(n,e,t):e===void 0)?e=1:e=M6e(e);var r=S6e(n)?T6e:A6e;return r(n,e)}pY.exports=R6e});var yY=b((DNt,gY)=>{var N6e=Ed();function O6e(n,e,t){return n==null?n:N6e(n,e,t)}gY.exports=O6e});var vY=b((xNt,bY)=>{var P6e=Ed();function F6e(n,e,t,r){return r=typeof r=="function"?r:void 0,n==null?n:P6e(n,e,t,r)}bY.exports=F6e});var EY=b((TNt,_Y)=>{var k6e=is(),L6e=Dp();function B6e(n){return L6e(k6e(n))}_Y.exports=B6e});var CY=b((ANt,wY)=>{var q6e=Dp(),j6e=Su();function $6e(n){return q6e(j6e(n))}wY.exports=$6e});var xY=b((SNt,DY)=>{var V6e=EY(),U6e=CY(),H6e=Lt();function W6e(n){var e=H6e(n)?V6e:U6e;return e(n)}DY.exports=W6e});var AY=b((INt,TY)=>{var z6e=hv(),G6e=go(),Q6e=Xr(),K6e=Ep(),Y6e=Iu(),J6e="[object Map]",Z6e="[object Set]";function X6e(n){if(n==null)return 0;if(Q6e(n))return K6e(n)?Y6e(n):n.length;var e=G6e(n);return e==J6e||e==Z6e?n.size:z6e(n).length}TY.exports=X6e});var MY=b((MNt,IY)=>{var e5e=os(),t5e=ei(),SY=qt();function n5e(n,e,t){var r=n==null?0:n.length;return r?(t&&typeof t!="number"&&t5e(n,e,t)?(e=0,t=r):(e=e==null?0:SY(e),t=t===void 0?r:SY(t)),e5e(n,e,t)):[]}IY.exports=n5e});var NY=b((RNt,RY)=>{var r5e=Tu(),i5e=r5e(function(n,e,t){return n+(t?"_":"")+e.toLowerCase()});RY.exports=i5e});var PY=b((NNt,OY)=>{var s5e=ra();function o5e(n,e){var t;return s5e(n,function(r,i,s){return t=e(r,i,s),!t}),!!t}OY.exports=o5e});var kY=b((ONt,FY)=>{var a5e=Iv(),c5e=Et(),u5e=PY(),l5e=Lt(),d5e=ei();function f5e(n,e,t){var r=l5e(n)?a5e:u5e;return t&&d5e(n,e,t)&&(e=void 0),r(n,c5e(e,3))}FY.exports=f5e});var qY=b((PNt,BY)=>{var h5e=Tr(),p5e=JS(),m5e=Nt(),LY=ei(),g5e=m5e(function(n,e){if(n==null)return[];var t=e.length;return t>1&&LY(n,e[0],e[1])?e=[]:t>2&&LY(e[0],e[1],e[2])&&(e=[e[0]]),p5e(n,h5e(e,1),[])});BY.exports=g5e});var e_=b((FNt,$Y)=>{var jY=rs(),y5e=4294967295,b5e=y5e-1,v5e=Math.floor,_5e=Math.min;function E5e(n,e,t,r){var i=0,s=n==null?0:n.length;if(s===0)return 0;e=t(e);for(var o=e!==e,a=e===null,c=jY(e),u=e===void 0;i<s;){var l=v5e((i+s)/2),f=t(n[l]),p=f!==void 0,g=f===null,v=f===f,E=jY(f);if(o)var D=r||v;else u?D=v&&(r||p):a?D=v&&p&&(r||!g):c?D=v&&p&&!g&&(r||!E):g||E?D=!1:D=r?f<=e:f<e;D?i=l+1:s=l}return _5e(s,b5e)}$Y.exports=E5e});var xp=b((kNt,VY)=>{var w5e=e_(),C5e=gi(),D5e=rs(),x5e=4294967295,T5e=x5e>>>1;function A5e(n,e,t){var r=0,i=n==null?r:n.length;if(typeof e=="number"&&e===e&&i<=T5e){for(;r<i;){var s=r+i>>>1,o=n[s];o!==null&&!D5e(o)&&(t?o<=e:o<e)?r=s+1:i=s}return i}return w5e(n,e,C5e,t)}VY.exports=A5e});var HY=b((LNt,UY)=>{var S5e=xp();function I5e(n,e){return S5e(n,e)}UY.exports=I5e});var zY=b((BNt,WY)=>{var M5e=Et(),R5e=e_();function N5e(n,e,t){return R5e(n,e,M5e(t,2))}WY.exports=N5e});var QY=b((qNt,GY)=>{var O5e=xp(),P5e=ss();function F5e(n,e){var t=n==null?0:n.length;if(t){var r=O5e(n,e);if(r<t&&P5e(n[r],e))return r}return-1}GY.exports=F5e});var YY=b((jNt,KY)=>{var k5e=xp();function L5e(n,e){return k5e(n,e,!0)}KY.exports=L5e});var ZY=b(($Nt,JY)=>{var B5e=Et(),q5e=e_();function j5e(n,e,t){return q5e(n,e,B5e(t,2),!0)}JY.exports=j5e});var eJ=b((VNt,XY)=>{var $5e=xp(),V5e=ss();function U5e(n,e){var t=n==null?0:n.length;if(t){var r=$5e(n,e,!0)-1;if(V5e(n[r],e))return r}return-1}XY.exports=U5e});var lI=b((UNt,tJ)=>{var H5e=ss();function W5e(n,e){for(var t=-1,r=n.length,i=0,s=[];++t<r;){var o=n[t],a=e?e(o):o;if(!t||!H5e(a,c)){var c=a;s[i++]=o===0?0:o}}return s}tJ.exports=W5e});var rJ=b((HNt,nJ)=>{var z5e=lI();function G5e(n){return n&&n.length?z5e(n):[]}nJ.exports=G5e});var sJ=b((WNt,iJ)=>{var Q5e=Et(),K5e=lI();function Y5e(n,e){return n&&n.length?K5e(n,Q5e(e,2)):[]}iJ.exports=Y5e});var aJ=b((zNt,oJ)=>{var J5e=Rs(),Z5e=ea(),X5e=xu(),e9e=ei(),t9e=Wv(),n9e=ta(),r9e=sn(),i9e=4294967295;function s9e(n,e,t){return t&&typeof t!="number"&&e9e(n,e,t)&&(e=t=void 0),t=t===void 0?i9e:t>>>0,t?(n=r9e(n),n&&(typeof e=="string"||e!=null&&!t9e(e))&&(e=J5e(e),!e&&X5e(n))?Z5e(n9e(n),0,t):n.split(e,t)):[]}oJ.exports=s9e});var uJ=b((GNt,cJ)=>{var o9e=Ui(),a9e=Du(),c9e=Nt(),u9e=ea(),l9e=qt(),d9e="Expected a function",f9e=Math.max;function h9e(n,e){if(typeof n!="function")throw new TypeError(d9e);return e=e==null?0:f9e(l9e(e),0),c9e(function(t){var r=t[e],i=u9e(t,0,e);return r&&a9e(i,r),o9e(n,this,i)})}cJ.exports=h9e});var dJ=b((QNt,lJ)=>{var p9e=Tu(),m9e=_v(),g9e=p9e(function(n,e,t){return n+(t?" ":"")+m9e(e)});lJ.exports=g9e});var hJ=b((KNt,fJ)=>{var y9e=Za(),b9e=Rs(),v9e=qt(),_9e=sn();function E9e(n,e,t){return n=_9e(n),t=t==null?0:y9e(v9e(t),0,n.length),e=b9e(e),n.slice(t,t+e.length)==e}fJ.exports=E9e});var mJ=b((YNt,pJ)=>{function w9e(){return{}}pJ.exports=w9e});var yJ=b((JNt,gJ)=>{function C9e(){return""}gJ.exports=C9e});var vJ=b((ZNt,bJ)=>{function D9e(){return!0}bJ.exports=D9e});var EJ=b((XNt,_J)=>{var x9e=Jh(),T9e=x9e(function(n,e){return n-e},0);_J.exports=T9e});var CJ=b((eOt,wJ)=>{var A9e=Gv(),S9e=gi();function I9e(n){return n&&n.length?A9e(n,S9e):0}wJ.exports=I9e});var xJ=b((tOt,DJ)=>{var M9e=Et(),R9e=Gv();function N9e(n,e){return n&&n.length?R9e(n,M9e(e,2)):0}DJ.exports=N9e});var AJ=b((nOt,TJ)=>{var O9e=os();function P9e(n){var e=n==null?0:n.length;return e?O9e(n,1,e):[]}TJ.exports=P9e});var IJ=b((rOt,SJ)=>{var F9e=os(),k9e=qt();function L9e(n,e,t){return n&&n.length?(e=t||e===void 0?1:k9e(e),F9e(n,0,e<0?0:e)):[]}SJ.exports=L9e});var RJ=b((iOt,MJ)=>{var B9e=os(),q9e=qt();function j9e(n,e,t){var r=n==null?0:n.length;return r?(e=t||e===void 0?1:q9e(e),e=r-e,B9e(n,e<0?0:e,r)):[]}MJ.exports=j9e});var OJ=b((sOt,NJ)=>{var $9e=Et(),V9e=bp();function U9e(n,e){return n&&n.length?V9e(n,$9e(e,3),!1,!0):[]}NJ.exports=U9e});var FJ=b((oOt,PJ)=>{var H9e=Et(),W9e=bp();function z9e(n,e){return n&&n.length?W9e(n,H9e(e,3)):[]}PJ.exports=z9e});var LJ=b((aOt,kJ)=>{function G9e(n,e){return e(n),n}kJ.exports=G9e});var jJ=b((cOt,qJ)=>{var Q9e=ss(),BJ=Object.prototype,K9e=BJ.hasOwnProperty;function Y9e(n,e,t,r){return n===void 0||Q9e(n,BJ[t])&&!K9e.call(r,t)?e:n}qJ.exports=Y9e});var VJ=b((uOt,$J)=>{var J9e={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function Z9e(n){return"\\"+J9e[n]}$J.exports=Z9e});var dI=b((lOt,UJ)=>{var X9e=/<%=([\s\S]+?)%>/g;UJ.exports=X9e});var WJ=b((dOt,HJ)=>{var eQe=/<%-([\s\S]+?)%>/g;HJ.exports=eQe});var GJ=b((fOt,zJ)=>{var tQe=/<%([\s\S]+?)%>/g;zJ.exports=tQe});var fI=b((hOt,QJ)=>{var nQe=IS(),rQe=WJ(),iQe=GJ(),sQe=dI(),oQe={escape:rQe,evaluate:iQe,interpolate:sQe,variable:"",imports:{_:{escape:nQe}}};QJ.exports=oQe});var eZ=b((pOt,XJ)=>{var KJ=pv(),aQe=CA(),cQe=Vv(),YJ=jJ(),uQe=VJ(),lQe=vv(),dQe=ei(),fQe=yr(),hQe=dI(),JJ=fI(),pQe=sn(),mQe="Invalid `variable` option passed into `_.template`",gQe=/\b__p \+= '';/g,yQe=/\b(__p \+=) '' \+/g,bQe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,vQe=/[()=,{}\[\]\/\s]/,_Qe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,t_=/($^)/,EQe=/['\n\r\u2028\u2029\\]/g,wQe=Object.prototype,ZJ=wQe.hasOwnProperty;function CQe(n,e,t){var r=JJ.imports._.templateSettings||JJ;t&&dQe(n,e,t)&&(e=void 0),n=pQe(n),e=KJ({},e,r,YJ);var i=KJ({},e.imports,r.imports,YJ),s=fQe(i),o=cQe(i,s),a,c,u=0,l=e.interpolate||t_,f="__p += '",p=RegExp((e.escape||t_).source+"|"+l.source+"|"+(l===hQe?_Qe:t_).source+"|"+(e.evaluate||t_).source+"|$","g"),g=ZJ.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+`
`:"";n.replace(p,function(D,P,K,J,re,he){return K||(K=J),f+=n.slice(u,he).replace(EQe,uQe),P&&(a=!0,f+=`' +
__e(`+P+`) +
'`),re&&(c=!0,f+=`';
`+re+`;
__p += '`),K&&(f+=`' +
((__t = (`+K+`)) == null ? '' : __t) +
'`),u=he+D.length,D}),f+=`';
`;var v=ZJ.call(e,"variable")&&e.variable;if(!v)f=`with (obj) {
`+f+`
}
`;else if(vQe.test(v))throw new Error(mQe);f=(c?f.replace(gQe,""):f).replace(yQe,"$1").replace(bQe,"$1;"),f="function("+(v||"obj")+`) {
`+(v?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(a?", __e = _.escape":"")+(c?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+f+`return __p
}`;var E=aQe(function(){return Function(s,g+"return "+f).apply(void 0,o)});if(E.source=f,lQe(E))throw E;return E}XJ.exports=CQe});var nZ=b((mOt,tZ)=>{var DQe=pS(),xQe=Gn(),TQe="Expected a function";function AQe(n,e,t){var r=!0,i=!0;if(typeof n!="function")throw new TypeError(TQe);return xQe(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),DQe(n,e,{leading:r,maxWait:e,trailing:i})}tZ.exports=AQe});var iZ=b((gOt,rZ)=>{function SQe(n,e){return e(n)}rZ.exports=SQe});var oZ=b((yOt,sZ)=>{var IQe=dv(),MQe=Ps(),RQe=qt(),NQe=9007199254740991,hI=4294967295,OQe=Math.min;function PQe(n,e){if(n=RQe(n),n<1||n>NQe)return[];var t=hI,r=OQe(n,hI);e=MQe(e),n-=hI;for(var i=IQe(r,e);++t<n;)e(t);return i}sZ.exports=PQe});var cZ=b((bOt,aZ)=>{function FQe(n){for(var e,t=[];!(e=n.next()).done;)t.push(e.value);return t}aZ.exports=FQe});var dZ=b((vOt,lZ)=>{var uZ=Ga(),kQe=is(),LQe=go(),BQe=Xr(),qQe=Ep(),jQe=cZ(),$Qe=Mv(),VQe=mp(),UQe=ta(),HQe=Su(),WQe="[object Map]",zQe="[object Set]",pI=uZ?uZ.iterator:void 0;function GQe(n){if(!n)return[];if(BQe(n))return qQe(n)?UQe(n):kQe(n);if(pI&&n[pI])return jQe(n[pI]());var e=LQe(n),t=e==WQe?$Qe:e==zQe?VQe:HQe;return t(n)}lZ.exports=GQe});var hZ=b((_Ot,fZ)=>{var QQe=sn();function KQe(n){return QQe(n).toLowerCase()}fZ.exports=KQe});var mZ=b((EOt,pZ)=>{var YQe=Fn(),JQe=is(),ZQe=Lt(),XQe=rs(),e7e=_A(),t7e=Os(),n7e=sn();function r7e(n){return ZQe(n)?YQe(n,t7e):XQe(n)?[n]:JQe(e7e(n7e(n)))}pZ.exports=r7e});var bZ=b((wOt,yZ)=>{var i7e=Za(),s7e=qt(),gZ=9007199254740991;function o7e(n){return n?i7e(s7e(n),-gZ,gZ):n===0?n:0}yZ.exports=o7e});var _Z=b((COt,vZ)=>{var a7e=sn();function c7e(n){return a7e(n).toUpperCase()}vZ.exports=c7e});var wZ=b((DOt,EZ)=>{var u7e=yu(),l7e=gu(),d7e=Xa(),f7e=Et(),h7e=lp(),p7e=Lt(),m7e=Ya(),g7e=ho(),y7e=Gn(),b7e=Cu();function v7e(n,e,t){var r=p7e(n),i=r||m7e(n)||b7e(n);if(e=f7e(e,4),t==null){var s=n&&n.constructor;i?t=r?new s:[]:y7e(n)?t=g7e(s)?l7e(h7e(n)):{}:t={}}return(i?u7e:d7e)(n,function(o,a,c){return e(t,o,a,c)}),t}EZ.exports=v7e});var mI=b((xOt,CZ)=>{var _7e=bu();function E7e(n,e){for(var t=n.length;t--&&_7e(e,n[t],0)>-1;);return t}CZ.exports=E7e});var gI=b((TOt,DZ)=>{var w7e=bu();function C7e(n,e){for(var t=-1,r=n.length;++t<r&&w7e(e,n[t],0)>-1;);return t}DZ.exports=C7e});var AZ=b((AOt,TZ)=>{var D7e=Rs(),x7e=VT(),T7e=ea(),A7e=mI(),S7e=gI(),xZ=ta(),I7e=sn();function M7e(n,e,t){if(n=I7e(n),n&&(t||e===void 0))return x7e(n);if(!n||!(e=D7e(e)))return n;var r=xZ(n),i=xZ(e),s=S7e(r,i),o=A7e(r,i)+1;return T7e(r,s,o).join("")}TZ.exports=M7e});var MZ=b((SOt,IZ)=>{var R7e=Rs(),N7e=ea(),O7e=mI(),SZ=ta(),P7e=sn(),F7e=$T();function k7e(n,e,t){if(n=P7e(n),n&&(t||e===void 0))return n.slice(0,F7e(n)+1);if(!n||!(e=R7e(e)))return n;var r=SZ(n),i=O7e(r,SZ(e))+1;return N7e(r,0,i).join("")}IZ.exports=k7e});var OZ=b((IOt,NZ)=>{var L7e=Rs(),B7e=ea(),q7e=gI(),RZ=ta(),j7e=sn(),$7e=/^\s+/;function V7e(n,e,t){if(n=j7e(n),n&&(t||e===void 0))return n.replace($7e,"");if(!n||!(e=L7e(e)))return n;var r=RZ(n),i=q7e(r,RZ(e));return B7e(r,i).join("")}NZ.exports=V7e});var LZ=b((MOt,kZ)=>{var PZ=Rs(),U7e=ea(),H7e=xu(),W7e=Gn(),z7e=Wv(),G7e=Iu(),Q7e=ta(),K7e=qt(),FZ=sn(),Y7e=30,J7e="...",Z7e=/\w*$/;function X7e(n,e){var t=Y7e,r=J7e;if(W7e(e)){var i="separator"in e?e.separator:i;t="length"in e?K7e(e.length):t,r="omission"in e?PZ(e.omission):r}n=FZ(n);var s=n.length;if(H7e(n)){var o=Q7e(n);s=o.length}if(t>=s)return n;var a=t-G7e(r);if(a<1)return r;var c=o?U7e(o,0,a).join(""):n.slice(0,a);if(i===void 0)return c+r;if(o&&(a+=c.length-a),z7e(i)){if(n.slice(a).search(i)){var u,l=c;for(i.global||(i=RegExp(i.source,FZ(Z7e.exec(i))+"g")),i.lastIndex=0;u=i.exec(l);)var f=u.index;c=c.slice(0,f===void 0?a:f)}}else if(n.indexOf(PZ(i),a)!=a){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+r}kZ.exports=X7e});var qZ=b((ROt,BZ)=>{var eKe=fA();function tKe(n){return eKe(n,1)}BZ.exports=tKe});var $Z=b((NOt,jZ)=>{var nKe=Ev(),rKe={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},iKe=nKe(rKe);jZ.exports=iKe});var HZ=b((OOt,UZ)=>{var sKe=sn(),oKe=$Z(),VZ=/&(?:amp|lt|gt|quot|#39);/g,aKe=RegExp(VZ.source);function cKe(n){return n=sKe(n),n&&aKe.test(n)?n.replace(VZ,oKe):n}UZ.exports=cKe});var zZ=b((POt,WZ)=>{var yI=$A(),uKe=iv(),lKe=mp(),dKe=1/0,fKe=yI&&1/lKe(new yI([,-0]))[1]==dKe?function(n){return new yI(n)}:uKe;WZ.exports=fKe});var ec=b((FOt,GZ)=>{var hKe=hp(),pKe=ep(),mKe=Bv(),gKe=pp(),yKe=zZ(),bKe=mp(),vKe=200;function _Ke(n,e,t){var r=-1,i=pKe,s=n.length,o=!0,a=[],c=a;if(t)o=!1,i=mKe;else if(s>=vKe){var u=e?null:yKe(n);if(u)return bKe(u);o=!1,i=gKe,c=new hKe}else c=e?[]:a;e:for(;++r<s;){var l=n[r],f=e?e(l):l;if(l=t||l!==0?l:0,o&&f===f){for(var p=c.length;p--;)if(c[p]===f)continue e;e&&c.push(f),a.push(l)}else i(c,f,t)||(c!==a&&c.push(f),a.push(l))}return a}GZ.exports=_Ke});var KZ=b((kOt,QZ)=>{var EKe=Tr(),wKe=Nt(),CKe=ec(),DKe=ni(),xKe=wKe(function(n){return CKe(EKe(n,1,DKe,!0))});QZ.exports=xKe});var ZZ=b((LOt,JZ)=>{var TKe=Tr(),AKe=Et(),SKe=Nt(),IKe=ec(),YZ=ni(),MKe=as(),RKe=SKe(function(n){var e=MKe(n);return YZ(e)&&(e=void 0),IKe(TKe(n,1,YZ,!0),AKe(e,2))});JZ.exports=RKe});var eX=b((BOt,XZ)=>{var NKe=Tr(),OKe=Nt(),PKe=ec(),FKe=ni(),kKe=as(),LKe=OKe(function(n){var e=kKe(n);return e=typeof e=="function"?e:void 0,PKe(NKe(n,1,FKe,!0),void 0,e)});XZ.exports=LKe});var nX=b((qOt,tX)=>{var BKe=ec();function qKe(n){return n&&n.length?BKe(n):[]}tX.exports=qKe});var iX=b((jOt,rX)=>{var jKe=Et(),$Ke=ec();function VKe(n,e){return n&&n.length?$Ke(n,jKe(e,2)):[]}rX.exports=VKe});var oX=b(($Ot,sX)=>{var UKe=ec();function HKe(n,e){return e=typeof e=="function"?e:void 0,n&&n.length?UKe(n,void 0,e):[]}sX.exports=HKe});var cX=b((VOt,aX)=>{var WKe=sn(),zKe=0;function GKe(n){var e=++zKe;return WKe(n)+e}aX.exports=GKe});var lX=b((UOt,uX)=>{var QKe=Kv();function KKe(n,e){return n==null?!0:QKe(n,e)}uX.exports=KKe});var n_=b((HOt,dX)=>{var YKe=na(),JKe=Fn(),ZKe=Fv(),XKe=dv(),eYe=ni(),tYe=Math.max;function nYe(n){if(!(n&&n.length))return[];var e=0;return n=YKe(n,function(t){if(eYe(t))return e=tYe(t.length,e),!0}),XKe(e,function(t){return JKe(n,ZKe(t))})}dX.exports=nYe});var bI=b((WOt,fX)=>{var rYe=Ui(),iYe=Fn(),sYe=n_();function oYe(n,e){if(!(n&&n.length))return[];var t=sYe(n);return e==null?t:iYe(t,function(r){return rYe(e,void 0,r)})}fX.exports=oYe});var vI=b((zOt,hX)=>{var aYe=Ja(),cYe=Ed();function uYe(n,e,t,r){return cYe(n,e,t(aYe(n,e)),r)}hX.exports=uYe});var mX=b((GOt,pX)=>{var lYe=vI(),dYe=Ps();function fYe(n,e,t){return n==null?n:lYe(n,e,dYe(t))}pX.exports=fYe});var yX=b((QOt,gX)=>{var hYe=vI(),pYe=Ps();function mYe(n,e,t,r){return r=typeof r=="function"?r:void 0,n==null?n:hYe(n,e,pYe(t),r)}gX.exports=mYe});var vX=b((KOt,bX)=>{var gYe=Tu(),yYe=gYe(function(n,e,t){return n+(t?" ":"")+e.toUpperCase()});bX.exports=yYe});var EX=b((YOt,_X)=>{var bYe=Vv(),vYe=ti();function _Ye(n){return n==null?[]:bYe(n,vYe(n))}_X.exports=_Ye});var CX=b((JOt,wX)=>{var EYe=_d(),wYe=Nt(),CYe=ni(),DYe=wYe(function(n,e){return CYe(n)?EYe(n,e):[]});wX.exports=DYe});var xX=b((ZOt,DX)=>{var xYe=Ps(),TYe=nI();function AYe(n,e){return TYe(xYe(e),n)}DX.exports=AYe});var r_=b((XOt,AX)=>{var SYe=_d(),IYe=Tr(),TX=ec();function MYe(n,e,t){var r=n.length;if(r<2)return r?TX(n[0]):[];for(var i=-1,s=Array(r);++i<r;)for(var o=n[i],a=-1;++a<r;)a!=i&&(s[i]=SYe(s[i]||o,n[a],e,t));return TX(IYe(s,1),e,t)}AX.exports=MYe});var IX=b((ePt,SX)=>{var RYe=na(),NYe=Nt(),OYe=r_(),PYe=ni(),FYe=NYe(function(n){return OYe(RYe(n,PYe))});SX.exports=FYe});var NX=b((tPt,RX)=>{var kYe=na(),LYe=Et(),BYe=Nt(),qYe=r_(),MX=ni(),jYe=as(),$Ye=BYe(function(n){var e=jYe(n);return MX(e)&&(e=void 0),qYe(kYe(n,MX),LYe(e,2))});RX.exports=$Ye});var PX=b((nPt,OX)=>{var VYe=na(),UYe=Nt(),HYe=r_(),WYe=ni(),zYe=as(),GYe=UYe(function(n){var e=zYe(n);return e=typeof e=="function"?e:void 0,HYe(VYe(n,WYe),void 0,e)});OX.exports=GYe});var kX=b((rPt,FX)=>{var QYe=Nt(),KYe=n_(),YYe=QYe(KYe);FX.exports=YYe});var _I=b((iPt,LX)=>{function JYe(n,e,t){for(var r=-1,i=n.length,s=e.length,o={};++r<i;){var a=r<s?e[r]:void 0;t(o,n[r],a)}return o}LX.exports=JYe});var qX=b((sPt,BX)=>{var ZYe=cd(),XYe=_I();function eJe(n,e){return XYe(n||[],e||[],ZYe)}BX.exports=eJe});var $X=b((oPt,jX)=>{var tJe=Ed(),nJe=_I();function rJe(n,e){return nJe(n||[],e||[],tJe)}jX.exports=rJe});var UX=b((aPt,VX)=>{var iJe=Nt(),sJe=bI(),oJe=iJe(function(n){var e=n.length,t=e>1?n[e-1]:void 0;return t=typeof t=="function"?(n.pop(),t):void 0,sJe(n,t)});VX.exports=oJe});var WX=b((HX,i_)=>{(function(n,e){"use strict";typeof i_=="object"&&typeof i_.exports=="object"?i_.exports=n.document?e(n,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(n)})(typeof window<"u"?window:HX,function(n,e){"use strict";var t=[],r=Object.getPrototypeOf,i=t.slice,s=t.flat?function(d){return t.flat.call(d)}:function(d){return t.concat.apply([],d)},o=t.push,a=t.indexOf,c={},u=c.toString,l=c.hasOwnProperty,f=l.toString,p=f.call(Object),g={},v=function(h){return typeof h=="function"&&typeof h.nodeType!="number"&&typeof h.item!="function"},E=function(h){return h!=null&&h===h.window},D=n.document,P={type:!0,src:!0,nonce:!0,noModule:!0};function K(d,h,m){m=m||D;var _,w,C=m.createElement("script");if(C.text=d,h)for(_ in P)w=h[_]||h.getAttribute&&h.getAttribute(_),w&&C.setAttribute(_,w);m.head.appendChild(C).parentNode.removeChild(C)}function J(d){return d==null?d+"":typeof d=="object"||typeof d=="function"?c[u.call(d)]||"object":typeof d}var re="3.7.1",he=/HTML$/i,y=function(d,h){return new y.fn.init(d,h)};y.fn=y.prototype={jquery:re,constructor:y,length:0,toArray:function(){return i.call(this)},get:function(d){return d==null?i.call(this):d<0?this[d+this.length]:this[d]},pushStack:function(d){var h=y.merge(this.constructor(),d);return h.prevObject=this,h},each:function(d){return y.each(this,d)},map:function(d){return this.pushStack(y.map(this,function(h,m){return d.call(h,m,h)}))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(y.grep(this,function(d,h){return(h+1)%2}))},odd:function(){return this.pushStack(y.grep(this,function(d,h){return h%2}))},eq:function(d){var h=this.length,m=+d+(d<0?h:0);return this.pushStack(m>=0&&m<h?[this[m]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:t.sort,splice:t.splice},y.extend=y.fn.extend=function(){var d,h,m,_,w,C,S=arguments[0]||{},V=1,B=arguments.length,G=!1;for(typeof S=="boolean"&&(G=S,S=arguments[V]||{},V++),typeof S!="object"&&!v(S)&&(S={}),V===B&&(S=this,V--);V<B;V++)if((d=arguments[V])!=null)for(h in d)_=d[h],!(h==="__proto__"||S===_)&&(G&&_&&(y.isPlainObject(_)||(w=Array.isArray(_)))?(m=S[h],w&&!Array.isArray(m)?C=[]:!w&&!y.isPlainObject(m)?C={}:C=m,w=!1,S[h]=y.extend(G,C,_)):_!==void 0&&(S[h]=_));return S},y.extend({expando:"jQuery"+(re+Math.random()).replace(/\D/g,""),isReady:!0,error:function(d){throw new Error(d)},noop:function(){},isPlainObject:function(d){var h,m;return!d||u.call(d)!=="[object Object]"?!1:(h=r(d),h?(m=l.call(h,"constructor")&&h.constructor,typeof m=="function"&&f.call(m)===p):!0)},isEmptyObject:function(d){var h;for(h in d)return!1;return!0},globalEval:function(d,h,m){K(d,{nonce:h&&h.nonce},m)},each:function(d,h){var m,_=0;if(Te(d))for(m=d.length;_<m&&h.call(d[_],_,d[_])!==!1;_++);else for(_ in d)if(h.call(d[_],_,d[_])===!1)break;return d},text:function(d){var h,m="",_=0,w=d.nodeType;if(!w)for(;h=d[_++];)m+=y.text(h);return w===1||w===11?d.textContent:w===9?d.documentElement.textContent:w===3||w===4?d.nodeValue:m},makeArray:function(d,h){var m=h||[];return d!=null&&(Te(Object(d))?y.merge(m,typeof d=="string"?[d]:d):o.call(m,d)),m},inArray:function(d,h,m){return h==null?-1:a.call(h,d,m)},isXMLDoc:function(d){var h=d&&d.namespaceURI,m=d&&(d.ownerDocument||d).documentElement;return!he.test(h||m&&m.nodeName||"HTML")},merge:function(d,h){for(var m=+h.length,_=0,w=d.length;_<m;_++)d[w++]=h[_];return d.length=w,d},grep:function(d,h,m){for(var _,w=[],C=0,S=d.length,V=!m;C<S;C++)_=!h(d[C],C),_!==V&&w.push(d[C]);return w},map:function(d,h,m){var _,w,C=0,S=[];if(Te(d))for(_=d.length;C<_;C++)w=h(d[C],C,m),w!=null&&S.push(w);else for(C in d)w=h(d[C],C,m),w!=null&&S.push(w);return s(S)},guid:1,support:g}),typeof Symbol=="function"&&(y.fn[Symbol.iterator]=t[Symbol.iterator]),y.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(d,h){c["[object "+h+"]"]=h.toLowerCase()});function Te(d){var h=!!d&&"length"in d&&d.length,m=J(d);return v(d)||E(d)?!1:m==="array"||h===0||typeof h=="number"&&h>0&&h-1 in d}function De(d,h){return d.nodeName&&d.nodeName.toLowerCase()===h.toLowerCase()}var Ve=t.pop,q=t.sort,I=t.splice,ee="[\\x20\\t\\r\\n\\f]",de=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g");y.contains=function(d,h){var m=h&&h.parentNode;return d===m||!!(m&&m.nodeType===1&&(d.contains?d.contains(m):d.compareDocumentPosition&&d.compareDocumentPosition(m)&16))};var pe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Ke(d,h){return h?d==="\0"?"\uFFFD":d.slice(0,-1)+"\\"+d.charCodeAt(d.length-1).toString(16)+" ":"\\"+d}y.escapeSelector=function(d){return(d+"").replace(pe,Ke)};var ce=D,st=o;(function(){var d,h,m,_,w,C=st,S,V,B,G,se,le=y.expando,ne=0,we=0,ft=_m(),$t=_m(),At=_m(),Er=_m(),er=function(F,W){return F===W&&(w=!0),0},$s="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Vs="(?:\\\\[\\da-fA-F]{1,6}"+ee+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Bt="\\["+ee+"*("+Vs+")(?:"+ee+"*([*^$|!~]?=)"+ee+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Vs+"))|)"+ee+"*\\]",_c=":("+Vs+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Bt+")*)|.*)\\)|)",Ut=new RegExp(ee+"+","g"),Rn=new RegExp("^"+ee+"*,"+ee+"*"),uf=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),iw=new RegExp(ee+"|>"),Us=new RegExp(_c),lf=new RegExp("^"+Vs+"$"),Hs={ID:new RegExp("^#("+Vs+")"),CLASS:new RegExp("^\\.("+Vs+")"),TAG:new RegExp("^("+Vs+"|[*])"),ATTR:new RegExp("^"+Bt),PSEUDO:new RegExp("^"+_c),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+$s+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},pa=/^(?:input|select|textarea|button)$/i,ma=/^h\d$/i,Yi=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,sw=/[+~]/,Ao=new RegExp("\\\\[\\da-fA-F]{1,6}"+ee+"?|\\\\([^\\r\\n\\f])","g"),So=function(F,W){var X="0x"+F.slice(1)-65536;return W||(X<0?String.fromCharCode(X+65536):String.fromCharCode(X>>10|55296,X&1023|56320))},Wce=function(){ga()},zce=wm(function(F){return F.disabled===!0&&De(F,"fieldset")},{dir:"parentNode",next:"legend"});function Gce(){try{return S.activeElement}catch{}}try{C.apply(t=i.call(ce.childNodes),ce.childNodes),t[ce.childNodes.length].nodeType}catch{C={apply:function(W,X){st.apply(W,i.call(X))},call:function(W){st.apply(W,i.call(arguments,1))}}}function rn(F,W,X,ie){var ue,Se,Pe,He,Fe,Ft,at,mt=W&&W.ownerDocument,kt=W?W.nodeType:9;if(X=X||[],typeof F!="string"||!F||kt!==1&&kt!==9&&kt!==11)return X;if(!ie&&(ga(W),W=W||S,B)){if(kt!==11&&(Fe=Yi.exec(F)))if(ue=Fe[1]){if(kt===9)if(Pe=W.getElementById(ue)){if(Pe.id===ue)return C.call(X,Pe),X}else return X;else if(mt&&(Pe=mt.getElementById(ue))&&rn.contains(W,Pe)&&Pe.id===ue)return C.call(X,Pe),X}else{if(Fe[2])return C.apply(X,W.getElementsByTagName(F)),X;if((ue=Fe[3])&&W.getElementsByClassName)return C.apply(X,W.getElementsByClassName(ue)),X}if(!Er[F+" "]&&(!G||!G.test(F))){if(at=F,mt=W,kt===1&&(iw.test(F)||uf.test(F))){for(mt=sw.test(F)&&ow(W.parentNode)||W,(mt!=W||!g.scope)&&((He=W.getAttribute("id"))?He=y.escapeSelector(He):W.setAttribute("id",He=le)),Ft=df(F),Se=Ft.length;Se--;)Ft[Se]=(He?"#"+He:":scope")+" "+Em(Ft[Se]);at=Ft.join(",")}try{return C.apply(X,mt.querySelectorAll(at)),X}catch{Er(F,!0)}finally{He===le&&W.removeAttribute("id")}}}return VN(F.replace(de,"$1"),W,X,ie)}function _m(){var F=[];function W(X,ie){return F.push(X+" ")>h.cacheLength&&delete W[F.shift()],W[X+" "]=ie}return W}function ms(F){return F[le]=!0,F}function Wu(F){var W=S.createElement("fieldset");try{return!!F(W)}catch{return!1}finally{W.parentNode&&W.parentNode.removeChild(W),W=null}}function Qce(F){return function(W){return De(W,"input")&&W.type===F}}function Kce(F){return function(W){return(De(W,"input")||De(W,"button"))&&W.type===F}}function jN(F){return function(W){return"form"in W?W.parentNode&&W.disabled===!1?"label"in W?"label"in W.parentNode?W.parentNode.disabled===F:W.disabled===F:W.isDisabled===F||W.isDisabled!==!F&&zce(W)===F:W.disabled===F:"label"in W?W.disabled===F:!1}}function Ec(F){return ms(function(W){return W=+W,ms(function(X,ie){for(var ue,Se=F([],X.length,W),Pe=Se.length;Pe--;)X[ue=Se[Pe]]&&(X[ue]=!(ie[ue]=X[ue]))})})}function ow(F){return F&&typeof F.getElementsByTagName<"u"&&F}function ga(F){var W,X=F?F.ownerDocument||F:ce;return X==S||X.nodeType!==9||!X.documentElement||(S=X,V=S.documentElement,B=!y.isXMLDoc(S),se=V.matches||V.webkitMatchesSelector||V.msMatchesSelector,V.msMatchesSelector&&ce!=S&&(W=S.defaultView)&&W.top!==W&&W.addEventListener("unload",Wce),g.getById=Wu(function(ie){return V.appendChild(ie).id=y.expando,!S.getElementsByName||!S.getElementsByName(y.expando).length}),g.disconnectedMatch=Wu(function(ie){return se.call(ie,"*")}),g.scope=Wu(function(){return S.querySelectorAll(":scope")}),g.cssHas=Wu(function(){try{return S.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),g.getById?(h.filter.ID=function(ie){var ue=ie.replace(Ao,So);return function(Se){return Se.getAttribute("id")===ue}},h.find.ID=function(ie,ue){if(typeof ue.getElementById<"u"&&B){var Se=ue.getElementById(ie);return Se?[Se]:[]}}):(h.filter.ID=function(ie){var ue=ie.replace(Ao,So);return function(Se){var Pe=typeof Se.getAttributeNode<"u"&&Se.getAttributeNode("id");return Pe&&Pe.value===ue}},h.find.ID=function(ie,ue){if(typeof ue.getElementById<"u"&&B){var Se,Pe,He,Fe=ue.getElementById(ie);if(Fe){if(Se=Fe.getAttributeNode("id"),Se&&Se.value===ie)return[Fe];for(He=ue.getElementsByName(ie),Pe=0;Fe=He[Pe++];)if(Se=Fe.getAttributeNode("id"),Se&&Se.value===ie)return[Fe]}return[]}}),h.find.TAG=function(ie,ue){return typeof ue.getElementsByTagName<"u"?ue.getElementsByTagName(ie):ue.querySelectorAll(ie)},h.find.CLASS=function(ie,ue){if(typeof ue.getElementsByClassName<"u"&&B)return ue.getElementsByClassName(ie)},G=[],Wu(function(ie){var ue;V.appendChild(ie).innerHTML="<a id='"+le+"' href='' disabled='disabled'></a><select id='"+le+"-\r\\' disabled='disabled'><option selected=''></option></select>",ie.querySelectorAll("[selected]").length||G.push("\\["+ee+"*(?:value|"+$s+")"),ie.querySelectorAll("[id~="+le+"-]").length||G.push("~="),ie.querySelectorAll("a#"+le+"+*").length||G.push(".#.+[+~]"),ie.querySelectorAll(":checked").length||G.push(":checked"),ue=S.createElement("input"),ue.setAttribute("type","hidden"),ie.appendChild(ue).setAttribute("name","D"),V.appendChild(ie).disabled=!0,ie.querySelectorAll(":disabled").length!==2&&G.push(":enabled",":disabled"),ue=S.createElement("input"),ue.setAttribute("name",""),ie.appendChild(ue),ie.querySelectorAll("[name='']").length||G.push("\\["+ee+"*name"+ee+"*="+ee+`*(?:''|"")`)}),g.cssHas||G.push(":has"),G=G.length&&new RegExp(G.join("|")),er=function(ie,ue){if(ie===ue)return w=!0,0;var Se=!ie.compareDocumentPosition-!ue.compareDocumentPosition;return Se||(Se=(ie.ownerDocument||ie)==(ue.ownerDocument||ue)?ie.compareDocumentPosition(ue):1,Se&1||!g.sortDetached&&ue.compareDocumentPosition(ie)===Se?ie===S||ie.ownerDocument==ce&&rn.contains(ce,ie)?-1:ue===S||ue.ownerDocument==ce&&rn.contains(ce,ue)?1:_?a.call(_,ie)-a.call(_,ue):0:Se&4?-1:1)}),S}rn.matches=function(F,W){return rn(F,null,null,W)},rn.matchesSelector=function(F,W){if(ga(F),B&&!Er[W+" "]&&(!G||!G.test(W)))try{var X=se.call(F,W);if(X||g.disconnectedMatch||F.document&&F.document.nodeType!==11)return X}catch{Er(W,!0)}return rn(W,S,null,[F]).length>0},rn.contains=function(F,W){return(F.ownerDocument||F)!=S&&ga(F),y.contains(F,W)},rn.attr=function(F,W){(F.ownerDocument||F)!=S&&ga(F);var X=h.attrHandle[W.toLowerCase()],ie=X&&l.call(h.attrHandle,W.toLowerCase())?X(F,W,!B):void 0;return ie!==void 0?ie:F.getAttribute(W)},rn.error=function(F){throw new Error("Syntax error, unrecognized expression: "+F)},y.uniqueSort=function(F){var W,X=[],ie=0,ue=0;if(w=!g.sortStable,_=!g.sortStable&&i.call(F,0),q.call(F,er),w){for(;W=F[ue++];)W===F[ue]&&(ie=X.push(ue));for(;ie--;)I.call(F,X[ie],1)}return _=null,F},y.fn.uniqueSort=function(){return this.pushStack(y.uniqueSort(i.apply(this)))},h=y.expr={cacheLength:50,createPseudo:ms,match:Hs,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(F){return F[1]=F[1].replace(Ao,So),F[3]=(F[3]||F[4]||F[5]||"").replace(Ao,So),F[2]==="~="&&(F[3]=" "+F[3]+" "),F.slice(0,4)},CHILD:function(F){return F[1]=F[1].toLowerCase(),F[1].slice(0,3)==="nth"?(F[3]||rn.error(F[0]),F[4]=+(F[4]?F[5]+(F[6]||1):2*(F[3]==="even"||F[3]==="odd")),F[5]=+(F[7]+F[8]||F[3]==="odd")):F[3]&&rn.error(F[0]),F},PSEUDO:function(F){var W,X=!F[6]&&F[2];return Hs.CHILD.test(F[0])?null:(F[3]?F[2]=F[4]||F[5]||"":X&&Us.test(X)&&(W=df(X,!0))&&(W=X.indexOf(")",X.length-W)-X.length)&&(F[0]=F[0].slice(0,W),F[2]=X.slice(0,W)),F.slice(0,3))}},filter:{TAG:function(F){var W=F.replace(Ao,So).toLowerCase();return F==="*"?function(){return!0}:function(X){return De(X,W)}},CLASS:function(F){var W=ft[F+" "];return W||(W=new RegExp("(^|"+ee+")"+F+"("+ee+"|$)"))&&ft(F,function(X){return W.test(typeof X.className=="string"&&X.className||typeof X.getAttribute<"u"&&X.getAttribute("class")||"")})},ATTR:function(F,W,X){return function(ie){var ue=rn.attr(ie,F);return ue==null?W==="!=":W?(ue+="",W==="="?ue===X:W==="!="?ue!==X:W==="^="?X&&ue.indexOf(X)===0:W==="*="?X&&ue.indexOf(X)>-1:W==="$="?X&&ue.slice(-X.length)===X:W==="~="?(" "+ue.replace(Ut," ")+" ").indexOf(X)>-1:W==="|="?ue===X||ue.slice(0,X.length+1)===X+"-":!1):!0}},CHILD:function(F,W,X,ie,ue){var Se=F.slice(0,3)!=="nth",Pe=F.slice(-4)!=="last",He=W==="of-type";return ie===1&&ue===0?function(Fe){return!!Fe.parentNode}:function(Fe,Ft,at){var mt,kt,Xe,fn,ui,Or=Se!==Pe?"nextSibling":"previousSibling",Ji=Fe.parentNode,Ws=He&&Fe.nodeName.toLowerCase(),zu=!at&&!He,Vr=!1;if(Ji){if(Se){for(;Or;){for(Xe=Fe;Xe=Xe[Or];)if(He?De(Xe,Ws):Xe.nodeType===1)return!1;ui=Or=F==="only"&&!ui&&"nextSibling"}return!0}if(ui=[Pe?Ji.firstChild:Ji.lastChild],Pe&&zu){for(kt=Ji[le]||(Ji[le]={}),mt=kt[F]||[],fn=mt[0]===ne&&mt[1],Vr=fn&&mt[2],Xe=fn&&Ji.childNodes[fn];Xe=++fn&&Xe&&Xe[Or]||(Vr=fn=0)||ui.pop();)if(Xe.nodeType===1&&++Vr&&Xe===Fe){kt[F]=[ne,fn,Vr];break}}else if(zu&&(kt=Fe[le]||(Fe[le]={}),mt=kt[F]||[],fn=mt[0]===ne&&mt[1],Vr=fn),Vr===!1)for(;(Xe=++fn&&Xe&&Xe[Or]||(Vr=fn=0)||ui.pop())&&!((He?De(Xe,Ws):Xe.nodeType===1)&&++Vr&&(zu&&(kt=Xe[le]||(Xe[le]={}),kt[F]=[ne,Vr]),Xe===Fe)););return Vr-=ue,Vr===ie||Vr%ie===0&&Vr/ie>=0}}},PSEUDO:function(F,W){var X,ie=h.pseudos[F]||h.setFilters[F.toLowerCase()]||rn.error("unsupported pseudo: "+F);return ie[le]?ie(W):ie.length>1?(X=[F,F,"",W],h.setFilters.hasOwnProperty(F.toLowerCase())?ms(function(ue,Se){for(var Pe,He=ie(ue,W),Fe=He.length;Fe--;)Pe=a.call(ue,He[Fe]),ue[Pe]=!(Se[Pe]=He[Fe])}):function(ue){return ie(ue,0,X)}):ie}},pseudos:{not:ms(function(F){var W=[],X=[],ie=lw(F.replace(de,"$1"));return ie[le]?ms(function(ue,Se,Pe,He){for(var Fe,Ft=ie(ue,null,He,[]),at=ue.length;at--;)(Fe=Ft[at])&&(ue[at]=!(Se[at]=Fe))}):function(ue,Se,Pe){return W[0]=ue,ie(W,null,Pe,X),W[0]=null,!X.pop()}}),has:ms(function(F){return function(W){return rn(F,W).length>0}}),contains:ms(function(F){return F=F.replace(Ao,So),function(W){return(W.textContent||y.text(W)).indexOf(F)>-1}}),lang:ms(function(F){return lf.test(F||"")||rn.error("unsupported lang: "+F),F=F.replace(Ao,So).toLowerCase(),function(W){var X;do if(X=B?W.lang:W.getAttribute("xml:lang")||W.getAttribute("lang"))return X=X.toLowerCase(),X===F||X.indexOf(F+"-")===0;while((W=W.parentNode)&&W.nodeType===1);return!1}}),target:function(F){var W=n.location&&n.location.hash;return W&&W.slice(1)===F.id},root:function(F){return F===V},focus:function(F){return F===Gce()&&S.hasFocus()&&!!(F.type||F.href||~F.tabIndex)},enabled:jN(!1),disabled:jN(!0),checked:function(F){return De(F,"input")&&!!F.checked||De(F,"option")&&!!F.selected},selected:function(F){return F.parentNode&&F.parentNode.selectedIndex,F.selected===!0},empty:function(F){for(F=F.firstChild;F;F=F.nextSibling)if(F.nodeType<6)return!1;return!0},parent:function(F){return!h.pseudos.empty(F)},header:function(F){return ma.test(F.nodeName)},input:function(F){return pa.test(F.nodeName)},button:function(F){return De(F,"input")&&F.type==="button"||De(F,"button")},text:function(F){var W;return De(F,"input")&&F.type==="text"&&((W=F.getAttribute("type"))==null||W.toLowerCase()==="text")},first:Ec(function(){return[0]}),last:Ec(function(F,W){return[W-1]}),eq:Ec(function(F,W,X){return[X<0?X+W:X]}),even:Ec(function(F,W){for(var X=0;X<W;X+=2)F.push(X);return F}),odd:Ec(function(F,W){for(var X=1;X<W;X+=2)F.push(X);return F}),lt:Ec(function(F,W,X){var ie;for(X<0?ie=X+W:X>W?ie=W:ie=X;--ie>=0;)F.push(ie);return F}),gt:Ec(function(F,W,X){for(var ie=X<0?X+W:X;++ie<W;)F.push(ie);return F})}},h.pseudos.nth=h.pseudos.eq;for(d in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})h.pseudos[d]=Qce(d);for(d in{submit:!0,reset:!0})h.pseudos[d]=Kce(d);function $N(){}$N.prototype=h.filters=h.pseudos,h.setFilters=new $N;function df(F,W){var X,ie,ue,Se,Pe,He,Fe,Ft=$t[F+" "];if(Ft)return W?0:Ft.slice(0);for(Pe=F,He=[],Fe=h.preFilter;Pe;){(!X||(ie=Rn.exec(Pe)))&&(ie&&(Pe=Pe.slice(ie[0].length)||Pe),He.push(ue=[])),X=!1,(ie=uf.exec(Pe))&&(X=ie.shift(),ue.push({value:X,type:ie[0].replace(de," ")}),Pe=Pe.slice(X.length));for(Se in h.filter)(ie=Hs[Se].exec(Pe))&&(!Fe[Se]||(ie=Fe[Se](ie)))&&(X=ie.shift(),ue.push({value:X,type:Se,matches:ie}),Pe=Pe.slice(X.length));if(!X)break}return W?Pe.length:Pe?rn.error(F):$t(F,He).slice(0)}function Em(F){for(var W=0,X=F.length,ie="";W<X;W++)ie+=F[W].value;return ie}function wm(F,W,X){var ie=W.dir,ue=W.next,Se=ue||ie,Pe=X&&Se==="parentNode",He=we++;return W.first?function(Fe,Ft,at){for(;Fe=Fe[ie];)if(Fe.nodeType===1||Pe)return F(Fe,Ft,at);return!1}:function(Fe,Ft,at){var mt,kt,Xe=[ne,He];if(at){for(;Fe=Fe[ie];)if((Fe.nodeType===1||Pe)&&F(Fe,Ft,at))return!0}else for(;Fe=Fe[ie];)if(Fe.nodeType===1||Pe)if(kt=Fe[le]||(Fe[le]={}),ue&&De(Fe,ue))Fe=Fe[ie]||Fe;else{if((mt=kt[Se])&&mt[0]===ne&&mt[1]===He)return Xe[2]=mt[2];if(kt[Se]=Xe,Xe[2]=F(Fe,Ft,at))return!0}return!1}}function aw(F){return F.length>1?function(W,X,ie){for(var ue=F.length;ue--;)if(!F[ue](W,X,ie))return!1;return!0}:F[0]}function Yce(F,W,X){for(var ie=0,ue=W.length;ie<ue;ie++)rn(F,W[ie],X);return X}function Cm(F,W,X,ie,ue){for(var Se,Pe=[],He=0,Fe=F.length,Ft=W!=null;He<Fe;He++)(Se=F[He])&&(!X||X(Se,ie,ue))&&(Pe.push(Se),Ft&&W.push(He));return Pe}function cw(F,W,X,ie,ue,Se){return ie&&!ie[le]&&(ie=cw(ie)),ue&&!ue[le]&&(ue=cw(ue,Se)),ms(function(Pe,He,Fe,Ft){var at,mt,kt,Xe,fn=[],ui=[],Or=He.length,Ji=Pe||Yce(W||"*",Fe.nodeType?[Fe]:Fe,[]),Ws=F&&(Pe||!W)?Cm(Ji,fn,F,Fe,Ft):Ji;if(X?(Xe=ue||(Pe?F:Or||ie)?[]:He,X(Ws,Xe,Fe,Ft)):Xe=Ws,ie)for(at=Cm(Xe,ui),ie(at,[],Fe,Ft),mt=at.length;mt--;)(kt=at[mt])&&(Xe[ui[mt]]=!(Ws[ui[mt]]=kt));if(Pe){if(ue||F){if(ue){for(at=[],mt=Xe.length;mt--;)(kt=Xe[mt])&&at.push(Ws[mt]=kt);ue(null,Xe=[],at,Ft)}for(mt=Xe.length;mt--;)(kt=Xe[mt])&&(at=ue?a.call(Pe,kt):fn[mt])>-1&&(Pe[at]=!(He[at]=kt))}}else Xe=Cm(Xe===He?Xe.splice(Or,Xe.length):Xe),ue?ue(null,He,Xe,Ft):C.apply(He,Xe)})}function uw(F){for(var W,X,ie,ue=F.length,Se=h.relative[F[0].type],Pe=Se||h.relative[" "],He=Se?1:0,Fe=wm(function(mt){return mt===W},Pe,!0),Ft=wm(function(mt){return a.call(W,mt)>-1},Pe,!0),at=[function(mt,kt,Xe){var fn=!Se&&(Xe||kt!=m)||((W=kt).nodeType?Fe(mt,kt,Xe):Ft(mt,kt,Xe));return W=null,fn}];He<ue;He++)if(X=h.relative[F[He].type])at=[wm(aw(at),X)];else{if(X=h.filter[F[He].type].apply(null,F[He].matches),X[le]){for(ie=++He;ie<ue&&!h.relative[F[ie].type];ie++);return cw(He>1&&aw(at),He>1&&Em(F.slice(0,He-1).concat({value:F[He-2].type===" "?"*":""})).replace(de,"$1"),X,He<ie&&uw(F.slice(He,ie)),ie<ue&&uw(F=F.slice(ie)),ie<ue&&Em(F))}at.push(X)}return aw(at)}function Jce(F,W){var X=W.length>0,ie=F.length>0,ue=function(Se,Pe,He,Fe,Ft){var at,mt,kt,Xe=0,fn="0",ui=Se&&[],Or=[],Ji=m,Ws=Se||ie&&h.find.TAG("*",Ft),zu=ne+=Ji==null?1:Math.random()||.1,Vr=Ws.length;for(Ft&&(m=Pe==S||Pe||Ft);fn!==Vr&&(at=Ws[fn])!=null;fn++){if(ie&&at){for(mt=0,!Pe&&at.ownerDocument!=S&&(ga(at),He=!B);kt=F[mt++];)if(kt(at,Pe||S,He)){C.call(Fe,at);break}Ft&&(ne=zu)}X&&((at=!kt&&at)&&Xe--,Se&&ui.push(at))}if(Xe+=fn,X&&fn!==Xe){for(mt=0;kt=W[mt++];)kt(ui,Or,Pe,He);if(Se){if(Xe>0)for(;fn--;)ui[fn]||Or[fn]||(Or[fn]=Ve.call(Fe));Or=Cm(Or)}C.apply(Fe,Or),Ft&&!Se&&Or.length>0&&Xe+W.length>1&&y.uniqueSort(Fe)}return Ft&&(ne=zu,m=Ji),ui};return X?ms(ue):ue}function lw(F,W){var X,ie=[],ue=[],Se=At[F+" "];if(!Se){for(W||(W=df(F)),X=W.length;X--;)Se=uw(W[X]),Se[le]?ie.push(Se):ue.push(Se);Se=At(F,Jce(ue,ie)),Se.selector=F}return Se}function VN(F,W,X,ie){var ue,Se,Pe,He,Fe,Ft=typeof F=="function"&&F,at=!ie&&df(F=Ft.selector||F);if(X=X||[],at.length===1){if(Se=at[0]=at[0].slice(0),Se.length>2&&(Pe=Se[0]).type==="ID"&&W.nodeType===9&&B&&h.relative[Se[1].type]){if(W=(h.find.ID(Pe.matches[0].replace(Ao,So),W)||[])[0],W)Ft&&(W=W.parentNode);else return X;F=F.slice(Se.shift().value.length)}for(ue=Hs.needsContext.test(F)?0:Se.length;ue--&&(Pe=Se[ue],!h.relative[He=Pe.type]);)if((Fe=h.find[He])&&(ie=Fe(Pe.matches[0].replace(Ao,So),sw.test(Se[0].type)&&ow(W.parentNode)||W))){if(Se.splice(ue,1),F=ie.length&&Em(Se),!F)return C.apply(X,ie),X;break}}return(Ft||lw(F,at))(ie,W,!B,X,!W||sw.test(F)&&ow(W.parentNode)||W),X}g.sortStable=le.split("").sort(er).join("")===le,ga(),g.sortDetached=Wu(function(F){return F.compareDocumentPosition(S.createElement("fieldset"))&1}),y.find=rn,y.expr[":"]=y.expr.pseudos,y.unique=y.uniqueSort,rn.compile=lw,rn.select=VN,rn.setDocument=ga,rn.tokenize=df,rn.escape=y.escapeSelector,rn.getText=y.text,rn.isXML=y.isXMLDoc,rn.selectors=y.expr,rn.support=y.support,rn.uniqueSort=y.uniqueSort})();var Mt=function(d,h,m){for(var _=[],w=m!==void 0;(d=d[h])&&d.nodeType!==9;)if(d.nodeType===1){if(w&&y(d).is(m))break;_.push(d)}return _},Wt=function(d,h){for(var m=[];d;d=d.nextSibling)d.nodeType===1&&d!==h&&m.push(d);return m},Kn=y.expr.match.needsContext,xn=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Re(d,h,m){return v(h)?y.grep(d,function(_,w){return!!h.call(_,w,_)!==m}):h.nodeType?y.grep(d,function(_){return _===h!==m}):typeof h!="string"?y.grep(d,function(_){return a.call(h,_)>-1!==m}):y.filter(h,d,m)}y.filter=function(d,h,m){var _=h[0];return m&&(d=":not("+d+")"),h.length===1&&_.nodeType===1?y.find.matchesSelector(_,d)?[_]:[]:y.find.matches(d,y.grep(h,function(w){return w.nodeType===1}))},y.fn.extend({find:function(d){var h,m,_=this.length,w=this;if(typeof d!="string")return this.pushStack(y(d).filter(function(){for(h=0;h<_;h++)if(y.contains(w[h],this))return!0}));for(m=this.pushStack([]),h=0;h<_;h++)y.find(d,w[h],m);return _>1?y.uniqueSort(m):m},filter:function(d){return this.pushStack(Re(this,d||[],!1))},not:function(d){return this.pushStack(Re(this,d||[],!0))},is:function(d){return!!Re(this,typeof d=="string"&&Kn.test(d)?y(d):d||[],!1).length}});var Tn,In=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Tt=y.fn.init=function(d,h,m){var _,w;if(!d)return this;if(m=m||Tn,typeof d=="string")if(d[0]==="<"&&d[d.length-1]===">"&&d.length>=3?_=[null,d,null]:_=In.exec(d),_&&(_[1]||!h))if(_[1]){if(h=h instanceof y?h[0]:h,y.merge(this,y.parseHTML(_[1],h&&h.nodeType?h.ownerDocument||h:D,!0)),xn.test(_[1])&&y.isPlainObject(h))for(_ in h)v(this[_])?this[_](h[_]):this.attr(_,h[_]);return this}else return w=D.getElementById(_[2]),w&&(this[0]=w,this.length=1),this;else return!h||h.jquery?(h||m).find(d):this.constructor(h).find(d);else{if(d.nodeType)return this[0]=d,this.length=1,this;if(v(d))return m.ready!==void 0?m.ready(d):d(y)}return y.makeArray(d,this)};Tt.prototype=y.fn,Tn=y(D);var vr=/^(?:parents|prev(?:Until|All))/,Un={children:!0,contents:!0,next:!0,prev:!0};y.fn.extend({has:function(d){var h=y(d,this),m=h.length;return this.filter(function(){for(var _=0;_<m;_++)if(y.contains(this,h[_]))return!0})},closest:function(d,h){var m,_=0,w=this.length,C=[],S=typeof d!="string"&&y(d);if(!Kn.test(d)){for(;_<w;_++)for(m=this[_];m&&m!==h;m=m.parentNode)if(m.nodeType<11&&(S?S.index(m)>-1:m.nodeType===1&&y.find.matchesSelector(m,d))){C.push(m);break}}return this.pushStack(C.length>1?y.uniqueSort(C):C)},index:function(d){return d?typeof d=="string"?a.call(y(d),this[0]):a.call(this,d.jquery?d[0]:d):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(d,h){return this.pushStack(y.uniqueSort(y.merge(this.get(),y(d,h))))},addBack:function(d){return this.add(d==null?this.prevObject:this.prevObject.filter(d))}});function Ci(d,h){for(;(d=d[h])&&d.nodeType!==1;);return d}y.each({parent:function(d){var h=d.parentNode;return h&&h.nodeType!==11?h:null},parents:function(d){return Mt(d,"parentNode")},parentsUntil:function(d,h,m){return Mt(d,"parentNode",m)},next:function(d){return Ci(d,"nextSibling")},prev:function(d){return Ci(d,"previousSibling")},nextAll:function(d){return Mt(d,"nextSibling")},prevAll:function(d){return Mt(d,"previousSibling")},nextUntil:function(d,h,m){return Mt(d,"nextSibling",m)},prevUntil:function(d,h,m){return Mt(d,"previousSibling",m)},siblings:function(d){return Wt((d.parentNode||{}).firstChild,d)},children:function(d){return Wt(d.firstChild)},contents:function(d){return d.contentDocument!=null&&r(d.contentDocument)?d.contentDocument:(De(d,"template")&&(d=d.content||d),y.merge([],d.childNodes))}},function(d,h){y.fn[d]=function(m,_){var w=y.map(this,h,m);return d.slice(-5)!=="Until"&&(_=m),_&&typeof _=="string"&&(w=y.filter(_,w)),this.length>1&&(Un[d]||y.uniqueSort(w),vr.test(d)&&w.reverse()),this.pushStack(w)}});var Yn=/[^\x20\t\r\n\f]+/g;function ur(d){var h={};return y.each(d.match(Yn)||[],function(m,_){h[_]=!0}),h}y.Callbacks=function(d){d=typeof d=="string"?ur(d):y.extend({},d);var h,m,_,w,C=[],S=[],V=-1,B=function(){for(w=w||d.once,_=h=!0;S.length;V=-1)for(m=S.shift();++V<C.length;)C[V].apply(m[0],m[1])===!1&&d.stopOnFalse&&(V=C.length,m=!1);d.memory||(m=!1),h=!1,w&&(m?C=[]:C="")},G={add:function(){return C&&(m&&!h&&(V=C.length-1,S.push(m)),(function se(le){y.each(le,function(ne,we){v(we)?(!d.unique||!G.has(we))&&C.push(we):we&&we.length&&J(we)!=="string"&&se(we)})})(arguments),m&&!h&&B()),this},remove:function(){return y.each(arguments,function(se,le){for(var ne;(ne=y.inArray(le,C,ne))>-1;)C.splice(ne,1),ne<=V&&V--}),this},has:function(se){return se?y.inArray(se,C)>-1:C.length>0},empty:function(){return C&&(C=[]),this},disable:function(){return w=S=[],C=m="",this},disabled:function(){return!C},lock:function(){return w=S=[],!m&&!h&&(C=m=""),this},locked:function(){return!!w},fireWith:function(se,le){return w||(le=le||[],le=[se,le.slice?le.slice():le],S.push(le),h||B()),this},fire:function(){return G.fireWith(this,arguments),this},fired:function(){return!!_}};return G};function Cn(d){return d}function Mn(d){throw d}function Vt(d,h,m,_){var w;try{d&&v(w=d.promise)?w.call(d).done(h).fail(m):d&&v(w=d.then)?w.call(d,h,m):h.apply(void 0,[d].slice(_))}catch(C){m.apply(void 0,[C])}}y.extend({Deferred:function(d){var h=[["notify","progress",y.Callbacks("memory"),y.Callbacks("memory"),2],["resolve","done",y.Callbacks("once memory"),y.Callbacks("once memory"),0,"resolved"],["reject","fail",y.Callbacks("once memory"),y.Callbacks("once memory"),1,"rejected"]],m="pending",_={state:function(){return m},always:function(){return w.done(arguments).fail(arguments),this},catch:function(C){return _.then(null,C)},pipe:function(){var C=arguments;return y.Deferred(function(S){y.each(h,function(V,B){var G=v(C[B[4]])&&C[B[4]];w[B[1]](function(){var se=G&&G.apply(this,arguments);se&&v(se.promise)?se.promise().progress(S.notify).done(S.resolve).fail(S.reject):S[B[0]+"With"](this,G?[se]:arguments)})}),C=null}).promise()},then:function(C,S,V){var B=0;function G(se,le,ne,we){return function(){var ft=this,$t=arguments,At=function(){var er,$s;if(!(se<B)){if(er=ne.apply(ft,$t),er===le.promise())throw new TypeError("Thenable self-resolution");$s=er&&(typeof er=="object"||typeof er=="function")&&er.then,v($s)?we?$s.call(er,G(B,le,Cn,we),G(B,le,Mn,we)):(B++,$s.call(er,G(B,le,Cn,we),G(B,le,Mn,we),G(B,le,Cn,le.notifyWith))):(ne!==Cn&&(ft=void 0,$t=[er]),(we||le.resolveWith)(ft,$t))}},Er=we?At:function(){try{At()}catch(er){y.Deferred.exceptionHook&&y.Deferred.exceptionHook(er,Er.error),se+1>=B&&(ne!==Mn&&(ft=void 0,$t=[er]),le.rejectWith(ft,$t))}};se?Er():(y.Deferred.getErrorHook?Er.error=y.Deferred.getErrorHook():y.Deferred.getStackHook&&(Er.error=y.Deferred.getStackHook()),n.setTimeout(Er))}}return y.Deferred(function(se){h[0][3].add(G(0,se,v(V)?V:Cn,se.notifyWith)),h[1][3].add(G(0,se,v(C)?C:Cn)),h[2][3].add(G(0,se,v(S)?S:Mn))}).promise()},promise:function(C){return C!=null?y.extend(C,_):_}},w={};return y.each(h,function(C,S){var V=S[2],B=S[5];_[S[1]]=V.add,B&&V.add(function(){m=B},h[3-C][2].disable,h[3-C][3].disable,h[0][2].lock,h[0][3].lock),V.add(S[3].fire),w[S[0]]=function(){return w[S[0]+"With"](this===w?void 0:this,arguments),this},w[S[0]+"With"]=V.fireWith}),_.promise(w),d&&d.call(w,w),w},when:function(d){var h=arguments.length,m=h,_=Array(m),w=i.call(arguments),C=y.Deferred(),S=function(V){return function(B){_[V]=this,w[V]=arguments.length>1?i.call(arguments):B,--h||C.resolveWith(_,w)}};if(h<=1&&(Vt(d,C.done(S(m)).resolve,C.reject,!h),C.state()==="pending"||v(w[m]&&w[m].then)))return C.then();for(;m--;)Vt(w[m],S(m),C.reject);return C.promise()}});var Qi=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;y.Deferred.exceptionHook=function(d,h){n.console&&n.console.warn&&d&&Qi.test(d.name)&&n.console.warn("jQuery.Deferred exception: "+d.message,d.stack,h)},y.readyException=function(d){n.setTimeout(function(){throw d})};var nn=y.Deferred();y.fn.ready=function(d){return nn.then(d).catch(function(h){y.readyException(h)}),this},y.extend({isReady:!1,readyWait:1,ready:function(d){(d===!0?--y.readyWait:y.isReady)||(y.isReady=!0,!(d!==!0&&--y.readyWait>0)&&nn.resolveWith(D,[y]))}}),y.ready.then=nn.then;function an(){D.removeEventListener("DOMContentLoaded",an),n.removeEventListener("load",an),y.ready()}D.readyState==="complete"||D.readyState!=="loading"&&!D.documentElement.doScroll?n.setTimeout(y.ready):(D.addEventListener("DOMContentLoaded",an),n.addEventListener("load",an));var kn=function(d,h,m,_,w,C,S){var V=0,B=d.length,G=m==null;if(J(m)==="object"){w=!0;for(V in m)kn(d,h,V,m[V],!0,C,S)}else if(_!==void 0&&(w=!0,v(_)||(S=!0),G&&(S?(h.call(d,_),h=null):(G=h,h=function(se,le,ne){return G.call(y(se),ne)})),h))for(;V<B;V++)h(d[V],m,S?_:_.call(d[V],V,h(d[V],m)));return w?d:G?h.call(d):B?h(d[0],m):C},lr=/^-ms-/,Ln=/-([a-z])/g;function Jt(d,h){return h.toUpperCase()}function cn(d){return d.replace(lr,"ms-").replace(Ln,Jt)}var dr=function(d){return d.nodeType===1||d.nodeType===9||!+d.nodeType};function oi(){this.expando=y.expando+oi.uid++}oi.uid=1,oi.prototype={cache:function(d){var h=d[this.expando];return h||(h={},dr(d)&&(d.nodeType?d[this.expando]=h:Object.defineProperty(d,this.expando,{value:h,configurable:!0}))),h},set:function(d,h,m){var _,w=this.cache(d);if(typeof h=="string")w[cn(h)]=m;else for(_ in h)w[cn(_)]=h[_];return w},get:function(d,h){return h===void 0?this.cache(d):d[this.expando]&&d[this.expando][cn(h)]},access:function(d,h,m){return h===void 0||h&&typeof h=="string"&&m===void 0?this.get(d,h):(this.set(d,h,m),m!==void 0?m:h)},remove:function(d,h){var m,_=d[this.expando];if(_!==void 0){if(h!==void 0)for(Array.isArray(h)?h=h.map(cn):(h=cn(h),h=h in _?[h]:h.match(Yn)||[]),m=h.length;m--;)delete _[h[m]];(h===void 0||y.isEmptyObject(_))&&(d.nodeType?d[this.expando]=void 0:delete d[this.expando])}},hasData:function(d){var h=d[this.expando];return h!==void 0&&!y.isEmptyObject(h)}};var O=new oi,N=new oi,$=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function x(d){return d==="true"?!0:d==="false"?!1:d==="null"?null:d===+d+""?+d:$.test(d)?JSON.parse(d):d}function T(d,h,m){var _;if(m===void 0&&d.nodeType===1)if(_="data-"+h.replace(te,"-$&").toLowerCase(),m=d.getAttribute(_),typeof m=="string"){try{m=x(m)}catch{}N.set(d,h,m)}else m=void 0;return m}y.extend({hasData:function(d){return N.hasData(d)||O.hasData(d)},data:function(d,h,m){return N.access(d,h,m)},removeData:function(d,h){N.remove(d,h)},_data:function(d,h,m){return O.access(d,h,m)},_removeData:function(d,h){O.remove(d,h)}}),y.fn.extend({data:function(d,h){var m,_,w,C=this[0],S=C&&C.attributes;if(d===void 0){if(this.length&&(w=N.get(C),C.nodeType===1&&!O.get(C,"hasDataAttrs"))){for(m=S.length;m--;)S[m]&&(_=S[m].name,_.indexOf("data-")===0&&(_=cn(_.slice(5)),T(C,_,w[_])));O.set(C,"hasDataAttrs",!0)}return w}return typeof d=="object"?this.each(function(){N.set(this,d)}):kn(this,function(V){var B;if(C&&V===void 0)return B=N.get(C,d),B!==void 0||(B=T(C,d),B!==void 0)?B:void 0;this.each(function(){N.set(this,d,V)})},null,h,arguments.length>1,null,!0)},removeData:function(d){return this.each(function(){N.remove(this,d)})}}),y.extend({queue:function(d,h,m){var _;if(d)return h=(h||"fx")+"queue",_=O.get(d,h),m&&(!_||Array.isArray(m)?_=O.access(d,h,y.makeArray(m)):_.push(m)),_||[]},dequeue:function(d,h){h=h||"fx";var m=y.queue(d,h),_=m.length,w=m.shift(),C=y._queueHooks(d,h),S=function(){y.dequeue(d,h)};w==="inprogress"&&(w=m.shift(),_--),w&&(h==="fx"&&m.unshift("inprogress"),delete C.stop,w.call(d,S,C)),!_&&C&&C.empty.fire()},_queueHooks:function(d,h){var m=h+"queueHooks";return O.get(d,m)||O.access(d,m,{empty:y.Callbacks("once memory").add(function(){O.remove(d,[h+"queue",m])})})}}),y.fn.extend({queue:function(d,h){var m=2;return typeof d!="string"&&(h=d,d="fx",m--),arguments.length<m?y.queue(this[0],d):h===void 0?this:this.each(function(){var _=y.queue(this,d,h);y._queueHooks(this,d),d==="fx"&&_[0]!=="inprogress"&&y.dequeue(this,d)})},dequeue:function(d){return this.each(function(){y.dequeue(this,d)})},clearQueue:function(d){return this.queue(d||"fx",[])},promise:function(d,h){var m,_=1,w=y.Deferred(),C=this,S=this.length,V=function(){--_||w.resolveWith(C,[C])};for(typeof d!="string"&&(h=d,d=void 0),d=d||"fx";S--;)m=O.get(C[S],d+"queueHooks"),m&&m.empty&&(_++,m.empty.add(V));return V(),w.promise(h)}});var L=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,M=new RegExp("^(?:([+-])=|)("+L+")([a-z%]*)$","i"),A=["Top","Right","Bottom","Left"],j=D.documentElement,H=function(d){return y.contains(d.ownerDocument,d)},fe={composed:!0};j.getRootNode&&(H=function(d){return y.contains(d.ownerDocument,d)||d.getRootNode(fe)===d.ownerDocument});var be=function(d,h){return d=h||d,d.style.display==="none"||d.style.display===""&&H(d)&&y.css(d,"display")==="none"};function Ie(d,h,m,_){var w,C,S=20,V=_?function(){return _.cur()}:function(){return y.css(d,h,"")},B=V(),G=m&&m[3]||(y.cssNumber[h]?"":"px"),se=d.nodeType&&(y.cssNumber[h]||G!=="px"&&+B)&&M.exec(y.css(d,h));if(se&&se[3]!==G){for(B=B/2,G=G||se[3],se=+B||1;S--;)y.style(d,h,se+G),(1-C)*(1-(C=V()/B||.5))<=0&&(S=0),se=se/C;se=se*2,y.style(d,h,se+G),m=m||[]}return m&&(se=+se||+B||0,w=m[1]?se+(m[1]+1)*m[2]:+m[2],_&&(_.unit=G,_.start=se,_.end=w)),w}var xe={};function ae(d){var h,m=d.ownerDocument,_=d.nodeName,w=xe[_];return w||(h=m.body.appendChild(m.createElement(_)),w=y.css(h,"display"),h.parentNode.removeChild(h),w==="none"&&(w="block"),xe[_]=w,w)}function ve(d,h){for(var m,_,w=[],C=0,S=d.length;C<S;C++)_=d[C],_.style&&(m=_.style.display,h?(m==="none"&&(w[C]=O.get(_,"display")||null,w[C]||(_.style.display="")),_.style.display===""&&be(_)&&(w[C]=ae(_))):m!=="none"&&(w[C]="none",O.set(_,"display",m)));for(C=0;C<S;C++)w[C]!=null&&(d[C].style.display=w[C]);return d}y.fn.extend({show:function(){return ve(this,!0)},hide:function(){return ve(this)},toggle:function(d){return typeof d=="boolean"?d?this.show():this.hide():this.each(function(){be(this)?y(this).show():y(this).hide()})}});var Ce=/^(?:checkbox|radio)$/i,ge=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,qe=/^$|^module$|\/(?:java|ecma)script/i;(function(){var d=D.createDocumentFragment(),h=d.appendChild(D.createElement("div")),m=D.createElement("input");m.setAttribute("type","radio"),m.setAttribute("checked","checked"),m.setAttribute("name","t"),h.appendChild(m),g.checkClone=h.cloneNode(!0).cloneNode(!0).lastChild.checked,h.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!h.cloneNode(!0).lastChild.defaultValue,h.innerHTML="<option></option>",g.option=!!h.lastChild})();var Ue={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ue.tbody=Ue.tfoot=Ue.colgroup=Ue.caption=Ue.thead,Ue.th=Ue.td,g.option||(Ue.optgroup=Ue.option=[1,"<select multiple='multiple'>","</select>"]);function ot(d,h){var m;return typeof d.getElementsByTagName<"u"?m=d.getElementsByTagName(h||"*"):typeof d.querySelectorAll<"u"?m=d.querySelectorAll(h||"*"):m=[],h===void 0||h&&De(d,h)?y.merge([d],m):m}function Gt(d,h){for(var m=0,_=d.length;m<_;m++)O.set(d[m],"globalEval",!h||O.get(h[m],"globalEval"))}var Bn=/<|&#?\w+;/;function Mr(d,h,m,_,w){for(var C,S,V,B,G,se,le=h.createDocumentFragment(),ne=[],we=0,ft=d.length;we<ft;we++)if(C=d[we],C||C===0)if(J(C)==="object")y.merge(ne,C.nodeType?[C]:C);else if(!Bn.test(C))ne.push(h.createTextNode(C));else{for(S=S||le.appendChild(h.createElement("div")),V=(ge.exec(C)||["",""])[1].toLowerCase(),B=Ue[V]||Ue._default,S.innerHTML=B[1]+y.htmlPrefilter(C)+B[2],se=B[0];se--;)S=S.lastChild;y.merge(ne,S.childNodes),S=le.firstChild,S.textContent=""}for(le.textContent="",we=0;C=ne[we++];){if(_&&y.inArray(C,_)>-1){w&&w.push(C);continue}if(G=H(C),S=ot(le.appendChild(C),"script"),G&&Gt(S),m)for(se=0;C=S[se++];)qe.test(C.type||"")&&m.push(C)}return le}var Rr=/^([^.]*)(?:\.(.+)|)/;function _r(){return!0}function Di(){return!1}function z(d,h,m,_,w,C){var S,V;if(typeof h=="object"){typeof m!="string"&&(_=_||m,m=void 0);for(V in h)z(d,V,m,_,h[V],C);return d}if(_==null&&w==null?(w=m,_=m=void 0):w==null&&(typeof m=="string"?(w=_,_=void 0):(w=_,_=m,m=void 0)),w===!1)w=Di;else if(!w)return d;return C===1&&(S=w,w=function(B){return y().off(B),S.apply(this,arguments)},w.guid=S.guid||(S.guid=y.guid++)),d.each(function(){y.event.add(this,h,w,_,m)})}y.event={global:{},add:function(d,h,m,_,w){var C,S,V,B,G,se,le,ne,we,ft,$t,At=O.get(d);if(dr(d))for(m.handler&&(C=m,m=C.handler,w=C.selector),w&&y.find.matchesSelector(j,w),m.guid||(m.guid=y.guid++),(B=At.events)||(B=At.events=Object.create(null)),(S=At.handle)||(S=At.handle=function(Er){return typeof y<"u"&&y.event.triggered!==Er.type?y.event.dispatch.apply(d,arguments):void 0}),h=(h||"").match(Yn)||[""],G=h.length;G--;)V=Rr.exec(h[G])||[],we=$t=V[1],ft=(V[2]||"").split(".").sort(),we&&(le=y.event.special[we]||{},we=(w?le.delegateType:le.bindType)||we,le=y.event.special[we]||{},se=y.extend({type:we,origType:$t,data:_,handler:m,guid:m.guid,selector:w,needsContext:w&&y.expr.match.needsContext.test(w),namespace:ft.join(".")},C),(ne=B[we])||(ne=B[we]=[],ne.delegateCount=0,(!le.setup||le.setup.call(d,_,ft,S)===!1)&&d.addEventListener&&d.addEventListener(we,S)),le.add&&(le.add.call(d,se),se.handler.guid||(se.handler.guid=m.guid)),w?ne.splice(ne.delegateCount++,0,se):ne.push(se),y.event.global[we]=!0)},remove:function(d,h,m,_,w){var C,S,V,B,G,se,le,ne,we,ft,$t,At=O.hasData(d)&&O.get(d);if(!(!At||!(B=At.events))){for(h=(h||"").match(Yn)||[""],G=h.length;G--;){if(V=Rr.exec(h[G])||[],we=$t=V[1],ft=(V[2]||"").split(".").sort(),!we){for(we in B)y.event.remove(d,we+h[G],m,_,!0);continue}for(le=y.event.special[we]||{},we=(_?le.delegateType:le.bindType)||we,ne=B[we]||[],V=V[2]&&new RegExp("(^|\\.)"+ft.join("\\.(?:.*\\.|)")+"(\\.|$)"),S=C=ne.length;C--;)se=ne[C],(w||$t===se.origType)&&(!m||m.guid===se.guid)&&(!V||V.test(se.namespace))&&(!_||_===se.selector||_==="**"&&se.selector)&&(ne.splice(C,1),se.selector&&ne.delegateCount--,le.remove&&le.remove.call(d,se));S&&!ne.length&&((!le.teardown||le.teardown.call(d,ft,At.handle)===!1)&&y.removeEvent(d,we,At.handle),delete B[we])}y.isEmptyObject(B)&&O.remove(d,"handle events")}},dispatch:function(d){var h,m,_,w,C,S,V=new Array(arguments.length),B=y.event.fix(d),G=(O.get(this,"events")||Object.create(null))[B.type]||[],se=y.event.special[B.type]||{};for(V[0]=B,h=1;h<arguments.length;h++)V[h]=arguments[h];if(B.delegateTarget=this,!(se.preDispatch&&se.preDispatch.call(this,B)===!1)){for(S=y.event.handlers.call(this,B,G),h=0;(w=S[h++])&&!B.isPropagationStopped();)for(B.currentTarget=w.elem,m=0;(C=w.handlers[m++])&&!B.isImmediatePropagationStopped();)(!B.rnamespace||C.namespace===!1||B.rnamespace.test(C.namespace))&&(B.handleObj=C,B.data=C.data,_=((y.event.special[C.origType]||{}).handle||C.handler).apply(w.elem,V),_!==void 0&&(B.result=_)===!1&&(B.preventDefault(),B.stopPropagation()));return se.postDispatch&&se.postDispatch.call(this,B),B.result}},handlers:function(d,h){var m,_,w,C,S,V=[],B=h.delegateCount,G=d.target;if(B&&G.nodeType&&!(d.type==="click"&&d.button>=1)){for(;G!==this;G=G.parentNode||this)if(G.nodeType===1&&!(d.type==="click"&&G.disabled===!0)){for(C=[],S={},m=0;m<B;m++)_=h[m],w=_.selector+" ",S[w]===void 0&&(S[w]=_.needsContext?y(w,this).index(G)>-1:y.find(w,this,null,[G]).length),S[w]&&C.push(_);C.length&&V.push({elem:G,handlers:C})}}return G=this,B<h.length&&V.push({elem:G,handlers:h.slice(B)}),V},addProp:function(d,h){Object.defineProperty(y.Event.prototype,d,{enumerable:!0,configurable:!0,get:v(h)?function(){if(this.originalEvent)return h(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[d]},set:function(m){Object.defineProperty(this,d,{enumerable:!0,configurable:!0,writable:!0,value:m})}})},fix:function(d){return d[y.expando]?d:new y.Event(d)},special:{load:{noBubble:!0},click:{setup:function(d){var h=this||d;return Ce.test(h.type)&&h.click&&De(h,"input")&&oe(h,"click",!0),!1},trigger:function(d){var h=this||d;return Ce.test(h.type)&&h.click&&De(h,"input")&&oe(h,"click"),!0},_default:function(d){var h=d.target;return Ce.test(h.type)&&h.click&&De(h,"input")&&O.get(h,"click")||De(h,"a")}},beforeunload:{postDispatch:function(d){d.result!==void 0&&d.originalEvent&&(d.originalEvent.returnValue=d.result)}}}};function oe(d,h,m){if(!m){O.get(d,h)===void 0&&y.event.add(d,h,_r);return}O.set(d,h,!1),y.event.add(d,h,{namespace:!1,handler:function(_){var w,C=O.get(this,h);if(_.isTrigger&1&&this[h]){if(C)(y.event.special[h]||{}).delegateType&&_.stopPropagation();else if(C=i.call(arguments),O.set(this,h,C),this[h](),w=O.get(this,h),O.set(this,h,!1),C!==w)return _.stopImmediatePropagation(),_.preventDefault(),w}else C&&(O.set(this,h,y.event.trigger(C[0],C.slice(1),this)),_.stopPropagation(),_.isImmediatePropagationStopped=_r)}})}y.removeEvent=function(d,h,m){d.removeEventListener&&d.removeEventListener(h,m)},y.Event=function(d,h){if(!(this instanceof y.Event))return new y.Event(d,h);d&&d.type?(this.originalEvent=d,this.type=d.type,this.isDefaultPrevented=d.defaultPrevented||d.defaultPrevented===void 0&&d.returnValue===!1?_r:Di,this.target=d.target&&d.target.nodeType===3?d.target.parentNode:d.target,this.currentTarget=d.currentTarget,this.relatedTarget=d.relatedTarget):this.type=d,h&&y.extend(this,h),this.timeStamp=d&&d.timeStamp||Date.now(),this[y.expando]=!0},y.Event.prototype={constructor:y.Event,isDefaultPrevented:Di,isPropagationStopped:Di,isImmediatePropagationStopped:Di,isSimulated:!1,preventDefault:function(){var d=this.originalEvent;this.isDefaultPrevented=_r,d&&!this.isSimulated&&d.preventDefault()},stopPropagation:function(){var d=this.originalEvent;this.isPropagationStopped=_r,d&&!this.isSimulated&&d.stopPropagation()},stopImmediatePropagation:function(){var d=this.originalEvent;this.isImmediatePropagationStopped=_r,d&&!this.isSimulated&&d.stopImmediatePropagation(),this.stopPropagation()}},y.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},y.event.addProp),y.each({focus:"focusin",blur:"focusout"},function(d,h){function m(_){if(D.documentMode){var w=O.get(this,"handle"),C=y.event.fix(_);C.type=_.type==="focusin"?"focus":"blur",C.isSimulated=!0,w(_),C.target===C.currentTarget&&w(C)}else y.event.simulate(h,_.target,y.event.fix(_))}y.event.special[d]={setup:function(){var _;if(oe(this,d,!0),D.documentMode)_=O.get(this,h),_||this.addEventListener(h,m),O.set(this,h,(_||0)+1);else return!1},trigger:function(){return oe(this,d),!0},teardown:function(){var _;if(D.documentMode)_=O.get(this,h)-1,_?O.set(this,h,_):(this.removeEventListener(h,m),O.remove(this,h));else return!1},_default:function(_){return O.get(_.target,d)},delegateType:h},y.event.special[h]={setup:function(){var _=this.ownerDocument||this.document||this,w=D.documentMode?this:_,C=O.get(w,h);C||(D.documentMode?this.addEventListener(h,m):_.addEventListener(d,m,!0)),O.set(w,h,(C||0)+1)},teardown:function(){var _=this.ownerDocument||this.document||this,w=D.documentMode?this:_,C=O.get(w,h)-1;C?O.set(w,h,C):(D.documentMode?this.removeEventListener(h,m):_.removeEventListener(d,m,!0),O.remove(w,h))}}}),y.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(d,h){y.event.special[d]={delegateType:h,bindType:h,handle:function(m){var _,w=this,C=m.relatedTarget,S=m.handleObj;return(!C||C!==w&&!y.contains(w,C))&&(m.type=S.origType,_=S.handler.apply(this,arguments),m.type=h),_}}}),y.fn.extend({on:function(d,h,m,_){return z(this,d,h,m,_)},one:function(d,h,m,_){return z(this,d,h,m,_,1)},off:function(d,h,m){var _,w;if(d&&d.preventDefault&&d.handleObj)return _=d.handleObj,y(d.delegateTarget).off(_.namespace?_.origType+"."+_.namespace:_.origType,_.selector,_.handler),this;if(typeof d=="object"){for(w in d)this.off(w,h,d[w]);return this}return(h===!1||typeof h=="function")&&(m=h,h=void 0),m===!1&&(m=Di),this.each(function(){y.event.remove(this,d,m,h)})}});var Ne=/<script|<style|<link/i,Oe=/checked\s*(?:[^=]|=\s*.checked.)/i,ze=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function lt(d,h){return De(d,"table")&&De(h.nodeType!==11?h:h.firstChild,"tr")&&y(d).children("tbody")[0]||d}function dt(d){return d.type=(d.getAttribute("type")!==null)+"/"+d.type,d}function qn(d){return(d.type||"").slice(0,5)==="true/"?d.type=d.type.slice(5):d.removeAttribute("type"),d}function Dn(d,h){var m,_,w,C,S,V,B;if(h.nodeType===1){if(O.hasData(d)&&(C=O.get(d),B=C.events,B)){O.remove(h,"handle events");for(w in B)for(m=0,_=B[w].length;m<_;m++)y.event.add(h,w,B[w][m])}N.hasData(d)&&(S=N.access(d),V=y.extend({},S),N.set(h,V))}}function xo(d,h){var m=h.nodeName.toLowerCase();m==="input"&&Ce.test(d.type)?h.checked=d.checked:(m==="input"||m==="textarea")&&(h.defaultValue=d.defaultValue)}function xi(d,h,m,_){h=s(h);var w,C,S,V,B,G,se=0,le=d.length,ne=le-1,we=h[0],ft=v(we);if(ft||le>1&&typeof we=="string"&&!g.checkClone&&Oe.test(we))return d.each(function($t){var At=d.eq($t);ft&&(h[0]=we.call(this,$t,At.html())),xi(At,h,m,_)});if(le&&(w=Mr(h,d[0].ownerDocument,!1,d,_),C=w.firstChild,w.childNodes.length===1&&(w=C),C||_)){for(S=y.map(ot(w,"script"),dt),V=S.length;se<le;se++)B=w,se!==ne&&(B=y.clone(B,!0,!0),V&&y.merge(S,ot(B,"script"))),m.call(d[se],B,se);if(V)for(G=S[S.length-1].ownerDocument,y.map(S,qn),se=0;se<V;se++)B=S[se],qe.test(B.type||"")&&!O.access(B,"globalEval")&&y.contains(G,B)&&(B.src&&(B.type||"").toLowerCase()!=="module"?y._evalUrl&&!B.noModule&&y._evalUrl(B.src,{nonce:B.nonce||B.getAttribute("nonce")},G):K(B.textContent.replace(ze,""),B,G))}return d}function ai(d,h,m){for(var _,w=h?y.filter(h,d):d,C=0;(_=w[C])!=null;C++)!m&&_.nodeType===1&&y.cleanData(ot(_)),_.parentNode&&(m&&H(_)&&Gt(ot(_,"script")),_.parentNode.removeChild(_));return d}y.extend({htmlPrefilter:function(d){return d},clone:function(d,h,m){var _,w,C,S,V=d.cloneNode(!0),B=H(d);if(!g.noCloneChecked&&(d.nodeType===1||d.nodeType===11)&&!y.isXMLDoc(d))for(S=ot(V),C=ot(d),_=0,w=C.length;_<w;_++)xo(C[_],S[_]);if(h)if(m)for(C=C||ot(d),S=S||ot(V),_=0,w=C.length;_<w;_++)Dn(C[_],S[_]);else Dn(d,V);return S=ot(V,"script"),S.length>0&&Gt(S,!B&&ot(d,"script")),V},cleanData:function(d){for(var h,m,_,w=y.event.special,C=0;(m=d[C])!==void 0;C++)if(dr(m)){if(h=m[O.expando]){if(h.events)for(_ in h.events)w[_]?y.event.remove(m,_):y.removeEvent(m,_,h.handle);m[O.expando]=void 0}m[N.expando]&&(m[N.expando]=void 0)}}}),y.fn.extend({detach:function(d){return ai(this,d,!0)},remove:function(d){return ai(this,d)},text:function(d){return kn(this,function(h){return h===void 0?y.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=h)})},null,d,arguments.length)},append:function(){return xi(this,arguments,function(d){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var h=lt(this,d);h.appendChild(d)}})},prepend:function(){return xi(this,arguments,function(d){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var h=lt(this,d);h.insertBefore(d,h.firstChild)}})},before:function(){return xi(this,arguments,function(d){this.parentNode&&this.parentNode.insertBefore(d,this)})},after:function(){return xi(this,arguments,function(d){this.parentNode&&this.parentNode.insertBefore(d,this.nextSibling)})},empty:function(){for(var d,h=0;(d=this[h])!=null;h++)d.nodeType===1&&(y.cleanData(ot(d,!1)),d.textContent="");return this},clone:function(d,h){return d=d??!1,h=h??d,this.map(function(){return y.clone(this,d,h)})},html:function(d){return kn(this,function(h){var m=this[0]||{},_=0,w=this.length;if(h===void 0&&m.nodeType===1)return m.innerHTML;if(typeof h=="string"&&!Ne.test(h)&&!Ue[(ge.exec(h)||["",""])[1].toLowerCase()]){h=y.htmlPrefilter(h);try{for(;_<w;_++)m=this[_]||{},m.nodeType===1&&(y.cleanData(ot(m,!1)),m.innerHTML=h);m=0}catch{}}m&&this.empty().append(h)},null,d,arguments.length)},replaceWith:function(){var d=[];return xi(this,arguments,function(h){var m=this.parentNode;y.inArray(this,d)<0&&(y.cleanData(ot(this)),m&&m.replaceChild(h,this))},d)}}),y.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(d,h){y.fn[d]=function(m){for(var _,w=[],C=y(m),S=C.length-1,V=0;V<=S;V++)_=V===S?this:this.clone(!0),y(C[V])[h](_),o.apply(w,_.get());return this.pushStack(w)}});var ci=new RegExp("^("+L+")(?!px)[a-z%]+$","i"),Jn=/^--/,ds=function(d){var h=d.ownerDocument.defaultView;return(!h||!h.opener)&&(h=n),h.getComputedStyle(d)},mc=function(d,h,m){var _,w,C={};for(w in h)C[w]=d.style[w],d.style[w]=h[w];_=m.call(d);for(w in h)d.style[w]=C[w];return _},KE=new RegExp(A.join("|"),"i");(function(){function d(){if(G){B.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",G.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",j.appendChild(B).appendChild(G);var se=n.getComputedStyle(G);m=se.top!=="1%",V=h(se.marginLeft)===12,G.style.right="60%",C=h(se.right)===36,_=h(se.width)===36,G.style.position="absolute",w=h(G.offsetWidth/3)===12,j.removeChild(B),G=null}}function h(se){return Math.round(parseFloat(se))}var m,_,w,C,S,V,B=D.createElement("div"),G=D.createElement("div");G.style&&(G.style.backgroundClip="content-box",G.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle=G.style.backgroundClip==="content-box",y.extend(g,{boxSizingReliable:function(){return d(),_},pixelBoxStyles:function(){return d(),C},pixelPosition:function(){return d(),m},reliableMarginLeft:function(){return d(),V},scrollboxSize:function(){return d(),w},reliableTrDimensions:function(){var se,le,ne,we;return S==null&&(se=D.createElement("table"),le=D.createElement("tr"),ne=D.createElement("div"),se.style.cssText="position:absolute;left:-11111px;border-collapse:separate",le.style.cssText="box-sizing:content-box;border:1px solid",le.style.height="1px",ne.style.height="9px",ne.style.display="block",j.appendChild(se).appendChild(le).appendChild(ne),we=n.getComputedStyle(le),S=parseInt(we.height,10)+parseInt(we.borderTopWidth,10)+parseInt(we.borderBottomWidth,10)===le.offsetHeight,j.removeChild(se)),S}}))})();function gc(d,h,m){var _,w,C,S,V=Jn.test(h),B=d.style;return m=m||ds(d),m&&(S=m.getPropertyValue(h)||m[h],V&&S&&(S=S.replace(de,"$1")||void 0),S===""&&!H(d)&&(S=y.style(d,h)),!g.pixelBoxStyles()&&ci.test(S)&&KE.test(h)&&(_=B.width,w=B.minWidth,C=B.maxWidth,B.minWidth=B.maxWidth=B.width=S,S=m.width,B.width=_,B.minWidth=w,B.maxWidth=C)),S!==void 0?S+"":S}function ym(d,h){return{get:function(){if(d()){delete this.get;return}return(this.get=h).apply(this,arguments)}}}var Zt=["Webkit","Moz","ms"],Zn=D.createElement("div").style,pt={};function Xn(d){for(var h=d[0].toUpperCase()+d.slice(1),m=Zt.length;m--;)if(d=Zt[m]+h,d in Zn)return d}function $r(d){var h=y.cssProps[d]||pt[d];return h||(d in Zn?d:pt[d]=Xn(d)||d)}var fr=/^(none|table(?!-c[ea]).+)/,To={position:"absolute",visibility:"hidden",display:"block"},Ki={letterSpacing:"0",fontWeight:"400"};function fs(d,h,m){var _=M.exec(h);return _?Math.max(0,_[2]-(m||0))+(_[3]||"px"):h}function hs(d,h,m,_,w,C){var S=h==="width"?1:0,V=0,B=0,G=0;if(m===(_?"border":"content"))return 0;for(;S<4;S+=2)m==="margin"&&(G+=y.css(d,m+A[S],!0,w)),_?(m==="content"&&(B-=y.css(d,"padding"+A[S],!0,w)),m!=="margin"&&(B-=y.css(d,"border"+A[S]+"Width",!0,w))):(B+=y.css(d,"padding"+A[S],!0,w),m!=="padding"?B+=y.css(d,"border"+A[S]+"Width",!0,w):V+=y.css(d,"border"+A[S]+"Width",!0,w));return!_&&C>=0&&(B+=Math.max(0,Math.ceil(d["offset"+h[0].toUpperCase()+h.slice(1)]-C-B-V-.5))||0),B+G}function yc(d,h,m){var _=ds(d),w=!g.boxSizingReliable()||m,C=w&&y.css(d,"boxSizing",!1,_)==="border-box",S=C,V=gc(d,h,_),B="offset"+h[0].toUpperCase()+h.slice(1);if(ci.test(V)){if(!m)return V;V="auto"}return(!g.boxSizingReliable()&&C||!g.reliableTrDimensions()&&De(d,"tr")||V==="auto"||!parseFloat(V)&&y.css(d,"display",!1,_)==="inline")&&d.getClientRects().length&&(C=y.css(d,"boxSizing",!1,_)==="border-box",S=B in d,S&&(V=d[B])),V=parseFloat(V)||0,V+hs(d,h,m||(C?"border":"content"),S,_,V)+"px"}y.extend({cssHooks:{opacity:{get:function(d,h){if(h){var m=gc(d,"opacity");return m===""?"1":m}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(d,h,m,_){if(!(!d||d.nodeType===3||d.nodeType===8||!d.style)){var w,C,S,V=cn(h),B=Jn.test(h),G=d.style;if(B||(h=$r(V)),S=y.cssHooks[h]||y.cssHooks[V],m!==void 0){if(C=typeof m,C==="string"&&(w=M.exec(m))&&w[1]&&(m=Ie(d,h,w),C="number"),m==null||m!==m)return;C==="number"&&!B&&(m+=w&&w[3]||(y.cssNumber[V]?"":"px")),!g.clearCloneStyle&&m===""&&h.indexOf("background")===0&&(G[h]="inherit"),(!S||!("set"in S)||(m=S.set(d,m,_))!==void 0)&&(B?G.setProperty(h,m):G[h]=m)}else return S&&"get"in S&&(w=S.get(d,!1,_))!==void 0?w:G[h]}},css:function(d,h,m,_){var w,C,S,V=cn(h),B=Jn.test(h);return B||(h=$r(V)),S=y.cssHooks[h]||y.cssHooks[V],S&&"get"in S&&(w=S.get(d,!0,m)),w===void 0&&(w=gc(d,h,_)),w==="normal"&&h in Ki&&(w=Ki[h]),m===""||m?(C=parseFloat(w),m===!0||isFinite(C)?C||0:w):w}}),y.each(["height","width"],function(d,h){y.cssHooks[h]={get:function(m,_,w){if(_)return fr.test(y.css(m,"display"))&&(!m.getClientRects().length||!m.getBoundingClientRect().width)?mc(m,To,function(){return yc(m,h,w)}):yc(m,h,w)},set:function(m,_,w){var C,S=ds(m),V=!g.scrollboxSize()&&S.position==="absolute",B=V||w,G=B&&y.css(m,"boxSizing",!1,S)==="border-box",se=w?hs(m,h,w,G,S):0;return G&&V&&(se-=Math.ceil(m["offset"+h[0].toUpperCase()+h.slice(1)]-parseFloat(S[h])-hs(m,h,"border",!1,S)-.5)),se&&(C=M.exec(_))&&(C[3]||"px")!=="px"&&(m.style[h]=_,_=y.css(m,h)),fs(m,_,se)}}}),y.cssHooks.marginLeft=ym(g.reliableMarginLeft,function(d,h){if(h)return(parseFloat(gc(d,"marginLeft"))||d.getBoundingClientRect().left-mc(d,{marginLeft:0},function(){return d.getBoundingClientRect().left}))+"px"}),y.each({margin:"",padding:"",border:"Width"},function(d,h){y.cssHooks[d+h]={expand:function(m){for(var _=0,w={},C=typeof m=="string"?m.split(" "):[m];_<4;_++)w[d+A[_]+h]=C[_]||C[_-2]||C[0];return w}},d!=="margin"&&(y.cssHooks[d+h].set=fs)}),y.fn.extend({css:function(d,h){return kn(this,function(m,_,w){var C,S,V={},B=0;if(Array.isArray(_)){for(C=ds(m),S=_.length;B<S;B++)V[_[B]]=y.css(m,_[B],!1,C);return V}return w!==void 0?y.style(m,_,w):y.css(m,_)},d,h,arguments.length>1)}});function Nr(d,h,m,_,w){return new Nr.prototype.init(d,h,m,_,w)}y.Tween=Nr,Nr.prototype={constructor:Nr,init:function(d,h,m,_,w,C){this.elem=d,this.prop=m,this.easing=w||y.easing._default,this.options=h,this.start=this.now=this.cur(),this.end=_,this.unit=C||(y.cssNumber[m]?"":"px")},cur:function(){var d=Nr.propHooks[this.prop];return d&&d.get?d.get(this):Nr.propHooks._default.get(this)},run:function(d){var h,m=Nr.propHooks[this.prop];return this.options.duration?this.pos=h=y.easing[this.easing](d,this.options.duration*d,0,1,this.options.duration):this.pos=h=d,this.now=(this.end-this.start)*h+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),m&&m.set?m.set(this):Nr.propHooks._default.set(this),this}},Nr.prototype.init.prototype=Nr.prototype,Nr.propHooks={_default:{get:function(d){var h;return d.elem.nodeType!==1||d.elem[d.prop]!=null&&d.elem.style[d.prop]==null?d.elem[d.prop]:(h=y.css(d.elem,d.prop,""),!h||h==="auto"?0:h)},set:function(d){y.fx.step[d.prop]?y.fx.step[d.prop](d):d.elem.nodeType===1&&(y.cssHooks[d.prop]||d.elem.style[$r(d.prop)]!=null)?y.style(d.elem,d.prop,d.now+d.unit):d.elem[d.prop]=d.now}}},Nr.propHooks.scrollTop=Nr.propHooks.scrollLeft={set:function(d){d.elem.nodeType&&d.elem.parentNode&&(d.elem[d.prop]=d.now)}},y.easing={linear:function(d){return d},swing:function(d){return .5-Math.cos(d*Math.PI)/2},_default:"swing"},y.fx=Nr.prototype.init,y.fx.step={};var Hu,bm,wce=/^(?:toggle|show|hide)$/,Cce=/queueHooks$/;function YE(){bm&&(D.hidden===!1&&n.requestAnimationFrame?n.requestAnimationFrame(YE):n.setTimeout(YE,y.fx.interval),y.fx.tick())}function SN(){return n.setTimeout(function(){Hu=void 0}),Hu=Date.now()}function vm(d,h){var m,_=0,w={height:d};for(h=h?1:0;_<4;_+=2-h)m=A[_],w["margin"+m]=w["padding"+m]=d;return h&&(w.opacity=w.width=d),w}function IN(d,h,m){for(var _,w=(ps.tweeners[h]||[]).concat(ps.tweeners["*"]),C=0,S=w.length;C<S;C++)if(_=w[C].call(m,h,d))return _}function Dce(d,h,m){var _,w,C,S,V,B,G,se,le="width"in h||"height"in h,ne=this,we={},ft=d.style,$t=d.nodeType&&be(d),At=O.get(d,"fxshow");m.queue||(S=y._queueHooks(d,"fx"),S.unqueued==null&&(S.unqueued=0,V=S.empty.fire,S.empty.fire=function(){S.unqueued||V()}),S.unqueued++,ne.always(function(){ne.always(function(){S.unqueued--,y.queue(d,"fx").length||S.empty.fire()})}));for(_ in h)if(w=h[_],wce.test(w)){if(delete h[_],C=C||w==="toggle",w===($t?"hide":"show"))if(w==="show"&&At&&At[_]!==void 0)$t=!0;else continue;we[_]=At&&At[_]||y.style(d,_)}if(B=!y.isEmptyObject(h),!(!B&&y.isEmptyObject(we))){le&&d.nodeType===1&&(m.overflow=[ft.overflow,ft.overflowX,ft.overflowY],G=At&&At.display,G==null&&(G=O.get(d,"display")),se=y.css(d,"display"),se==="none"&&(G?se=G:(ve([d],!0),G=d.style.display||G,se=y.css(d,"display"),ve([d]))),(se==="inline"||se==="inline-block"&&G!=null)&&y.css(d,"float")==="none"&&(B||(ne.done(function(){ft.display=G}),G==null&&(se=ft.display,G=se==="none"?"":se)),ft.display="inline-block")),m.overflow&&(ft.overflow="hidden",ne.always(function(){ft.overflow=m.overflow[0],ft.overflowX=m.overflow[1],ft.overflowY=m.overflow[2]})),B=!1;for(_ in we)B||(At?"hidden"in At&&($t=At.hidden):At=O.access(d,"fxshow",{display:G}),C&&(At.hidden=!$t),$t&&ve([d],!0),ne.done(function(){$t||ve([d]),O.remove(d,"fxshow");for(_ in we)y.style(d,_,we[_])})),B=IN($t?At[_]:0,_,ne),_ in At||(At[_]=B.start,$t&&(B.end=B.start,B.start=0))}}function xce(d,h){var m,_,w,C,S;for(m in d)if(_=cn(m),w=h[_],C=d[m],Array.isArray(C)&&(w=C[1],C=d[m]=C[0]),m!==_&&(d[_]=C,delete d[m]),S=y.cssHooks[_],S&&"expand"in S){C=S.expand(C),delete d[_];for(m in C)m in d||(d[m]=C[m],h[m]=w)}else h[_]=w}function ps(d,h,m){var _,w,C=0,S=ps.prefilters.length,V=y.Deferred().always(function(){delete B.elem}),B=function(){if(w)return!1;for(var le=Hu||SN(),ne=Math.max(0,G.startTime+G.duration-le),we=ne/G.duration||0,ft=1-we,$t=0,At=G.tweens.length;$t<At;$t++)G.tweens[$t].run(ft);return V.notifyWith(d,[G,ft,ne]),ft<1&&At?ne:(At||V.notifyWith(d,[G,1,0]),V.resolveWith(d,[G]),!1)},G=V.promise({elem:d,props:y.extend({},h),opts:y.extend(!0,{specialEasing:{},easing:y.easing._default},m),originalProperties:h,originalOptions:m,startTime:Hu||SN(),duration:m.duration,tweens:[],createTween:function(le,ne){var we=y.Tween(d,G.opts,le,ne,G.opts.specialEasing[le]||G.opts.easing);return G.tweens.push(we),we},stop:function(le){var ne=0,we=le?G.tweens.length:0;if(w)return this;for(w=!0;ne<we;ne++)G.tweens[ne].run(1);return le?(V.notifyWith(d,[G,1,0]),V.resolveWith(d,[G,le])):V.rejectWith(d,[G,le]),this}}),se=G.props;for(xce(se,G.opts.specialEasing);C<S;C++)if(_=ps.prefilters[C].call(G,d,se,G.opts),_)return v(_.stop)&&(y._queueHooks(G.elem,G.opts.queue).stop=_.stop.bind(_)),_;return y.map(se,IN,G),v(G.opts.start)&&G.opts.start.call(d,G),G.progress(G.opts.progress).done(G.opts.done,G.opts.complete).fail(G.opts.fail).always(G.opts.always),y.fx.timer(y.extend(B,{elem:d,anim:G,queue:G.opts.queue})),G}y.Animation=y.extend(ps,{tweeners:{"*":[function(d,h){var m=this.createTween(d,h);return Ie(m.elem,d,M.exec(h),m),m}]},tweener:function(d,h){v(d)?(h=d,d=["*"]):d=d.match(Yn);for(var m,_=0,w=d.length;_<w;_++)m=d[_],ps.tweeners[m]=ps.tweeners[m]||[],ps.tweeners[m].unshift(h)},prefilters:[Dce],prefilter:function(d,h){h?ps.prefilters.unshift(d):ps.prefilters.push(d)}}),y.speed=function(d,h,m){var _=d&&typeof d=="object"?y.extend({},d):{complete:m||!m&&h||v(d)&&d,duration:d,easing:m&&h||h&&!v(h)&&h};return y.fx.off?_.duration=0:typeof _.duration!="number"&&(_.duration in y.fx.speeds?_.duration=y.fx.speeds[_.duration]:_.duration=y.fx.speeds._default),(_.queue==null||_.queue===!0)&&(_.queue="fx"),_.old=_.complete,_.complete=function(){v(_.old)&&_.old.call(this),_.queue&&y.dequeue(this,_.queue)},_},y.fn.extend({fadeTo:function(d,h,m,_){return this.filter(be).css("opacity",0).show().end().animate({opacity:h},d,m,_)},animate:function(d,h,m,_){var w=y.isEmptyObject(d),C=y.speed(h,m,_),S=function(){var V=ps(this,y.extend({},d),C);(w||O.get(this,"finish"))&&V.stop(!0)};return S.finish=S,w||C.queue===!1?this.each(S):this.queue(C.queue,S)},stop:function(d,h,m){var _=function(w){var C=w.stop;delete w.stop,C(m)};return typeof d!="string"&&(m=h,h=d,d=void 0),h&&this.queue(d||"fx",[]),this.each(function(){var w=!0,C=d!=null&&d+"queueHooks",S=y.timers,V=O.get(this);if(C)V[C]&&V[C].stop&&_(V[C]);else for(C in V)V[C]&&V[C].stop&&Cce.test(C)&&_(V[C]);for(C=S.length;C--;)S[C].elem===this&&(d==null||S[C].queue===d)&&(S[C].anim.stop(m),w=!1,S.splice(C,1));(w||!m)&&y.dequeue(this,d)})},finish:function(d){return d!==!1&&(d=d||"fx"),this.each(function(){var h,m=O.get(this),_=m[d+"queue"],w=m[d+"queueHooks"],C=y.timers,S=_?_.length:0;for(m.finish=!0,y.queue(this,d,[]),w&&w.stop&&w.stop.call(this,!0),h=C.length;h--;)C[h].elem===this&&C[h].queue===d&&(C[h].anim.stop(!0),C.splice(h,1));for(h=0;h<S;h++)_[h]&&_[h].finish&&_[h].finish.call(this);delete m.finish})}}),y.each(["toggle","show","hide"],function(d,h){var m=y.fn[h];y.fn[h]=function(_,w,C){return _==null||typeof _=="boolean"?m.apply(this,arguments):this.animate(vm(h,!0),_,w,C)}}),y.each({slideDown:vm("show"),slideUp:vm("hide"),slideToggle:vm("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(d,h){y.fn[d]=function(m,_,w){return this.animate(h,m,_,w)}}),y.timers=[],y.fx.tick=function(){var d,h=0,m=y.timers;for(Hu=Date.now();h<m.length;h++)d=m[h],!d()&&m[h]===d&&m.splice(h--,1);m.length||y.fx.stop(),Hu=void 0},y.fx.timer=function(d){y.timers.push(d),y.fx.start()},y.fx.interval=13,y.fx.start=function(){bm||(bm=!0,YE())},y.fx.stop=function(){bm=null},y.fx.speeds={slow:600,fast:200,_default:400},y.fn.delay=function(d,h){return d=y.fx&&y.fx.speeds[d]||d,h=h||"fx",this.queue(h,function(m,_){var w=n.setTimeout(m,d);_.stop=function(){n.clearTimeout(w)}})},(function(){var d=D.createElement("input"),h=D.createElement("select"),m=h.appendChild(D.createElement("option"));d.type="checkbox",g.checkOn=d.value!=="",g.optSelected=m.selected,d=D.createElement("input"),d.value="t",d.type="radio",g.radioValue=d.value==="t"})();var MN,of=y.expr.attrHandle;y.fn.extend({attr:function(d,h){return kn(this,y.attr,d,h,arguments.length>1)},removeAttr:function(d){return this.each(function(){y.removeAttr(this,d)})}}),y.extend({attr:function(d,h,m){var _,w,C=d.nodeType;if(!(C===3||C===8||C===2)){if(typeof d.getAttribute>"u")return y.prop(d,h,m);if((C!==1||!y.isXMLDoc(d))&&(w=y.attrHooks[h.toLowerCase()]||(y.expr.match.bool.test(h)?MN:void 0)),m!==void 0){if(m===null){y.removeAttr(d,h);return}return w&&"set"in w&&(_=w.set(d,m,h))!==void 0?_:(d.setAttribute(h,m+""),m)}return w&&"get"in w&&(_=w.get(d,h))!==null?_:(_=y.find.attr(d,h),_??void 0)}},attrHooks:{type:{set:function(d,h){if(!g.radioValue&&h==="radio"&&De(d,"input")){var m=d.value;return d.setAttribute("type",h),m&&(d.value=m),h}}}},removeAttr:function(d,h){var m,_=0,w=h&&h.match(Yn);if(w&&d.nodeType===1)for(;m=w[_++];)d.removeAttribute(m)}}),MN={set:function(d,h,m){return h===!1?y.removeAttr(d,m):d.setAttribute(m,m),m}},y.each(y.expr.match.bool.source.match(/\w+/g),function(d,h){var m=of[h]||y.find.attr;of[h]=function(_,w,C){var S,V,B=w.toLowerCase();return C||(V=of[B],of[B]=S,S=m(_,w,C)!=null?B:null,of[B]=V),S}});var Tce=/^(?:input|select|textarea|button)$/i,Ace=/^(?:a|area)$/i;y.fn.extend({prop:function(d,h){return kn(this,y.prop,d,h,arguments.length>1)},removeProp:function(d){return this.each(function(){delete this[y.propFix[d]||d]})}}),y.extend({prop:function(d,h,m){var _,w,C=d.nodeType;if(!(C===3||C===8||C===2))return(C!==1||!y.isXMLDoc(d))&&(h=y.propFix[h]||h,w=y.propHooks[h]),m!==void 0?w&&"set"in w&&(_=w.set(d,m,h))!==void 0?_:d[h]=m:w&&"get"in w&&(_=w.get(d,h))!==null?_:d[h]},propHooks:{tabIndex:{get:function(d){var h=y.find.attr(d,"tabindex");return h?parseInt(h,10):Tce.test(d.nodeName)||Ace.test(d.nodeName)&&d.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(y.propHooks.selected={get:function(d){var h=d.parentNode;return h&&h.parentNode&&h.parentNode.selectedIndex,null},set:function(d){var h=d.parentNode;h&&(h.selectedIndex,h.parentNode&&h.parentNode.selectedIndex)}}),y.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){y.propFix[this.toLowerCase()]=this});function bc(d){var h=d.match(Yn)||[];return h.join(" ")}function vc(d){return d.getAttribute&&d.getAttribute("class")||""}function JE(d){return Array.isArray(d)?d:typeof d=="string"?d.match(Yn)||[]:[]}y.fn.extend({addClass:function(d){var h,m,_,w,C,S;return v(d)?this.each(function(V){y(this).addClass(d.call(this,V,vc(this)))}):(h=JE(d),h.length?this.each(function(){if(_=vc(this),m=this.nodeType===1&&" "+bc(_)+" ",m){for(C=0;C<h.length;C++)w=h[C],m.indexOf(" "+w+" ")<0&&(m+=w+" ");S=bc(m),_!==S&&this.setAttribute("class",S)}}):this)},removeClass:function(d){var h,m,_,w,C,S;return v(d)?this.each(function(V){y(this).removeClass(d.call(this,V,vc(this)))}):arguments.length?(h=JE(d),h.length?this.each(function(){if(_=vc(this),m=this.nodeType===1&&" "+bc(_)+" ",m){for(C=0;C<h.length;C++)for(w=h[C];m.indexOf(" "+w+" ")>-1;)m=m.replace(" "+w+" "," ");S=bc(m),_!==S&&this.setAttribute("class",S)}}):this):this.attr("class","")},toggleClass:function(d,h){var m,_,w,C,S=typeof d,V=S==="string"||Array.isArray(d);return v(d)?this.each(function(B){y(this).toggleClass(d.call(this,B,vc(this),h),h)}):typeof h=="boolean"&&V?h?this.addClass(d):this.removeClass(d):(m=JE(d),this.each(function(){if(V)for(C=y(this),w=0;w<m.length;w++)_=m[w],C.hasClass(_)?C.removeClass(_):C.addClass(_);else(d===void 0||S==="boolean")&&(_=vc(this),_&&O.set(this,"__className__",_),this.setAttribute&&this.setAttribute("class",_||d===!1?"":O.get(this,"__className__")||""))}))},hasClass:function(d){var h,m,_=0;for(h=" "+d+" ";m=this[_++];)if(m.nodeType===1&&(" "+bc(vc(m))+" ").indexOf(h)>-1)return!0;return!1}});var Sce=/\r/g;y.fn.extend({val:function(d){var h,m,_,w=this[0];return arguments.length?(_=v(d),this.each(function(C){var S;this.nodeType===1&&(_?S=d.call(this,C,y(this).val()):S=d,S==null?S="":typeof S=="number"?S+="":Array.isArray(S)&&(S=y.map(S,function(V){return V==null?"":V+""})),h=y.valHooks[this.type]||y.valHooks[this.nodeName.toLowerCase()],(!h||!("set"in h)||h.set(this,S,"value")===void 0)&&(this.value=S))})):w?(h=y.valHooks[w.type]||y.valHooks[w.nodeName.toLowerCase()],h&&"get"in h&&(m=h.get(w,"value"))!==void 0?m:(m=w.value,typeof m=="string"?m.replace(Sce,""):m??"")):void 0}}),y.extend({valHooks:{option:{get:function(d){var h=y.find.attr(d,"value");return h??bc(y.text(d))}},select:{get:function(d){var h,m,_,w=d.options,C=d.selectedIndex,S=d.type==="select-one",V=S?null:[],B=S?C+1:w.length;for(C<0?_=B:_=S?C:0;_<B;_++)if(m=w[_],(m.selected||_===C)&&!m.disabled&&(!m.parentNode.disabled||!De(m.parentNode,"optgroup"))){if(h=y(m).val(),S)return h;V.push(h)}return V},set:function(d,h){for(var m,_,w=d.options,C=y.makeArray(h),S=w.length;S--;)_=w[S],(_.selected=y.inArray(y.valHooks.option.get(_),C)>-1)&&(m=!0);return m||(d.selectedIndex=-1),C}}}}),y.each(["radio","checkbox"],function(){y.valHooks[this]={set:function(d,h){if(Array.isArray(h))return d.checked=y.inArray(y(d).val(),h)>-1}},g.checkOn||(y.valHooks[this].get=function(d){return d.getAttribute("value")===null?"on":d.value})});var af=n.location,RN={guid:Date.now()},ZE=/\?/;y.parseXML=function(d){var h,m;if(!d||typeof d!="string")return null;try{h=new n.DOMParser().parseFromString(d,"text/xml")}catch{}return m=h&&h.getElementsByTagName("parsererror")[0],(!h||m)&&y.error("Invalid XML: "+(m?y.map(m.childNodes,function(_){return _.textContent}).join(`
`):d)),h};var NN=/^(?:focusinfocus|focusoutblur)$/,ON=function(d){d.stopPropagation()};y.extend(y.event,{trigger:function(d,h,m,_){var w,C,S,V,B,G,se,le,ne=[m||D],we=l.call(d,"type")?d.type:d,ft=l.call(d,"namespace")?d.namespace.split("."):[];if(C=le=S=m=m||D,!(m.nodeType===3||m.nodeType===8)&&!NN.test(we+y.event.triggered)&&(we.indexOf(".")>-1&&(ft=we.split("."),we=ft.shift(),ft.sort()),B=we.indexOf(":")<0&&"on"+we,d=d[y.expando]?d:new y.Event(we,typeof d=="object"&&d),d.isTrigger=_?2:3,d.namespace=ft.join("."),d.rnamespace=d.namespace?new RegExp("(^|\\.)"+ft.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d.result=void 0,d.target||(d.target=m),h=h==null?[d]:y.makeArray(h,[d]),se=y.event.special[we]||{},!(!_&&se.trigger&&se.trigger.apply(m,h)===!1))){if(!_&&!se.noBubble&&!E(m)){for(V=se.delegateType||we,NN.test(V+we)||(C=C.parentNode);C;C=C.parentNode)ne.push(C),S=C;S===(m.ownerDocument||D)&&ne.push(S.defaultView||S.parentWindow||n)}for(w=0;(C=ne[w++])&&!d.isPropagationStopped();)le=C,d.type=w>1?V:se.bindType||we,G=(O.get(C,"events")||Object.create(null))[d.type]&&O.get(C,"handle"),G&&G.apply(C,h),G=B&&C[B],G&&G.apply&&dr(C)&&(d.result=G.apply(C,h),d.result===!1&&d.preventDefault());return d.type=we,!_&&!d.isDefaultPrevented()&&(!se._default||se._default.apply(ne.pop(),h)===!1)&&dr(m)&&B&&v(m[we])&&!E(m)&&(S=m[B],S&&(m[B]=null),y.event.triggered=we,d.isPropagationStopped()&&le.addEventListener(we,ON),m[we](),d.isPropagationStopped()&&le.removeEventListener(we,ON),y.event.triggered=void 0,S&&(m[B]=S)),d.result}},simulate:function(d,h,m){var _=y.extend(new y.Event,m,{type:d,isSimulated:!0});y.event.trigger(_,null,h)}}),y.fn.extend({trigger:function(d,h){return this.each(function(){y.event.trigger(d,h,this)})},triggerHandler:function(d,h){var m=this[0];if(m)return y.event.trigger(d,h,m,!0)}});var Ice=/\[\]$/,PN=/\r?\n/g,Mce=/^(?:submit|button|image|reset|file)$/i,Rce=/^(?:input|select|textarea|keygen)/i;function XE(d,h,m,_){var w;if(Array.isArray(h))y.each(h,function(C,S){m||Ice.test(d)?_(d,S):XE(d+"["+(typeof S=="object"&&S!=null?C:"")+"]",S,m,_)});else if(!m&&J(h)==="object")for(w in h)XE(d+"["+w+"]",h[w],m,_);else _(d,h)}y.param=function(d,h){var m,_=[],w=function(C,S){var V=v(S)?S():S;_[_.length]=encodeURIComponent(C)+"="+encodeURIComponent(V??"")};if(d==null)return"";if(Array.isArray(d)||d.jquery&&!y.isPlainObject(d))y.each(d,function(){w(this.name,this.value)});else for(m in d)XE(m,d[m],h,w);return _.join("&")},y.fn.extend({serialize:function(){return y.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var d=y.prop(this,"elements");return d?y.makeArray(d):this}).filter(function(){var d=this.type;return this.name&&!y(this).is(":disabled")&&Rce.test(this.nodeName)&&!Mce.test(d)&&(this.checked||!Ce.test(d))}).map(function(d,h){var m=y(this).val();return m==null?null:Array.isArray(m)?y.map(m,function(_){return{name:h.name,value:_.replace(PN,`\r
`)}}):{name:h.name,value:m.replace(PN,`\r
`)}}).get()}});var Nce=/%20/g,Oce=/#.*$/,Pce=/([?&])_=[^&]*/,Fce=/^(.*?):[ \t]*([^\r\n]*)$/mg,kce=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Lce=/^(?:GET|HEAD)$/,Bce=/^\/\//,FN={},ew={},kN="*/".concat("*"),tw=D.createElement("a");tw.href=af.href;function LN(d){return function(h,m){typeof h!="string"&&(m=h,h="*");var _,w=0,C=h.toLowerCase().match(Yn)||[];if(v(m))for(;_=C[w++];)_[0]==="+"?(_=_.slice(1)||"*",(d[_]=d[_]||[]).unshift(m)):(d[_]=d[_]||[]).push(m)}}function BN(d,h,m,_){var w={},C=d===ew;function S(V){var B;return w[V]=!0,y.each(d[V]||[],function(G,se){var le=se(h,m,_);if(typeof le=="string"&&!C&&!w[le])return h.dataTypes.unshift(le),S(le),!1;if(C)return!(B=le)}),B}return S(h.dataTypes[0])||!w["*"]&&S("*")}function nw(d,h){var m,_,w=y.ajaxSettings.flatOptions||{};for(m in h)h[m]!==void 0&&((w[m]?d:_||(_={}))[m]=h[m]);return _&&y.extend(!0,d,_),d}function qce(d,h,m){for(var _,w,C,S,V=d.contents,B=d.dataTypes;B[0]==="*";)B.shift(),_===void 0&&(_=d.mimeType||h.getResponseHeader("Content-Type"));if(_){for(w in V)if(V[w]&&V[w].test(_)){B.unshift(w);break}}if(B[0]in m)C=B[0];else{for(w in m){if(!B[0]||d.converters[w+" "+B[0]]){C=w;break}S||(S=w)}C=C||S}if(C)return C!==B[0]&&B.unshift(C),m[C]}function jce(d,h,m,_){var w,C,S,V,B,G={},se=d.dataTypes.slice();if(se[1])for(S in d.converters)G[S.toLowerCase()]=d.converters[S];for(C=se.shift();C;)if(d.responseFields[C]&&(m[d.responseFields[C]]=h),!B&&_&&d.dataFilter&&(h=d.dataFilter(h,d.dataType)),B=C,C=se.shift(),C){if(C==="*")C=B;else if(B!=="*"&&B!==C){if(S=G[B+" "+C]||G["* "+C],!S){for(w in G)if(V=w.split(" "),V[1]===C&&(S=G[B+" "+V[0]]||G["* "+V[0]],S)){S===!0?S=G[w]:G[w]!==!0&&(C=V[0],se.unshift(V[1]));break}}if(S!==!0)if(S&&d.throws)h=S(h);else try{h=S(h)}catch(le){return{state:"parsererror",error:S?le:"No conversion from "+B+" to "+C}}}}return{state:"success",data:h}}y.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:af.href,type:"GET",isLocal:kce.test(af.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":kN,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":y.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(d,h){return h?nw(nw(d,y.ajaxSettings),h):nw(y.ajaxSettings,d)},ajaxPrefilter:LN(FN),ajaxTransport:LN(ew),ajax:function(d,h){typeof d=="object"&&(h=d,d=void 0),h=h||{};var m,_,w,C,S,V,B,G,se,le,ne=y.ajaxSetup({},h),we=ne.context||ne,ft=ne.context&&(we.nodeType||we.jquery)?y(we):y.event,$t=y.Deferred(),At=y.Callbacks("once memory"),Er=ne.statusCode||{},er={},$s={},Vs="canceled",Bt={readyState:0,getResponseHeader:function(Ut){var Rn;if(B){if(!C)for(C={};Rn=Fce.exec(w);)C[Rn[1].toLowerCase()+" "]=(C[Rn[1].toLowerCase()+" "]||[]).concat(Rn[2]);Rn=C[Ut.toLowerCase()+" "]}return Rn==null?null:Rn.join(", ")},getAllResponseHeaders:function(){return B?w:null},setRequestHeader:function(Ut,Rn){return B==null&&(Ut=$s[Ut.toLowerCase()]=$s[Ut.toLowerCase()]||Ut,er[Ut]=Rn),this},overrideMimeType:function(Ut){return B==null&&(ne.mimeType=Ut),this},statusCode:function(Ut){var Rn;if(Ut)if(B)Bt.always(Ut[Bt.status]);else for(Rn in Ut)Er[Rn]=[Er[Rn],Ut[Rn]];return this},abort:function(Ut){var Rn=Ut||Vs;return m&&m.abort(Rn),_c(0,Rn),this}};if($t.promise(Bt),ne.url=((d||ne.url||af.href)+"").replace(Bce,af.protocol+"//"),ne.type=h.method||h.type||ne.method||ne.type,ne.dataTypes=(ne.dataType||"*").toLowerCase().match(Yn)||[""],ne.crossDomain==null){V=D.createElement("a");try{V.href=ne.url,V.href=V.href,ne.crossDomain=tw.protocol+"//"+tw.host!=V.protocol+"//"+V.host}catch{ne.crossDomain=!0}}if(ne.data&&ne.processData&&typeof ne.data!="string"&&(ne.data=y.param(ne.data,ne.traditional)),BN(FN,ne,h,Bt),B)return Bt;G=y.event&&ne.global,G&&y.active++===0&&y.event.trigger("ajaxStart"),ne.type=ne.type.toUpperCase(),ne.hasContent=!Lce.test(ne.type),_=ne.url.replace(Oce,""),ne.hasContent?ne.data&&ne.processData&&(ne.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(ne.data=ne.data.replace(Nce,"+")):(le=ne.url.slice(_.length),ne.data&&(ne.processData||typeof ne.data=="string")&&(_+=(ZE.test(_)?"&":"?")+ne.data,delete ne.data),ne.cache===!1&&(_=_.replace(Pce,"$1"),le=(ZE.test(_)?"&":"?")+"_="+RN.guid+++le),ne.url=_+le),ne.ifModified&&(y.lastModified[_]&&Bt.setRequestHeader("If-Modified-Since",y.lastModified[_]),y.etag[_]&&Bt.setRequestHeader("If-None-Match",y.etag[_])),(ne.data&&ne.hasContent&&ne.contentType!==!1||h.contentType)&&Bt.setRequestHeader("Content-Type",ne.contentType),Bt.setRequestHeader("Accept",ne.dataTypes[0]&&ne.accepts[ne.dataTypes[0]]?ne.accepts[ne.dataTypes[0]]+(ne.dataTypes[0]!=="*"?", "+kN+"; q=0.01":""):ne.accepts["*"]);for(se in ne.headers)Bt.setRequestHeader(se,ne.headers[se]);if(ne.beforeSend&&(ne.beforeSend.call(we,Bt,ne)===!1||B))return Bt.abort();if(Vs="abort",At.add(ne.complete),Bt.done(ne.success),Bt.fail(ne.error),m=BN(ew,ne,h,Bt),!m)_c(-1,"No Transport");else{if(Bt.readyState=1,G&&ft.trigger("ajaxSend",[Bt,ne]),B)return Bt;ne.async&&ne.timeout>0&&(S=n.setTimeout(function(){Bt.abort("timeout")},ne.timeout));try{B=!1,m.send(er,_c)}catch(Ut){if(B)throw Ut;_c(-1,Ut)}}function _c(Ut,Rn,uf,iw){var Us,lf,Hs,pa,ma,Yi=Rn;B||(B=!0,S&&n.clearTimeout(S),m=void 0,w=iw||"",Bt.readyState=Ut>0?4:0,Us=Ut>=200&&Ut<300||Ut===304,uf&&(pa=qce(ne,Bt,uf)),!Us&&y.inArray("script",ne.dataTypes)>-1&&y.inArray("json",ne.dataTypes)<0&&(ne.converters["text script"]=function(){}),pa=jce(ne,pa,Bt,Us),Us?(ne.ifModified&&(ma=Bt.getResponseHeader("Last-Modified"),ma&&(y.lastModified[_]=ma),ma=Bt.getResponseHeader("etag"),ma&&(y.etag[_]=ma)),Ut===204||ne.type==="HEAD"?Yi="nocontent":Ut===304?Yi="notmodified":(Yi=pa.state,lf=pa.data,Hs=pa.error,Us=!Hs)):(Hs=Yi,(Ut||!Yi)&&(Yi="error",Ut<0&&(Ut=0))),Bt.status=Ut,Bt.statusText=(Rn||Yi)+"",Us?$t.resolveWith(we,[lf,Yi,Bt]):$t.rejectWith(we,[Bt,Yi,Hs]),Bt.statusCode(Er),Er=void 0,G&&ft.trigger(Us?"ajaxSuccess":"ajaxError",[Bt,ne,Us?lf:Hs]),At.fireWith(we,[Bt,Yi]),G&&(ft.trigger("ajaxComplete",[Bt,ne]),--y.active||y.event.trigger("ajaxStop")))}return Bt},getJSON:function(d,h,m){return y.get(d,h,m,"json")},getScript:function(d,h){return y.get(d,void 0,h,"script")}}),y.each(["get","post"],function(d,h){y[h]=function(m,_,w,C){return v(_)&&(C=C||w,w=_,_=void 0),y.ajax(y.extend({url:m,type:h,dataType:C,data:_,success:w},y.isPlainObject(m)&&m))}}),y.ajaxPrefilter(function(d){var h;for(h in d.headers)h.toLowerCase()==="content-type"&&(d.contentType=d.headers[h]||"")}),y._evalUrl=function(d,h,m){return y.ajax({url:d,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(_){y.globalEval(_,h,m)}})},y.fn.extend({wrapAll:function(d){var h;return this[0]&&(v(d)&&(d=d.call(this[0])),h=y(d,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&h.insertBefore(this[0]),h.map(function(){for(var m=this;m.firstElementChild;)m=m.firstElementChild;return m}).append(this)),this},wrapInner:function(d){return v(d)?this.each(function(h){y(this).wrapInner(d.call(this,h))}):this.each(function(){var h=y(this),m=h.contents();m.length?m.wrapAll(d):h.append(d)})},wrap:function(d){var h=v(d);return this.each(function(m){y(this).wrapAll(h?d.call(this,m):d)})},unwrap:function(d){return this.parent(d).not("body").each(function(){y(this).replaceWith(this.childNodes)}),this}}),y.expr.pseudos.hidden=function(d){return!y.expr.pseudos.visible(d)},y.expr.pseudos.visible=function(d){return!!(d.offsetWidth||d.offsetHeight||d.getClientRects().length)},y.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch{}};var $ce={0:200,1223:204},cf=y.ajaxSettings.xhr();g.cors=!!cf&&"withCredentials"in cf,g.ajax=cf=!!cf,y.ajaxTransport(function(d){var h,m;if(g.cors||cf&&!d.crossDomain)return{send:function(_,w){var C,S=d.xhr();if(S.open(d.type,d.url,d.async,d.username,d.password),d.xhrFields)for(C in d.xhrFields)S[C]=d.xhrFields[C];d.mimeType&&S.overrideMimeType&&S.overrideMimeType(d.mimeType),!d.crossDomain&&!_["X-Requested-With"]&&(_["X-Requested-With"]="XMLHttpRequest");for(C in _)S.setRequestHeader(C,_[C]);h=function(V){return function(){h&&(h=m=S.onload=S.onerror=S.onabort=S.ontimeout=S.onreadystatechange=null,V==="abort"?S.abort():V==="error"?typeof S.status!="number"?w(0,"error"):w(S.status,S.statusText):w($ce[S.status]||S.status,S.statusText,(S.responseType||"text")!=="text"||typeof S.responseText!="string"?{binary:S.response}:{text:S.responseText},S.getAllResponseHeaders()))}},S.onload=h(),m=S.onerror=S.ontimeout=h("error"),S.onabort!==void 0?S.onabort=m:S.onreadystatechange=function(){S.readyState===4&&n.setTimeout(function(){h&&m()})},h=h("abort");try{S.send(d.hasContent&&d.data||null)}catch(V){if(h)throw V}},abort:function(){h&&h()}}}),y.ajaxPrefilter(function(d){d.crossDomain&&(d.contents.script=!1)}),y.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(d){return y.globalEval(d),d}}}),y.ajaxPrefilter("script",function(d){d.cache===void 0&&(d.cache=!1),d.crossDomain&&(d.type="GET")}),y.ajaxTransport("script",function(d){if(d.crossDomain||d.scriptAttrs){var h,m;return{send:function(_,w){h=y("<script>").attr(d.scriptAttrs||{}).prop({charset:d.scriptCharset,src:d.url}).on("load error",m=function(C){h.remove(),m=null,C&&w(C.type==="error"?404:200,C.type)}),D.head.appendChild(h[0])},abort:function(){m&&m()}}}});var qN=[],rw=/(=)\?(?=&|$)|\?\?/;y.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var d=qN.pop()||y.expando+"_"+RN.guid++;return this[d]=!0,d}}),y.ajaxPrefilter("json jsonp",function(d,h,m){var _,w,C,S=d.jsonp!==!1&&(rw.test(d.url)?"url":typeof d.data=="string"&&(d.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&rw.test(d.data)&&"data");if(S||d.dataTypes[0]==="jsonp")return _=d.jsonpCallback=v(d.jsonpCallback)?d.jsonpCallback():d.jsonpCallback,S?d[S]=d[S].replace(rw,"$1"+_):d.jsonp!==!1&&(d.url+=(ZE.test(d.url)?"&":"?")+d.jsonp+"="+_),d.converters["script json"]=function(){return C||y.error(_+" was not called"),C[0]},d.dataTypes[0]="json",w=n[_],n[_]=function(){C=arguments},m.always(function(){w===void 0?y(n).removeProp(_):n[_]=w,d[_]&&(d.jsonpCallback=h.jsonpCallback,qN.push(_)),C&&v(w)&&w(C[0]),C=w=void 0}),"script"}),g.createHTMLDocument=(function(){var d=D.implementation.createHTMLDocument("").body;return d.innerHTML="<form></form><form></form>",d.childNodes.length===2})(),y.parseHTML=function(d,h,m){if(typeof d!="string")return[];typeof h=="boolean"&&(m=h,h=!1);var _,w,C;return h||(g.createHTMLDocument?(h=D.implementation.createHTMLDocument(""),_=h.createElement("base"),_.href=D.location.href,h.head.appendChild(_)):h=D),w=xn.exec(d),C=!m&&[],w?[h.createElement(w[1])]:(w=Mr([d],h,C),C&&C.length&&y(C).remove(),y.merge([],w.childNodes))},y.fn.load=function(d,h,m){var _,w,C,S=this,V=d.indexOf(" ");return V>-1&&(_=bc(d.slice(V)),d=d.slice(0,V)),v(h)?(m=h,h=void 0):h&&typeof h=="object"&&(w="POST"),S.length>0&&y.ajax({url:d,type:w||"GET",dataType:"html",data:h}).done(function(B){C=arguments,S.html(_?y("<div>").append(y.parseHTML(B)).find(_):B)}).always(m&&function(B,G){S.each(function(){m.apply(this,C||[B.responseText,G,B])})}),this},y.expr.pseudos.animated=function(d){return y.grep(y.timers,function(h){return d===h.elem}).length},y.offset={setOffset:function(d,h,m){var _,w,C,S,V,B,G,se=y.css(d,"position"),le=y(d),ne={};se==="static"&&(d.style.position="relative"),V=le.offset(),C=y.css(d,"top"),B=y.css(d,"left"),G=(se==="absolute"||se==="fixed")&&(C+B).indexOf("auto")>-1,G?(_=le.position(),S=_.top,w=_.left):(S=parseFloat(C)||0,w=parseFloat(B)||0),v(h)&&(h=h.call(d,m,y.extend({},V))),h.top!=null&&(ne.top=h.top-V.top+S),h.left!=null&&(ne.left=h.left-V.left+w),"using"in h?h.using.call(d,ne):le.css(ne)}},y.fn.extend({offset:function(d){if(arguments.length)return d===void 0?this:this.each(function(w){y.offset.setOffset(this,d,w)});var h,m,_=this[0];if(_)return _.getClientRects().length?(h=_.getBoundingClientRect(),m=_.ownerDocument.defaultView,{top:h.top+m.pageYOffset,left:h.left+m.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var d,h,m,_=this[0],w={top:0,left:0};if(y.css(_,"position")==="fixed")h=_.getBoundingClientRect();else{for(h=this.offset(),m=_.ownerDocument,d=_.offsetParent||m.documentElement;d&&(d===m.body||d===m.documentElement)&&y.css(d,"position")==="static";)d=d.parentNode;d&&d!==_&&d.nodeType===1&&(w=y(d).offset(),w.top+=y.css(d,"borderTopWidth",!0),w.left+=y.css(d,"borderLeftWidth",!0))}return{top:h.top-w.top-y.css(_,"marginTop",!0),left:h.left-w.left-y.css(_,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var d=this.offsetParent;d&&y.css(d,"position")==="static";)d=d.offsetParent;return d||j})}}),y.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(d,h){var m=h==="pageYOffset";y.fn[d]=function(_){return kn(this,function(w,C,S){var V;if(E(w)?V=w:w.nodeType===9&&(V=w.defaultView),S===void 0)return V?V[h]:w[C];V?V.scrollTo(m?V.pageXOffset:S,m?S:V.pageYOffset):w[C]=S},d,_,arguments.length)}}),y.each(["top","left"],function(d,h){y.cssHooks[h]=ym(g.pixelPosition,function(m,_){if(_)return _=gc(m,h),ci.test(_)?y(m).position()[h]+"px":_})}),y.each({Height:"height",Width:"width"},function(d,h){y.each({padding:"inner"+d,content:h,"":"outer"+d},function(m,_){y.fn[_]=function(w,C){var S=arguments.length&&(m||typeof w!="boolean"),V=m||(w===!0||C===!0?"margin":"border");return kn(this,function(B,G,se){var le;return E(B)?_.indexOf("outer")===0?B["inner"+d]:B.document.documentElement["client"+d]:B.nodeType===9?(le=B.documentElement,Math.max(B.body["scroll"+d],le["scroll"+d],B.body["offset"+d],le["offset"+d],le["client"+d])):se===void 0?y.css(B,G,V):y.style(B,G,se,V)},h,S?w:void 0,S)}})}),y.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(d,h){y.fn[h]=function(m){return this.on(h,m)}}),y.fn.extend({bind:function(d,h,m){return this.on(d,null,h,m)},unbind:function(d,h){return this.off(d,null,h)},delegate:function(d,h,m,_){return this.on(h,d,m,_)},undelegate:function(d,h,m){return arguments.length===1?this.off(d,"**"):this.off(h,d||"**",m)},hover:function(d,h){return this.on("mouseenter",d).on("mouseleave",h||d)}}),y.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(d,h){y.fn[h]=function(m,_){return arguments.length>0?this.on(h,null,m,_):this.trigger(h)}});var Vce=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;y.proxy=function(d,h){var m,_,w;if(typeof h=="string"&&(m=d[h],h=d,d=m),!!v(d))return _=i.call(arguments,2),w=function(){return d.apply(h||this,_.concat(i.call(arguments)))},w.guid=d.guid=d.guid||y.guid++,w},y.holdReady=function(d){d?y.readyWait++:y.ready(!0)},y.isArray=Array.isArray,y.parseJSON=JSON.parse,y.nodeName=De,y.isFunction=v,y.isWindow=E,y.camelCase=cn,y.type=J,y.now=Date.now,y.isNumeric=function(d){var h=y.type(d);return(h==="number"||h==="string")&&!isNaN(d-parseFloat(d))},y.trim=function(d){return d==null?"":(d+"").replace(Vce,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return y});var Uce=n.jQuery,Hce=n.$;return y.noConflict=function(d){return n.$===y&&(n.$=Hce),d&&n.jQuery===y&&(n.jQuery=Uce),y},typeof e>"u"&&(n.jQuery=n.$=y),y})});var GX=b((zX,EI)=>{(function(n){"use strict";if(typeof bootstrap=="function")bootstrap("promise",n);else if(typeof zX=="object"&&typeof EI=="object")EI.exports=n();else if(typeof define=="function"&&define.amd)define(n);else if(typeof ses<"u")if(ses.ok())ses.makeQ=n;else return;else if(typeof window<"u"||typeof self<"u"){var e=typeof window<"u"?window:self,t=e.Q;e.Q=n(),e.Q.noConflict=function(){return e.Q=t,this}}else throw new Error("This environment was not anticipated by Q. Please file a bug.")})(function(){"use strict";var n=!1;try{throw new Error}catch(x){n=!!x.stack}var e=Ve(),t,r=function(){},i=(function(){var x={task:void 0,next:null},T=x,L=!1,M=void 0,A=!1,j=[];function H(){for(var xe,ae;x.next;)x=x.next,xe=x.task,x.task=void 0,ae=x.domain,ae&&(x.domain=void 0,ae.enter()),fe(xe,ae);for(;j.length;)xe=j.pop(),fe(xe);L=!1}function fe(xe,ae){try{xe()}catch(ve){if(A)throw ae&&ae.exit(),setTimeout(H,0),ae&&ae.enter(),ve;setTimeout(function(){throw ve},0)}ae&&ae.exit()}if(i=function(xe){T=T.next={task:xe,domain:A&&process.domain,next:null},L||(L=!0,M())},typeof process=="object"&&process.toString()==="[object process]"&&process.nextTick)A=!0,M=function(){process.nextTick(H)};else if(typeof setImmediate=="function")typeof window<"u"?M=setImmediate.bind(window,H):M=function(){setImmediate(H)};else if(typeof MessageChannel<"u"){var be=new MessageChannel;be.port1.onmessage=function(){M=Ie,be.port1.onmessage=H,H()};var Ie=function(){be.port2.postMessage(0)};M=function(){setTimeout(H,0),Ie()}}else M=function(){setTimeout(H,0)};return i.runAfter=function(xe){j.push(xe),L||(L=!0,M())},i})(),s=Function.call;function o(x){return function(){return s.apply(x,arguments)}}var a=o(Array.prototype.slice),c=o(Array.prototype.reduce||function(x,T){var L=0,M=this.length;if(arguments.length===1)do{if(L in this){T=this[L++];break}if(++L>=M)throw new TypeError}while(!0);for(;L<M;L++)L in this&&(T=x(T,this[L],L));return T}),u=o(Array.prototype.indexOf||function(x){for(var T=0;T<this.length;T++)if(this[T]===x)return T;return-1}),l=o(Array.prototype.map||function(x,T){var L=this,M=[];return c(L,function(A,j,H){M.push(x.call(T,j,H,L))},void 0),M}),f=Object.create||function(x){function T(){}return T.prototype=x,new T},p=Object.defineProperty||function(x,T,L){return x[T]=L.value,x},g=o(Object.prototype.hasOwnProperty),v=Object.keys||function(x){var T=[];for(var L in x)g(x,L)&&T.push(L);return T},E=o(Object.prototype.toString);function D(x){return x===Object(x)}function P(x){return E(x)==="[object StopIteration]"||x instanceof K}var K;typeof ReturnValue<"u"?K=ReturnValue:K=function(x){this.value=x};var J="From previous event:";function re(x,T){if(n&&T.stack&&typeof x=="object"&&x!==null&&x.stack){for(var L=[],M=T;M;M=M.source)M.stack&&(!x.__minimumStackCounter__||x.__minimumStackCounter__>M.stackCounter)&&(p(x,"__minimumStackCounter__",{value:M.stackCounter,configurable:!0}),L.unshift(M.stack));L.unshift(x.stack);var A=L.join(`
`+J+`
`),j=he(A);p(x,"stack",{value:j,configurable:!0})}}function he(x){for(var T=x.split(`
`),L=[],M=0;M<T.length;++M){var A=T[M];!De(A)&&!y(A)&&A&&L.push(A)}return L.join(`
`)}function y(x){return x.indexOf("(module.js:")!==-1||x.indexOf("(node.js:")!==-1}function Te(x){var T=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(x);if(T)return[T[1],Number(T[2])];var L=/at ([^ ]+):(\d+):(?:\d+)$/.exec(x);if(L)return[L[1],Number(L[2])];var M=/.*@(.+):(\d+)$/.exec(x);if(M)return[M[1],Number(M[2])]}function De(x){var T=Te(x);if(!T)return!1;var L=T[0],M=T[1];return L===t&&M>=e&&M<=te}function Ve(){if(n)try{throw new Error}catch(M){var x=M.stack.split(`
`),T=x[0].indexOf("@")>0?x[1]:x[2],L=Te(T);return L?(t=L[0],L[1]):void 0}}function q(x,T,L){return function(){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(T+" is deprecated, use "+L+" instead.",new Error("").stack),x.apply(x,arguments)}}function I(x){return x instanceof ce?x:Kn(x)?Vt(x):Mn(x)}I.resolve=I,I.nextTick=i,I.longStackSupport=!1;var ee=1;typeof process=="object"&&process&&process.env&&process.env.Q_DEBUG&&(I.longStackSupport=!0),I.defer=de;function de(){var x=[],T=[],L,M=f(de.prototype),A=f(ce.prototype);if(A.promiseDispatch=function(H,fe,be){var Ie=a(arguments);x?(x.push(Ie),fe==="when"&&be[1]&&T.push(be[1])):I.nextTick(function(){L.promiseDispatch.apply(L,Ie)})},A.valueOf=function(){if(x)return A;var H=Mt(L);return Wt(H)&&(L=H),H},A.inspect=function(){return L?L.inspect():{state:"pending"}},I.longStackSupport&&n)try{throw new Error}catch(H){A.stack=H.stack.substring(H.stack.indexOf(`
`)+1),A.stackCounter=ee++}function j(H){L=H,I.longStackSupport&&n&&(A.source=H),c(x,function(fe,be){I.nextTick(function(){H.promiseDispatch.apply(H,be)})},void 0),x=void 0,T=void 0}return M.promise=A,M.resolve=function(H){L||j(I(H))},M.fulfill=function(H){L||j(Mn(H))},M.reject=function(H){L||j(Cn(H))},M.notify=function(H){L||c(T,function(fe,be){I.nextTick(function(){be(H)})},void 0)},M}de.prototype.makeNodeResolver=function(){var x=this;return function(T,L){T?x.reject(T):arguments.length>2?x.resolve(a(arguments,1)):x.resolve(L)}},I.Promise=pe,I.promise=pe;function pe(x){if(typeof x!="function")throw new TypeError("resolver must be a function.");var T=de();try{x(T.resolve,T.reject,T.notify)}catch(L){T.reject(L)}return T.promise}pe.race=Ke,pe.all=cn,pe.reject=Cn,pe.resolve=I,I.passByCopy=function(x){return x},ce.prototype.passByCopy=function(){return this},I.join=function(x,T){return I(x).join(T)},ce.prototype.join=function(x){return I([this,x]).spread(function(T,L){if(T===L)return T;throw new Error("Q can't join: not the same: "+T+" "+L)})},I.race=Ke;function Ke(x){return pe(function(T,L){for(var M=0,A=x.length;M<A;M++)I(x[M]).then(T,L)})}ce.prototype.race=function(){return this.then(I.race)},I.makePromise=ce;function ce(x,T,L){T===void 0&&(T=function(j){return Cn(new Error("Promise does not support operation: "+j))}),L===void 0&&(L=function(){return{state:"unknown"}});var M=f(ce.prototype);if(M.promiseDispatch=function(j,H,fe){var be;try{x[H]?be=x[H].apply(M,fe):be=T.call(M,H,fe)}catch(Ie){be=Cn(Ie)}j&&j(be)},M.inspect=L,L){var A=L();A.state==="rejected"&&(M.exception=A.reason),M.valueOf=function(){var j=L();return j.state==="pending"||j.state==="rejected"?M:j.value}}return M}ce.prototype.toString=function(){return"[object Promise]"},ce.prototype.then=function(x,T,L){var M=this,A=de(),j=!1;function H(Ie){try{return typeof x=="function"?x(Ie):Ie}catch(xe){return Cn(xe)}}function fe(Ie){if(typeof T=="function"){re(Ie,M);try{return T(Ie)}catch(xe){return Cn(xe)}}return Cn(Ie)}function be(Ie){return typeof L=="function"?L(Ie):Ie}return I.nextTick(function(){M.promiseDispatch(function(Ie){j||(j=!0,A.resolve(H(Ie)))},"when",[function(Ie){j||(j=!0,A.resolve(fe(Ie)))}])}),M.promiseDispatch(void 0,"when",[void 0,function(Ie){var xe,ae=!1;try{xe=be(Ie)}catch(ve){if(ae=!0,I.onerror)I.onerror(ve);else throw ve}ae||A.notify(xe)}]),A.promise},I.tap=function(x,T){return I(x).tap(T)},ce.prototype.tap=function(x){return x=I(x),this.then(function(T){return x.fcall(T).thenResolve(T)})},I.when=st;function st(x,T,L,M){return I(x).then(T,L,M)}ce.prototype.thenResolve=function(x){return this.then(function(){return x})},I.thenResolve=function(x,T){return I(x).thenResolve(T)},ce.prototype.thenReject=function(x){return this.then(function(){throw x})},I.thenReject=function(x,T){return I(x).thenReject(T)},I.nearer=Mt;function Mt(x){if(Wt(x)){var T=x.inspect();if(T.state==="fulfilled")return T.value}return x}I.isPromise=Wt;function Wt(x){return x instanceof ce}I.isPromiseAlike=Kn;function Kn(x){return D(x)&&typeof x.then=="function"}I.isPending=xn;function xn(x){return Wt(x)&&x.inspect().state==="pending"}ce.prototype.isPending=function(){return this.inspect().state==="pending"},I.isFulfilled=Re;function Re(x){return!Wt(x)||x.inspect().state==="fulfilled"}ce.prototype.isFulfilled=function(){return this.inspect().state==="fulfilled"},I.isRejected=Tn;function Tn(x){return Wt(x)&&x.inspect().state==="rejected"}ce.prototype.isRejected=function(){return this.inspect().state==="rejected"};var In=[],Tt=[],vr=[],Un=!0;function Ci(){In.length=0,Tt.length=0,Un||(Un=!0)}function Yn(x,T){Un&&(typeof process=="object"&&typeof process.emit=="function"&&I.nextTick.runAfter(function(){u(Tt,x)!==-1&&(process.emit("unhandledRejection",T,x),vr.push(x))}),Tt.push(x),T&&typeof T.stack<"u"?In.push(T.stack):In.push("(no stack) "+T))}function ur(x){if(Un){var T=u(Tt,x);T!==-1&&(typeof process=="object"&&typeof process.emit=="function"&&I.nextTick.runAfter(function(){var L=u(vr,x);L!==-1&&(process.emit("rejectionHandled",In[T],x),vr.splice(L,1))}),Tt.splice(T,1),In.splice(T,1))}}I.resetUnhandledRejections=Ci,I.getUnhandledReasons=function(){return In.slice()},I.stopUnhandledRejectionTracking=function(){Ci(),Un=!1},Ci(),I.reject=Cn;function Cn(x){var T=ce({when:function(L){return L&&ur(this),L?L(x):this}},function(){return this},function(){return{state:"rejected",reason:x}});return Yn(T,x),T}I.fulfill=Mn;function Mn(x){return ce({when:function(){return x},get:function(T){return x[T]},set:function(T,L){x[T]=L},delete:function(T){delete x[T]},post:function(T,L){return T==null?x.apply(void 0,L):x[T].apply(x,L)},apply:function(T,L){return x.apply(T,L)},keys:function(){return v(x)}},void 0,function(){return{state:"fulfilled",value:x}})}function Vt(x){var T=de();return I.nextTick(function(){try{x.then(T.resolve,T.reject,T.notify)}catch(L){T.reject(L)}}),T.promise}I.master=Qi;function Qi(x){return ce({isDef:function(){}},function(L,M){return Jt(x,L,M)},function(){return I(x).inspect()})}I.spread=nn;function nn(x,T,L){return I(x).spread(T,L)}ce.prototype.spread=function(x,T){return this.all().then(function(L){return x.apply(void 0,L)},T)},I.async=an;function an(x){return function(){function T(j,H){var fe;if(typeof StopIteration>"u"){try{fe=L[j](H)}catch(be){return Cn(be)}return fe.done?I(fe.value):st(fe.value,M,A)}else{try{fe=L[j](H)}catch(be){return P(be)?I(be.value):Cn(be)}return st(fe,M,A)}}var L=x.apply(this,arguments),M=T.bind(T,"next"),A=T.bind(T,"throw");return M()}}I.spawn=kn;function kn(x){I.done(I.async(x)())}I.return=lr;function lr(x){throw new K(x)}I.promised=Ln;function Ln(x){return function(){return nn([this,cn(arguments)],function(T,L){return x.apply(T,L)})}}I.dispatch=Jt;function Jt(x,T,L){return I(x).dispatch(T,L)}ce.prototype.dispatch=function(x,T){var L=this,M=de();return I.nextTick(function(){L.promiseDispatch(M.resolve,x,T)}),M.promise},I.get=function(x,T){return I(x).dispatch("get",[T])},ce.prototype.get=function(x){return this.dispatch("get",[x])},I.set=function(x,T,L){return I(x).dispatch("set",[T,L])},ce.prototype.set=function(x,T){return this.dispatch("set",[x,T])},I.del=I.delete=function(x,T){return I(x).dispatch("delete",[T])},ce.prototype.del=ce.prototype.delete=function(x){return this.dispatch("delete",[x])},I.mapply=I.post=function(x,T,L){return I(x).dispatch("post",[T,L])},ce.prototype.mapply=ce.prototype.post=function(x,T){return this.dispatch("post",[x,T])},I.send=I.mcall=I.invoke=function(x,T){return I(x).dispatch("post",[T,a(arguments,2)])},ce.prototype.send=ce.prototype.mcall=ce.prototype.invoke=function(x){return this.dispatch("post",[x,a(arguments,1)])},I.fapply=function(x,T){return I(x).dispatch("apply",[void 0,T])},ce.prototype.fapply=function(x){return this.dispatch("apply",[void 0,x])},I.try=I.fcall=function(x){return I(x).dispatch("apply",[void 0,a(arguments,1)])},ce.prototype.fcall=function(){return this.dispatch("apply",[void 0,a(arguments)])},I.fbind=function(x){var T=I(x),L=a(arguments,1);return function(){return T.dispatch("apply",[this,L.concat(a(arguments))])}},ce.prototype.fbind=function(){var x=this,T=a(arguments);return function(){return x.dispatch("apply",[this,T.concat(a(arguments))])}},I.keys=function(x){return I(x).dispatch("keys",[])},ce.prototype.keys=function(){return this.dispatch("keys",[])},I.all=cn;function cn(x){return st(x,function(T){var L=0,M=de();return c(T,function(A,j,H){var fe;Wt(j)&&(fe=j.inspect()).state==="fulfilled"?T[H]=fe.value:(++L,st(j,function(be){T[H]=be,--L===0&&M.resolve(T)},M.reject,function(be){M.notify({index:H,value:be})}))},void 0),L===0&&M.resolve(T),M.promise})}ce.prototype.all=function(){return cn(this)},I.any=dr;function dr(x){if(x.length===0)return I.resolve();var T=I.defer(),L=0;return c(x,function(M,A,j){var H=x[j];L++,st(H,fe,be,Ie);function fe(xe){T.resolve(xe)}function be(xe){if(L--,L===0){var ae=xe||new Error(""+xe);ae.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+ae.message,T.reject(ae)}}function Ie(xe){T.notify({index:j,value:xe})}},void 0),T.promise}ce.prototype.any=function(){return dr(this)},I.allResolved=q(oi,"allResolved","allSettled");function oi(x){return st(x,function(T){return T=l(T,I),st(cn(l(T,function(L){return st(L,r,r)})),function(){return T})})}ce.prototype.allResolved=function(){return oi(this)},I.allSettled=O;function O(x){return I(x).allSettled()}ce.prototype.allSettled=function(){return this.then(function(x){return cn(l(x,function(T){T=I(T);function L(){return T.inspect()}return T.then(L,L)}))})},I.fail=I.catch=function(x,T){return I(x).then(void 0,T)},ce.prototype.fail=ce.prototype.catch=function(x){return this.then(void 0,x)},I.progress=N;function N(x,T){return I(x).then(void 0,void 0,T)}ce.prototype.progress=function(x){return this.then(void 0,void 0,x)},I.fin=I.finally=function(x,T){return I(x).finally(T)},ce.prototype.fin=ce.prototype.finally=function(x){if(!x||typeof x.apply!="function")throw new Error("Q can't apply finally callback");return x=I(x),this.then(function(T){return x.fcall().then(function(){return T})},function(T){return x.fcall().then(function(){throw T})})},I.done=function(x,T,L,M){return I(x).done(T,L,M)},ce.prototype.done=function(x,T,L){var M=function(j){I.nextTick(function(){if(re(j,A),I.onerror)I.onerror(j);else throw j})},A=x||T||L?this.then(x,T,L):this;typeof process=="object"&&process&&process.domain&&(M=process.domain.bind(M)),A.then(void 0,M)},I.timeout=function(x,T,L){return I(x).timeout(T,L)},ce.prototype.timeout=function(x,T){var L=de(),M=setTimeout(function(){(!T||typeof T=="string")&&(T=new Error(T||"Timed out after "+x+" ms"),T.code="ETIMEDOUT"),L.reject(T)},x);return this.then(function(A){clearTimeout(M),L.resolve(A)},function(A){clearTimeout(M),L.reject(A)},L.notify),L.promise},I.delay=function(x,T){return T===void 0&&(T=x,x=void 0),I(x).delay(T)},ce.prototype.delay=function(x){return this.then(function(T){var L=de();return setTimeout(function(){L.resolve(T)},x),L.promise})},I.nfapply=function(x,T){return I(x).nfapply(T)},ce.prototype.nfapply=function(x){var T=de(),L=a(x);return L.push(T.makeNodeResolver()),this.fapply(L).fail(T.reject),T.promise},I.nfcall=function(x){var T=a(arguments,1);return I(x).nfapply(T)},ce.prototype.nfcall=function(){var x=a(arguments),T=de();return x.push(T.makeNodeResolver()),this.fapply(x).fail(T.reject),T.promise},I.nfbind=I.denodeify=function(x){if(x===void 0)throw new Error("Q can't wrap an undefined function");var T=a(arguments,1);return function(){var L=T.concat(a(arguments)),M=de();return L.push(M.makeNodeResolver()),I(x).fapply(L).fail(M.reject),M.promise}},ce.prototype.nfbind=ce.prototype.denodeify=function(){var x=a(arguments);return x.unshift(this),I.denodeify.apply(void 0,x)},I.nbind=function(x,T){var L=a(arguments,2);return function(){var M=L.concat(a(arguments)),A=de();M.push(A.makeNodeResolver());function j(){return x.apply(T,arguments)}return I(j).fapply(M).fail(A.reject),A.promise}},ce.prototype.nbind=function(){var x=a(arguments,0);return x.unshift(this),I.nbind.apply(void 0,x)},I.nmapply=I.npost=function(x,T,L){return I(x).npost(T,L)},ce.prototype.nmapply=ce.prototype.npost=function(x,T){var L=a(T||[]),M=de();return L.push(M.makeNodeResolver()),this.dispatch("post",[x,L]).fail(M.reject),M.promise},I.nsend=I.nmcall=I.ninvoke=function(x,T){var L=a(arguments,2),M=de();return L.push(M.makeNodeResolver()),I(x).dispatch("post",[T,L]).fail(M.reject),M.promise},ce.prototype.nsend=ce.prototype.nmcall=ce.prototype.ninvoke=function(x){var T=a(arguments,1),L=de();return T.push(L.makeNodeResolver()),this.dispatch("post",[x,T]).fail(L.reject),L.promise},I.nodeify=$;function $(x,T){return I(x).nodeify(T)}ce.prototype.nodeify=function(x){if(x)this.then(function(T){I.nextTick(function(){x(null,T)})},function(T){I.nextTick(function(){x(T)})});else return this},I.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var te=Ve();return I})});var NI=b((MI,RI)=>{(function(n,e){typeof MI=="object"&&typeof RI<"u"?RI.exports=e():typeof define=="function"&&define.amd?define(e):n.JSON5=e()})(MI,function(){"use strict";function n(z,oe){return oe={exports:{}},z(oe,oe.exports),oe.exports}var e=n(function(z){var oe=z.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=oe)}),t=n(function(z){var oe=z.exports={version:"2.6.5"};typeof __e=="number"&&(__e=oe)}),r=t.version,i=function(z){return typeof z=="object"?z!==null:typeof z=="function"},s=function(z){if(!i(z))throw TypeError(z+" is not an object!");return z},o=function(z){try{return!!z()}catch{return!0}},a=!o(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7}),c=e.document,u=i(c)&&i(c.createElement),l=function(z){return u?c.createElement(z):{}},f=!a&&!o(function(){return Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a!=7}),p=function(z,oe){if(!i(z))return z;var Ne,Oe;if(oe&&typeof(Ne=z.toString)=="function"&&!i(Oe=Ne.call(z))||typeof(Ne=z.valueOf)=="function"&&!i(Oe=Ne.call(z))||!oe&&typeof(Ne=z.toString)=="function"&&!i(Oe=Ne.call(z)))return Oe;throw TypeError("Can't convert object to primitive value")},g=Object.defineProperty,v=a?Object.defineProperty:function(oe,Ne,Oe){if(s(oe),Ne=p(Ne,!0),s(Oe),f)try{return g(oe,Ne,Oe)}catch{}if("get"in Oe||"set"in Oe)throw TypeError("Accessors not supported!");return"value"in Oe&&(oe[Ne]=Oe.value),oe},E={f:v},D=function(z,oe){return{enumerable:!(z&1),configurable:!(z&2),writable:!(z&4),value:oe}},P=a?function(z,oe,Ne){return E.f(z,oe,D(1,Ne))}:function(z,oe,Ne){return z[oe]=Ne,z},K={}.hasOwnProperty,J=function(z,oe){return K.call(z,oe)},re=0,he=Math.random(),y=function(z){return"Symbol(".concat(z===void 0?"":z,")_",(++re+he).toString(36))},Te=!1,De=n(function(z){var oe="__core-js_shared__",Ne=e[oe]||(e[oe]={});(z.exports=function(Oe,ze){return Ne[Oe]||(Ne[Oe]=ze!==void 0?ze:{})})("versions",[]).push({version:t.version,mode:Te?"pure":"global",copyright:"\xA9 2019 Denis Pushkarev (zloirock.ru)"})}),Ve=De("native-function-to-string",Function.toString),q=n(function(z){var oe=y("src"),Ne="toString",Oe=(""+Ve).split(Ne);t.inspectSource=function(ze){return Ve.call(ze)},(z.exports=function(ze,lt,dt,qn){var Dn=typeof dt=="function";Dn&&(J(dt,"name")||P(dt,"name",lt)),ze[lt]!==dt&&(Dn&&(J(dt,oe)||P(dt,oe,ze[lt]?""+ze[lt]:Oe.join(String(lt)))),ze===e?ze[lt]=dt:qn?ze[lt]?ze[lt]=dt:P(ze,lt,dt):(delete ze[lt],P(ze,lt,dt)))})(Function.prototype,Ne,function(){return typeof this=="function"&&this[oe]||Ve.call(this)})}),I=function(z){if(typeof z!="function")throw TypeError(z+" is not a function!");return z},ee=function(z,oe,Ne){if(I(z),oe===void 0)return z;switch(Ne){case 1:return function(Oe){return z.call(oe,Oe)};case 2:return function(Oe,ze){return z.call(oe,Oe,ze)};case 3:return function(Oe,ze,lt){return z.call(oe,Oe,ze,lt)}}return function(){return z.apply(oe,arguments)}},de="prototype",pe=function(z,oe,Ne){var Oe=z&pe.F,ze=z&pe.G,lt=z&pe.S,dt=z&pe.P,qn=z&pe.B,Dn=ze?e:lt?e[oe]||(e[oe]={}):(e[oe]||{})[de],xo=ze?t:t[oe]||(t[oe]={}),xi=xo[de]||(xo[de]={}),ai,ci,Jn,ds;ze&&(Ne=oe);for(ai in Ne)ci=!Oe&&Dn&&Dn[ai]!==void 0,Jn=(ci?Dn:Ne)[ai],ds=qn&&ci?ee(Jn,e):dt&&typeof Jn=="function"?ee(Function.call,Jn):Jn,Dn&&q(Dn,ai,Jn,z&pe.U),xo[ai]!=Jn&&P(xo,ai,ds),dt&&xi[ai]!=Jn&&(xi[ai]=Jn)};e.core=t,pe.F=1,pe.G=2,pe.S=4,pe.P=8,pe.B=16,pe.W=32,pe.U=64,pe.R=128;var Ke=pe,ce=Math.ceil,st=Math.floor,Mt=function(z){return isNaN(z=+z)?0:(z>0?st:ce)(z)},Wt=function(z){if(z==null)throw TypeError("Can't call method on  "+z);return z},Kn=function(z){return function(oe,Ne){var Oe=String(Wt(oe)),ze=Mt(Ne),lt=Oe.length,dt,qn;return ze<0||ze>=lt?z?"":void 0:(dt=Oe.charCodeAt(ze),dt<55296||dt>56319||ze+1===lt||(qn=Oe.charCodeAt(ze+1))<56320||qn>57343?z?Oe.charAt(ze):dt:z?Oe.slice(ze,ze+2):(dt-55296<<10)+(qn-56320)+65536)}},xn=Kn(!1);Ke(Ke.P,"String",{codePointAt:function(oe){return xn(this,oe)}});var Re=t.String.codePointAt,Tn=Math.max,In=Math.min,Tt=function(z,oe){return z=Mt(z),z<0?Tn(z+oe,0):In(z,oe)},vr=String.fromCharCode,Un=String.fromCodePoint;Ke(Ke.S+Ke.F*(!!Un&&Un.length!=1),"String",{fromCodePoint:function(oe){for(var Ne=arguments,Oe=[],ze=arguments.length,lt=0,dt;ze>lt;){if(dt=+Ne[lt++],Tt(dt,1114111)!==dt)throw RangeError(dt+" is not a valid code point");Oe.push(dt<65536?vr(dt):vr(((dt-=65536)>>10)+55296,dt%1024+56320))}return Oe.join("")}});var Ci=t.String.fromCodePoint,Yn=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,ur=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,Cn=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/,Mn={Space_Separator:Yn,ID_Start:ur,ID_Continue:Cn},Vt={isSpaceSeparator:function(oe){return typeof oe=="string"&&Mn.Space_Separator.test(oe)},isIdStartChar:function(oe){return typeof oe=="string"&&(oe>="a"&&oe<="z"||oe>="A"&&oe<="Z"||oe==="$"||oe==="_"||Mn.ID_Start.test(oe))},isIdContinueChar:function(oe){return typeof oe=="string"&&(oe>="a"&&oe<="z"||oe>="A"&&oe<="Z"||oe>="0"&&oe<="9"||oe==="$"||oe==="_"||oe==="\u200C"||oe==="\u200D"||Mn.ID_Continue.test(oe))},isDigit:function(oe){return typeof oe=="string"&&/[0-9]/.test(oe)},isHexDigit:function(oe){return typeof oe=="string"&&/[0-9A-Fa-f]/.test(oe)}},Qi,nn,an,kn,lr,Ln,Jt,cn,dr,oi=function(oe,Ne){Qi=String(oe),nn="start",an=[],kn=0,lr=1,Ln=0,Jt=void 0,cn=void 0,dr=void 0;do Jt=L(),ae[nn]();while(Jt.type!=="eof");return typeof Ne=="function"?O({"":dr},"",Ne):dr};function O(z,oe,Ne){var Oe=z[oe];if(Oe!=null&&typeof Oe=="object")if(Array.isArray(Oe))for(var ze=0;ze<Oe.length;ze++){var lt=String(ze),dt=O(Oe,lt,Ne);dt===void 0?delete Oe[lt]:Object.defineProperty(Oe,lt,{value:dt,writable:!0,enumerable:!0,configurable:!0})}else for(var qn in Oe){var Dn=O(Oe,qn,Ne);Dn===void 0?delete Oe[qn]:Object.defineProperty(Oe,qn,{value:Dn,writable:!0,enumerable:!0,configurable:!0})}return Ne.call(z,oe,Oe)}var N,$,te,x,T;function L(){for(N="default",$="",te=!1,x=1;;){T=M();var z=j[N]();if(z)return z}}function M(){if(Qi[kn])return String.fromCodePoint(Qi.codePointAt(kn))}function A(){var z=M();return z===`
`?(lr++,Ln=0):z?Ln+=z.length:Ln++,z&&(kn+=z.length),z}var j={default:function(){switch(T){case"	":case"\v":case"\f":case" ":case"\xA0":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":A();return;case"/":A(),N="comment";return;case void 0:return A(),H("eof")}if(Vt.isSpaceSeparator(T)){A();return}return j[nn]()},comment:function(){switch(T){case"*":A(),N="multiLineComment";return;case"/":A(),N="singleLineComment";return}throw ge(A())},multiLineComment:function(){switch(T){case"*":A(),N="multiLineCommentAsterisk";return;case void 0:throw ge(A())}A()},multiLineCommentAsterisk:function(){switch(T){case"*":A();return;case"/":A(),N="default";return;case void 0:throw ge(A())}A(),N="multiLineComment"},singleLineComment:function(){switch(T){case`
`:case"\r":case"\u2028":case"\u2029":A(),N="default";return;case void 0:return A(),H("eof")}A()},value:function(){switch(T){case"{":case"[":return H("punctuator",A());case"n":return A(),fe("ull"),H("null",null);case"t":return A(),fe("rue"),H("boolean",!0);case"f":return A(),fe("alse"),H("boolean",!1);case"-":case"+":A()==="-"&&(x=-1),N="sign";return;case".":$=A(),N="decimalPointLeading";return;case"0":$=A(),N="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":$=A(),N="decimalInteger";return;case"I":return A(),fe("nfinity"),H("numeric",1/0);case"N":return A(),fe("aN"),H("numeric",NaN);case'"':case"'":te=A()==='"',$="",N="string";return}throw ge(A())},identifierNameStartEscape:function(){if(T!=="u")throw ge(A());A();var oe=xe();switch(oe){case"$":case"_":break;default:if(!Vt.isIdStartChar(oe))throw Ue();break}$+=oe,N="identifierName"},identifierName:function(){switch(T){case"$":case"_":case"\u200C":case"\u200D":$+=A();return;case"\\":A(),N="identifierNameEscape";return}if(Vt.isIdContinueChar(T)){$+=A();return}return H("identifier",$)},identifierNameEscape:function(){if(T!=="u")throw ge(A());A();var oe=xe();switch(oe){case"$":case"_":case"\u200C":case"\u200D":break;default:if(!Vt.isIdContinueChar(oe))throw Ue();break}$+=oe,N="identifierName"},sign:function(){switch(T){case".":$=A(),N="decimalPointLeading";return;case"0":$=A(),N="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":$=A(),N="decimalInteger";return;case"I":return A(),fe("nfinity"),H("numeric",x*(1/0));case"N":return A(),fe("aN"),H("numeric",NaN)}throw ge(A())},zero:function(){switch(T){case".":$+=A(),N="decimalPoint";return;case"e":case"E":$+=A(),N="decimalExponent";return;case"x":case"X":$+=A(),N="hexadecimal";return}return H("numeric",x*0)},decimalInteger:function(){switch(T){case".":$+=A(),N="decimalPoint";return;case"e":case"E":$+=A(),N="decimalExponent";return}if(Vt.isDigit(T)){$+=A();return}return H("numeric",x*Number($))},decimalPointLeading:function(){if(Vt.isDigit(T)){$+=A(),N="decimalFraction";return}throw ge(A())},decimalPoint:function(){switch(T){case"e":case"E":$+=A(),N="decimalExponent";return}if(Vt.isDigit(T)){$+=A(),N="decimalFraction";return}return H("numeric",x*Number($))},decimalFraction:function(){switch(T){case"e":case"E":$+=A(),N="decimalExponent";return}if(Vt.isDigit(T)){$+=A();return}return H("numeric",x*Number($))},decimalExponent:function(){switch(T){case"+":case"-":$+=A(),N="decimalExponentSign";return}if(Vt.isDigit(T)){$+=A(),N="decimalExponentInteger";return}throw ge(A())},decimalExponentSign:function(){if(Vt.isDigit(T)){$+=A(),N="decimalExponentInteger";return}throw ge(A())},decimalExponentInteger:function(){if(Vt.isDigit(T)){$+=A();return}return H("numeric",x*Number($))},hexadecimal:function(){if(Vt.isHexDigit(T)){$+=A(),N="hexadecimalInteger";return}throw ge(A())},hexadecimalInteger:function(){if(Vt.isHexDigit(T)){$+=A();return}return H("numeric",x*Number($))},string:function(){switch(T){case"\\":A(),$+=be();return;case'"':if(te)return A(),H("string",$);$+=A();return;case"'":if(!te)return A(),H("string",$);$+=A();return;case`
`:case"\r":throw ge(A());case"\u2028":case"\u2029":ot(T);break;case void 0:throw ge(A())}$+=A()},start:function(){switch(T){case"{":case"[":return H("punctuator",A())}N="value"},beforePropertyName:function(){switch(T){case"$":case"_":$=A(),N="identifierName";return;case"\\":A(),N="identifierNameStartEscape";return;case"}":return H("punctuator",A());case'"':case"'":te=A()==='"',N="string";return}if(Vt.isIdStartChar(T)){$+=A(),N="identifierName";return}throw ge(A())},afterPropertyName:function(){if(T===":")return H("punctuator",A());throw ge(A())},beforePropertyValue:function(){N="value"},afterPropertyValue:function(){switch(T){case",":case"}":return H("punctuator",A())}throw ge(A())},beforeArrayValue:function(){if(T==="]")return H("punctuator",A());N="value"},afterArrayValue:function(){switch(T){case",":case"]":return H("punctuator",A())}throw ge(A())},end:function(){throw ge(A())}};function H(z,oe){return{type:z,value:oe,line:lr,column:Ln}}function fe(z){for(var oe=0,Ne=z;oe<Ne.length;oe+=1){var Oe=Ne[oe],ze=M();if(ze!==Oe)throw ge(A());A()}}function be(){var z=M();switch(z){case"b":return A(),"\b";case"f":return A(),"\f";case"n":return A(),`
`;case"r":return A(),"\r";case"t":return A(),"	";case"v":return A(),"\v";case"0":if(A(),Vt.isDigit(M()))throw ge(A());return"\0";case"x":return A(),Ie();case"u":return A(),xe();case`
`:case"\u2028":case"\u2029":return A(),"";case"\r":return A(),M()===`
`&&A(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw ge(A());case void 0:throw ge(A())}return A()}function Ie(){var z="",oe=M();if(!Vt.isHexDigit(oe)||(z+=A(),oe=M(),!Vt.isHexDigit(oe)))throw ge(A());return z+=A(),String.fromCodePoint(parseInt(z,16))}function xe(){for(var z="",oe=4;oe-- >0;){var Ne=M();if(!Vt.isHexDigit(Ne))throw ge(A());z+=A()}return String.fromCodePoint(parseInt(z,16))}var ae={start:function(){if(Jt.type==="eof")throw qe();ve()},beforePropertyName:function(){switch(Jt.type){case"identifier":case"string":cn=Jt.value,nn="afterPropertyName";return;case"punctuator":Ce();return;case"eof":throw qe()}},afterPropertyName:function(){if(Jt.type==="eof")throw qe();nn="beforePropertyValue"},beforePropertyValue:function(){if(Jt.type==="eof")throw qe();ve()},beforeArrayValue:function(){if(Jt.type==="eof")throw qe();if(Jt.type==="punctuator"&&Jt.value==="]"){Ce();return}ve()},afterPropertyValue:function(){if(Jt.type==="eof")throw qe();switch(Jt.value){case",":nn="beforePropertyName";return;case"}":Ce()}},afterArrayValue:function(){if(Jt.type==="eof")throw qe();switch(Jt.value){case",":nn="beforeArrayValue";return;case"]":Ce()}},end:function(){}};function ve(){var z;switch(Jt.type){case"punctuator":switch(Jt.value){case"{":z={};break;case"[":z=[];break}break;case"null":case"boolean":case"numeric":case"string":z=Jt.value;break}if(dr===void 0)dr=z;else{var oe=an[an.length-1];Array.isArray(oe)?oe.push(z):Object.defineProperty(oe,cn,{value:z,writable:!0,enumerable:!0,configurable:!0})}if(z!==null&&typeof z=="object")an.push(z),Array.isArray(z)?nn="beforeArrayValue":nn="beforePropertyName";else{var Ne=an[an.length-1];Ne==null?nn="end":Array.isArray(Ne)?nn="afterArrayValue":nn="afterPropertyValue"}}function Ce(){an.pop();var z=an[an.length-1];z==null?nn="end":Array.isArray(z)?nn="afterArrayValue":nn="afterPropertyValue"}function ge(z){return Bn(z===void 0?"JSON5: invalid end of input at "+lr+":"+Ln:"JSON5: invalid character '"+Gt(z)+"' at "+lr+":"+Ln)}function qe(){return Bn("JSON5: invalid end of input at "+lr+":"+Ln)}function Ue(){return Ln-=5,Bn("JSON5: invalid identifier character at "+lr+":"+Ln)}function ot(z){console.warn("JSON5: '"+Gt(z)+"' in strings is not valid ECMAScript; consider escaping")}function Gt(z){var oe={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(oe[z])return oe[z];if(z<" "){var Ne=z.charCodeAt(0).toString(16);return"\\x"+("00"+Ne).substring(Ne.length)}return z}function Bn(z){var oe=new SyntaxError(z);return oe.lineNumber=lr,oe.columnNumber=Ln,oe}var Mr=function(oe,Ne,Oe){var ze=[],lt="",dt,qn,Dn="",xo;if(Ne!=null&&typeof Ne=="object"&&!Array.isArray(Ne)&&(Oe=Ne.space,xo=Ne.quote,Ne=Ne.replacer),typeof Ne=="function")qn=Ne;else if(Array.isArray(Ne)){dt=[];for(var xi=0,ai=Ne;xi<ai.length;xi+=1){var ci=ai[xi],Jn=void 0;typeof ci=="string"?Jn=ci:(typeof ci=="number"||ci instanceof String||ci instanceof Number)&&(Jn=String(ci)),Jn!==void 0&&dt.indexOf(Jn)<0&&dt.push(Jn)}}return Oe instanceof Number?Oe=Number(Oe):Oe instanceof String&&(Oe=String(Oe)),typeof Oe=="number"?Oe>0&&(Oe=Math.min(10,Math.floor(Oe)),Dn="          ".substr(0,Oe)):typeof Oe=="string"&&(Dn=Oe.substr(0,10)),ds("",{"":oe});function ds(Zt,Zn){var pt=Zn[Zt];switch(pt!=null&&(typeof pt.toJSON5=="function"?pt=pt.toJSON5(Zt):typeof pt.toJSON=="function"&&(pt=pt.toJSON(Zt))),qn&&(pt=qn.call(Zn,Zt,pt)),pt instanceof Number?pt=Number(pt):pt instanceof String?pt=String(pt):pt instanceof Boolean&&(pt=pt.valueOf()),pt){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof pt=="string")return mc(pt,!1);if(typeof pt=="number")return String(pt);if(typeof pt=="object")return Array.isArray(pt)?ym(pt):KE(pt)}function mc(Zt){for(var Zn={"'":.1,'"':.2},pt={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},Xn="",$r=0;$r<Zt.length;$r++){var fr=Zt[$r];switch(fr){case"'":case'"':Zn[fr]++,Xn+=fr;continue;case"\0":if(Vt.isDigit(Zt[$r+1])){Xn+="\\x00";continue}}if(pt[fr]){Xn+=pt[fr];continue}if(fr<" "){var To=fr.charCodeAt(0).toString(16);Xn+="\\x"+("00"+To).substring(To.length);continue}Xn+=fr}var Ki=xo||Object.keys(Zn).reduce(function(fs,hs){return Zn[fs]<Zn[hs]?fs:hs});return Xn=Xn.replace(new RegExp(Ki,"g"),pt[Ki]),Ki+Xn+Ki}function KE(Zt){if(ze.indexOf(Zt)>=0)throw TypeError("Converting circular structure to JSON5");ze.push(Zt);var Zn=lt;lt=lt+Dn;for(var pt=dt||Object.keys(Zt),Xn=[],$r=0,fr=pt;$r<fr.length;$r+=1){var To=fr[$r],Ki=ds(To,Zt);if(Ki!==void 0){var fs=gc(To)+":";Dn!==""&&(fs+=" "),fs+=Ki,Xn.push(fs)}}var hs;if(Xn.length===0)hs="{}";else{var yc;if(Dn==="")yc=Xn.join(","),hs="{"+yc+"}";else{var Nr=`,
`+lt;yc=Xn.join(Nr),hs=`{
`+lt+yc+`,
`+Zn+"}"}}return ze.pop(),lt=Zn,hs}function gc(Zt){if(Zt.length===0)return mc(Zt,!0);var Zn=String.fromCodePoint(Zt.codePointAt(0));if(!Vt.isIdStartChar(Zn))return mc(Zt,!0);for(var pt=Zn.length;pt<Zt.length;pt++)if(!Vt.isIdContinueChar(String.fromCodePoint(Zt.codePointAt(pt))))return mc(Zt,!0);return Zt}function ym(Zt){if(ze.indexOf(Zt)>=0)throw TypeError("Converting circular structure to JSON5");ze.push(Zt);var Zn=lt;lt=lt+Dn;for(var pt=[],Xn=0;Xn<Zt.length;Xn++){var $r=ds(String(Xn),Zt);pt.push($r!==void 0?$r:"null")}var fr;if(pt.length===0)fr="[]";else if(Dn===""){var To=pt.join(",");fr="["+To+"]"}else{var Ki=`,
`+lt,fs=pt.join(Ki);fr=`[
`+lt+fs+`,
`+Zn+"]"}return ze.pop(),lt=Zn,fr}},Rr={parse:oi,stringify:Mr},_r=Rr,Di=_r;return Di})});var aae=b((O_,oae)=>{(function(n,e){typeof O_=="object"&&typeof oae<"u"?e(O_):typeof define=="function"&&define.amd?define(["exports"],e):(n=n||self,e(n.Diff={}))})(O_,function(n){"use strict";function e(){}e.prototype={diff:function(N,$){var te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},x=te.callback;typeof te=="function"&&(x=te,te={}),this.options=te;var T=this;function L(ae){return x?(setTimeout(function(){x(void 0,ae)},0),!0):ae}N=this.castInput(N),$=this.castInput($),N=this.removeEmpty(this.tokenize(N)),$=this.removeEmpty(this.tokenize($));var M=$.length,A=N.length,j=1,H=M+A,fe=[{newPos:-1,components:[]}],be=this.extractCommon(fe[0],$,N,0);if(fe[0].newPos+1>=M&&be+1>=A)return L([{value:this.join($),count:$.length}]);function Ie(){for(var ae=-1*j;ae<=j;ae+=2){var ve=void 0,Ce=fe[ae-1],ge=fe[ae+1],qe=(ge?ge.newPos:0)-ae;Ce&&(fe[ae-1]=void 0);var Ue=Ce&&Ce.newPos+1<M,ot=ge&&0<=qe&&qe<A;if(!Ue&&!ot){fe[ae]=void 0;continue}if(!Ue||ot&&Ce.newPos<ge.newPos?(ve=r(ge),T.pushComponent(ve.components,void 0,!0)):(ve=Ce,ve.newPos++,T.pushComponent(ve.components,!0,void 0)),qe=T.extractCommon(ve,$,N,ae),ve.newPos+1>=M&&qe+1>=A)return L(t(T,ve.components,$,N,T.useLongestToken));fe[ae]=ve}j++}if(x)(function ae(){setTimeout(function(){if(j>H)return x();Ie()||ae()},0)})();else for(;j<=H;){var xe=Ie();if(xe)return xe}},pushComponent:function(N,$,te){var x=N[N.length-1];x&&x.added===$&&x.removed===te?N[N.length-1]={count:x.count+1,added:$,removed:te}:N.push({count:1,added:$,removed:te})},extractCommon:function(N,$,te,x){for(var T=$.length,L=te.length,M=N.newPos,A=M-x,j=0;M+1<T&&A+1<L&&this.equals($[M+1],te[A+1]);)M++,A++,j++;return j&&N.components.push({count:j}),N.newPos=M,A},equals:function(N,$){return this.options.comparator?this.options.comparator(N,$):N===$||this.options.ignoreCase&&N.toLowerCase()===$.toLowerCase()},removeEmpty:function(N){for(var $=[],te=0;te<N.length;te++)N[te]&&$.push(N[te]);return $},castInput:function(N){return N},tokenize:function(N){return N.split("")},join:function(N){return N.join("")}};function t(O,N,$,te,x){for(var T=0,L=N.length,M=0,A=0;T<L;T++){var j=N[T];if(j.removed){if(j.value=O.join(te.slice(A,A+j.count)),A+=j.count,T&&N[T-1].added){var fe=N[T-1];N[T-1]=N[T],N[T]=fe}}else{if(!j.added&&x){var H=$.slice(M,M+j.count);H=H.map(function(Ie,xe){var ae=te[A+xe];return ae.length>Ie.length?ae:Ie}),j.value=O.join(H)}else j.value=O.join($.slice(M,M+j.count));M+=j.count,j.added||(A+=j.count)}}var be=N[L-1];return L>1&&typeof be.value=="string"&&(be.added||be.removed)&&O.equals("",be.value)&&(N[L-2].value+=be.value,N.pop()),N}function r(O){return{newPos:O.newPos,components:O.components.slice(0)}}var i=new e;function s(O,N,$){return i.diff(O,N,$)}function o(O,N){if(typeof O=="function")N.callback=O;else if(O)for(var $ in O)O.hasOwnProperty($)&&(N[$]=O[$]);return N}var a=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,c=/\S/,u=new e;u.equals=function(O,N){return this.options.ignoreCase&&(O=O.toLowerCase(),N=N.toLowerCase()),O===N||this.options.ignoreWhitespace&&!c.test(O)&&!c.test(N)},u.tokenize=function(O){for(var N=O.split(/(\s+|[()[\]{}'"]|\b)/),$=0;$<N.length-1;$++)!N[$+1]&&N[$+2]&&a.test(N[$])&&a.test(N[$+2])&&(N[$]+=N[$+2],N.splice($+1,2),$--);return N};function l(O,N,$){return $=o($,{ignoreWhitespace:!0}),u.diff(O,N,$)}function f(O,N,$){return u.diff(O,N,$)}var p=new e;p.tokenize=function(O){var N=[],$=O.split(/(\n|\r\n)/);$[$.length-1]||$.pop();for(var te=0;te<$.length;te++){var x=$[te];te%2&&!this.options.newlineIsToken?N[N.length-1]+=x:(this.options.ignoreWhitespace&&(x=x.trim()),N.push(x))}return N};function g(O,N,$){return p.diff(O,N,$)}function v(O,N,$){var te=o($,{ignoreWhitespace:!0});return p.diff(O,N,te)}var E=new e;E.tokenize=function(O){return O.split(/(\S.+?[.!?])(?=\s+|$)/)};function D(O,N,$){return E.diff(O,N,$)}var P=new e;P.tokenize=function(O){return O.split(/([{}:;,]|\s+)/)};function K(O,N,$){return P.diff(O,N,$)}function J(O){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?J=function(N){return typeof N}:J=function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},J(O)}function re(O){return he(O)||y(O)||Te()}function he(O){if(Array.isArray(O)){for(var N=0,$=new Array(O.length);N<O.length;N++)$[N]=O[N];return $}}function y(O){if(Symbol.iterator in Object(O)||Object.prototype.toString.call(O)==="[object Arguments]")return Array.from(O)}function Te(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var De=Object.prototype.toString,Ve=new e;Ve.useLongestToken=!0,Ve.tokenize=p.tokenize,Ve.castInput=function(O){var N=this.options,$=N.undefinedReplacement,te=N.stringifyReplacer,x=te===void 0?function(T,L){return typeof L>"u"?$:L}:te;return typeof O=="string"?O:JSON.stringify(I(O,null,null,x),x,"  ")},Ve.equals=function(O,N){return e.prototype.equals.call(Ve,O.replace(/,([\r\n])/g,"$1"),N.replace(/,([\r\n])/g,"$1"))};function q(O,N,$){return Ve.diff(O,N,$)}function I(O,N,$,te,x){N=N||[],$=$||[],te&&(O=te(x,O));var T;for(T=0;T<N.length;T+=1)if(N[T]===O)return $[T];var L;if(De.call(O)==="[object Array]"){for(N.push(O),L=new Array(O.length),$.push(L),T=0;T<O.length;T+=1)L[T]=I(O[T],N,$,te,x);return N.pop(),$.pop(),L}if(O&&O.toJSON&&(O=O.toJSON()),J(O)==="object"&&O!==null){N.push(O),L={},$.push(L);var M=[],A;for(A in O)O.hasOwnProperty(A)&&M.push(A);for(M.sort(),T=0;T<M.length;T+=1)A=M[T],L[A]=I(O[A],N,$,te,A);N.pop(),$.pop()}else L=O;return L}var ee=new e;ee.tokenize=function(O){return O.slice()},ee.join=ee.removeEmpty=function(O){return O};function de(O,N,$){return ee.diff(O,N,$)}function pe(O){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=O.split(/\r\n|[\n\v\f\r\x85]/),te=O.match(/\r\n|[\n\v\f\r\x85]/g)||[],x=[],T=0;function L(){var j={};for(x.push(j);T<$.length;){var H=$[T];if(/^(\-\-\-|\+\+\+|@@)\s/.test(H))break;var fe=/^(?:Index:|diff(?: -r \w+)+)\s+/.exec(H);fe&&(j.index=H.substring(fe[0].length).trim()),T++}for(M(j),M(j),j.hunks=[];T<$.length;){var be=$[T];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(be))break;if(/^@@/.test(be))j.hunks.push(A());else{if(be&&N.strict)throw new Error("Unknown line "+(T+1)+" "+JSON.stringify(be));T++}}}function M(j){var H=/^(---|\+\+\+)\s+/.exec($[T]);if(H){var fe=H[1]==="---"?"old":"new",be=$[T].substring(3).trim().split("	",2),Ie=be[0].replace(/\\\\/g,"\\");Ie.startsWith('"')&&Ie.endsWith('"')&&(Ie=Ie.substr(1,Ie.length-2)),j[fe+"FileName"]=Ie,j[fe+"Header"]=(be[1]||"").trim(),T++}}function A(){for(var j=T,H=$[T++],fe=H.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),be={oldStart:+fe[1],oldLines:+fe[2]||1,newStart:+fe[3],newLines:+fe[4]||1,lines:[],linedelimiters:[]},Ie=0,xe=0;T<$.length&&!($[T].indexOf("--- ")===0&&T+2<$.length&&$[T+1].indexOf("+++ ")===0&&$[T+2].indexOf("@@")===0);T++){var ae=$[T].length==0&&T!=$.length-1?" ":$[T][0];if(ae==="+"||ae==="-"||ae===" "||ae==="\\")be.lines.push($[T]),be.linedelimiters.push(te[T]||`
`),ae==="+"?Ie++:ae==="-"?xe++:ae===" "&&(Ie++,xe++);else break}if(!Ie&&be.newLines===1&&(be.newLines=0),!xe&&be.oldLines===1&&(be.oldLines=0),N.strict){if(Ie!==be.newLines)throw new Error("Added line count did not match for hunk at line "+(j+1));if(xe!==be.oldLines)throw new Error("Removed line count did not match for hunk at line "+(j+1))}return be}for(;T<$.length;)L();return x}function Ke(O,N,$){var te=!0,x=!1,T=!1,L=1;return function M(){if(te&&!T){if(x?L++:te=!1,O+L<=$)return L;T=!0}if(!x)return T||(te=!0),N<=O-L?-L++:(x=!0,M())}}function ce(O,N){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof N=="string"&&(N=pe(N)),Array.isArray(N)){if(N.length>1)throw new Error("applyPatch only works with a single input.");N=N[0]}var te=O.split(/\r\n|[\n\v\f\r\x85]/),x=O.match(/\r\n|[\n\v\f\r\x85]/g)||[],T=N.hunks,L=$.compareLine||function(Oe,ze,lt,dt){return ze===dt},M=0,A=$.fuzzFactor||0,j=0,H=0,fe,be;function Ie(Oe,ze){for(var lt=0;lt<Oe.lines.length;lt++){var dt=Oe.lines[lt],qn=dt.length>0?dt[0]:" ",Dn=dt.length>0?dt.substr(1):dt;if(qn===" "||qn==="-"){if(!L(ze+1,te[ze],qn,Dn)&&(M++,M>A))return!1;ze++}}return!0}for(var xe=0;xe<T.length;xe++){for(var ae=T[xe],ve=te.length-ae.oldLines,Ce=0,ge=H+ae.oldStart-1,qe=Ke(ge,j,ve);Ce!==void 0;Ce=qe())if(Ie(ae,ge+Ce)){ae.offset=H+=Ce;break}if(Ce===void 0)return!1;j=ae.offset+ae.oldStart+ae.oldLines}for(var Ue=0,ot=0;ot<T.length;ot++){var Gt=T[ot],Bn=Gt.oldStart+Gt.offset+Ue-1;Ue+=Gt.newLines-Gt.oldLines,Bn<0&&(Bn=0);for(var Mr=0;Mr<Gt.lines.length;Mr++){var Rr=Gt.lines[Mr],_r=Rr.length>0?Rr[0]:" ",Di=Rr.length>0?Rr.substr(1):Rr,z=Gt.linedelimiters[Mr];if(_r===" ")Bn++;else if(_r==="-")te.splice(Bn,1),x.splice(Bn,1);else if(_r==="+")te.splice(Bn,0,Di),x.splice(Bn,0,z),Bn++;else if(_r==="\\"){var oe=Gt.lines[Mr-1]?Gt.lines[Mr-1][0]:null;oe==="+"?fe=!0:oe==="-"&&(be=!0)}}}if(fe)for(;!te[te.length-1];)te.pop(),x.pop();else be&&(te.push(""),x.push(`
`));for(var Ne=0;Ne<te.length-1;Ne++)te[Ne]=te[Ne]+x[Ne];return te.join("")}function st(O,N){typeof O=="string"&&(O=pe(O));var $=0;function te(){var x=O[$++];if(!x)return N.complete();N.loadFile(x,function(T,L){if(T)return N.complete(T);var M=ce(L,x,N);N.patched(x,M,function(A){if(A)return N.complete(A);te()})})}te()}function Mt(O,N,$,te,x,T,L){L||(L={}),typeof L.context>"u"&&(L.context=4);var M=g($,te,L);M.push({value:"",lines:[]});function A(Ce){return Ce.map(function(ge){return" "+ge})}for(var j=[],H=0,fe=0,be=[],Ie=1,xe=1,ae=function(ge){var qe=M[ge],Ue=qe.lines||qe.value.replace(/\n$/,"").split(`
`);if(qe.lines=Ue,qe.added||qe.removed){var ot;if(!H){var Gt=M[ge-1];H=Ie,fe=xe,Gt&&(be=L.context>0?A(Gt.lines.slice(-L.context)):[],H-=be.length,fe-=be.length)}(ot=be).push.apply(ot,re(Ue.map(function(Ne){return(qe.added?"+":"-")+Ne}))),qe.added?xe+=Ue.length:Ie+=Ue.length}else{if(H)if(Ue.length<=L.context*2&&ge<M.length-2){var Bn;(Bn=be).push.apply(Bn,re(A(Ue)))}else{var Mr,Rr=Math.min(Ue.length,L.context);(Mr=be).push.apply(Mr,re(A(Ue.slice(0,Rr))));var _r={oldStart:H,oldLines:Ie-H+Rr,newStart:fe,newLines:xe-fe+Rr,lines:be};if(ge>=M.length-2&&Ue.length<=L.context){var Di=/\n$/.test($),z=/\n$/.test(te),oe=Ue.length==0&&be.length>_r.oldLines;!Di&&oe&&be.splice(_r.oldLines,0,"\\ No newline at end of file"),(!Di&&!oe||!z)&&be.push("\\ No newline at end of file")}j.push(_r),H=0,fe=0,be=[]}Ie+=Ue.length,xe+=Ue.length}},ve=0;ve<M.length;ve++)ae(ve);return{oldFileName:O,newFileName:N,oldHeader:x,newHeader:T,hunks:j}}function Wt(O,N,$,te,x,T,L){var M=Mt(O,N,$,te,x,T,L),A=[];O==N&&A.push("Index: "+O),A.push("==================================================================="),A.push("--- "+M.oldFileName+(typeof M.oldHeader>"u"?"":"	"+M.oldHeader)),A.push("+++ "+M.newFileName+(typeof M.newHeader>"u"?"":"	"+M.newHeader));for(var j=0;j<M.hunks.length;j++){var H=M.hunks[j];A.push("@@ -"+H.oldStart+","+H.oldLines+" +"+H.newStart+","+H.newLines+" @@"),A.push.apply(A,H.lines)}return A.join(`
`)+`
`}function Kn(O,N,$,te,x,T){return Wt(O,O,N,$,te,x,T)}function xn(O,N){return O.length!==N.length?!1:Re(O,N)}function Re(O,N){if(N.length>O.length)return!1;for(var $=0;$<N.length;$++)if(N[$]!==O[$])return!1;return!0}function Tn(O){var N=Jt(O.lines),$=N.oldLines,te=N.newLines;$!==void 0?O.oldLines=$:delete O.oldLines,te!==void 0?O.newLines=te:delete O.newLines}function In(O,N,$){O=Tt(O,$),N=Tt(N,$);var te={};(O.index||N.index)&&(te.index=O.index||N.index),(O.newFileName||N.newFileName)&&(vr(O)?vr(N)?(te.oldFileName=Un(te,O.oldFileName,N.oldFileName),te.newFileName=Un(te,O.newFileName,N.newFileName),te.oldHeader=Un(te,O.oldHeader,N.oldHeader),te.newHeader=Un(te,O.newHeader,N.newHeader)):(te.oldFileName=O.oldFileName,te.newFileName=O.newFileName,te.oldHeader=O.oldHeader,te.newHeader=O.newHeader):(te.oldFileName=N.oldFileName||O.oldFileName,te.newFileName=N.newFileName||O.newFileName,te.oldHeader=N.oldHeader||O.oldHeader,te.newHeader=N.newHeader||O.newHeader)),te.hunks=[];for(var x=0,T=0,L=0,M=0;x<O.hunks.length||T<N.hunks.length;){var A=O.hunks[x]||{oldStart:1/0},j=N.hunks[T]||{oldStart:1/0};if(Ci(A,j))te.hunks.push(Yn(A,L)),x++,M+=A.newLines-A.oldLines;else if(Ci(j,A))te.hunks.push(Yn(j,M)),T++,L+=j.newLines-j.oldLines;else{var H={oldStart:Math.min(A.oldStart,j.oldStart),oldLines:0,newStart:Math.min(A.newStart+L,j.oldStart+M),newLines:0,lines:[]};ur(H,A.oldStart,A.lines,j.oldStart,j.lines),T++,x++,te.hunks.push(H)}}return te}function Tt(O,N){if(typeof O=="string"){if(/^@@/m.test(O)||/^Index:/m.test(O))return pe(O)[0];if(!N)throw new Error("Must provide a base reference or pass in a patch");return Mt(void 0,void 0,N,O)}return O}function vr(O){return O.newFileName&&O.newFileName!==O.oldFileName}function Un(O,N,$){return N===$?N:(O.conflict=!0,{mine:N,theirs:$})}function Ci(O,N){return O.oldStart<N.oldStart&&O.oldStart+O.oldLines<N.oldStart}function Yn(O,N){return{oldStart:O.oldStart,oldLines:O.oldLines,newStart:O.newStart+N,newLines:O.newLines,lines:O.lines}}function ur(O,N,$,te,x){var T={offset:N,lines:$,index:0},L={offset:te,lines:x,index:0};for(Qi(O,T,L),Qi(O,L,T);T.index<T.lines.length&&L.index<L.lines.length;){var M=T.lines[T.index],A=L.lines[L.index];if((M[0]==="-"||M[0]==="+")&&(A[0]==="-"||A[0]==="+"))Cn(O,T,L);else if(M[0]==="+"&&A[0]===" "){var j;(j=O.lines).push.apply(j,re(an(T)))}else if(A[0]==="+"&&M[0]===" "){var H;(H=O.lines).push.apply(H,re(an(L)))}else M[0]==="-"&&A[0]===" "?Mn(O,T,L):A[0]==="-"&&M[0]===" "?Mn(O,L,T,!0):M===A?(O.lines.push(M),T.index++,L.index++):Vt(O,an(T),an(L))}nn(O,T),nn(O,L),Tn(O)}function Cn(O,N,$){var te=an(N),x=an($);if(lr(te)&&lr(x)){if(Re(te,x)&&Ln($,te,te.length-x.length)){var T;(T=O.lines).push.apply(T,re(te));return}else if(Re(x,te)&&Ln(N,x,x.length-te.length)){var L;(L=O.lines).push.apply(L,re(x));return}}else if(xn(te,x)){var M;(M=O.lines).push.apply(M,re(te));return}Vt(O,te,x)}function Mn(O,N,$,te){var x=an(N),T=kn($,x);if(T.merged){var L;(L=O.lines).push.apply(L,re(T.merged))}else Vt(O,te?T:x,te?x:T)}function Vt(O,N,$){O.conflict=!0,O.lines.push({conflict:!0,mine:N,theirs:$})}function Qi(O,N,$){for(;N.offset<$.offset&&N.index<N.lines.length;){var te=N.lines[N.index++];O.lines.push(te),N.offset++}}function nn(O,N){for(;N.index<N.lines.length;){var $=N.lines[N.index++];O.lines.push($)}}function an(O){for(var N=[],$=O.lines[O.index][0];O.index<O.lines.length;){var te=O.lines[O.index];if($==="-"&&te[0]==="+"&&($="+"),$===te[0])N.push(te),O.index++;else break}return N}function kn(O,N){for(var $=[],te=[],x=0,T=!1,L=!1;x<N.length&&O.index<O.lines.length;){var M=O.lines[O.index],A=N[x];if(A[0]==="+")break;if(T=T||M[0]!==" ",te.push(A),x++,M[0]==="+")for(L=!0;M[0]==="+";)$.push(M),M=O.lines[++O.index];A.substr(1)===M.substr(1)?($.push(M),O.index++):L=!0}if((N[x]||"")[0]==="+"&&T&&(L=!0),L)return $;for(;x<N.length;)te.push(N[x++]);return{merged:te,changes:$}}function lr(O){return O.reduce(function(N,$){return N&&$[0]==="-"},!0)}function Ln(O,N,$){for(var te=0;te<$;te++){var x=N[N.length-$+te].substr(1);if(O.lines[O.index+te]!==" "+x)return!1}return O.index+=$,!0}function Jt(O){var N=0,$=0;return O.forEach(function(te){if(typeof te!="string"){var x=Jt(te.mine),T=Jt(te.theirs);N!==void 0&&(x.oldLines===T.oldLines?N+=x.oldLines:N=void 0),$!==void 0&&(x.newLines===T.newLines?$+=x.newLines:$=void 0)}else $!==void 0&&(te[0]==="+"||te[0]===" ")&&$++,N!==void 0&&(te[0]==="-"||te[0]===" ")&&N++}),{oldLines:N,newLines:$}}function cn(O){for(var N=[],$,te,x=0;x<O.length;x++)$=O[x],$.added?te=1:$.removed?te=-1:te=0,N.push([te,$.value]);return N}function dr(O){for(var N=[],$=0;$<O.length;$++){var te=O[$];te.added?N.push("<ins>"):te.removed&&N.push("<del>"),N.push(oi(te.value)),te.added?N.push("</ins>"):te.removed&&N.push("</del>")}return N.join("")}function oi(O){var N=O;return N=N.replace(/&/g,"&amp;"),N=N.replace(/</g,"&lt;"),N=N.replace(/>/g,"&gt;"),N=N.replace(/"/g,"&quot;"),N}n.Diff=e,n.diffChars=s,n.diffWords=l,n.diffWordsWithSpace=f,n.diffLines=g,n.diffTrimmedLines=v,n.diffSentences=D,n.diffCss=K,n.diffJson=q,n.diffArrays=de,n.structuredPatch=Mt,n.createTwoFilesPatch=Wt,n.createPatch=Kn,n.applyPatch=ce,n.applyPatches=st,n.parsePatch=pe,n.merge=In,n.convertChangesToDMP=cn,n.convertChangesToXML=dr,n.canonicalize=I,Object.defineProperty(n,"__esModule",{value:!0})})});var mae=b((Dqt,pae)=>{var Od=1e3,Pd=Od*60,Fd=Pd*60,Fu=Fd*24,fet=Fu*7,het=Fu*365.25;pae.exports=function(n,e){e=e||{};var t=typeof n;if(t==="string"&&n.length>0)return pet(n);if(t==="number"&&isFinite(n))return e.long?get(n):met(n);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(n))};function pet(n){if(n=String(n),!(n.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(n);if(e){var t=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return t*het;case"weeks":case"week":case"w":return t*fet;case"days":case"day":case"d":return t*Fu;case"hours":case"hour":case"hrs":case"hr":case"h":return t*Fd;case"minutes":case"minute":case"mins":case"min":case"m":return t*Pd;case"seconds":case"second":case"secs":case"sec":case"s":return t*Od;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function met(n){var e=Math.abs(n);return e>=Fu?Math.round(n/Fu)+"d":e>=Fd?Math.round(n/Fd)+"h":e>=Pd?Math.round(n/Pd)+"m":e>=Od?Math.round(n/Od)+"s":n+"ms"}function get(n){var e=Math.abs(n);return e>=Fu?B_(n,e,Fu,"day"):e>=Fd?B_(n,e,Fd,"hour"):e>=Pd?B_(n,e,Pd,"minute"):e>=Od?B_(n,e,Od,"second"):n+" ms"}function B_(n,e,t,r){var i=e>=t*1.5;return Math.round(n/t)+" "+r+(i?"s":"")}});var yae=b((xqt,gae)=>{function yet(n){t.debug=t,t.default=t,t.coerce=c,t.disable=o,t.enable=i,t.enabled=a,t.humanize=mae(),t.destroy=u,Object.keys(n).forEach(l=>{t[l]=n[l]}),t.names=[],t.skips=[],t.formatters={};function e(l){let f=0;for(let p=0;p<l.length;p++)f=(f<<5)-f+l.charCodeAt(p),f|=0;return t.colors[Math.abs(f)%t.colors.length]}t.selectColor=e;function t(l){let f,p=null,g,v;function E(...D){if(!E.enabled)return;let P=E,K=Number(new Date),J=K-(f||K);P.diff=J,P.prev=f,P.curr=K,f=K,D[0]=t.coerce(D[0]),typeof D[0]!="string"&&D.unshift("%O");let re=0;D[0]=D[0].replace(/%([a-zA-Z%])/g,(y,Te)=>{if(y==="%%")return"%";re++;let De=t.formatters[Te];if(typeof De=="function"){let Ve=D[re];y=De.call(P,Ve),D.splice(re,1),re--}return y}),t.formatArgs.call(P,D),(P.log||t.log).apply(P,D)}return E.namespace=l,E.useColors=t.useColors(),E.color=t.selectColor(l),E.extend=r,E.destroy=t.destroy,Object.defineProperty(E,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(g!==t.namespaces&&(g=t.namespaces,v=t.enabled(l)),v),set:D=>{p=D}}),typeof t.init=="function"&&t.init(E),E}function r(l,f){let p=t(this.namespace+(typeof f>"u"?":":f)+l);return p.log=this.log,p}function i(l){t.save(l),t.namespaces=l,t.names=[],t.skips=[];let f=(typeof l=="string"?l:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let p of f)p[0]==="-"?t.skips.push(p.slice(1)):t.names.push(p)}function s(l,f){let p=0,g=0,v=-1,E=0;for(;p<l.length;)if(g<f.length&&(f[g]===l[p]||f[g]==="*"))f[g]==="*"?(v=g,E=p,g++):(p++,g++);else if(v!==-1)g=v+1,E++,p=E;else return!1;for(;g<f.length&&f[g]==="*";)g++;return g===f.length}function o(){let l=[...t.names,...t.skips.map(f=>"-"+f)].join(",");return t.enable(""),l}function a(l){for(let f of t.skips)if(s(l,f))return!1;for(let f of t.names)if(s(l,f))return!0;return!1}function c(l){return l instanceof Error?l.stack||l.message:l}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}gae.exports=yet});var bae=b((_i,q_)=>{_i.formatArgs=vet;_i.save=_et;_i.load=Eet;_i.useColors=bet;_i.storage=wet();_i.destroy=(()=>{let n=!1;return()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();_i.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function bet(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let n;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(n=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(n[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function vet(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+q_.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;n.splice(1,0,e,"color: inherit");let t=0,r=0;n[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(t++,i==="%c"&&(r=t))}),n.splice(r,0,e)}_i.log=console.debug||console.log||(()=>{});function _et(n){try{n?_i.storage.setItem("debug",n):_i.storage.removeItem("debug")}catch{}}function Eet(){let n;try{n=_i.storage.getItem("debug")||_i.storage.getItem("DEBUG")}catch{}return!n&&typeof process<"u"&&"env"in process&&(n=process.env.DEBUG),n}function wet(){try{return localStorage}catch{}}q_.exports=yae()(_i);var{formatters:Cet}=q_.exports;Cet.j=function(n){try{return JSON.stringify(n)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var vae=b(()=>{});var Pr=null,Dm=!1,pw=1,Xce=null,hr=Symbol("SIGNAL");function nt(n){let e=Pr;return Pr=n,e}function Tm(){return Pr}var Gu={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Qu(n){if(Dm)throw new Error("");if(Pr===null)return;Pr.consumerOnSignalRead(n);let e=Pr.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=Pr.recomputing;if(r&&(t=e!==void 0?e.nextProducer:Pr.producers,t!==void 0&&t.producer===n)){Pr.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===Pr&&(!r||tue(i,Pr)))return;let s=Ju(Pr),o={producer:n,consumer:Pr,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};Pr.producersTail=o,e!==void 0?e.nextProducer=o:Pr.producers=o,s&&GN(n,o)}function HN(){pw++}function mw(n){if(!(Ju(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===pw)){if(!n.producerMustRecompute(n)&&!Yu(n)){hw(n);return}n.producerRecomputeValue(n),hw(n)}}function gw(n){if(n.consumers===void 0)return;let e=Dm;Dm=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||eue(r)}}finally{Dm=e}}function yw(){return Pr?.consumerAllowSignalWrites!==!1}function eue(n){n.dirty=!0,gw(n),n.consumerMarkedDirty?.(n)}function hw(n){n.dirty=!1,n.lastCleanEpoch=pw}function wc(n){return n&&WN(n),nt(n)}function WN(n){n.producersTail=void 0,n.recomputing=!0}function Ku(n,e){nt(e),n&&zN(n)}function zN(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(Ju(n))do t=bw(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function Yu(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(mw(t),r!==t.version))return!0}return!1}function ya(n){if(Ju(n)){let e=n.producers;for(;e!==void 0;)e=bw(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function GN(n,e){let t=n.consumersTail,r=Ju(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)GN(i.producer,i)}function bw(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Ju(e)){let s=e.producers;for(;s!==void 0;)s=bw(s)}return t}function Ju(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function vw(n){Xce?.(n)}function tue(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function _w(n,e){return Object.is(n,e)}function hf(n,e){let t=Object.create(nue);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(mw(t),Qu(t),t.value===xm)throw t.error;return t.value};return r[hr]=t,vw(t),r}var dw=Symbol("UNSET"),fw=Symbol("COMPUTING"),xm=Symbol("ERRORED"),nue=We(Z({},Gu),{value:dw,dirty:!0,error:null,equal:_w,kind:"computed",producerMustRecompute(n){return n.value===dw||n.value===fw},producerRecomputeValue(n){if(n.value===fw)throw new Error("");let e=n.value;n.value=fw;let t=wc(n),r,i=!1;try{r=n.computation(),nt(null),i=e!==dw&&e!==xm&&r!==xm&&n.equal(e,r)}catch(s){r=xm,n.error=s}finally{Ku(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function rue(){throw new Error}var QN=rue;function KN(n){QN(n)}function Ew(n){QN=n}var iue=null;function ww(n,e){let t=Object.create(mf);t.value=n,e!==void 0&&(t.equal=e);let r=()=>YN(t);return r[hr]=t,vw(t),[r,o=>pf(t,o),o=>JN(t,o)]}function YN(n){return Qu(n),n.value}function pf(n,e){yw()||KN(n),n.equal(n.value,e)||(n.value=e,sue(n))}function JN(n,e){yw()||KN(n),pf(n,e(n.value))}var mf=We(Z({},Gu),{equal:_w,value:void 0,kind:"signal"});function sue(n){n.version++,HN(),gw(n),iue?.(n)}function Cw(n){let e=nt(null);try{return n()}finally{nt(e)}}var Dw=We(Z({},Gu),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function xw(n){if(n.dirty=!1,n.version>0&&!Yu(n))return;n.version++;let e=wc(n);try{n.cleanup(),n.fn()}finally{Ku(n,e)}}function vt(n){return typeof n=="function"}function Zu(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Am=Zu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Cc(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var hn=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(vt(r))try{r()}catch(s){e=s instanceof Am?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{ZN(s)}catch(o){e=e??[],o instanceof Am?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Am(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ZN(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Cc(t,e)}remove(e){let{_finalizers:t}=this;t&&Cc(t,e),e instanceof n&&e._removeParent(this)}};hn.EMPTY=(()=>{let n=new hn;return n.closed=!0,n})();var Tw=hn.EMPTY;function Sm(n){return n instanceof hn||n&&"closed"in n&&vt(n.remove)&&vt(n.add)&&vt(n.unsubscribe)}function ZN(n){vt(n)?n():n.unsubscribe()}var gs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Xu={setTimeout(n,e,...t){let{delegate:r}=Xu;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Xu;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Im(n){Xu.setTimeout(()=>{let{onUnhandledError:e}=gs;if(e)e(n);else throw n})}function Dc(){}var XN=Aw("C",void 0,void 0);function eO(n){return Aw("E",void 0,n)}function tO(n){return Aw("N",n,void 0)}function Aw(n,e,t){return{kind:n,value:e,error:t}}var xc=null;function el(n){if(gs.useDeprecatedSynchronousErrorHandling){let e=!xc;if(e&&(xc={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=xc;if(xc=null,t)throw r}}else n()}function nO(n){gs.useDeprecatedSynchronousErrorHandling&&xc&&(xc.errorThrown=!0,xc.error=n)}var Tc=class extends hn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Sm(e)&&e.add(this)):this.destination=cue}static create(e,t,r){return new ys(e,t,r)}next(e){this.isStopped?Iw(tO(e),this):this._next(e)}error(e){this.isStopped?Iw(eO(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Iw(XN,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},oue=Function.prototype.bind;function Sw(n,e){return oue.call(n,e)}var Mw=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Mm(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Mm(r)}else Mm(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Mm(t)}}},ys=class extends Tc{constructor(e,t,r){super();let i;if(vt(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&gs.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Sw(e.next,s),error:e.error&&Sw(e.error,s),complete:e.complete&&Sw(e.complete,s)}):i=e}this.destination=new Mw(i)}};function Mm(n){gs.useDeprecatedSynchronousErrorHandling?nO(n):Im(n)}function aue(n){throw n}function Iw(n,e){let{onStoppedNotification:t}=gs;t&&Xu.setTimeout(()=>t(n,e))}var cue={closed:!0,next:Dc,error:aue,complete:Dc};var tl=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ti(n){return n}function Rw(...n){return Nw(n)}function Nw(n){return n.length===0?Ti:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var it=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=lue(t)?t:new ys(t,r,i);return el(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=rO(r),new r((i,s)=>{let o=new ys({next:a=>{try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[tl](){return this}pipe(...t){return Nw(t)(this)}toPromise(t){return t=rO(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function rO(n){var e;return(e=n??gs.Promise)!==null&&e!==void 0?e:Promise}function uue(n){return n&&vt(n.next)&&vt(n.error)&&vt(n.complete)}function lue(n){return n&&n instanceof Tc||uue(n)&&Sm(n)}function due(n){return vt(n?.lift)}function wt(n){return e=>{if(due(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function xt(n,e,t,r,i){return new Ow(n,e,t,r,i)}var Ow=class extends Tc{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var nl={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame,{delegate:r}=nl;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);let i=e(s=>{t=void 0,n(s)});return new hn(()=>t?.(i))},requestAnimationFrame(...n){let{delegate:e}=nl;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){let{delegate:e}=nl;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var iO=Zu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ge=(()=>{class n extends it{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Rm(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new iO}next(t){el(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){el(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){el(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Tw:(this.currentObservers=null,s.push(t),new hn(()=>{this.currentObservers=null,Cc(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new it;return t.source=this,t}}return n.create=(e,t)=>new Rm(e,t),n})(),Rm=class extends Ge{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Tw}};var tr=class extends Ge{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var gf={now(){return(gf.delegate||Date).now()},delegate:void 0};var yf=class extends Ge{constructor(e=1/0,t=1/0,r=gf){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){let o=t.now(),a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}};var Nm=class extends hn{constructor(e,t){super()}schedule(e,t=0){return this}};var bf={setInterval(n,e,...t){let{delegate:r}=bf;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=bf;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var rl=class extends Nm{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return bf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&bf.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Cc(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var il=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};il.now=gf.now;var sl=class extends il{constructor(e,t=il.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Ac=new sl(rl),sO=Ac;var Om=class extends rl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return r!==null&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=nl.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);let{actions:s}=e;t!=null&&t===e._scheduled&&((i=s[s.length-1])===null||i===void 0?void 0:i.id)!==t&&(nl.cancelAnimationFrame(t),e._scheduled=void 0)}};var Pm=class extends sl{flush(e){this._active=!0;let t;e?t=e.id:(t=this._scheduled,this._scheduled=void 0);let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}};var oO=new Pm(Om);var Fr=new it(n=>n.complete());function Fm(n){return n&&vt(n.schedule)}function Pw(n){return n[n.length-1]}function km(n){return vt(Pw(n))?n.pop():void 0}function zs(n){return Fm(Pw(n))?n.pop():void 0}function aO(n,e){return typeof Pw(n)=="number"?n.pop():e}function Ct(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s}function Hn(n,e){return function(t,r){e(t,r,n)}}function Qe(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function uO(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(f){o(f)}}function c(l){try{u(r.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function cO(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sc(n){return this instanceof Sc?(this.v=n,this):new Sc(n)}function lO(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(g){return function(v){return Promise.resolve(v).then(g,f)}}function a(g,v){r[g]&&(i[g]=function(E){return new Promise(function(D,P){s.push([g,E,D,P])>1||c(g,E)})},v&&(i[g]=v(i[g])))}function c(g,v){try{u(r[g](v))}catch(E){p(s[0][3],E)}}function u(g){g.value instanceof Sc?Promise.resolve(g.value.v).then(l,f):p(s[0][2],g)}function l(g){c("next",g)}function f(g){c("throw",g)}function p(g,v){g(v),s.shift(),s.length&&c(s[0][0],s[0][1])}}function dO(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof cO=="function"?cO(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,c){o=n[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var Lm=n=>n&&typeof n.length=="number"&&typeof n!="function";function Bm(n){return vt(n?.then)}function qm(n){return vt(n[tl])}function jm(n){return Symbol.asyncIterator&&vt(n?.[Symbol.asyncIterator])}function $m(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function fue(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Vm=fue();function Um(n){return vt(n?.[Vm])}function Hm(n){return lO(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Sc(t.read());if(i)return yield Sc(void 0);yield yield Sc(r)}}finally{t.releaseLock()}})}function Wm(n){return vt(n?.getReader)}function un(n){if(n instanceof it)return n;if(n!=null){if(qm(n))return hue(n);if(Lm(n))return pue(n);if(Bm(n))return mue(n);if(jm(n))return fO(n);if(Um(n))return gue(n);if(Wm(n))return yue(n)}throw $m(n)}function hue(n){return new it(e=>{let t=n[tl]();if(vt(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function pue(n){return new it(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function mue(n){return new it(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Im)})}function gue(n){return new it(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function fO(n){return new it(e=>{bue(n,e).catch(t=>e.error(t))})}function yue(n){return fO(Hm(n))}function bue(n,e){var t,r,i,s;return uO(this,void 0,void 0,function*(){try{for(t=dO(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function li(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function zm(n,e=0){return wt((t,r)=>{t.subscribe(xt(r,i=>li(r,n,()=>r.next(i),e),()=>li(r,n,()=>r.complete(),e),i=>li(r,n,()=>r.error(i),e)))})}function Gm(n,e=0){return wt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function hO(n,e){return un(n).pipe(Gm(e),zm(e))}function pO(n,e){return un(n).pipe(Gm(e),zm(e))}function mO(n,e){return new it(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function gO(n,e){return new it(t=>{let r;return li(t,e,()=>{r=n[Vm](),li(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>vt(r?.return)&&r.return()})}function Qm(n,e){if(!n)throw new Error("Iterable cannot be null");return new it(t=>{li(t,e,()=>{let r=n[Symbol.asyncIterator]();li(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function yO(n,e){return Qm(Hm(n),e)}function bO(n,e){if(n!=null){if(qm(n))return hO(n,e);if(Lm(n))return mO(n,e);if(Bm(n))return pO(n,e);if(jm(n))return Qm(n,e);if(Um(n))return gO(n,e);if(Wm(n))return yO(n,e)}throw $m(n)}function Xt(n,e){return e?bO(n,e):un(n)}function Je(...n){let e=zs(n);return Xt(n,e)}function vf(n,e){let t=vt(n)?n:()=>n,r=i=>i.error(t());return new it(e?i=>e.schedule(r,0,i):r)}function _f(n){return!!n&&(n instanceof it||vt(n.lift)&&vt(n.subscribe))}var Io=Zu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ef(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let s=new ys({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new Io)}});n.subscribe(s)})}function vO(n){return n instanceof Date&&!isNaN(n)}function Dt(n,e){return wt((t,r)=>{let i=0;t.subscribe(xt(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:vue}=Array;function _ue(n,e){return vue(e)?n(...e):n(e)}function Km(n){return Dt(e=>_ue(n,e))}var{isArray:Eue}=Array,{getPrototypeOf:wue,prototype:Cue,keys:Due}=Object;function Ym(n){if(n.length===1){let e=n[0];if(Eue(e))return{args:e,keys:null};if(xue(e)){let t=Due(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function xue(n){return n&&typeof n=="object"&&wue(n)===Cue}function Jm(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function ol(...n){let e=zs(n),t=km(n),{args:r,keys:i}=Ym(n);if(r.length===0)return Xt([],e);let s=new it(Tue(r,e,i?o=>Jm(i,o):Ti));return t?s.pipe(Km(t)):s}function Tue(n,e,t=Ti){return r=>{_O(e,()=>{let{length:i}=n,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)_O(e,()=>{let u=Xt(n[c],e),l=!1;u.subscribe(xt(r,f=>{s[c]=f,l||(l=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function _O(n,e,t){n?li(t,n,e):e()}function EO(n,e,t,r,i,s,o,a){let c=[],u=0,l=0,f=!1,p=()=>{f&&!c.length&&!u&&e.complete()},g=E=>u<r?v(E):c.push(E),v=E=>{s&&e.next(E),u++;let D=!1;un(t(E,l++)).subscribe(xt(e,P=>{i?.(P),s?g(P):e.next(P)},()=>{D=!0},void 0,()=>{if(D)try{for(u--;c.length&&u<r;){let P=c.shift();o?li(e,o,()=>v(P)):v(P)}p()}catch(P){e.error(P)}}))};return n.subscribe(xt(e,g,()=>{f=!0,p()})),()=>{a?.()}}function wr(n,e,t=1/0){return vt(e)?wr((r,i)=>Dt((s,o)=>e(r,s,i,o))(un(n(r,i))),t):(typeof e=="number"&&(t=e),wt((r,i)=>EO(r,i,n,t)))}function ba(n=1/0){return wr(Ti,n)}function wO(){return ba(1)}function va(...n){return wO()(Xt(n,zs(n)))}function wf(n){return new it(e=>{un(n()).subscribe(e)})}function Cf(...n){let e=km(n),{args:t,keys:r}=Ym(n),i=new it(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let f=!1;un(t[l]).subscribe(xt(s,p=>{f||(f=!0,u--),a[l]=p},()=>c--,void 0,()=>{(!c||!f)&&(u||s.next(r?Jm(r,a):a),s.complete())}))}});return e?i.pipe(Km(e)):i}function Zm(n=0,e,t=sO){let r=-1;return e!=null&&(Fm(e)?t=e:r=e),new it(i=>{let s=vO(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function Aue(n=0,e=Ac){return n<0&&(n=0),Zm(n,n,e)}function Sue(...n){let e=zs(n),t=aO(n,1/0),r=n;return r.length?r.length===1?un(r[0]):ba(t)(Xt(r,e)):Fr}var Iue=new it(Dc);function Nn(n,e){return wt((t,r)=>{let i=0;t.subscribe(xt(r,s=>n.call(e,s,i++)&&r.next(s)))})}function CO(n){return wt((e,t)=>{let r=!1,i=null,s=null,o=!1,a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;let u=i;i=null,t.next(u)}o&&t.complete()},c=()=>{s=null,o&&t.complete()};e.subscribe(xt(t,u=>{r=!0,i=u,s||un(n(u)).subscribe(s=xt(t,a,c))},()=>{o=!0,(!r||!s||s.closed)&&t.complete()}))})}function Xm(n,e=Ac){return CO(()=>Zm(n,e))}function _a(n){return wt((e,t)=>{let r=null,i=!1,s;r=e.subscribe(xt(t,void 0,void 0,o=>{s=un(n(o,_a(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Ea(n,e){return vt(e)?wr(n,e,1):wr(n,1)}function Df(n,e=Ac){return wt((t,r)=>{let i=null,s=null,o=null,a=()=>{if(i){i.unsubscribe(),i=null;let u=s;s=null,r.next(u)}};function c(){let u=o+n,l=e.now();if(l<u){i=this.schedule(void 0,u-l),r.add(i);return}a()}t.subscribe(xt(r,u=>{s=u,o=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}function Fw(n){return wt((e,t)=>{let r=!1;e.subscribe(xt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ai(n){return n<=0?()=>Fr:wt((e,t)=>{let r=0;e.subscribe(xt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function eg(n,e=Ti){return n=n??Mue,wt((t,r)=>{let i,s=!0;t.subscribe(xt(r,o=>{let a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}function Mue(n,e){return n===e}function DO(n=Rue){return wt((e,t)=>{let r=!1;e.subscribe(xt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Rue(){return new Io}function Ic(n){return wt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Mo(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Nn((i,s)=>n(i,s,r)):Ti,Ai(1),t?Fw(e):DO(()=>new Io))}function tg(n){return n<=0?()=>Fr:wt((e,t)=>{let r=[];e.subscribe(xt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function xO(){return wt((n,e)=>{let t,r=!1;n.subscribe(xt(e,i=>{let s=t;t=i,r&&e.next([s,i]),r=!0}))})}function xf(n={}){let{connector:e=()=>new Ge,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,c,u=0,l=!1,f=!1,p=()=>{a?.unsubscribe(),a=void 0},g=()=>{p(),o=c=void 0,l=f=!1},v=()=>{let E=o;g(),E?.unsubscribe()};return wt((E,D)=>{u++,!f&&!l&&p();let P=c=c??e();D.add(()=>{u--,u===0&&!f&&!l&&(a=kw(v,i))}),P.subscribe(D),!o&&u>0&&(o=new ys({next:K=>P.next(K),error:K=>{f=!0,p(),a=kw(g,t,K),P.error(K)},complete:()=>{l=!0,p(),a=kw(g,r),P.complete()}}),un(E).subscribe(o))})(s)}}function kw(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new ys({next:()=>{r.unsubscribe(),n()}});return un(e(...t)).subscribe(r)}function ng(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,xf({connector:()=>new yf(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Tf(n){return Nn((e,t)=>n<=t)}function al(...n){let e=zs(n);return wt((t,r)=>{(e?va(n,t,e):va(n,t)).subscribe(r)})}function di(n,e){return wt((t,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();t.subscribe(xt(r,c=>{i?.unsubscribe();let u=0,l=s++;un(n(c,l)).subscribe(i=xt(r,f=>r.next(e?e(c,f,l,u++):f),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Si(n){return wt((e,t)=>{un(n).subscribe(xt(t,()=>t.complete(),Dc)),!t.closed&&e.subscribe(t)})}function Nue(n,e=!1){return wt((t,r)=>{let i=0;t.subscribe(xt(r,s=>{let o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}function jn(n,e,t){let r=vt(n)||e||t?{next:n,error:e,complete:t}:n;return r?wt((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(xt(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Ti}var Lw;function rg(){return Lw}function Gs(n){let e=Lw;return Lw=n,e}var TO=Symbol("NotFound");function cl(n){return n===TO||n?.name==="\u0275NotFound"}var lg="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",Me=class extends Error{code;constructor(e,t){super(Ks(e,t)),this.code=e}};function Oue(n){return`NG0${Math.abs(n)}`}function Ks(n,e){return`${Oue(n)}${e?": "+e:""}`}var ll=globalThis;function en(n){for(let e in n)if(n[e]===en)return e;throw Error("")}function RO(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function No(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(No).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function dg(n,e){return n?e?`${n} ${e}`:n:e||""}var Pue=en({__forward_ref__:en});function Da(n){return n.__forward_ref__=Da,n.toString=function(){return No(this())},n}function Cr(n){return Yw(n)?n():n}function Yw(n){return typeof n=="function"&&n.hasOwnProperty(Pue)&&n.__forward_ref__===Da}function ye(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Rt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Of(n){return Fue(n,fg)}function Jw(n){return Of(n)!==null}function Fue(n,e){return n.hasOwnProperty(e)&&n[e]||null}function kue(n){let e=n?.[fg]??null;return e||null}function qw(n){return n&&n.hasOwnProperty(sg)?n[sg]:null}var fg=en({\u0275prov:en}),sg=en({\u0275inj:en}),Ee=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=ye({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Zw(n){return n&&!!n.\u0275providers}var Xw=en({\u0275cmp:en}),eC=en({\u0275dir:en}),tC=en({\u0275pipe:en}),nC=en({\u0275mod:en}),Sf=en({\u0275fac:en}),Fc=en({__NG_ELEMENT_ID__:en}),AO=en({__NG_ENV_ID__:en});function rC(n){return pg(n,"@NgModule"),n[nC]||null}function bs(n){return pg(n,"@Component"),n[Xw]||null}function hg(n){return pg(n,"@Directive"),n[eC]||null}function iC(n){return pg(n,"@Pipe"),n[tC]||null}function pg(n,e){if(n==null)throw new Me(-919,!1)}function xa(n){return typeof n=="string"?n:n==null?"":String(n)}function NO(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():xa(n)}var OO=en({ngErrorCode:en}),Lue=en({ngErrorMessage:en}),Bue=en({ngTokenPath:en});function sC(n,e){return PO("",-200,e)}function mg(n,e){throw new Me(-201,!1)}function PO(n,e,t){let r=new Me(e,n);return r[OO]=e,r[Lue]=n,t&&(r[Bue]=t),r}function que(n){return n[OO]}var jw;function FO(){return jw}function Ii(n){let e=jw;return jw=n,e}function oC(n,e,t){let r=Of(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;mg(n,"")}var jue={},Mc=jue,$ue="__NG_DI_FLAG__",$w=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Rc(t)||0;try{return this.injector.get(e,r&8?null:Mc,r)}catch(i){if(cl(i))return i;throw i}}};function Vue(n,e=0){let t=rg();if(t===void 0)throw new Me(-203,!1);if(t===null)return oC(n,void 0,e);{let r=Uue(e),i=t.retrieve(n,r);if(cl(i)){if(r.optional)return null;throw i}return i}}function Be(n,e=0){return(FO()||Vue)(Cr(n),e)}function U(n,e){return Be(n,Rc(e))}function Rc(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Uue(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Vw(n){let e=[];for(let t=0;t<n.length;t++){let r=Cr(n[t]);if(Array.isArray(r)){if(r.length===0)throw new Me(900,!1);let i,s=0;for(let o=0;o<r.length;o++){let a=r[o],c=Hue(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(Be(i,s))}else e.push(Be(r))}return e}function Hue(n){return n[$ue]}function Nc(n,e){let t=n.hasOwnProperty(Sf);return t?n[Sf]:null}function kO(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}function LO(n){return n.flat(Number.POSITIVE_INFINITY)}function gg(n,e){n.forEach(t=>Array.isArray(t)?gg(t,e):e(t))}function aC(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Pf(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function BO(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function qO(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function yg(n,e,t){let r=dl(n,e);return r>=0?n[r|1]=t:(r=~r,qO(n,r,e,t)),r}function bg(n,e){let t=dl(n,e);if(t>=0)return n[t|1]}function dl(n,e){return Wue(n,e,1)}function Wue(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}var Ta={},kr=[],Ys=new Ee(""),cC=new Ee("",-1),uC=new Ee(""),If=class{get(e,t=Mc){if(t===Mc){let i=PO("",-201);throw i.name="\u0275NotFound",i}return t}};function Mi(n){return{\u0275providers:n}}function jO(n){return Mi([{provide:Ys,multi:!0,useValue:n}])}function $O(...n){return{\u0275providers:vg(!0,n),\u0275fromNgModule:!0}}function vg(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return gg(e,o=>{let a=o;og(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&VO(i,s),t}function VO(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];lC(i,s=>{e(s,r)})}}function og(n,e,t,r){if(n=Cr(n),!n)return!1;let i=null,s=qw(n),o=!s&&bs(n);if(!s&&!o){let c=n.ngModule;if(s=qw(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=n}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)og(u,e,t,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{gg(s.imports,l=>{og(l,e,t,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&VO(u,e)}if(!a){let u=Nc(i)||(()=>new i);e({provide:i,useFactory:u,deps:kr},i),e({provide:uC,useValue:i,multi:!0},i),e({provide:Ys,useValue:()=>Be(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=n;lC(c,l=>{e(l,u)})}}else return!1;return i!==n&&n.providers!==void 0}function lC(n,e){for(let t of n)Zw(t)&&(t=t.\u0275providers),Array.isArray(t)?lC(t,e):e(t)}var zue=en({provide:String,useValue:en});function UO(n){return n!==null&&typeof n=="object"&&zue in n}function Gue(n){return!!(n&&n.useExisting)}function Que(n){return!!(n&&n.useFactory)}function Oc(n){return typeof n=="function"}function HO(n){return!!n.useClass}var Ff=new Ee(""),ig={},SO={},Bw;function fl(){return Bw===void 0&&(Bw=new If),Bw}var ln=class{},Pc=class extends ln{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Hw(e,o=>this.processProvider(o)),this.records.set(cC,ul(void 0,this)),i.has("environment")&&this.records.set(ln,ul(void 0,this));let s=this.records.get(Ff);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(uC,kr,{self:!0}))}retrieve(e,t){let r=Rc(t)||0;try{return this.get(e,Mc,r)}catch(i){if(cl(i))return i;throw i}}destroy(){Af(this),this._destroyed=!0;let e=nt(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),nt(e)}}onDestroy(e){return Af(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Af(this);let t=Gs(this),r=Ii(void 0),i;try{return e()}finally{Gs(t),Ii(r)}}get(e,t=Mc,r){if(Af(this),e.hasOwnProperty(AO))return e[AO](this);let i=Rc(r),s,o=Gs(this),a=Ii(void 0);try{if(!(i&4)){let u=this.records.get(e);if(u===void 0){let l=Xue(e)&&Of(e);l&&this.injectableDefInScope(l)?u=ul(Uw(e),ig):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,i)}let c=i&2?fl():this.parent;return t=i&8&&t===Mc?null:t,c.get(e,t)}catch(c){let u=que(c);throw u===-200||u===-201?new Me(u,null):c}finally{Ii(a),Gs(o)}}resolveInjectorInitializers(){let e=nt(null),t=Gs(this),r=Ii(void 0),i;try{let s=this.get(Ys,kr,{self:!0});for(let o of s)o()}finally{Gs(t),Ii(r),nt(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(No(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Cr(e);let t=Oc(e)?e:Cr(e&&e.provide),r=Yue(e);if(!Oc(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ul(void 0,ig,!0),i.factory=()=>Vw(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=nt(null);try{if(t.value===SO)throw sC(No(e));return t.value===ig&&(t.value=SO,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&Zue(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{nt(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Cr(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Uw(n){let e=Of(n),t=e!==null?e.factory:Nc(n);if(t!==null)return t;if(n instanceof Ee)throw new Me(204,!1);if(n instanceof Function)return Kue(n);throw new Me(204,!1)}function Kue(n){if(n.length>0)throw new Me(204,!1);let t=kue(n);return t!==null?()=>t.factory(n):()=>new n}function Yue(n){if(UO(n))return ul(void 0,n.useValue);{let e=dC(n);return ul(e,ig)}}function dC(n,e,t){let r;if(Oc(n)){let i=Cr(n);return Nc(i)||Uw(i)}else if(UO(n))r=()=>Cr(n.useValue);else if(Que(n))r=()=>n.useFactory(...Vw(n.deps||[]));else if(Gue(n))r=(i,s)=>Be(Cr(n.useExisting),s!==void 0&&s&8?8:void 0);else{let i=Cr(n&&(n.useClass||n.provide));if(Jue(n))r=()=>new i(...Vw(n.deps));else return Nc(i)||Uw(i)}return r}function Af(n){if(n.destroyed)throw new Me(205,!1)}function ul(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Jue(n){return!!n.deps}function Zue(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Xue(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Hw(n,e){for(let t of n)Array.isArray(t)?Hw(t,e):t&&Zw(t)?Hw(t.\u0275providers,e):e(t)}function pr(n,e){let t;n instanceof Pc?(Af(n),t=n):t=new $w(n);let r,i=Gs(t),s=Ii(void 0);try{return e()}finally{Gs(i),Ii(s)}}function fC(){return FO()!==void 0||rg()!=null}var Ur=0,$e=1,ct=2,$n=3,Zi=4,Hr=5,Wr=6,hl=7,Vn=8,Ri=9,Js=10,Ht=11,pl=12,hC=13,kc=14,Dr=15,Aa=16,Lc=17,Zs=18,Oo=19,pC=20,Ro=21,_g=22,wa=23,Ni=24,Bc=25,qc=26,Qt=27,WO=1,vs=6,Xs=7,kf=8,jc=9,An=10;function Oi(n){return Array.isArray(n)&&typeof n[WO]=="object"}function Pi(n){return Array.isArray(n)&&n[WO]===!0}function mC(n){return(n.flags&4)!==0}function eo(n){return n.componentOffset>-1}function ml(n){return(n.flags&1)===1}function to(n){return!!n.template}function $c(n){return(n[ct]&512)!==0}function Sa(n){return(n[ct]&256)===256}var gC="svg",zO="math";function Fi(n){for(;Array.isArray(n);)n=n[Ur];return n}function yC(n,e){return Fi(e[n])}function ki(n,e){return Fi(e[n.index])}function Vc(n,e){return n.data[e]}function GO(n,e){return n[e]}function Xi(n,e){let t=e[n];return Oi(t)?t:t[Ur]}function QO(n){return(n[ct]&4)===4}function Eg(n){return(n[ct]&128)===128}function KO(n){return Pi(n[$n])}function Li(n,e){return e==null?null:n[e]}function bC(n){n[Lc]=0}function vC(n){n[ct]&1024||(n[ct]|=1024,Eg(n)&&Uc(n))}function YO(n,e){for(;n>0;)e=e[kc],n--;return e}function Lf(n){return!!(n[ct]&9216||n[Ni]?.dirty)}function wg(n){n[Js].changeDetectionScheduler?.notify(8),n[ct]&64&&(n[ct]|=1024),Lf(n)&&Uc(n)}function Uc(n){n[Js].changeDetectionScheduler?.notify(0);let e=Ca(n);for(;e!==null&&!(e[ct]&8192||(e[ct]|=8192,!Eg(e)));)e=Ca(e)}function _C(n,e){if(Sa(n))throw new Me(911,!1);n[Ro]===null&&(n[Ro]=[]),n[Ro].push(e)}function JO(n,e){if(n[Ro]===null)return;let t=n[Ro].indexOf(e);t!==-1&&n[Ro].splice(t,1)}function Ca(n){let e=n[$n];return Pi(e)?e[$n]:e}function EC(n){return n[hl]??=[]}function wC(n){return n.cleanup??=[]}function ZO(n,e,t,r){let i=EC(e);i.push(t),n.firstCreatePass&&wC(n).push(r,i.length-1)}var _t={lFrame:dP(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Ww=!1;function XO(){return _t.lFrame.elementDepthCount}function eP(){_t.lFrame.elementDepthCount++}function CC(){_t.lFrame.elementDepthCount--}function Cg(){return _t.bindingsEnabled}function Dg(){return _t.skipHydrationRootTNode!==null}function DC(n){return _t.skipHydrationRootTNode===n}function tP(n){_t.skipHydrationRootTNode=n}function xC(){_t.skipHydrationRootTNode=null}function rt(){return _t.lFrame.lView}function bn(){return _t.lFrame.tView}function xg(n){return _t.lFrame.contextLView=n,n[Vn]}function Tg(n){return _t.lFrame.contextLView=null,n}function mr(){let n=TC();for(;n!==null&&n.type===64;)n=n.parent;return n}function TC(){return _t.lFrame.currentTNode}function nP(){let n=_t.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function gl(n,e){let t=_t.lFrame;t.currentTNode=n,t.isParent=e}function AC(){return _t.lFrame.isParent}function SC(){_t.lFrame.isParent=!1}function rP(){return _t.lFrame.contextLView}function IC(){return Ww}function Mf(n){let e=Ww;return Ww=n,e}function MC(){let n=_t.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function iP(){return _t.lFrame.bindingIndex}function sP(n){return _t.lFrame.bindingIndex=n}function no(){return _t.lFrame.bindingIndex++}function Ag(n){let e=_t.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function oP(){return _t.lFrame.inI18n}function aP(n,e){let t=_t.lFrame;t.bindingIndex=t.bindingRootIndex=n,Sg(e)}function cP(){return _t.lFrame.currentDirectiveIndex}function Sg(n){_t.lFrame.currentDirectiveIndex=n}function uP(n){let e=_t.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Ig(){return _t.lFrame.currentQueryIndex}function Bf(n){_t.lFrame.currentQueryIndex=n}function ele(n){let e=n[$e];return e.type===2?e.declTNode:e.type===1?n[Hr]:null}function RC(n,e,t){if(t&4){let i=e,s=n;for(;i=i.parent,i===null&&!(t&1);)if(i=ele(s),i===null||(s=s[kc],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=_t.lFrame=lP();return r.currentTNode=e,r.lView=n,!0}function Mg(n){let e=lP(),t=n[$e];_t.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function lP(){let n=_t.lFrame,e=n===null?null:n.child;return e===null?dP(n):e}function dP(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function fP(){let n=_t.lFrame;return _t.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var NC=fP;function Rg(){let n=fP();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function hP(n){return(_t.lFrame.contextLView=YO(n,_t.lFrame.contextLView))[Vn]}function ro(){return _t.lFrame.selectedIndex}function Ia(n){_t.lFrame.selectedIndex=n}function yl(){let n=_t.lFrame;return Vc(n.tView,n.selectedIndex)}function OC(){_t.lFrame.currentNamespace=gC}function PC(){tle()}function tle(){_t.lFrame.currentNamespace=null}function FC(){return _t.lFrame.currentNamespace}var pP=!0;function Ng(){return pP}function Po(n){pP=n}function zw(n,e=null,t=null,r){let i=kC(n,e,t,r);return i.resolveInjectorInitializers(),i}function kC(n,e=null,t=null,r,i=new Set){let s=[t||kr,$O(n)];return r=r||(typeof n=="object"?void 0:No(n)),new Pc(s,e||fl(),r||null,i)}var tn=class n{static THROW_IF_NOT_FOUND=Mc;static NULL=new If;static create(e,t){if(Array.isArray(e))return zw({name:""},t,e,"");{let r=e.name??"";return zw({name:r},e.parent,e.providers,r)}}static \u0275prov=ye({token:n,providedIn:"any",factory:()=>Be(cC)});static __NG_ELEMENT_ID__=-1},ut=new Ee(""),zr=(()=>{class n{static __NG_ELEMENT_ID__=nle;static __NG_ENV_ID__=t=>t}return n})(),ag=class extends zr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Sa(this._lView)}onDestroy(e){let t=this._lView;return _C(t,e),()=>JO(t,e)}};function nle(){return new ag(rt())}var mP=!1,io=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new tr(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new it(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=ye({token:n,providedIn:"root",factory:()=>new n})}return n})(),Gw=class extends Ge{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,fC()&&(this.destroyRef=U(zr,{optional:!0})??void 0,this.pendingTasks=U(io,{optional:!0})??void 0)}emit(e){let t=nt(null);try{super.next(e)}finally{nt(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof hn&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},pn=Gw;function cg(...n){}function LC(n){let e,t;function r(){n=cg;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function BC(n){return queueMicrotask(()=>n()),()=>{n=cg}}var qC="isAngularZone",Rf=qC+"_ID",rle=0,Ot=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new pn(!1);onMicrotaskEmpty=new pn(!1);onStable=new pn(!1);onError=new pn(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=mP}=e;if(typeof Zone>"u")throw new Me(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,ole(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(qC)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new Me(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new Me(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,ile,cg,cg);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},ile={};function jC(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function sle(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){LC(()=>{n.callbackScheduled=!1,Qw(n),n.isCheckStableRunning=!0,jC(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Qw(n)}function ole(n){let e=()=>{sle(n)},t=rle++;n._inner=n._inner.fork({name:"angular",properties:{[qC]:!0,[Rf]:t,[Rf+t]:!0},onInvokeTask:(r,i,s,o,a,c)=>{if(ale(c))return r.invokeTask(s,o,a,c);try{return IO(n),r.invokeTask(s,o,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),MO(n)}},onInvoke:(r,i,s,o,a,c,u)=>{try{return IO(n),r.invoke(s,o,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!cle(c)&&e(),MO(n)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,Qw(n),jC(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function Qw(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function IO(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function MO(n){n._nesting--,jC(n)}var Nf=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new pn;onMicrotaskEmpty=new pn;onStable=new pn;onError=new pn;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function ale(n){return gP(n,"__ignore_ng_zone__")}function cle(n){return gP(n,"__scheduler_tick__")}function gP(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var fi=class{_console=console;handleError(e){this._console.error("ERROR",e)}},_s=new Ee("",{factory:()=>{let n=U(Ot),e=U(ln),t;return r=>{n.runOutsideAngular(()=>{e.destroyed&&!t?setTimeout(()=>{throw r}):(t??=e.get(fi),t.handleError(r))})}}}),yP={provide:Ys,useValue:()=>{let n=U(fi,{optional:!0})},multi:!0},ule=new Ee("",{factory:()=>{let n=U(ut).defaultView;if(!n)return;let e=U(_s),t=s=>{e(s.reason),s.preventDefault()},r=s=>{s.error?e(s.error):e(new Error(s.message,{cause:s})),s.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),U(zr).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function lle(){return Mi([jO(()=>void U(ule))])}function Wn(n,e){let[t,r,i]=ww(n,e?.equal),s=t,o=s[hr];return s.set=r,s.update=i,s.asReadonly=bP.bind(s),s}function bP(){let n=this[hr];if(n.readonlyFn===void 0){let e=()=>this();e[hr]=n,n.readonlyFn=e}return n.readonlyFn}var bl=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=dle}return n})();function dle(){return new bl(rt(),mr())}var Qs=class{},qf=new Ee("",{factory:()=>!0});var $C=new Ee(""),jf=(()=>{class n{internalPendingTasks=U(io);scheduler=U(Qs);errorHandler=U(_s);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=ye({token:n,providedIn:"root",factory:()=>new n})}return n})(),Og=(()=>{class n{static \u0275prov=ye({token:n,providedIn:"root",factory:()=>new Kw})}return n})(),Kw=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}},ug=class{[hr];constructor(e){this[hr]=e}destroy(){this[hr].destroy()}};function Pg(n,e){let t=e?.injector??U(tn),r=e?.manualCleanup!==!0?t.get(zr):null,i,s=t.get(bl,null,{optional:!0}),o=t.get(Qs);return s!==null?(i=ple(s.view,o,n),r instanceof ag&&r._lView===s.view&&(r=null)):i=mle(n,t.get(Og),o),i.injector=t,r!==null&&(i.onDestroyFns=[r.onDestroy(()=>i.destroy())]),new ug(i)}var vP=We(Z({},Dw),{cleanupFns:void 0,zone:null,onDestroyFns:null,run(){let n=Mf(!1);try{xw(this)}finally{Mf(n)}},cleanup(){if(!this.cleanupFns?.length)return;let n=nt(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],nt(n)}}}),fle=We(Z({},vP),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if(ya(this),this.onDestroyFns!==null)for(let n of this.onDestroyFns)n();this.cleanup(),this.scheduler.remove(this)}}),hle=We(Z({},vP),{consumerMarkedDirty(){this.view[ct]|=8192,Uc(this.view),this.notifier.notify(13)},destroy(){if(ya(this),this.onDestroyFns!==null)for(let n of this.onDestroyFns)n();this.cleanup(),this.view[wa]?.delete(this)}});function ple(n,e,t){let r=Object.create(hle);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=_P(r,t),n[wa]??=new Set,n[wa].add(r),r.consumerMarkedDirty(r),r}function mle(n,e,t){let r=Object.create(fle);return r.fn=_P(r,n),r.scheduler=e,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function _P(n,e){return()=>{e(t=>(n.cleanupFns??=[]).push(t))}}function nr(n){return Cw(n)}var Fg={JSACTION:"jsaction"};function Jf(n){return{toString:n}.toString()}function wle(n){return typeof n=="function"}function cF(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Wg=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}},qi=(()=>{let n=()=>uF;return n.ngInherit=!0,n})();function uF(n){return n.type.prototype.ngOnChanges&&(n.setInput=Dle),Cle}function Cle(){let n=dF(this),e=n?.current;if(e){let t=n.previous;if(t===Ta)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Dle(n,e,t,r,i){let s=this.declaredInputs[r],o=dF(n)||xle(n,{previous:Ta,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new Wg(u&&u.currentValue,t,c===Ta),cF(n,e,i,t)}var lF="__ngSimpleChanges__";function dF(n){return n[lF]||null}function xle(n,e){return n[lF]=e}var EP=[];var zt=function(n,e=null,t){for(let r=0;r<EP.length;r++){let i=EP[r];i(n,e,t)}},jt=(function(n){return n[n.TemplateCreateStart=0]="TemplateCreateStart",n[n.TemplateCreateEnd=1]="TemplateCreateEnd",n[n.TemplateUpdateStart=2]="TemplateUpdateStart",n[n.TemplateUpdateEnd=3]="TemplateUpdateEnd",n[n.LifecycleHookStart=4]="LifecycleHookStart",n[n.LifecycleHookEnd=5]="LifecycleHookEnd",n[n.OutputStart=6]="OutputStart",n[n.OutputEnd=7]="OutputEnd",n[n.BootstrapApplicationStart=8]="BootstrapApplicationStart",n[n.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",n[n.BootstrapComponentStart=10]="BootstrapComponentStart",n[n.BootstrapComponentEnd=11]="BootstrapComponentEnd",n[n.ChangeDetectionStart=12]="ChangeDetectionStart",n[n.ChangeDetectionEnd=13]="ChangeDetectionEnd",n[n.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",n[n.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",n[n.AfterRenderHooksStart=16]="AfterRenderHooksStart",n[n.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",n[n.ComponentStart=18]="ComponentStart",n[n.ComponentEnd=19]="ComponentEnd",n[n.DeferBlockStateStart=20]="DeferBlockStateStart",n[n.DeferBlockStateEnd=21]="DeferBlockStateEnd",n[n.DynamicComponentStart=22]="DynamicComponentStart",n[n.DynamicComponentEnd=23]="DynamicComponentEnd",n[n.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",n[n.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",n})(jt||{});function Tle(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=uF(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function fF(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),l!=null&&(n.destroyHooks??=[]).push(t,l)}}function qg(n,e,t){hF(n,e,3,t)}function jg(n,e,t,r){(n[ct]&3)===t&&hF(n,e,t,r)}function VC(n,e){let t=n[ct];(t&3)===e&&(t&=16383,t+=1,n[ct]=t)}function hF(n,e,t,r){let i=r!==void 0?n[Lc]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Lc]+=65536),(a<s||s==-1)&&(Ale(n,t,e,c),n[Lc]=(n[Lc]&4294901760)+c+2),c++}function wP(n,e){zt(jt.LifecycleHookStart,n,e);let t=nt(null);try{e.call(n)}finally{nt(t),zt(jt.LifecycleHookEnd,n,e)}}function Ale(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],a=n[o];i?n[ct]>>14<n[Lc]>>16&&(n[ct]&3)===e&&(n[ct]+=16384,wP(a,s)):wP(a,s)}var _l=-1,zc=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function Sle(n){return(n.flags&8)!==0}function Ile(n){return(n.flags&16)!==0}function Mle(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{let s=i,o=t[++r];Rle(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function pF(n){return n===3||n===4||n===6}function Rle(n){return n.charCodeAt(0)===64}function Cl(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?CP(n,t,i,null,e[++r]):CP(n,t,i,null,null))}}return n}function CP(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){i!==null&&(n[s+1]=i);return}s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),i!==null&&n.splice(s++,0,i)}function mF(n){return n!==_l}function zg(n){return n&32767}function Nle(n){return n>>16}function Gg(n,e){let t=Nle(n),r=e;for(;t>0;)r=r[kc],t--;return r}var n0=!0;function DP(n){let e=n0;return n0=n,e}var Ole=256,gF=Ole-1,yF=5,Ple=0,so={};function Fle(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Fc)&&(r=t[Fc]),r==null&&(r=t[Fc]=Ple++);let i=r&gF,s=1<<i;e.data[n+(i>>yF)]|=s}function Qg(n,e){let t=bF(n,e);if(t!==-1)return t;let r=e[$e];r.firstCreatePass&&(n.injectorIndex=e.length,UC(r.data,n),UC(e,null),UC(r.blueprint,null));let i=B0(n,e),s=n.injectorIndex;if(mF(i)){let o=zg(i),a=Gg(i,e),c=a[$e].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function UC(n,e){n.push(0,0,0,0,0,0,0,0,e)}function bF(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function B0(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=CF(i),r===null)return _l;if(t++,i=i[kc],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return _l}function r0(n,e,t){Fle(n,e,t)}function kle(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let s=t[i];if(pF(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(s===e)return t[i+1];i=i+2}}}return null}function vF(n,e,t){if(t&8||n!==void 0)return n;mg(e,"NodeInjector")}function _F(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Ri],s=Ii(void 0);try{return i?i.get(e,r,t&8):oC(e,r,t&8)}finally{Ii(s)}}return vF(r,e,t)}function EF(n,e,t,r=0,i){if(n!==null){if(e[ct]&2048&&!(r&2)){let o=jle(n,e,t,r,so);if(o!==so)return o}let s=wF(n,e,t,r,so);if(s!==so)return s}return _F(e,t,r,i)}function wF(n,e,t,r,i){let s=Ble(t);if(typeof s=="function"){if(!RC(e,n,r))return r&1?vF(i,t,r):_F(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&8))mg(t);else return o}finally{NC()}}else if(typeof s=="number"){let o=null,a=bF(n,e),c=_l,u=r&1?e[Dr][Hr]:null;for((a===-1||r&4)&&(c=a===-1?B0(n,e):e[a+8],c===_l||!TP(r,!1)?a=-1:(o=e[$e],a=zg(c),e=Gg(c,e)));a!==-1;){let l=e[$e];if(xP(s,a,l.data)){let f=Lle(a,e,t,o,r,u);if(f!==so)return f}c=e[a+8],c!==_l&&TP(r,e[$e].data[a+8]===u)&&xP(s,a,e)?(o=l,a=zg(c),e=Gg(c,e)):a=-1}}return i}function Lle(n,e,t,r,i,s){let o=e[$e],a=o.data[n+8],c=r==null?eo(a)&&n0:r!=o&&(a.type&3)!==0,u=i&1&&s===a,l=$g(a,o,t,c,u);return l!==null?Uf(e,o,l,a,i):so}function $g(n,e,t,r,i){let s=n.providerIndexes,o=e.data,a=s&1048575,c=n.directiveStart,u=n.directiveEnd,l=s>>20,f=r?a:a+l,p=i?a+l:u;for(let g=f;g<p;g++){let v=o[g];if(g<c&&t===v||g>=c&&v.type===t)return g}if(i){let g=o[c];if(g&&to(g)&&g.type===t)return c}return null}function Uf(n,e,t,r,i){let s=n[t],o=e.data;if(s instanceof zc){let a=s;if(a.resolving){let g=NO(o[t]);throw sC(g)}let c=DP(a.canSeeViewProviders);a.resolving=!0;let u=o[t].type||o[t],l,f=a.injectImpl?Ii(a.injectImpl):null,p=RC(n,r,0);try{s=n[t]=a.factory(void 0,i,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&Tle(t,o[t],e)}finally{f!==null&&Ii(f),DP(c),a.resolving=!1,NC()}}return s}function Ble(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Fc)?n[Fc]:void 0;return typeof e=="number"?e>=0?e&gF:qle:e}function xP(n,e,t){let r=1<<n;return!!(t[e+(n>>yF)]&r)}function TP(n,e){return!(n&2)&&!(n&1&&e)}var Wc=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return EF(this._tNode,this._lView,e,Rc(r),t)}};function qle(){return new Wc(mr(),rt())}function Bo(n){return Jf(()=>{let e=n.prototype.constructor,t=e[Sf]||i0(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[Sf]||i0(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function i0(n){return Yw(n)?()=>{let e=i0(Cr(n));return e&&e()}:Nc(n)}function jle(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[ct]&2048&&!$c(o);){let a=wF(s,o,t,r|2,so);if(a!==so)return a;let c=s.parent;if(!c){let u=o[pC];if(u){let l=u.get(t,so,r);if(l!==so)return l}c=CF(o),o=o[kc]}s=c}return i}function CF(n){let e=n[$e],t=e.type;return t===2?e.declTNode:t===1?n[Hr]:null}function cy(n){return kle(mr(),n)}function $le(){return Al(mr(),rt())}function Al(n,e){return new vn(ki(n,e))}var vn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=$le}return n})();function DF(n){return n instanceof vn?n.nativeElement:n}function Vle(){return this._results[Symbol.iterator]()}var Gc=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ge}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=LO(e);(this._changesDetected=!kO(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Vle},xF="ngSkipHydration",Ule="ngskiphydration";function TF(n){let e=n.mergedAttrs;if(e===null)return!1;for(let t=0;t<e.length;t+=2){let r=e[t];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===Ule)return!0}return!1}function AF(n){return n.hasAttribute(xF)}function Kg(n){return(n.flags&128)===128}function SF(n){if(Kg(n))return!0;let e=n.parent;for(;e;){if(Kg(n)||TF(e))return!0;e=e.parent}return!1}var q0=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(q0||{}),IF=new Map,Hle=0;function Wle(){return Hle++}function zle(n){IF.set(n[Oo],n)}function s0(n){IF.delete(n[Oo])}var AP="__ngContext__";function Dl(n,e){Oi(e)?(n[AP]=e[Oo],zle(e)):n[AP]=e}function MF(n){return NF(n[pl])}function RF(n){return NF(n[Zi])}function NF(n){for(;n!==null&&!Pi(n);)n=n[Zi];return n}var o0;function j0(n){o0=n}function OF(){if(o0!==void 0)return o0;if(typeof document<"u")return document;throw new Me(210,!1)}var pi=new Ee("",{factory:()=>Gle}),Gle="ng";var uy=new Ee(""),Oa=new Ee("",{providedIn:"platform",factory:()=>"unknown"}),$0=new Ee(""),Sl=new Ee("",{factory:()=>U(ut).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Il=(()=>{class n{static \u0275prov=ye({token:n,providedIn:"root",factory:()=>{let t=new n;return t.store=Qle(U(ut),U(pi)),t}});store={};onSerializeCallbacks={};get(t,r){return this.store[t]!==void 0?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(let t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();function Qle(n,e){let t=n.getElementById(e+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var PF="h",FF="b",Kle="f",Yle="n",kF="e",LF="t",ly="c",V0="x",Hf="r",BF="i",qF="n",U0="d";var jF="di",$F="s",VF="p";var Zf=new Ee(""),UF=!1,H0=new Ee("",{factory:()=>UF});var W0=new Ee(""),HF=!1,WF=new Ee("",{factory:()=>[]}),zF=new Ee(""),z0=new Ee("",{factory:()=>new Map}),dy=new Ee("");var Xf="ngb";var GF=(n,e,t)=>{let r=n,i=r.__jsaction_fns??new Map,s=i.get(e)??[];s.push(t),i.set(e,s),r.__jsaction_fns=i},QF=(n,e)=>{let t=n,r=t.getAttribute(Xf)??"",i=e.get(r)??new Set;i.has(t)||i.add(t),e.set(r,i)};var KF=n=>{n.removeAttribute(Fg.JSACTION),n.removeAttribute(Xf),n.__jsaction_fns=void 0},YF=new Ee("",{factory:()=>({})});function G0(n,e){let t=e?.__jsaction_fns?.get(n.type);if(!(!t||!e?.isConnected))for(let r of t)r(n)}var a0=new Map;function JF(n,e){return a0.set(n,e),()=>a0.delete(n)}var SP=!1,ZF=(n,e,t,r)=>{};function Jle(n,e,t,r){ZF(n,e,t,r)}function XF(){SP||(ZF=(n,e,t,r)=>{let i=n[Ri].get(pi);a0.get(i)?.(e,t,r)},SP=!0)}var fy=new Ee("");function eh(n){return(n.flags&32)===32}var Zle="__nghData__",Q0=Zle,Xle="__nghDeferData__",ek=Xle;var Vg="ngh",tk="nghm",nk=()=>null;function ede(n,e,t=!1){let r=n.getAttribute(Vg);if(r==null)return null;let[i,s]=r.split("|");if(r=t?s:i,!r)return null;let o=s?`|${s}`:"",a=t?i:o,c={};if(r!==""){let l=e.get(Il,null,{optional:!0});l!==null&&(c=l.get(Q0,[])[Number(r)])}let u={data:c,firstChild:n.firstChild??null};return t&&(u.firstChild=n,hy(u,0,n.nextSibling)),a?n.setAttribute(Vg,a):n.removeAttribute(Vg),u}function rk(){nk=ede}function ik(n,e,t=!1){return nk(n,e,t)}function sk(n){let e=n._lView;return e[$e].type===2?null:($c(e)&&(e=e[Qt]),e)}function tde(n){return n.textContent?.replace(/\s/gm,"")}function nde(n){let e=OF(),t=e.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(s){let o=tde(s);return o==="ngetn"||o==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=t.nextNode();)i.push(r);for(let s of i)s.textContent==="ngetn"?s.replaceWith(e.createTextNode("")):s.remove()}function hy(n,e,t){n.segmentHeads??={},n.segmentHeads[e]=t}function c0(n,e){return n.segmentHeads?.[e]??null}function ok(n){return n.get(zF,!1,{optional:!0})}function rde(n,e){let t=n.data,r=t[kF]?.[e]??null;return r===null&&t[ly]?.[e]&&(r=K0(n,e)),r}function ak(n,e){return n.data[ly]?.[e]??null}function K0(n,e){let t=ak(n,e)??[],r=0;for(let i of t)r+=i[Hf]*(i[V0]??1);return r}function ide(n){if(typeof n.disconnectedNodes>"u"){let e=n.data[U0];n.disconnectedNodes=e?new Set(e):null}return n.disconnectedNodes}function ck(n,e){if(typeof n.disconnectedNodes>"u"){let t=n.data[U0];n.disconnectedNodes=t?new Set(t):null}return!!ide(n)?.has(e)}function py(n,e){let t=n[Wr];return t!==null&&!Dg()&&!eh(e)&&!ck(t,e.index-Qt)}function sde(n,e){let t=e.get(fy),i=e.get(Il).get(ek,{}),s=!1,o=n,a=null,c=[];for(;!s&&o;){s=t.has(o);let u=t.hydrating.get(o);if(a===null&&u!=null){a=u.promise;break}c.unshift(o),o=i[o][VF]}return{parentBlockPromise:a,hydrationQueue:c}}function HC(n){return!!n&&n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===tk}function IP(n){for(;n&&n.nodeType===Node.TEXT_NODE;)n=n.previousSibling;return n}function uk(n){for(let r of n.body.childNodes)if(HC(r))return;let e=IP(n.body.previousSibling);if(HC(e))return;let t=IP(n.head.lastChild);if(!HC(t))throw new Me(-507,!1)}function lk(n,e){let t=n.contentQueries;if(t!==null){let r=nt(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let a=n.data[o];Bf(s),a.contentQueries(2,e[o],o)}}}finally{nt(r)}}}function u0(n,e,t){Bf(0);let r=nt(null);try{e(n,t)}finally{nt(r)}}function Y0(n,e,t){if(mC(e)){let r=nt(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=n.data[o];if(a.contentQueries){let c=t[o];a.contentQueries(1,c,o)}}}finally{nt(r)}}}var Cs=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n[n.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",n})(Cs||{});var kg;function ode(){if(kg===void 0&&(kg=null,ll.trustedTypes))try{kg=ll.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return kg}function my(n){return ode()?.createHTML(n)||n}var Fo=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lg})`}},l0=class extends Fo{getTypeName(){return"HTML"}},d0=class extends Fo{getTypeName(){return"Style"}},f0=class extends Fo{getTypeName(){return"Script"}},h0=class extends Fo{getTypeName(){return"URL"}},p0=class extends Fo{getTypeName(){return"ResourceURL"}};function Ds(n){return n instanceof Fo?n.changingThisBreaksApplicationSecurity:n}function Pa(n,e){let t=dk(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${lg})`)}return t===e}function dk(n){return n instanceof Fo&&n.getTypeName()||null}function J0(n){return new l0(n)}function Z0(n){return new d0(n)}function X0(n){return new f0(n)}function eD(n){return new h0(n)}function tD(n){return new p0(n)}function ade(n){let e=new g0(n);return cde()?new m0(e):e}var m0=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(my(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},g0=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=my(e),t}};function cde(){try{return!!new window.DOMParser().parseFromString(my(""),"text/html")}catch{return!1}}var ude=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function th(n){return n=String(n),n.match(ude)?n:"unsafe:"+n}function qo(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function nh(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var fk=qo("area,br,col,hr,img,wbr"),hk=qo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pk=qo("rp,rt"),lde=nh(pk,hk),dde=nh(hk,qo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),fde=nh(pk,qo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),MP=nh(fk,dde,fde,lde),mk=qo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hde=qo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),pde=qo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),mde=nh(mk,hde,pde),gde=qo("script,style,template"),y0=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=vde(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=bde(t);if(s){t=s;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=RP(e).toLowerCase();if(!MP.hasOwnProperty(t))return this.sanitizedSomething=!0,!gde.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!mde.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;mk[a]&&(c=th(c)),this.buf.push(" ",o,'="',NP(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=RP(e).toLowerCase();MP.hasOwnProperty(t)&&!fk.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(NP(e))}};function yde(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function bde(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw gk(e);return e}function vde(n){let e=n.firstChild;if(e&&yde(n,e))throw gk(e);return e}function RP(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function gk(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var _de=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ede=/([^\#-~ |!])/g;function NP(n){return n.replace(/&/g,"&amp;").replace(_de,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(Ede,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Lg;function nD(n,e){let t=null;try{Lg=Lg||ade(n);let r=e?String(e):"";t=Lg.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=Lg.getInertBodyElement(r)}while(r!==s);let a=new y0().sanitizeChildren(OP(t)||t);return my(a)}finally{if(t){let r=OP(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function OP(n){return"content"in n&&wde(n)?n.content:null}function wde(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Cde=/^>|^->|<!--|-->|--!>|<!-$/g,Dde=/(<|>)/g,xde="\u200B$1\u200B";function Tde(n){return n.replace(Cde,e=>e.replace(Dde,xde))}function yk(n,e){return n.createText(e)}function Ade(n,e,t){n.setValue(e,t)}function bk(n,e){return n.createComment(Tde(e))}function rD(n,e,t){return n.createElement(e,t)}function Yg(n,e,t,r,i){n.insertBefore(e,t,r,i)}function vk(n,e,t){n.appendChild(e,t)}function PP(n,e,t,r,i){r!==null?Yg(n,e,t,r,i):vk(n,e,t)}function iD(n,e,t,r){n.removeChild(null,e,t,r)}function _k(n){n.textContent=""}function Sde(n,e,t){n.setAttribute(e,"style",t)}function Ide(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Ek(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&Mle(n,e,r),i!==null&&Ide(n,e,i),s!==null&&Sde(n,e,s)}var Lr=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Lr||{});function Mde(n){let e=Rde();return e?e.sanitize(Lr.URL,n)||"":Pa(n,"URL")?Ds(n):th(xa(n))}function Rde(){let n=rt();return n&&n[Js].sanitizer}function wk(n){return n.ownerDocument.body}function Ck(n){return n instanceof Function?n():n}function Nde(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}var Dk="ng-template";function Ode(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Nde(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(sD(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function sD(n){return n.type===4&&n.value!==Dk}function Pde(n,e,t){let r=n.type===4&&!t?Dk:n.value;return e===r}function Fde(n,e,t){let r=4,i=n.attrs,s=i!==null?Bde(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Es(r)&&!Es(c))return!1;if(o&&Es(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!Pde(n,c,t)||c===""&&e.length===1){if(Es(r))return!1;o=!0}}else if(r&8){if(i===null||!Ode(n,i,c,t)){if(Es(r))return!1;o=!0}}else{let u=e[++a],l=kde(c,i,sD(n),t);if(l===-1){if(Es(r))return!1;o=!0;continue}if(u!==""){let f;if(l>s?f="":f=i[l+1].toLowerCase(),r&2&&u!==f){if(Es(r))return!1;o=!0}}}}return Es(r)||o}function Es(n){return(n&1)===0}function kde(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return qde(e,n)}function xk(n,e,t=!1){for(let r=0;r<e.length;r++)if(Fde(n,e[r],t))return!0;return!1}function Lde(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function Bde(n){for(let e=0;e<n.length;e++){let t=n[e];if(pF(t))return e}return n.length}function qde(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function jde(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function FP(n,e){return n?":not("+e.trim()+")":e}function $de(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Es(o)&&(e+=FP(s,i),i=""),r=o,s=s||!Es(r);t++}return i!==""&&(e+=FP(s,i)),e}function Vde(n){return n.map($de).join(",")}function Ude(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!Es(i))break;i=s}r++}return t.length&&e.push(1,...t),e}var Qr={};function oD(n,e,t,r,i,s,o,a,c,u,l){let f=Qt+r,p=f+i,g=Hde(f,p),v=typeof u=="function"?u():u;return g[$e]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:l}}function Hde(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Qr);return t}function Wde(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=oD(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function aD(n,e,t,r,i,s,o,a,c,u,l){let f=e.blueprint.slice();return f[Ur]=i,f[ct]=r|4|128|8|64|1024,(u!==null||n&&n[ct]&2048)&&(f[ct]|=2048),bC(f),f[$n]=f[kc]=n,f[Vn]=t,f[Js]=o||n&&n[Js],f[Ht]=a||n&&n[Ht],f[Ri]=c||n&&n[Ri]||null,f[Hr]=s,f[Oo]=Wle(),f[Wr]=l,f[pC]=u,f[Dr]=e.type==2?n[Dr]:f,f}function zde(n,e,t){let r=ki(e,n),i=Wde(t),s=n[Js].rendererFactory,o=cD(n,aD(n,i,null,Tk(t),r,e,null,s.createRenderer(r,t),null,null,null));return n[e.index]=o}function Tk(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function Ak(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function cD(n,e){return n[pl]?n[hC][Zi]=e:n[pl]=e,n[hC]=e,e}function gy(n=1){Sk(bn(),rt(),ro()+n,!1)}function Sk(n,e,t,r){if(!r)if((e[ct]&3)===3){let s=n.preOrderCheckHooks;s!==null&&qg(e,s,t)}else{let s=n.preOrderHooks;s!==null&&jg(e,s,0,t)}Ia(t)}var yy=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(yy||{});function b0(n,e,t,r){let i=nt(null);try{let[s,o,a]=n.inputs[t],c=null;(o&yy.SignalBased)!==0&&(c=e[s][hr]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,s):cF(e,c,s,r)}finally{nt(i)}}var ko=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(ko||{}),Gde;function uD(n,e){return Gde(n,e)}var Qc=new Set,by=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(by||{}),oo=new Ee(""),kP=new Set;function Kr(n){kP.has(n)||(kP.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var vy=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=ye({token:n,providedIn:"root",factory:()=>new n})}return n})(),lD=[0,1,2,3],dD=(()=>{class n{ngZone=U(Ot);scheduler=U(Qs);errorHandler=U(fi,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){U(oo,{optional:!0})}execute(){let t=this.sequences.size>0;t&&zt(jt.AfterRenderHooksStart),this.executing=!0;for(let r of lD)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let s=i.hooks[r];return s(i.pipelinedValue)},i.snapshot))}catch(s){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(s)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&zt(jt.AfterRenderHooksEnd)}register(t){let{view:r}=t;r!==void 0?((r[Bc]??=[]).push(t),Uc(r),r[ct]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(by.AFTER_NEXT_RENDER,t):t()}static \u0275prov=ye({token:n,providedIn:"root",factory:()=>new n})}return n})(),Wf=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,s,o=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=o,this.unregisterOnDestroy=s?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Bc];e&&(this.view[Bc]=e.filter(t=>t!==this))}};function Fa(n,e){let t=e?.injector??U(tn);return Kr("NgAfterNextRender"),Kde(n,t,e,!0)}function Qde(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function Kde(n,e,t,r){let i=e.get(vy);i.impl??=e.get(dD);let s=e.get(oo,null,{optional:!0}),o=t?.manualCleanup!==!0?e.get(zr):null,a=e.get(bl,null,{optional:!0}),c=new Wf(i.impl,Qde(n),a?.view,r,o,s?.snapshot(null));return i.impl.register(c),c}var Ik=new Ee("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:U(ln)})});function Mk(n,e,t){let r=n.get(Ik);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function Yde(n,e){let t=n.get(Ik);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)t.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function Jde(n,e){for(let[t,r]of e)Mk(n,r.animateFns)}function LP(n,e,t,r){let i=n?.[qc]?.enter;e!==null&&i&&i.has(t.index)&&Jde(r,i)}function vl(n,e,t,r,i,s,o,a){if(i!=null){let c,u=!1;Pi(i)?c=i:Oi(i)&&(u=!0,i=i[Ur]);let l=Fi(i);n===0&&r!==null?(LP(a,r,s,t),o==null?vk(e,r,l):Yg(e,r,l,o||null,!0)):n===1&&r!==null?(LP(a,r,s,t),Yg(e,r,l,o||null,!0)):n===2?BP(a,s,t,f=>{iD(e,l,u,f)}):n===3&&BP(a,s,t,()=>{e.destroyNode(l)}),c!=null&&cfe(e,n,t,c,s,r,o)}}function Zde(n,e){Rk(n,e),e[Ur]=null,e[Hr]=null}function Xde(n,e,t,r,i,s){r[Ur]=i,r[Hr]=e,Ey(n,r,t,1,i,s)}function Rk(n,e){e[Js].changeDetectionScheduler?.notify(9),Ey(n,e,e[Ht],2,null,null)}function efe(n){let e=n[pl];if(!e)return WC(n[$e],n);for(;e;){let t=null;if(Oi(e))t=e[pl];else{let r=e[An];r&&(t=r)}if(!t){for(;e&&!e[Zi]&&e!==n;)Oi(e)&&WC(e[$e],e),e=e[$n];e===null&&(e=n),Oi(e)&&WC(e[$e],e),t=e&&e[Zi]}e=t}}function fD(n,e){let t=n[jc],r=t.indexOf(e);t.splice(r,1)}function _y(n,e){if(Sa(e))return;let t=e[Ht];t.destroyNode&&Ey(n,e,t,3,null,null),efe(e)}function WC(n,e){if(Sa(e))return;let t=nt(null);try{e[ct]&=-129,e[ct]|=256,e[Ni]&&ya(e[Ni]),rfe(n,e),nfe(n,e),e[$e].type===1&&e[Ht].destroy();let r=e[Aa];if(r!==null&&Pi(e[$n])){r!==e[$n]&&fD(r,e);let i=e[Zs];i!==null&&i.detachView(n)}s0(e)}finally{nt(t)}}function BP(n,e,t,r){let i=n?.[qc];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&Qc.add(n[Oo]),Mk(t,()=>{if(i.leave&&i.leave.has(e.index)){let o=i.leave.get(e.index),a=[];if(o){for(let c=0;c<o.animateFns.length;c++){let u=o.animateFns[c],{promise:l}=u();a.push(l)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),tfe(n,r)}else n&&Qc.delete(n[Oo]),r(!1)},i)}function tfe(n,e){let t=n[qc]?.running;if(t){t.then(()=>{n[qc].running=void 0,Qc.delete(n[Oo]),e(!0)});return}e(!1)}function nfe(n,e){let t=n.cleanup,r=e[hl];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let a=t[o+3];a>=0?r[a]():r[-a].unsubscribe(),o+=2}else{let a=r[t[o+1]];t[o].call(a)}r!==null&&(e[hl]=null);let i=e[Ro];if(i!==null){e[Ro]=null;for(let o=0;o<i.length;o++){let a=i[o];a()}}let s=e[wa];if(s!==null){e[wa]=null;for(let o of s)o.destroy()}}function rfe(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof zc)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];zt(jt.LifecycleHookStart,a,c);try{c.call(a)}finally{zt(jt.LifecycleHookEnd,a,c)}}else{zt(jt.LifecycleHookStart,i,s);try{s.call(i)}finally{zt(jt.LifecycleHookEnd,i,s)}}}}}function Nk(n,e,t){return ife(n,e.parent,t)}function ife(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Ur];if(eo(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Cs.None||i===Cs.Emulated)return null}return ki(r,t)}function Ok(n,e,t){return ofe(n,e,t)}function sfe(n,e,t){return n.type&40?ki(n,t):null}var ofe=sfe,qP;function hD(n,e,t,r){let i=Nk(n,r,e),s=e[Ht],o=r.parent||e[Hr],a=Ok(o,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)PP(s,i,t[c],a,!1);else PP(s,i,t,a,!1);qP!==void 0&&qP(s,r,e,t,i)}function $f(n,e){if(e!==null){let t=e.type;if(t&3)return ki(e,n);if(t&4)return v0(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return $f(n,r);{let i=n[e.index];return Pi(i)?v0(-1,i):Fi(i)}}else{if(t&128)return $f(n,e.next);if(t&32)return uD(e,n)()||Fi(n[e.index]);{let r=Pk(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ca(n[Dr]);return $f(i,r)}else return $f(n,e.next)}}}return null}function Pk(n,e){if(e!==null){let r=n[Dr][Hr],i=e.projection;return r.projection[i]}return null}function v0(n,e){let t=An+n+1;if(t<e.length){let r=e[t],i=r[$e].firstChild;if(i!==null)return $f(r,i)}return e[Xs]}function pD(n,e,t,r,i,s,o){for(;t!=null;){let a=r[Ri];if(t.type===128){t=t.next;continue}let c=r[t.index],u=t.type;if(o&&e===0&&(c&&Dl(Fi(c),r),t.flags|=2),!eh(t))if(u&8)pD(n,e,t.child,r,i,s,!1),vl(e,n,a,i,c,t,s,r);else if(u&32){let l=uD(t,r),f;for(;f=l();)vl(e,n,a,i,f,t,s,r);vl(e,n,a,i,c,t,s,r)}else u&16?Fk(n,e,r,t,i,s):vl(e,n,a,i,c,t,s,r);t=o?t.projectionNext:t.next}}function Ey(n,e,t,r,i,s){pD(t,r,n.firstChild,e,i,s,!1)}function afe(n,e,t){let r=e[Ht],i=Nk(n,t,e),s=t.parent||e[Hr],o=Ok(s,t,e);Fk(r,0,e,t,i,o)}function Fk(n,e,t,r,i,s){let o=t[Dr],c=o[Hr].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];vl(e,n,t[Ri],i,l,r,s,t)}else{let u=c,l=o[$n];Kg(r)&&(u.flags|=128),pD(n,e,u,l,i,s,!0)}}function cfe(n,e,t,r,i,s,o){let a=r[Xs],c=Fi(r);a!==c&&vl(e,n,t,s,a,i,o);for(let u=An;u<r.length;u++){let l=r[u];Ey(l[$e],l,n,e,s,a)}}function ufe(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:ko.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ko.Important),n.setStyle(t,r,i,s))}}function kk(n,e,t,r,i){let s=ro(),o=r&2;try{Ia(-1),o&&e.length>Qt&&Sk(n,e,Qt,!1);let a=o?jt.TemplateUpdateStart:jt.TemplateCreateStart;zt(a,i,t),t(r,i)}finally{Ia(s);let a=o?jt.TemplateUpdateEnd:jt.TemplateCreateEnd;zt(a,i,t)}}function wy(n,e,t){pfe(n,e,t),(t.flags&64)===64&&mfe(n,e,t)}function rh(n,e,t=ki){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?t(e,n):n[o];n[i++]=a}}}function lfe(n,e,t,r){let s=r.get(H0,UF)||t===Cs.ShadowDom||t===Cs.ExperimentalIsolatedShadowDom,o=n.selectRootElement(e,s);return dfe(o),o}function dfe(n){Lk(n)}var Lk=()=>null;function ffe(n){AF(n)?_k(n):nde(n)}function Bk(){Lk=ffe}function hfe(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function qk(n,e,t,r,i,s){let o=e[$e];if(Cy(n,o,e,t,r)){eo(n)&&$k(e,n.index);return}n.type&3&&(t=hfe(t)),jk(n,e,t,r,i,s)}function jk(n,e,t,r,i,s){if(n.type&3){let o=ki(n,e);r=s!=null?s(r,n.value||"",t):r,i.setProperty(o,t,r)}else n.type&12}function $k(n,e){let t=Xi(e,n);t[ct]&16||(t[ct]|=64)}function pfe(n,e,t){let r=t.directiveStart,i=t.directiveEnd;eo(t)&&zde(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Qg(t,e);let s=t.initialInputs;for(let o=r;o<i;o++){let a=n.data[o],c=Uf(e,n,o,t);if(Dl(c,e),s!==null&&bfe(e,o-r,c,a,t,s),to(a)){let u=Xi(t.index,e);u[Vn]=Uf(e,n,o,t)}}}function mfe(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=cP();try{Ia(s);for(let a=r;a<i;a++){let c=n.data[a],u=e[a];Sg(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&gfe(c,u)}}finally{Ia(-1),Sg(o)}}function gfe(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function mD(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let s=t[i];xk(e,s.selectors,!1)&&(r??=[],to(s)?r.unshift(s):r.push(s))}return r}function yfe(n,e,t,r,i,s){let o=ki(n,e);Vk(e[Ht],o,s,n.value,t,r,i)}function Vk(n,e,t,r,i,s,o){if(s==null)n.removeAttribute(e,i,t);else{let a=o==null?xa(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}function bfe(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;a+=2){let c=o[a],u=o[a+1];b0(r,t,c,u)}}function gD(n,e,t,r,i){let s=Qt+t,o=e[$e],a=i(o,e,n,r,t);e[s]=a,gl(n,!0);let c=n.type===2;return c?(Ek(e[Ht],a,n),(XO()===0||ml(n))&&Dl(a,e),eP()):Dl(a,e),Ng()&&(!c||!eh(n))&&hD(o,e,a,n),n}function yD(n){let e=n;return AC()?SC():(e=e.parent,gl(e,!1)),e}function bD(n,e){let t=n[Ri];if(!t)return;let r;try{r=t.get(_s,null)}catch{r=null}r?.(e)}function Cy(n,e,t,r,i){let s=n.inputs?.[r],o=n.hostDirectiveInputs?.[r],a=!1;if(o)for(let c=0;c<o.length;c+=2){let u=o[c],l=o[c+1],f=e.data[u];b0(f,t[u],l,i),a=!0}if(s)for(let c of s){let u=t[c],l=e.data[c];b0(l,u,r,i),a=!0}return a}function vfe(n,e){let t=Xi(e,n),r=t[$e];_fe(r,t);let i=t[Ur];i!==null&&t[Wr]===null&&(t[Wr]=ik(i,t[Ri])),zt(jt.ComponentStart);try{vD(r,t,t[Vn])}finally{zt(jt.ComponentEnd,t[Vn])}}function _fe(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function vD(n,e,t){Mg(e);try{let r=n.viewQuery;r!==null&&u0(1,r,t);let i=n.template;i!==null&&kk(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Zs]?.finishViewCreation(n),n.staticContentQueries&&lk(n,e),n.staticViewQueries&&u0(2,n.viewQuery,t);let s=n.components;s!==null&&Efe(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ct]&=-5,Rg()}}function Efe(n,e){for(let t=0;t<e.length;t++)vfe(n,e[t])}function Ml(n,e,t,r){let i=nt(null);try{let s=e.tView,a=n[ct]&4096?4096:16,c=aD(n,s,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];c[Aa]=u;let l=n[Zs];return l!==null&&(c[Zs]=l.createEmbeddedView(s)),vD(s,c,t),c}finally{nt(i)}}function Kc(n,e){return!e||e.firstChild===null||Kg(n)}function zf(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(Fi(s)),Pi(s)&&Uk(s,r);let o=t.type;if(o&8)zf(n,e,t.child,r);else if(o&32){let a=uD(t,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=Pk(e,t);if(Array.isArray(a))r.push(...a);else{let c=Ca(e[Dr]);zf(c[$e],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Uk(n,e){for(let t=An;t<n.length;t++){let r=n[t],i=r[$e].firstChild;i!==null&&zf(r[$e],r,i,e)}n[Xs]!==n[Ur]&&e.push(n[Xs])}function Hk(n){if(n[Bc]!==null){for(let e of n[Bc])e.impl.addSequence(e);n[Bc].length=0}}var Wk=[];function wfe(n){return n[Ni]??Cfe(n)}function Cfe(n){let e=Wk.pop()??Object.create(xfe);return e.lView=n,e}function Dfe(n){n.lView[Ni]!==n&&(n.lView=null,Wk.push(n))}var xfe=We(Z({},Gu),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Uc(n.lView)},consumerOnSignalRead(){this.lView[Ni]=this}});function Tfe(n){let e=n[Ni]??Object.create(Afe);return e.lView=n,e}var Afe=We(Z({},Gu),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Ca(n.lView);for(;e&&!zk(e[$e]);)e=Ca(e);e&&vC(e)},consumerOnSignalRead(){this.lView[Ni]=this}});function zk(n){return n.type!==2}function Gk(n){if(n[wa]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[wa])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ct]&8192)}}var Sfe=100;function Qk(n,e=0){let r=n[Js].rendererFactory,i=!1;i||r.begin?.();try{Ife(n,e)}finally{i||r.end?.()}}function Ife(n,e){let t=IC();try{Mf(!0),_0(n,e);let r=0;for(;Lf(n);){if(r===Sfe)throw new Me(103,!1);r++,_0(n,1)}}finally{Mf(t)}}function Mfe(n,e,t,r){if(Sa(e))return;let i=e[ct],s=!1,o=!1;Mg(e);let a=!0,c=null,u=null;s||(zk(n)?(u=wfe(e),c=wc(u)):Tm()===null?(a=!1,u=Tfe(e),c=wc(u)):e[Ni]&&(ya(e[Ni]),e[Ni]=null));try{bC(e),sP(n.bindingStartIndex),t!==null&&kk(n,e,t,2,r);let l=(i&3)===3;if(!s)if(l){let g=n.preOrderCheckHooks;g!==null&&qg(e,g,null)}else{let g=n.preOrderHooks;g!==null&&jg(e,g,0,null),VC(e,0)}if(o||Rfe(e),Gk(e),Kk(e,0),n.contentQueries!==null&&lk(n,e),!s)if(l){let g=n.contentCheckHooks;g!==null&&qg(e,g)}else{let g=n.contentHooks;g!==null&&jg(e,g,1),VC(e,1)}Ofe(n,e);let f=n.components;f!==null&&Jk(e,f,0);let p=n.viewQuery;if(p!==null&&u0(2,p,r),!s)if(l){let g=n.viewCheckHooks;g!==null&&qg(e,g)}else{let g=n.viewHooks;g!==null&&jg(e,g,2),VC(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[_g]){for(let g of e[_g])g();e[_g]=null}s||(Hk(e),e[ct]&=-73)}catch(l){throw s||Uc(e),l}finally{u!==null&&(Ku(u,c),a&&Dfe(u)),Rg()}}function Kk(n,e){for(let t=MF(n);t!==null;t=RF(t))for(let r=An;r<t.length;r++){let i=t[r];Yk(i,e)}}function Rfe(n){for(let e=MF(n);e!==null;e=RF(e)){if(!(e[ct]&2))continue;let t=e[jc];for(let r=0;r<t.length;r++){let i=t[r];vC(i)}}}function Nfe(n,e,t){zt(jt.ComponentStart);let r=Xi(e,n);try{Yk(r,t)}finally{zt(jt.ComponentEnd,r[Vn])}}function Yk(n,e){Eg(n)&&_0(n,e)}function _0(n,e){let r=n[$e],i=n[ct],s=n[Ni],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Yu(s)),o||=!1,s&&(s.dirty=!1),n[ct]&=-9217,o)Mfe(r,n,r.template,n[Vn]);else if(i&8192){let a=nt(null);try{Gk(n),Kk(n,1);let c=r.components;c!==null&&Jk(n,c,1),Hk(n)}finally{nt(a)}}}function Jk(n,e,t){for(let r=0;r<e.length;r++)Nfe(n,e[r],t)}function Ofe(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Ia(~i);else{let s=i,o=t[++r],a=t[++r];aP(o,s);let c=e[s];zt(jt.HostBindingsUpdateStart,c);try{a(2,c)}finally{zt(jt.HostBindingsUpdateEnd,c)}}}}finally{Ia(-1)}}function Dy(n,e){let t=IC()?64:1088;for(n[Js].changeDetectionScheduler?.notify(e);n;){n[ct]|=t;let r=Ca(n);if($c(n)&&!r)return n;n=r}return null}function Zk(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function Xk(n,e){let t=An+e;if(t<n.length)return n[t]}function Rl(n,e,t,r=!0){let i=e[$e];if(Pfe(i,e,n,t),r){let o=v0(t,n),a=e[Ht],c=a.parentNode(n[Xs]);c!==null&&Xde(i,n[Hr],a,e,c,o)}let s=e[Wr];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function _D(n,e){let t=Gf(n,e);return t!==void 0&&_y(t[$e],t),t}function Gf(n,e){if(n.length<=An)return;let t=An+e,r=n[t];if(r){let i=r[Aa];i!==null&&i!==n&&fD(i,r),e>0&&(n[t-1][Zi]=r[Zi]);let s=Pf(n,An+e);Zde(r[$e],r);let o=s[Zs];o!==null&&o.detachView(s[$e]),r[$n]=null,r[Zi]=null,r[ct]&=-129}return r}function Pfe(n,e,t,r){let i=An+r,s=t.length;r>0&&(t[i-1][Zi]=e),r<s-An?(e[Zi]=t[i],aC(t,An+r,e)):(t.push(e),e[Zi]=null),e[$n]=t;let o=e[Aa];o!==null&&t!==o&&e1(o,e);let a=e[Zs];a!==null&&a.insertView(n),wg(e),e[ct]|=128}function e1(n,e){let t=n[jc],r=e[$n];if(Oi(r))n[ct]|=2;else{let i=r[$n][Dr];e[Dr]!==i&&(n[ct]|=2)}t===null?n[jc]=[e]:t.push(e)}var Ma=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[$e];return zf(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Vn]}set context(e){this._lView[Vn]=e}get destroyed(){return Sa(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[$n];if(Pi(e)){let t=e[kf],r=t?t.indexOf(this):-1;r>-1&&(Gf(e,r),Pf(t,r))}this._attachedToViewContainer=!1}_y(this._lView[$e],this._lView)}onDestroy(e){_C(this._lView,e)}markForCheck(){Dy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ct]&=-129}reattach(){wg(this._lView),this._lView[ct]|=128}detectChanges(){this._lView[ct]|=1024,Qk(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=$c(this._lView),t=this._lView[Aa];t!==null&&!e&&fD(t,this._lView),Rk(this._lView[$e],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Me(902,!1);this._appRef=e;let t=$c(this._lView),r=this._lView[Aa];r!==null&&!t&&e1(r,this._lView),wg(this._lView)}};var Ra=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Ffe;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let s=Ml(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Ma(s)}}return n})();function Ffe(){return xy(mr(),rt())}function xy(n,e){return n.type&4?new Ra(e,n,Al(n,e)):null}function Nl(n,e,t,r,i){let s=n.data[e];if(s===null)s=kfe(n,e,t,r,i),oP()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=nP();s.injectorIndex=o===null?-1:o.injectorIndex}return gl(s,!0),s}function kfe(n,e,t,r,i){let s=TC(),o=AC(),a=o?s:s&&s.parent,c=n.data[e]=Bfe(n,a,t,e,r,i);return Lfe(n,c,s,o),c}function Lfe(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function Bfe(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Dg()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var qfe=new RegExp(`^(\\d+)*(${FF}|${PF})*(.*)`);function jfe(n){let e=n.match(qfe),[t,r,i,s]=e,o=r?parseInt(r,10):i,a=[];for(let[c,u,l]of s.matchAll(/(f|n)(\d*)/g)){let f=parseInt(l,10)||1;a.push(u,f)}return[o,...a]}function $fe(n){return!n.prev&&n.parent?.type===8}function zC(n){return n.index-Qt}function Vfe(n,e){let t=n.i18nNodes;if(t)return t.get(e)}function Ty(n,e,t,r){let i=zC(r),s=Vfe(n,i);if(s===void 0){let o=n.data[qF];if(o?.[i])s=Hfe(o[i],t);else if(e.firstChild===r)s=n.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if($fe(r)){let u=zC(r.parent);s=c0(n,u)}else{let u=ki(c,t);if(a)s=u.firstChild;else{let l=zC(c),f=c0(n,l);if(c.type===2&&f){let g=K0(n,l)+1;s=Ay(g,f)}else s=u.nextSibling}}}}return s}function Ay(n,e){let t=e;for(let r=0;r<n;r++)t=t.nextSibling;return t}function Ufe(n,e){let t=n;for(let r=0;r<e.length;r+=2){let i=e[r],s=e[r+1];for(let o=0;o<s;o++)switch(i){case Kle:t=t.firstChild;break;case Yle:t=t.nextSibling;break}}return t}function Hfe(n,e){let[t,...r]=jfe(n),i;if(t===PF)i=e[Dr][Ur];else if(t===FF)i=wk(e[Dr][Ur]);else{let s=Number(t);i=Fi(e[s+Qt])}return Ufe(i,r)}var Wfe=!1;function t1(n){Wfe=n}function zfe(n){let e=n[Wr];if(e){let{i18nNodes:t,dehydratedIcuData:r}=e;if(t&&r){let i=n[Ht];for(let s of r.values())Gfe(i,t,s)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function Gfe(n,e,t){for(let r of t.node.cases[t.case]){let i=e.get(r.index-Qt);i&&iD(n,i,!1)}}function Sy(n){let e=n[vs]??[],r=n[$n][Ht],i=[];for(let s of e)s.data[jF]!==void 0?i.push(s):n1(s,r);n[vs]=i}function Qfe(n){let{lContainer:e}=n,t=e[vs];if(t===null)return;let i=e[$n][Ht];for(let s of t)n1(s,i)}function n1(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[Hf];for(;t<i;){let s=r.nextSibling;iD(e,r,!1),r=s,t++}}}function Iy(n){Sy(n);let e=n[Ur];Oi(e)&&Jg(e);for(let t=An;t<n.length;t++)Jg(n[t])}function Jg(n){zfe(n);let e=n[$e];for(let t=Qt;t<e.bindingStartIndex;t++)if(Pi(n[t])){let r=n[t];Iy(r)}else Oi(n[t])&&Jg(n[t])}function ED(n){let e=n._views;for(let t of e){let r=sk(t);r!==null&&r[Ur]!==null&&(Oi(r)?Jg(r):Iy(r))}}function Kfe(n,e,t,r){n!==null&&(t.cleanup(e),Iy(n.lContainer),ED(r))}function Yfe(n,e){let t=[];for(let r of e)for(let i=0;i<(r[V0]??1);i++){let s={data:r,firstChild:null};r[Hf]>0&&(s.firstChild=n,n=Ay(r[Hf],n)),t.push(s)}return[n,t]}var r1=()=>null,i1=()=>null;function s1(){r1=Jfe,i1=Zfe}function Jfe(n,e){return a1(n,e)?n[vs].shift():(Sy(n),null)}function Qf(n,e){return r1(n,e)}function Zfe(n,e,t){if(e.tView.ssrId===null)return null;let r=Qf(n,e.tView.ssrId);return t[$e].firstUpdatePass&&r===null&&Xfe(t,e),r}function o1(n,e,t){return i1(n,e,t)}function Xfe(n,e){let t=e;for(;t;){if(jP(n,t))return;if((t.flags&256)===256)break;t=t.prev}for(t=e.next;t&&(t.flags&512)===512;){if(jP(n,t))return;t=t.next}}function a1(n,e){let t=n[vs];return!e||t===null||t.length===0?!1:t[0].data[BF]===e}function jP(n,e){let t=e.tView?.ssrId;if(t==null)return!1;let r=n[e.index];return Pi(r)&&a1(r,t)?(Sy(r),!0):!1}var c1=class{},My=class{},E0=class{resolveComponentFactory(e){throw new Me(917,!1)}},ih=class{static NULL=new E0},hi=class{},jo=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>ehe()}return n})();function ehe(){let n=rt(),e=mr(),t=Xi(e.index,n);return(Oi(t)?t:n)[Ht]}var u1=(()=>{class n{static \u0275prov=ye({token:n,providedIn:"root",factory:()=>null})}return n})();var Ug={},El=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Ug,r);return i!==Ug||t===Ug?i:this.parentInjector.get(e,t,r)}};function Zg(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=dg(i,a);else if(s==2){let c=a,u=e[++o];r=dg(r,c+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Br(n,e=0){let t=rt();if(t===null)return Be(n,e);let r=mr();return EF(r,t,Cr(n),e)}function wD(){let n="invalid";throw new Error(n)}function l1(n,e,t,r,i){let s=r===null?null:{"":-1},o=i(n,t);if(o!==null){let a=o,c=null,u=null;for(let l of o)if(l.resolveHostDirectives!==null){[a,c,u]=l.resolveHostDirectives(o);break}rhe(n,e,t,a,s,c,u)}s!==null&&r!==null&&the(t,r,s)}function the(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new Me(-301,!1);r.push(e[i],s)}}function nhe(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function rhe(n,e,t,r,i,s,o){let a=r.length,c=null;for(let p=0;p<a;p++){let g=r[p];c===null&&to(g)&&(c=g,nhe(n,t,p)),r0(Qg(t,e),n,g.type)}uhe(t,n.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let p=0;p<a;p++){let g=r[p];g.providersResolver&&g.providersResolver(g)}let u=!1,l=!1,f=Ak(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let p=0;p<a;p++){let g=r[p];if(t.mergedAttrs=Cl(t.mergedAttrs,g.hostAttrs),she(n,t,e,f,g),che(f,g,i),o!==null&&o.has(g)){let[E,D]=o.get(g);t.directiveToIndex.set(g.type,[f,E+t.directiveStart,D+t.directiveStart])}else(s===null||!s.has(g))&&t.directiveToIndex.set(g.type,f);g.contentQueries!==null&&(t.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(t.flags|=64);let v=g.type.prototype;!u&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!l&&(v.ngOnChanges||v.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),l=!0),f++}ihe(n,t,s)}function ihe(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))$P(0,e,i,r),$P(1,e,i,r),UP(e,r,!1);else{let s=t.get(i);VP(0,e,s,r),VP(1,e,s,r),UP(e,r,!0)}}}function $P(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o;n===0?o=e.inputs??={}:o=e.outputs??={},o[s]??=[],o[s].push(r),d1(e,s)}}function VP(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o=i[s],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[o]??=[],a[o].push(r,s),d1(e,o)}}function d1(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function UP(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:s}=n;if(r===null||!t&&i===null||t&&s===null||sD(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let o=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let u=i[c];for(let l of u)if(l===e){o??=[],o.push(c,r[a+1]);break}}else if(t&&s.hasOwnProperty(c)){let u=s[c];for(let l=0;l<u.length;l+=2)if(u[l]===e){o??=[],o.push(u[l+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(o)}function she(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=Nc(i.type,!0)),o=new zc(s,to(i),Br,null);n.blueprint[r]=o,t[r]=o,ohe(n,e,r,Ak(n,t,i.hostVars,Qr),i)}function ohe(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;ahe(o)!=a&&o.push(a),o.push(t,r,s)}}function ahe(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function che(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;to(e)&&(t[""]=n)}}function uhe(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function CD(n,e,t,r,i,s,o,a){let c=e[$e],u=c.consts,l=Li(u,o),f=Nl(c,n,t,r,l);return s&&l1(c,e,f,Li(u,a),i),f.mergedAttrs=Cl(f.mergedAttrs,f.attrs),f.attrs!==null&&Zg(f,f.attrs,!1),f.mergedAttrs!==null&&Zg(f,f.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,f),f}function DD(n,e){fF(n,e),mC(e)&&n.queries.elementEnd(e)}function lhe(n,e,t,r,i,s){let o=e.consts,a=Li(o,i),c=Nl(e,n,t,r,a);if(c.mergedAttrs=Cl(c.mergedAttrs,c.attrs),s!=null){let u=Li(o,s);c.localNames=[];for(let l=0;l<u.length;l+=2)c.localNames.push(u[l],-1)}return c.attrs!==null&&Zg(c,c.attrs,!1),c.mergedAttrs!==null&&Zg(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function f1(n,e,t){return n[e]=t}function Gr(n,e,t){if(t===Qr)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function h1(n,e,t,r){let i=Gr(n,e,t);return Gr(n,e+1,r)||i}function dhe(n,e,t,r,i){let s=h1(n,e,t,r);return Gr(n,e+2,i)||s}function GC(n,e,t){return function r(i){let s=eo(n)?Xi(n.index,e):e;Dy(s,5);let o=e[Vn],a=HP(e,o,t,i),c=r.__ngNextListenerFn__;for(;c;)a=HP(e,o,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function HP(n,e,t,r){let i=nt(null);try{return zt(jt.OutputStart,e,t),t(r)!==!1}catch(s){return bD(n,s),!1}finally{zt(jt.OutputEnd,e,t),nt(i)}}function fhe(n,e,t,r,i,s,o,a){let c=ml(n),u=!1,l=null;if(!r&&c&&(l=phe(e,t,s,n.index)),l!==null){let f=l.__ngLastListenerFn__||l;f.__ngNextListenerFn__=o,l.__ngLastListenerFn__=o,u=!0}else{let f=ki(n,t),p=r?r(f):f;Jle(t,p,s,a);let g=i.listen(p,s,a);if(!hhe(s)){let v=r?E=>r(Fi(E[n.index])):n.index;p1(v,e,t,s,a,g,!1)}}return u}function hhe(n){return n.startsWith("animation")||n.startsWith("transition")}function phe(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===t&&i[s+1]===r){let a=e[hl],c=i[s+2];return a&&a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function p1(n,e,t,r,i,s,o){let a=e.firstCreatePass?wC(e):null,c=EC(t),u=c.length;c.push(i,s),a&&a.push(r,n,u,(u+1)*(o?-1:1))}function WP(n,e,t,r,i,s){let o=e[t],a=e[$e],u=a.data[t].outputs[r],f=o[u].subscribe(s);p1(n.index,a,e,i,s,f,!0)}var w0=Symbol("BINDING");var Xg=class extends ih{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=bs(e);return new Na(t,this.ngModule)}};function mhe(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],s={propName:t,templateName:e,isSignal:(r&yy.SignalBased)!==0};return i&&(s.transform=i),s})}function ghe(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function yhe(n,e,t){let r=e instanceof ln?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new El(t,r):t}function bhe(n){let e=n.get(hi,null);if(e===null)throw new Me(407,!1);let t=n.get(u1,null),r=n.get(Qs,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function vhe(n,e){let t=m1(n);return rD(e,t,t==="svg"?gC:t==="math"?zO:null)}function m1(n){return(n.selectors[0][0]||"div").toLowerCase()}var Na=class extends My{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=mhe(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=ghe(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=Vde(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,s,o){zt(jt.DynamicComponentStart);let a=nt(null);try{let c=this.componentDef,u=_he(r,c,o,s),l=yhe(c,i||this.ngModule,e),f=bhe(l),p=f.rendererFactory.createRenderer(null,c),g=r?lfe(p,r,c.encapsulation,l):vhe(c,p),v=o?.some(zP)||s?.some(P=>typeof P!="function"&&P.bindings.some(zP)),E=aD(null,u,null,512|Tk(c),null,null,f,p,l,null,ik(g,l,!0));E[Qt]=g,Mg(E);let D=null;try{let P=CD(Qt,E,2,"#host",()=>u.directiveRegistry,!0,0);Ek(p,g,P),Dl(g,E),wy(u,E,P),Y0(u,P,E),DD(u,P),t!==void 0&&whe(P,this.ngContentSelectors,t),D=Xi(P.index,E),E[Vn]=D[Vn],vD(u,E,null)}catch(P){throw D!==null&&s0(D),s0(E),P}finally{zt(jt.DynamicComponentEnd),Rg()}return new ey(this.componentType,E,!!v)}finally{nt(a)}}};function _he(n,e,t,r){let i=n?["ng-version","21.0.9"]:Ude(e.selectors[0]),s=null,o=null,a=0;if(t)for(let l of t)a+=l[w0].requiredVars,l.create&&(l.targetIdx=0,(s??=[]).push(l)),l.update&&(l.targetIdx=0,(o??=[]).push(l));if(r)for(let l=0;l<r.length;l++){let f=r[l];if(typeof f!="function")for(let p of f.bindings){a+=p[w0].requiredVars;let g=l+1;p.create&&(p.targetIdx=g,(s??=[]).push(p)),p.update&&(p.targetIdx=g,(o??=[]).push(p))}}let c=[e];if(r)for(let l of r){let f=typeof l=="function"?l:l.type,p=hg(f);c.push(p)}return oD(0,null,Ehe(s,o),1,a,c,null,null,null,[i],null)}function Ehe(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function zP(n){let e=n[w0].kind;return e==="input"||e==="twoWay"}var ey=class extends c1{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Vc(t[$e],Qt),this.location=Al(this._tNode,t),this.instance=Xi(this._tNode.index,t)[Vn],this.hostView=this.changeDetectorRef=new Ma(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,s=Cy(r,i[$e],i,e,t);this.previousInputValues.set(e,t);let o=Xi(r.index,i);Dy(o,1)}get injector(){return new Wc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function whe(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null&&s.length?Array.from(s):null)}}var es=(()=>{class n{static __NG_ELEMENT_ID__=Che}return n})();function Che(){let n=mr();return y1(n,rt())}var Dhe=es,g1=class extends Dhe{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Al(this._hostTNode,this._hostLView)}get injector(){return new Wc(this._hostTNode,this._hostLView)}get parentInjector(){let e=B0(this._hostTNode,this._hostLView);if(mF(e)){let t=Gg(e,this._hostLView),r=zg(e),i=t[$e].data[r+8];return new Wc(i,t)}else return new Wc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=GP(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-An}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Qf(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,i,Kc(this._hostTNode,o)),a}createComponent(e,t,r,i,s,o,a){let c=e&&!wle(e),u;if(c)u=t;else{let D=t||{};u=D.index,r=D.injector,i=D.projectableNodes,s=D.environmentInjector||D.ngModuleRef,o=D.directives,a=D.bindings}let l=c?e:new Na(bs(e)),f=r||this.parentInjector;if(!s&&l.ngModule==null){let P=(c?f:this.parentInjector).get(ln,null);P&&(s=P)}let p=bs(l.componentType??{}),g=Qf(this._lContainer,p?.id??null),v=g?.firstChild??null,E=l.create(f,i,v,s,o,a);return this.insertImpl(E.hostView,u,Kc(this._hostTNode,g)),E}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(KO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[$n],u=new g1(c,c[Hr],c[$n]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return Rl(o,i,s,r),e.attachToViewContainerRef(),aC(QC(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=GP(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Gf(this._lContainer,t);r&&(Pf(QC(this._lContainer),t),_y(r[$e],r))}detach(e){let t=this._adjustIndex(e,-1),r=Gf(this._lContainer,t);return r&&Pf(QC(this._lContainer),t)!=null?new Ma(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function GP(n){return n[kf]}function QC(n){return n[kf]||(n[kf]=[])}function y1(n,e){let t,r=e[n.index];return Pi(r)?t=r:(t=Zk(r,e,null,n),e[n.index]=t,cD(e,t)),b1(t,e,n,r),new g1(t,n,e)}function xhe(n,e){let t=n[Ht],r=t.createComment(""),i=ki(e,n),s=t.parentNode(i);return Yg(t,s,r,t.nextSibling(i),!1),r}var b1=v1,xD=()=>!1;function The(n,e,t){return xD(n,e,t)}function v1(n,e,t,r){if(n[Xs])return;let i;t.type&8?i=Fi(r):i=xhe(e,t),n[Xs]=i}function Ahe(n,e,t){if(n[Xs]&&n[vs])return!0;let r=t[Wr],i=e.index-Qt;if(!r||SF(e)||ck(r,i))return!1;let o=c0(r,i),a=r.data[ly]?.[i],[c,u]=Yfe(o,a);return n[Xs]=c,n[vs]=u,!0}function She(n,e,t,r){xD(n,t,e)||v1(n,e,t,r)}function _1(){b1=She,xD=Ahe}var C0=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},D0=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)AD(e,t).matches!==null&&this.queries[t].setDirty()}},ty=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=Ohe(e):this.predicate=e}},x0=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},T0=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,t,Ihe(t,s)),this.matchTNodeWithReadOption(e,t,$g(t,e,s,!1,!1))}else r===Ra?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,$g(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===vn||i===es||i===Ra&&t.type&4)this.addMatch(t.index,-2);else{let s=$g(t,e,i,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function Ihe(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function Mhe(n,e){return n.type&11?Al(n,e):n.type&4?xy(n,e):null}function Rhe(n,e,t,r){return t===-1?Mhe(e,n):t===-2?Nhe(n,e,r):Uf(n,n[$e],t,e)}function Nhe(n,e,t){if(t===vn)return Al(e,n);if(t===Ra)return xy(e,n);if(t===es)return y1(e,n)}function E1(n,e,t,r){let i=e[Zs].queries[r];if(i.matches===null){let s=n.data,o=t.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let l=s[u];a.push(Rhe(e,l,o[c+1],t.metadata.read))}}i.matches=a}return i.matches}function A0(n,e,t,r){let i=n.queries.getByIndex(t),s=i.matches;if(s!==null){let o=E1(n,e,i,t);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let u=s[a+1],l=e[-c];for(let f=An;f<l.length;f++){let p=l[f];p[Aa]===p[$n]&&A0(p[$e],p,u,r)}if(l[jc]!==null){let f=l[jc];for(let p=0;p<f.length;p++){let g=f[p];A0(g[$e],g,u,r)}}}}}return r}function TD(n,e){return n[Zs].queries[e].queryList}function w1(n,e,t){let r=new Gc((t&4)===4);return ZO(n,e,r,r.destroy),(e[Zs]??=new D0).queries.push(new C0(r))-1}function C1(n,e,t){let r=bn();return r.firstCreatePass&&(x1(r,new ty(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),w1(r,rt(),e)}function D1(n,e,t,r){let i=bn();if(i.firstCreatePass){let s=mr();x1(i,new ty(e,t,r),s.index),Phe(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return w1(i,rt(),t)}function Ohe(n){return n.split(",").map(e=>e.trim())}function x1(n,e,t){n.queries===null&&(n.queries=new x0),n.queries.track(new T0(e,t))}function Phe(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function AD(n,e){return n.queries.getByIndex(e)}function T1(n,e){let t=n[$e],r=AD(t,e);return r.crossesNgTemplate?A0(t,n,e,[]):E1(t,n,r,e)}function A1(n,e,t){let r,i=hf(()=>{r._dirtyCounter();let s=Fhe(r,n);if(e&&s===void 0)throw new Me(-951,!1);return s});return r=i[hr],r._dirtyCounter=Wn(0),r._flatValue=void 0,i}function SD(n){return A1(!0,!1,n)}function ID(n){return A1(!0,!0,n)}function S1(n,e){let t=n[hr];t._lView=rt(),t._queryIndex=e,t._queryList=TD(t._lView,e),t._queryList.onDirty(()=>t._dirtyCounter.update(r=>r+1))}function Fhe(n,e){let t=n._lView,r=n._queryIndex;if(t===void 0||r===void 0||t[ct]&4)return e?void 0:kr;let i=TD(t,r),s=T1(t,r);return i.reset(s,DF),e?i.first:i._changesDetected||n._flatValue===void 0?n._flatValue=i.toArray():n._flatValue}var Lo=class{},Ry=class{};var ny=class extends Lo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Xg(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let s=rC(e);this._bootstrapComponents=Ck(s.bootstrap),this._r3Injector=kC(e,t,[{provide:Lo,useValue:this},{provide:ih,useValue:this.componentFactoryResolver},...r],No(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ry=class extends Ry{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new ny(this.moduleType,e,[])}};var Kf=class extends Lo{injector;componentFactoryResolver=new Xg(this);instance=null;constructor(e){super();let t=new Pc([...e.providers,{provide:Lo,useValue:this},{provide:ih,useValue:this.componentFactoryResolver}],e.parent||fl(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Jc(n,e,t=null){return new Kf({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var khe=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=vg(!1,t.type),i=r.length>0?Jc([r],this._injector,""):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ye({token:n,providedIn:"environment",factory:()=>new n(Be(ln))})}return n})();function On(n){return Jf(()=>{let e=I1(n),t=We(Z({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===q0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(khe).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Cs.Emulated,styles:n.styles||kr,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Kr("NgStandalone"),M1(t);let r=n.dependencies;return t.directiveDefs=QP(r,Lhe),t.pipeDefs=QP(r,iC),t.id=jhe(t),t})}function Lhe(n){return bs(n)||hg(n)}function Pt(n){return Jf(()=>({type:n.type,bootstrap:n.bootstrap||kr,declarations:n.declarations||kr,imports:n.imports||kr,exports:n.exports||kr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Bhe(n,e){if(n==null)return Ta;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,a,c;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s,c=i[3]||null):(s=i,o=i,a=yy.None,c=null),t[s]=[r,a,c],e[s]=o}return t}function qhe(n){if(n==null)return Ta;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function dn(n){return Jf(()=>{let e=I1(n);return M1(e),e})}function I1(n){let e={};return{type:n.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Ta,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||kr,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Bhe(n.inputs,e),outputs:qhe(n.outputs),debugInfo:null}}function M1(n){n.features?.forEach(e=>e(n))}function QP(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let s=e(i);s!==null&&r.push(s)}return r}:null}function jhe(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let s of r.join("|"))e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function $he(n){return Object.getPrototypeOf(n.prototype).constructor}function Yr(n){let e=$he(n.type),t=!0,r=[n];for(;e;){let i;if(to(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Me(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let o=n;o.inputs=KC(n.inputs),o.declaredInputs=KC(n.declaredInputs),o.outputs=KC(n.outputs);let a=i.hostBindings;a&&zhe(n,a);let c=i.viewQuery,u=i.contentQueries;if(c&&Hhe(n,c),u&&Whe(n,u),Vhe(n,i),RO(n.outputs,i.outputs),to(i)&&i.data.animation){let l=n.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===Yr&&(t=!1)}}e=Object.getPrototypeOf(e)}Uhe(r)}function Vhe(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function Uhe(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Cl(i.hostAttrs,t=Cl(t,i.hostAttrs))}}function KC(n){return n===Ta?{}:n===kr?[]:n}function Hhe(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function Whe(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,s)=>{e(r,i,s),t(r,i,s)}:n.contentQueries=e}function zhe(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function R1(n,e,t,r,i,s,o,a){if(t.firstCreatePass){n.mergedAttrs=Cl(n.mergedAttrs,n.attrs);let l=n.tView=oD(2,n,i,s,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),l.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),gl(n,!1);let c=N1(t,e,n,r);Ng()&&hD(t,e,c,n),Dl(c,e);let u=Zk(c,e,c,n);e[r+Qt]=u,cD(e,u),The(u,n,e)}function Ghe(n,e,t,r,i,s,o,a,c,u,l){let f=t+Qt,p;return e.firstCreatePass?(p=Nl(e,f,4,o||null,a||null),Cg()&&l1(e,n,p,Li(e.consts,u),mD),fF(e,p)):p=e.data[f],R1(p,n,e,t,r,i,s,c),ml(p)&&wy(e,n,p),u!=null&&rh(n,p,l),p}function xl(n,e,t,r,i,s,o,a,c,u,l){let f=t+Qt,p;if(e.firstCreatePass){if(p=Nl(e,f,4,o||null,a||null),u!=null){let g=Li(e.consts,u);p.localNames=[];for(let v=0;v<g.length;v+=2)p.localNames.push(g[v],-1)}}else p=e.data[f];return R1(p,n,e,t,r,i,s,c),u!=null&&rh(n,p,l),p}function Ny(n,e,t,r,i,s,o,a){let c=rt(),u=bn(),l=Li(u.consts,s);return Ghe(c,u,n,e,t,r,i,l,void 0,o,a),Ny}function MD(n,e,t,r,i,s,o,a){let c=rt(),u=bn(),l=Li(u.consts,s);return xl(c,u,n,e,t,r,i,l,void 0,o,a),MD}var N1=O1;function O1(n,e,t,r){return Po(!0),e[Ht].createComment("")}function Qhe(n,e,t,r){let i=!py(e,t);Po(i);let s=e[Wr]?.data[LF]?.[r]??null;if(s!==null&&t.tView!==null&&t.tView.ssrId===null&&(t.tView.ssrId=s),i)return O1(n,e);let o=e[Wr],a=Ty(o,n,e,t);hy(o,r,a);let c=K0(o,r);return Ay(c,a)}function P1(){N1=Qhe}var Bi=(function(n){return n[n.NOT_STARTED=0]="NOT_STARTED",n[n.IN_PROGRESS=1]="IN_PROGRESS",n[n.COMPLETE=2]="COMPLETE",n[n.FAILED=3]="FAILED",n})(Bi||{}),KP=0,Khe=1,zn=(function(n){return n[n.Placeholder=0]="Placeholder",n[n.Loading=1]="Loading",n[n.Complete=2]="Complete",n[n.Error=3]="Error",n})(zn||{});var Yhe=0,sh=1;var Jhe=4,Zhe=5;var Xhe=7,wl=8,epe=9,RD=(function(n){return n[n.Manual=0]="Manual",n[n.Playthrough=1]="Playthrough",n})(RD||{});function Hg(n,e){let t=npe(n),r=e[t];if(r!==null){for(let i of r)i();e[t]=null}}function tpe(n){Hg(1,n),Hg(0,n),Hg(2,n)}function npe(n){let e=Jhe;return n===1?e=Zhe:n===2&&(e=epe),e}function F1(n){return n+1}function Ol(n,e){let t=n[$e],r=F1(e.index);return n[r]}function oh(n,e){let t=F1(e.index);return n.data[t]}function rpe(n,e,t){let r=e[$e],i=oh(r,t);switch(n){case zn.Complete:return i.primaryTmplIndex;case zn.Loading:return i.loadingTmplIndex;case zn.Error:return i.errorTmplIndex;case zn.Placeholder:return i.placeholderTmplIndex;default:return null}}function YP(n,e){return e===zn.Placeholder?n.placeholderBlockConfig?.[KP]??null:e===zn.Loading?n.loadingBlockConfig?.[KP]??null:null}function ipe(n){return n.loadingBlockConfig?.[Khe]??null}function JP(n,e){if(!n||n.length===0)return e;let t=new Set(n);for(let r of e)t.add(r);return n.length===t.size?n:Array.from(t)}function spe(n,e){let t=e.primaryTmplIndex+Qt;return Vc(n,t)}var ope=(()=>{class n{cachedInjectors=new Map;getOrCreateInjector(t,r,i,s){if(!this.cachedInjectors.has(t)){let o=i.length>0?Jc(i,r,s):null;this.cachedInjectors.set(t,o)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ye({token:n,providedIn:"environment",factory:()=>new n})}return n})();var k1=new Ee("");function YC(n,e,t){return n.get(ope).getOrCreateInjector(e,n,t,"")}function ape(n,e,t){if(n instanceof El){let i=n.injector,s=n.parentInjector,o=YC(s,e,t);return new El(i,o)}let r=n.get(ln);if(r!==n){let i=YC(r,e,t);return new El(n,i)}return YC(n,e,t)}function Hc(n,e,t,r=!1){let i=t[$n],s=i[$e];if(Sa(i))return;let o=Ol(i,e),a=o[sh],c=o[Xhe];if(!(c!==null&&n<c)&&ZP(a,n)&&ZP(o[Yhe]??-1,n)){let u=oh(s,e),f=!r&&!0&&(ipe(u)!==null||YP(u,zn.Loading)!==null||YP(u,zn.Placeholder))?lpe:upe;try{f(n,o,t,e,i)}catch(p){bD(i,p)}}}function cpe(n,e){let t=n[vs]?.findIndex(i=>i.data[$F]===e[sh])??-1;return{dehydratedView:t>-1?n[vs][t]:null,dehydratedViewIx:t}}function upe(n,e,t,r,i){zt(jt.DeferBlockStateStart);let s=rpe(n,i,r);if(s!==null){e[sh]=n;let o=i[$e],a=s+Qt,c=Vc(o,a),u=0;_D(t,u);let l;if(n===zn.Complete){let v=oh(o,r),E=v.providers;E&&E.length>0&&(l=ape(i[Ri],v,E))}let{dehydratedView:f,dehydratedViewIx:p}=cpe(t,e),g=Ml(i,c,null,{injector:l,dehydratedView:f});if(Rl(t,g,u,Kc(c,f)),Dy(g,2),p>-1&&t[vs]?.splice(p,1),(n===zn.Complete||n===zn.Error)&&Array.isArray(e[wl])){for(let v of e[wl])v();e[wl]=null}}zt(jt.DeferBlockStateEnd)}function ZP(n,e){return n<e}function XP(n,e,t){n.loadingPromise.then(()=>{n.loadingState===Bi.COMPLETE?Hc(zn.Complete,e,t):n.loadingState===Bi.FAILED&&Hc(zn.Error,e,t)})}var lpe=null;var Oy=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function ah(n){return typeof n=="function"&&n[hr]!==void 0}function ND(n){return ah(n)&&typeof n.set=="function"}var OD=new Ee(""),PD=new Ee(""),L1=(()=>{class n{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(t,r,i){this._ngZone=t,this.registry=r,fC()&&(this._destroyRef=U(zr,{optional:!0})??void 0),FD||(q1(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){let t=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{Ot.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{t.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t()},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static \u0275fac=function(r){return new(r||n)(Be(Ot),Be(B1),Be(PD))};static \u0275prov=ye({token:n,factory:n.\u0275fac})}return n})(),B1=(()=>{class n{_applications=new Map;registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return FD?.findTestabilityInTree(this,t,r)??null}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function q1(n){FD=n}var FD;function Zc(n){return!!n&&typeof n.then=="function"}function j1(n){return!!n&&typeof n.subscribe=="function"}var kD=new Ee("");function Py(n){return Mi([{provide:kD,multi:!0,useValue:n}])}var LD=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=U(kD,{optional:!0})??[];injector=U(tn);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=pr(this.injector,i);if(Zc(s))t.push(s);else if(j1(s)){let o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});t.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$o=new Ee("");function $1(){Ew(()=>{let n="";throw new Me(600,n)})}function V1(n){return n.isBoundToModule}var dpe=10;var xr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=U(_s);afterRenderManager=U(vy);zonelessEnabled=U(qf);rootEffectScheduler=U(Og);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ge;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=U(io);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Dt(t=>!t))}constructor(){U(oo,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=U(ln);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=tn.NULL){return this._injector.get(Ot).run(()=>{zt(jt.BootstrapComponentStart);let o=t instanceof My;if(!this._injector.get(LD).done){let v="";throw new Me(405,v)}let c;o?c=t:c=this._injector.get(ih).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let u=V1(c)?void 0:this._injector.get(Lo),l=r||c.selector,f=c.create(i,[],l,u),p=f.location.nativeElement,g=f.injector.get(OD,null);return g?.registerApplication(p),f.onDestroy(()=>{this.detachView(f.hostView),Vf(this.components,f),g?.unregisterApplication(p)}),this._loadComponent(f),zt(jt.BootstrapComponentEnd,f),f})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){zt(jt.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(by.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw zt(jt.ChangeDetectionEnd),new Me(101,!1);let t=nt(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,nt(t),this.afterTick.next(),zt(jt.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(hi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<dpe;){zt(jt.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{zt(jt.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Lf(i))continue;let s=r&&!this.zonelessEnabled?0:1;Qk(i,s),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Lf(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Vf(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get($o,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Vf(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Me(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Vf(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function fpe(){let n,e;return{promise:new Promise((r,i)=>{n=r,e=i}),resolve:n,reject:e}}function U1(n,e,t){let r=e[Ri],i=e[$e];if(n.loadingState!==Bi.NOT_STARTED)return n.loadingPromise??Promise.resolve();let s=Ol(e,t),o=spe(i,n);n.loadingState=Bi.IN_PROGRESS,Hg(1,s);let a=n.dependencyResolverFn,c=r.get(jf).add();return a?(n.loadingPromise=Promise.allSettled(a()).then(u=>{let l=!1,f=[],p=[];for(let g of u)if(g.status==="fulfilled"){let v=g.value,E=bs(v)||hg(v);if(E)f.push(E);else{let D=iC(v);D&&p.push(D)}}else{l=!0;break}if(l){if(n.loadingState=Bi.FAILED,n.errorTmplIndex===null){let v=new Me(-750,!1);bD(e,v)}}else{n.loadingState=Bi.COMPLETE;let g=o.tView;if(f.length>0){g.directiveRegistry=JP(g.directiveRegistry,f);let v=f.map(D=>D.type),E=vg(!1,...v);n.providers=E}p.length>0&&(g.pipeRegistry=JP(g.pipeRegistry,p))}}),n.loadingPromise.finally(()=>{n.loadingPromise=null,c()})):(n.loadingPromise=Promise.resolve().then(()=>{n.loadingPromise=null,n.loadingState=Bi.COMPLETE,c()}),n.loadingPromise)}function hpe(n,e){return e[Ri].get(k1,null,{optional:!0})?.behavior!==RD.Manual}function ppe(n,e,t){let r=e[$e],i=e[t.index];if(!hpe(n,e))return;let s=Ol(e,t),o=oh(r,t);switch(tpe(s),o.loadingState){case Bi.NOT_STARTED:Hc(zn.Loading,t,i),U1(o,e,t),o.loadingState===Bi.IN_PROGRESS&&XP(o,t,i);break;case Bi.IN_PROGRESS:Hc(zn.Loading,t,i),XP(o,t,i);break;case Bi.COMPLETE:Hc(zn.Complete,t,i);break;case Bi.FAILED:Hc(zn.Error,t,i);break;default:}}async function H1(n,e,t){let r=n.get(fy);if(r.hydrating.has(e))return;let{parentBlockPromise:s,hydrationQueue:o}=sde(e,n);if(o.length===0)return;s!==null&&o.shift(),ype(r,o),s!==null&&await s;let a=o[0];r.has(a)?await eF(n,o,t):r.awaitParentBlock(a,async()=>await eF(n,o,t))}async function eF(n,e,t){let r=n.get(fy),i=r.hydrating,s=n.get(io),o=s.add();for(let c=0;c<e.length;c++){let u=e[c],l=r.get(u);if(l!=null){if(await vpe(l),await bpe(n),mpe(l)){Qfe(l),tF(e.slice(c),r);break}i.get(u).resolve()}else{gpe(c,e,r),tF(e.slice(c),r);break}}let a=e[e.length-1];await i.get(a)?.promise,s.remove(o),t&&t(e),Kfe(r.get(a),e,r,n.get(xr))}function mpe(n){return Ol(n.lView,n.tNode)[sh]===zn.Error}function gpe(n,e,t){let r=n-1,i=r>-1?t.get(e[r]):null;i&&Iy(i.lContainer)}function tF(n,e){let t=e.hydrating;for(let r in n)t.get(r)?.reject();e.cleanup(n)}function ype(n,e){for(let t of e)n.hydrating.set(t,fpe())}function bpe(n){return new Promise(e=>Fa(e,{injector:n}))}async function vpe(n){let{tNode:e,lView:t}=n,r=Ol(t,e);return new Promise(i=>{_pe(r,i),ppe(2,t,e)})}function _pe(n,e){Array.isArray(n[wl])||(n[wl]=[]),n[wl].push(e)}function BD(n,e){let t=rt(),r=no();if(Gr(t,r,e)){let i=bn(),s=yl();if(Cy(s,i,t,n,e))eo(s)&&$k(t,s.index);else{let a=ki(s,t);Vk(t[Ht],a,null,s.value,n,e,null)}}return BD}function ts(n,e,t,r){let i=rt(),s=no();if(Gr(i,s,e)){let o=bn(),a=yl();yfe(a,i,n,e,t,r)}return ts}var Slt=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var S0=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,t){this.attach(t,this.detach(e))}};function JC(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function Epe(n,e,t,r){let i,s,o=0,a=n.length-1,c=void 0;if(Array.isArray(e)){nt(r);let u=e.length-1;for(nt(null);o<=a&&o<=u;){let l=n.at(o),f=e[o],p=JC(o,l,o,f,t);if(p!==0){p<0&&n.updateValue(o,f),o++;continue}let g=n.at(a),v=e[u],E=JC(a,g,u,v,t);if(E!==0){E<0&&n.updateValue(a,v),a--,u--;continue}let D=t(o,l),P=t(a,g),K=t(o,f);if(Object.is(K,P)){let J=t(u,v);Object.is(J,D)?(n.swap(o,a),n.updateValue(a,v),u--,a--):n.move(a,o),n.updateValue(o,f),o++;continue}if(i??=new iy,s??=rF(n,o,a,t),I0(n,i,o,K))n.updateValue(o,f),o++,a++;else if(s.has(K))i.set(D,n.detach(o)),a--;else{let J=n.create(o,e[o]);n.attach(o,J),o++,a++}}for(;o<=u;)nF(n,i,t,o,e[o]),o++}else if(e!=null){nt(r);let u=e[Symbol.iterator]();nt(null);let l=u.next();for(;!l.done&&o<=a;){let f=n.at(o),p=l.value,g=JC(o,f,o,p,t);if(g!==0)g<0&&n.updateValue(o,p),o++,l=u.next();else{i??=new iy,s??=rF(n,o,a,t);let v=t(o,p);if(I0(n,i,o,v))n.updateValue(o,p),o++,a++,l=u.next();else if(!s.has(v))n.attach(o,n.create(o,p)),o++,a++,l=u.next();else{let E=t(o,f);i.set(E,n.detach(o)),a--}}}for(;!l.done;)nF(n,i,t,n.length,l.value),l=u.next()}for(;o<=a;)n.destroy(n.detach(a--));i?.forEach(u=>{n.destroy(u)})}function I0(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function nF(n,e,t,r,i){if(I0(n,e,r,t(r,i)))n.updateValue(r,i);else{let s=n.create(r,i);n.attach(r,s)}}function rF(n,e,t,r){let i=new Set;for(let s=e;s<=t;s++)i.add(r(s,n.at(s)));return i}var iy=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function qD(n,e,t,r,i,s,o,a){Kr("NgControlFlow");let c=rt(),u=bn(),l=Li(u.consts,s);return xl(c,u,n,e,t,r,i,l,256,o,a),jD}function jD(n,e,t,r,i,s,o,a){Kr("NgControlFlow");let c=rt(),u=bn(),l=Li(u.consts,s);return xl(c,u,n,e,t,r,i,l,512,o,a),jD}function $D(n,e){Kr("NgControlFlow");let t=rt(),r=no(),i=t[r]!==Qr?t[r]:-1,s=i!==-1?sy(t,Qt+i):void 0,o=0;if(Gr(t,r,n)){let a=nt(null);try{if(s!==void 0&&_D(s,o),n!==-1){let c=Qt+n,u=sy(t,c),l=O0(t[$e],c),f=o1(u,l,t),p=Ml(t,l,e,{dehydratedView:f});Rl(u,p,o,Kc(l,f))}}finally{nt(a)}}else if(s!==void 0){let a=Xk(s,o);a!==void 0&&(a[Vn]=e)}}var M0=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-An}};function W1(n,e){return e}var R0=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function z1(n,e,t,r,i,s,o,a,c,u,l,f,p){Kr("NgControlFlow");let g=rt(),v=bn(),E=c!==void 0,D=rt(),P=a?o.bind(D[Dr][Vn]):o,K=new R0(E,P);D[Qt+n]=K,xl(g,v,n+1,e,t,r,i,Li(v.consts,s),256),E&&xl(g,v,n+2,c,u,l,f,Li(v.consts,p),512)}var N0=class extends S0{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-An}at(e){return this.getLView(e)[Vn].$implicit}attach(e,t){let r=t[Wr];this.needsIndexUpdate||=e!==this.length,Rl(this.lContainer,t,e,Kc(this.templateTNode,r)),wpe(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,Cpe(this.lContainer,e),Dpe(this.lContainer,e)}create(e,t){let r=Qf(this.lContainer,this.templateTNode.tView.ssrId);return Ml(this.hostLView,this.templateTNode,new M0(this.lContainer,t,e),{dehydratedView:r})}destroy(e){_y(e[$e],e)}updateValue(e,t){this.getLView(e)[Vn].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Vn].$index=e}getLView(e){return xpe(this.lContainer,e)}};function G1(n){let e=nt(null),t=ro();try{let r=rt(),i=r[$e],s=r[t],o=t+1,a=sy(r,o);if(s.liveCollection===void 0){let u=O0(i,o);s.liveCollection=new N0(a,r,u)}else s.liveCollection.reset();let c=s.liveCollection;if(Epe(c,n,s.trackByFn,e),c.updateIndexes(),s.hasEmptyBlock){let u=no(),l=c.length===0;if(Gr(r,u,l)){let f=t+2,p=sy(r,f);if(l){let g=O0(i,f),v=o1(p,g,r),E=Ml(r,g,void 0,{dehydratedView:v});Rl(p,E,0,Kc(g,v))}else i.firstUpdatePass&&Sy(p),_D(p,0)}}}finally{nt(e)}}function sy(n,e){return n[e]}function wpe(n,e){if(n.length<=An)return;let t=An+e,r=n[t],i=r?r[qc]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let s=r[Ri];Yde(s,i),Qc.delete(r[Oo]),i.detachedLeaveAnimationFns=void 0}}function Cpe(n,e){if(n.length<=An)return;let t=An+e,r=n[t],i=r?r[qc]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function Dpe(n,e){return Gf(n,e)}function xpe(n,e){return Xk(n,e)}function O0(n,e){return Vc(n,e)}function Fy(n,e,t){let r=rt(),i=no();if(Gr(r,i,e)){let s=bn(),o=yl();qk(o,r,n,e,r[Ht],t)}return Fy}function P0(n,e,t,r,i){Cy(e,n,t,i?"class":"style",r)}function ch(n,e,t,r){let i=rt(),s=i[$e],o=n+Qt,a=s.firstCreatePass?CD(o,i,2,e,mD,Cg(),t,r):s.data[o];if(gD(a,i,n,e,VD),ml(a)){let c=i[$e];wy(c,i,a),Y0(c,a,i)}return r!=null&&rh(i,a),ch}function uh(){let n=bn(),e=mr(),t=yD(e);return n.firstCreatePass&&DD(n,t),DC(t)&&xC(),CC(),t.classesWithoutHost!=null&&Sle(t)&&P0(n,t,rt(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&Ile(t)&&P0(n,t,rt(),t.stylesWithoutHost,!1),uh}function Pl(n,e,t,r){return ch(n,e,t,r),uh(),Pl}function Xc(n,e,t,r){let i=rt(),s=i[$e],o=n+Qt,a=s.firstCreatePass?lhe(o,s,2,e,t,r):s.data[o];return gD(a,i,n,e,VD),r!=null&&rh(i,a),Xc}function eu(){let n=mr(),e=yD(n);return DC(e)&&xC(),CC(),eu}function Vo(n,e,t,r){return Xc(n,e,t,r),eu(),Vo}var VD=(n,e,t,r,i)=>(Po(!0),rD(e[Ht],r,FC()));function Tpe(n,e,t,r,i){let s=!py(e,t);if(Po(s),s)return rD(e[Ht],r,FC());let o=e[Wr],a=Ty(o,n,e,t);return ak(o,i)&&hy(o,i,a.nextSibling),o&&(TF(t)||AF(a))&&eo(t)&&(tP(t),_k(a)),a}function Q1(){VD=Tpe}function UD(n,e,t){let r=rt(),i=r[$e],s=n+Qt,o=i.firstCreatePass?CD(s,r,8,"ng-container",mD,Cg(),e,t):i.data[s];if(gD(o,r,n,"ng-container",Y1),ml(o)){let a=r[$e];wy(a,r,o),Y0(a,o,r)}return t!=null&&rh(r,o),UD}function HD(){let n=bn(),e=mr(),t=yD(e);return n.firstCreatePass&&DD(n,t),HD}function K1(n,e,t){return UD(n,e,t),HD(),K1}var Y1=(n,e,t,r,i)=>(Po(!0),bk(e[Ht],""));function Ape(n,e,t,r,i){let s,o=!py(e,t);if(Po(o),o)return bk(e[Ht],"");let a=e[Wr],c=Ty(a,n,e,t),u=rde(a,i);return hy(a,i,c),s=Ay(u,c),s}function J1(){Y1=Ape}function WD(){return rt()}function Z1(n,e,t){let r=rt(),i=no();if(Gr(r,i,e)){let s=bn(),o=yl();jk(o,r,n,e,r[Ht],t)}return Z1}var lh="en-US";var Spe=lh;function X1(n){typeof n=="string"&&(Spe=n.toLowerCase().replace(/_/g,"-"))}function ka(n,e,t){let r=rt(),i=bn(),s=mr();return eL(i,r,r[Ht],s,n,e,t),ka}function eL(n,e,t,r,i,s,o){let a=!0,c=null;if((r.type&3||o)&&(c??=GC(r,e,s),fhe(r,n,e,o,t,i,s,c)&&(a=!1)),a){let u=r.outputs?.[i],l=r.hostDirectiveOutputs?.[i];if(l&&l.length)for(let f=0;f<l.length;f+=2){let p=l[f],g=l[f+1];c??=GC(r,e,s),WP(r,e,p,g,i,c)}if(u&&u.length)for(let f of u)c??=GC(r,e,s),WP(r,e,f,i,i,c)}}function zD(n=1){return hP(n)}function Ipe(n,e){let t=null,r=Lde(n);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){t=i;continue}if(r===null?xk(n,s,!0):jde(r,s))return i}return t}function xs(n){let e=rt()[Dr][Hr];if(!e.projection){let t=n?n.length:1,r=e.projection=BO(t,null),i=r.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=n?Ipe(s,n):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s)}s=s.next}}}function ji(n,e=0,t,r,i,s){let o=rt(),a=bn(),c=r?n+1:null;c!==null&&xl(o,a,c,r,i,s,null,t);let u=Nl(a,Qt+n,16,null,t||null);u.projection===null&&(u.projection=e),SC();let f=!o[Wr]||Dg();o[Dr][Hr].projection[u.projection]===null&&c!==null?Mpe(o,a,c):f&&!eh(u)&&afe(a,o,u)}function Mpe(n,e,t){let r=Qt+t,i=e.data[r],s=n[r],o=Qf(s,i.tView.ssrId),a=Ml(n,i,void 0,{dehydratedView:o});Rl(s,a,0,Kc(i,o))}function dh(n,e,t,r){return D1(n,e,t,r),dh}function fh(n,e,t){return C1(n,e,t),fh}function hh(n){let e=rt(),t=bn(),r=Ig();Bf(r+1);let i=AD(t,r);if(n.dirty&&QO(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let s=T1(e,r);n.reset(s,DF),n.notifyOnChanges()}return!0}return!1}function ph(){return TD(rt(),Ig())}function tL(n,e,t,r,i){return S1(e,D1(n,t,r,i)),tL}function nL(n,e,t,r){return S1(n,C1(e,t,r)),nL}function Rpe(n=1){Bf(Ig()+n)}function GD(n){let e=rP();return GO(e,Qt+n)}function Bg(n,e){return n<<17|e<<2}function Yc(n){return n>>17&32767}function Npe(n){return(n&2)==2}function Ope(n,e){return n&131071|e<<17}function F0(n){return n|2}function Tl(n){return(n&131068)>>2}function ZC(n,e){return n&-131069|e<<2}function Ppe(n){return(n&1)===1}function k0(n){return n|1}function Fpe(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Yc(o),c=Tl(o);n[r]=t;let u=!1,l;if(Array.isArray(t)){let f=t;l=f[1],(l===null||dl(f,l)>0)&&(u=!0)}else l=t;if(i)if(c!==0){let p=Yc(n[a+1]);n[r+1]=Bg(p,a),p!==0&&(n[p+1]=ZC(n[p+1],r)),n[a+1]=Ope(n[a+1],r)}else n[r+1]=Bg(a,0),a!==0&&(n[a+1]=ZC(n[a+1],r)),a=r;else n[r+1]=Bg(c,0),a===0?a=r:n[c+1]=ZC(n[c+1],r),c=r;u&&(n[r+1]=F0(n[r+1])),iF(n,l,r,!0),iF(n,l,r,!1),kpe(e,l,n,r,s),o=Bg(a,c),s?e.classBindings=o:e.styleBindings=o}function kpe(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&dl(s,e)>=0&&(t[r+1]=k0(t[r+1]))}function iF(n,e,t,r){let i=n[t+1],s=e===null,o=r?Yc(i):Tl(i),a=!1;for(;o!==0&&(a===!1||s);){let c=n[o],u=n[o+1];Lpe(c,e)&&(a=!0,n[o+1]=r?k0(u):F0(u)),o=r?Yc(u):Tl(u)}a&&(n[t+1]=r?F0(i):k0(i))}function Lpe(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?dl(n,e)>=0:!1}var ws={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Bpe(n){return n.substring(ws.key,ws.keyEnd)}function qpe(n){return jpe(n),rL(n,iL(n,0,ws.textEnd))}function rL(n,e){let t=ws.textEnd;return t===e?-1:(e=ws.keyEnd=$pe(n,ws.key=e,t),iL(n,e,t))}function jpe(n){ws.key=0,ws.keyEnd=0,ws.value=0,ws.valueEnd=0,ws.textEnd=n.length}function iL(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function $pe(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function ky(n,e,t){return sL(n,e,t,!1),ky}function gr(n,e){return sL(n,e,null,!0),gr}function Fl(n){Upe(Kpe,Vpe,n,!0)}function Vpe(n,e){for(let t=qpe(e);t>=0;t=rL(e,t))yg(n,Bpe(e),!0)}function sL(n,e,t,r){let i=rt(),s=bn(),o=Ag(2);if(s.firstUpdatePass&&aL(s,n,o,r),e!==Qr&&Gr(i,o,e)){let a=s.data[ro()];cL(s,a,i,i[Ht],n,i[o+1]=Jpe(e,t),r,o)}}function Upe(n,e,t,r){let i=bn(),s=Ag(2);i.firstUpdatePass&&aL(i,null,s,r);let o=rt();if(t!==Qr&&Gr(o,s,t)){let a=i.data[ro()];if(uL(a,r)&&!oL(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=dg(c,t||"")),P0(i,a,o,t,r)}else Ype(i,a,o,o[Ht],o[s+1],o[s+1]=Qpe(n,e,t),r,s)}}function oL(n,e){return e>=n.expandoStartIndex}function aL(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[ro()],o=oL(n,t);uL(s,r)&&e===null&&!o&&(e=!1),e=Hpe(i,s,e,r),Fpe(i,s,e,t,o,r)}}function Hpe(n,e,t,r){let i=uP(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=XC(null,n,e,t,r),t=Yf(t,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==i)if(t=XC(i,n,e,t,r),s===null){let c=Wpe(n,e,r);c!==void 0&&Array.isArray(c)&&(c=XC(null,n,e,c[1],r),c=Yf(c,e.attrs,r),zpe(n,e,r,c))}else s=Gpe(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function Wpe(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Tl(r)!==0)return n[Yc(r)]}function zpe(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Yc(i)]=r}function Gpe(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=n[s].hostAttrs;r=Yf(r,o,t)}return Yf(r,e.attrs,t)}function XC(n,e,t,r,i){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],r=Yf(r,s.hostAttrs,i),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Yf(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),yg(n,o,t?!0:e[++s]))}return n===void 0?null:n}function Qpe(n,e,t){if(t==null||t==="")return kr;let r=[],i=Ds(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function Kpe(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&yg(n,r,t)}function Ype(n,e,t,r,i,s,o,a){i===Qr&&(i=kr);let c=0,u=0,l=0<i.length?i[0]:null,f=0<s.length?s[0]:null;for(;l!==null||f!==null;){let p=c<i.length?i[c+1]:void 0,g=u<s.length?s[u+1]:void 0,v=null,E;l===f?(c+=2,u+=2,p!==g&&(v=f,E=g)):f===null||l!==null&&l<f?(c+=2,v=l):(u+=2,v=f,E=g),v!==null&&cL(n,e,t,r,v,E,o,a),l=c<i.length?i[c]:null,f=u<s.length?s[u]:null}}function cL(n,e,t,r,i,s,o,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],l=Ppe(u)?sF(c,e,t,i,Tl(u),o):void 0;if(!oy(l)){oy(s)||Npe(u)&&(s=sF(c,null,t,i,a,o));let f=yC(ro(),t);ufe(r,o,f,i,s)}}function sF(n,e,t,r,i,s){let o=e===null,a;for(;i>0;){let c=n[i],u=Array.isArray(c),l=u?c[1]:c,f=l===null,p=t[i+1];p===Qr&&(p=f?kr:void 0);let g=f?bg(p,r):l===r?p:void 0;if(u&&!oy(g)&&(g=bg(c,r)),oy(g)&&(a=g,o))return a;let v=n[i+1];i=o?Yc(v):Tl(v)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=bg(c,r))}return a}function oy(n){return n!==void 0}function Jpe(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=No(Ds(n)))),n}function uL(n,e){return(n.flags&(e?8:16))!==0}function lL(n,e=""){let t=rt(),r=bn(),i=n+Qt,s=r.firstCreatePass?Nl(r,i,1,e,null):r.data[i],o=dL(r,t,s,e,n);t[i]=o,Ng()&&hD(r,t,o,s),gl(s,!1)}var dL=(n,e,t,r,i)=>(Po(!0),yk(e[Ht],r));function Zpe(n,e,t,r,i){let s=!py(e,t);if(Po(s),s)return yk(e[Ht],r);let o=e[Wr];return Ty(o,n,e,t)}function fL(){dL=Zpe}function hL(n,e,t,r=""){return Gr(n,no(),t)?e+xa(t)+r:Qr}function Xpe(n,e,t,r,i,s=""){let o=iP(),a=h1(n,o,t,i);return Ag(2),a?e+xa(t)+r+xa(i)+s:Qr}function QD(n){return KD("",n),QD}function KD(n,e,t){let r=rt(),i=hL(r,n,e,t);return i!==Qr&&mL(r,ro(),i),KD}function pL(n,e,t,r,i){let s=rt(),o=Xpe(s,n,e,t,r,i);return o!==Qr&&mL(s,ro(),o),pL}function mL(n,e,t){let r=yC(e,n);Ade(n[Ht],r,t)}function gL(n,e,t){ND(e)&&(e=e());let r=rt(),i=no();if(Gr(r,i,e)){let s=bn(),o=yl();qk(o,r,n,e,r[Ht],t)}return gL}function eme(n,e){let t=ND(n);return t&&n.set(e),t}function yL(n,e){let t=rt(),r=bn(),i=mr();return eL(r,t,t[Ht],i,n,e),yL}function tme(n){return Gr(rt(),no(),n)?xa(n):Qr}function nme(n,e,t=""){return hL(rt(),n,e,t)}function oF(n,e,t){let r=bn();r.firstCreatePass&&bL(e,r.data,r.blueprint,to(n),t)}function bL(n,e,t,r,i){if(n=Cr(n),Array.isArray(n))for(let s=0;s<n.length;s++)bL(n[s],e,t,r,i);else{let s=bn(),o=rt(),a=mr(),c=Oc(n)?n:Cr(n.provide),u=dC(n),l=a.providerIndexes&1048575,f=a.directiveStart,p=a.providerIndexes>>20;if(Oc(n)||!n.multi){let g=new zc(u,i,Br,null),v=t0(c,e,i?l:l+p,f);v===-1?(r0(Qg(a,o),s,c),e0(s,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),o.push(g)):(t[v]=g,o[v]=g)}else{let g=t0(c,e,l+p,f),v=t0(c,e,l,l+p),E=g>=0&&t[g],D=v>=0&&t[v];if(i&&!D||!i&&!E){r0(Qg(a,o),s,c);let P=sme(i?ime:rme,t.length,i,r,u,n);!i&&D&&(t[v].providerFactory=P),e0(s,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(P),o.push(P)}else{let P=vL(t[i?v:g],u,!i&&r);e0(s,n,g>-1?g:v,P)}!i&&r&&D&&t[v].componentProviders++}}}function e0(n,e,t,r){let i=Oc(e),s=HO(e);if(i||s){let c=(s?Cr(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(t);l===-1?u.push(t,[r,c]):u[l+1].push(r,c)}else u.push(t,c)}}}function vL(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function t0(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function rme(n,e,t,r,i){return L0(this.multi,[])}function ime(n,e,t,r,i){let s=this.multi,o;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Uf(r,r[$e],this.providerFactory.index,i);o=c.slice(0,a),L0(s,o);for(let u=a;u<c.length;u++)o.push(c[u])}else o=[],L0(s,o);return o}function L0(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function sme(n,e,t,r,i,s){let o=new zc(n,t,Br,null);return o.multi=[],o.index=e,o.componentProviders=0,vL(o,i,r&&!t),o}function La(n,e){return t=>{t.providersResolver=(r,i)=>oF(r,i?i(n):n,!1),e&&(t.viewProvidersResolver=(r,i)=>oF(r,i?i(e):e,!0))}}function ome(n,e,t){return cme(rt(),MC(),n,e,t)}function ame(n,e,t,r,i){return ume(rt(),MC(),n,e,t,r,i)}function _L(n,e){let t=n[e];return t===Qr?void 0:t}function cme(n,e,t,r,i,s){let o=e+t;return Gr(n,o,i)?f1(n,o+1,s?r.call(s,i):r(i)):_L(n,o+1)}function ume(n,e,t,r,i,s,o,a){let c=e+t;return dhe(n,c,i,s,o)?f1(n,c+3,a?r.call(a,i,s,o):r(i,s,o)):_L(n,c+3)}function EL(n,e){return xy(n,e)}var ay=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},YD=(()=>{class n{compileModuleSync(t){return new ry(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=rC(t),s=Ck(i.declarations).reduce((o,a)=>{let c=bs(a);return c&&o.push(new Na(c)),o},[]);return new ay(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var wL=(()=>{class n{applicationErrorHandler=U(_s);appRef=U(xr);taskService=U(io);ngZone=U(Ot);zonelessEnabled=U(qf);tracing=U(oo,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new hn;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Rf):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(U($C,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?BC:LC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Rf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,BC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lme(){return Kr("NgZoneless"),Mi([...JD(),[]])}function JD(){return[{provide:Qs,useExisting:wL},{provide:Ot,useClass:Nf},{provide:qf,useValue:!0}]}function dme(){return typeof $localize<"u"&&$localize.locale||lh}var ZD=new Ee("",{factory:()=>U(ZD,{optional:!0,skipSelf:!0})||dme()});function Ba(n,e){return hf(n,e?.equal)}var rx={JSACTION:"__jsaction",OWNER:"__owner"},TL={};function fme(n){return n[rx.JSACTION]}function CL(n,e){n[rx.JSACTION]=e}function hme(n){return TL[n]}function pme(n,e){TL[n]=e}var et={AUXCLICK:"auxclick",CHANGE:"change",CLICK:"click",CLICKMOD:"clickmod",CLICKONLY:"clickonly",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEUP:"mouseup",MOUSEDOWN:"mousedown",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",POINTERUP:"pointerup",POINTERDOWN:"pointerdown",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERMOVE:"pointermove",POINTERCANCEL:"pointercancel",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",ERROR:"error",LOAD:"load",UNLOAD:"unload",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",INPUT:"input",SCROLL:"scroll",TOGGLE:"toggle",CUSTOM:"_custom"},mme=[et.MOUSEENTER,et.MOUSELEAVE,"pointerenter","pointerleave"],Plt=[et.CLICK,et.DBLCLICK,et.FOCUSIN,et.FOCUSOUT,et.KEYDOWN,et.KEYUP,et.KEYPRESS,et.MOUSEOVER,et.MOUSEOUT,et.SUBMIT,et.TOUCHSTART,et.TOUCHEND,et.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],gme=[et.FOCUS,et.BLUR,et.ERROR,et.LOAD,et.TOGGLE],ix=n=>gme.indexOf(n)>=0;function yme(n){return n===et.MOUSEENTER?et.MOUSEOVER:n===et.MOUSELEAVE?et.MOUSEOUT:n===et.POINTERENTER?et.POINTEROVER:n===et.POINTERLEAVE?et.POINTEROUT:n}function bme(n,e,t,r){let i=!1;ix(e)&&(i=!0);let s=typeof r=="boolean"?{capture:i,passive:r}:i;return n.addEventListener(e,t,s),{eventType:e,handler:t,capture:i,passive:r}}function vme(n,e){if(n.removeEventListener){let t=typeof e.passive=="boolean"?{capture:e.capture}:e.capture;n.removeEventListener(e.eventType,e.handler,t)}else n.detachEvent&&n.detachEvent(`on${e.eventType}`,e.handler)}function _me(n){n.preventDefault?n.preventDefault():n.returnValue=!1}var DL=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function Eme(n){return n.which===2||n.which==null&&n.button===4}function wme(n){return DL&&n.metaKey||!DL&&n.ctrlKey||Eme(n)||n.shiftKey}function Cme(n,e,t){let r=n.relatedTarget;return(n.type===et.MOUSEOVER&&e===et.MOUSEENTER||n.type===et.MOUSEOUT&&e===et.MOUSELEAVE||n.type===et.POINTEROVER&&e===et.POINTERENTER||n.type===et.POINTEROUT&&e===et.POINTERLEAVE)&&(!r||r!==t&&!t.contains(r))}function Dme(n,e){let t={};for(let r in n){if(r==="srcElement"||r==="target")continue;let i=r,s=n[i];typeof s!="function"&&(t[i]=s)}return n.type===et.MOUSEOVER?t.type=et.MOUSEENTER:n.type===et.MOUSEOUT?t.type=et.MOUSELEAVE:n.type===et.POINTEROVER?t.type=et.POINTERENTER:t.type=et.POINTERLEAVE,t.target=t.srcElement=e,t.bubbles=!1,t._originalEvent=n,t}var xme=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),jy=class{element;handlerInfos=[];constructor(e){this.element=e}addEventListener(e,t,r){xme&&(this.element.style.cursor="pointer"),this.handlerInfos.push(bme(this.element,e,t(this.element),r))}cleanUp(){for(let e=0;e<this.handlerInfos.length;e++)vme(this.element,this.handlerInfos[e]);this.handlerInfos=[]}},Tme={NAMESPACE_ACTION_SEPARATOR:".",EVENT_ACTION_SEPARATOR:":"};function qa(n){return n.eventType}function sx(n,e){n.eventType=e}function By(n){return n.event}function AL(n,e){n.event=e}function SL(n){return n.targetElement}function IL(n,e){n.targetElement=e}function ML(n){return n.eic}function Ame(n,e){n.eic=e}function Sme(n){return n.timeStamp}function Ime(n,e){n.timeStamp=e}function qy(n){return n.eia}function RL(n,e,t){n.eia=[e,t]}function XD(n){n.eia=void 0}function Ly(n){return n[1]}function Mme(n){return n.eirp}function NL(n,e){n.eirp=e}function OL(n){return n.eir}function PL(n,e){n.eir=e}function FL(n){return{eventType:n.eventType,event:n.event,targetElement:n.targetElement,eic:n.eic,eia:n.eia,timeStamp:n.timeStamp,eirp:n.eirp,eiack:n.eiack,eir:n.eir}}function Rme(n,e,t,r,i,s,o,a){return{eventType:n,event:e,targetElement:t,eic:r,timeStamp:i,eia:s,eirp:o,eiack:a}}var ex=class n{eventInfo;constructor(e){this.eventInfo=e}getEventType(){return qa(this.eventInfo)}setEventType(e){sx(this.eventInfo,e)}getEvent(){return By(this.eventInfo)}setEvent(e){AL(this.eventInfo,e)}getTargetElement(){return SL(this.eventInfo)}setTargetElement(e){IL(this.eventInfo,e)}getContainer(){return ML(this.eventInfo)}setContainer(e){Ame(this.eventInfo,e)}getTimestamp(){return Sme(this.eventInfo)}setTimestamp(e){Ime(this.eventInfo,e)}getAction(){let e=qy(this.eventInfo);if(e)return{name:e[0],element:e[1]}}setAction(e){if(!e){XD(this.eventInfo);return}RL(this.eventInfo,e.name,e.element)}getIsReplay(){return Mme(this.eventInfo)}setIsReplay(e){NL(this.eventInfo,e)}getResolved(){return OL(this.eventInfo)}setResolved(e){PL(this.eventInfo,e)}clone(){return new n(FL(this.eventInfo))}},Nme={},Ome=/\s*;\s*/,Pme=et.CLICK,tx=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:e=!1,clickModSupport:t=!0}={}){this.syntheticMouseEventSupport=e,this.clickModSupport=t}resolveEventType(e){this.clickModSupport&&qa(e)===et.CLICK&&wme(By(e))?sx(e,et.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(e)}resolveAction(e){OL(e)||(this.populateAction(e,SL(e)),PL(e,!0))}resolveParentAction(e){let t=qy(e),r=t&&Ly(t);XD(e);let i=r&&this.getParentNode(r);i&&this.populateAction(e,i)}populateAction(e,t){let r=t;for(;r&&r!==ML(e)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,e),!qy(e));)r=this.getParentNode(r);let i=qy(e);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(e),this.syntheticMouseEventSupport&&(qa(e)===et.MOUSEENTER||qa(e)===et.MOUSELEAVE||qa(e)===et.POINTERENTER||qa(e)===et.POINTERLEAVE)))if(Cme(By(e),qa(e),Ly(i))){let s=Dme(By(e),Ly(i));AL(e,s),IL(e,Ly(i))}else XD(e)}getParentNode(e){let t=e[rx.OWNER];if(t)return t;let r=e.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(e,t){let r=this.parseActions(e),i=r[qa(t)];i!==void 0&&RL(t,i,e),this.a11yClickSupport&&this.populateClickOnlyAction(e,t,r)}parseActions(e){let t=fme(e);if(!t){let r=e.getAttribute(Fg.JSACTION);if(!r)t=Nme,CL(e,t);else{if(t=hme(r),!t){t={};let i=r.split(Ome);for(let s=0;s<i.length;s++){let o=i[s];if(!o)continue;let a=o.indexOf(Tme.EVENT_ACTION_SEPARATOR),c=a!==-1,u=c?o.substr(0,a).trim():Pme,l=c?o.substr(a+1).trim():o;t[u]=l}pme(r,t)}CL(e,t)}}return t}addA11yClickSupport(e,t,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=e,this.preventDefaultForA11yClick=t,this.populateClickOnlyAction=r}},kL=(function(n){return n[n.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",n})(kL||{}),nx=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(e,{actionResolver:t,eventReplayer:r}={}){this.dispatchDelegate=e,this.actionResolver=t,this.eventReplayer=r}dispatch(e){let t=new ex(e);this.actionResolver?.resolveEventType(e),this.actionResolver?.resolveAction(e);let r=t.getAction();if(r&&Fme(r.element,t)&&_me(t.getEvent()),this.eventReplayer&&t.getIsReplay()){this.scheduleEventInfoWrapperReplay(t);return}this.dispatchDelegate(t)}scheduleEventInfoWrapperReplay(e){this.replayEventInfoWrappers.push(e),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function Fme(n,e){return n.tagName==="A"&&(e.getEventType()===et.CLICK||e.getEventType()===et.CLICKMOD)}var LL=Symbol.for("propagationStopped"),ox={REPLAY:101};var kme="`preventDefault` called during event replay.";var Lme="`composedPath` called during event replay.",$y=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(e,t=!0){this.dispatchDelegate=e,this.clickModSupport=t,this.actionResolver=new tx({clickModSupport:t}),this.dispatcher=new nx(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(e){this.dispatcher.dispatch(e)}dispatchToDelegate(e){for(e.getIsReplay()&&jme(e),Bme(e);e.getAction();){if($me(e),ix(e.getEventType())&&e.getAction().element!==e.getTargetElement()||(this.dispatchDelegate(e.getEvent(),e.getAction().name),qme(e)))return;this.actionResolver.resolveParentAction(e.eventInfo)}}};function Bme(n){let e=n.getEvent(),t=n.getEvent().stopPropagation.bind(e),r=()=>{e[LL]=!0,t()};tu(e,"stopPropagation",r),tu(e,"stopImmediatePropagation",r)}function qme(n){return!!n.getEvent()[LL]}function jme(n){let e=n.getEvent(),t=n.getTargetElement(),r=e.preventDefault.bind(e);tu(e,"target",t),tu(e,"eventPhase",ox.REPLAY),tu(e,"preventDefault",()=>{throw r(),new Error(kme+"")}),tu(e,"composedPath",()=>{throw new Error(Lme+"")})}function $me(n){let e=n.getEvent(),t=n.getAction()?.element;t&&tu(e,"currentTarget",t,{configurable:!0})}function tu(n,e,t,{configurable:r=!1}={}){Object.defineProperty(n,e,{value:t,configurable:r})}function BL(n,e){n.ecrd(t=>{e.dispatch(t)},kL.I_AM_THE_JSACTION_FRAMEWORK)}function Vme(n){return n?.q??[]}function Ume(n){n&&(xL(n.c,n.et,n.h),xL(n.c,n.etc,n.h,!0))}function xL(n,e,t,r){for(let i=0;i<e.length;i++)n.removeEventListener(e[i],t,r)}var Hme=!1,qL=(()=>{class n{static MOUSE_SPECIAL_SUPPORT=Hme;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(t){this.containerManager=t}handleEvent(t,r,i){let s=Rme(t,r,r.target,i,Date.now());this.handleEventInfo(s)}handleEventInfo(t){if(!this.dispatcher){NL(t,!0),this.queuedEventInfos?.push(t);return}this.dispatcher(t)}addEvent(t,r,i){if(t in this.eventHandlers||!this.containerManager||!n.MOUSE_SPECIAL_SUPPORT&&mme.indexOf(t)>=0)return;let s=(a,c,u)=>{this.handleEvent(a,c,u)};this.eventHandlers[t]=s;let o=yme(r||t);if(o!==t){let a=this.browserEventTypeToExtraEventTypes[o]||[];a.push(t),this.browserEventTypeToExtraEventTypes[o]=a}this.containerManager.addEventListener(o,a=>c=>{s(t,c,a)},i)}replayEarlyEvents(t=window._ejsa){t&&(this.replayEarlyEventInfos(t.q),Ume(t),delete window._ejsa)}replayEarlyEventInfos(t){for(let r=0;r<t.length;r++){let i=t[r],s=this.getEventTypesForBrowserEventType(i.eventType);for(let o=0;o<s.length;o++){let a=FL(i);sx(a,s[o]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(t){let r=[];return this.eventHandlers[t]&&r.push(t),this.browserEventTypeToExtraEventTypes[t]&&r.push(...this.browserEventTypeToExtraEventTypes[t]),r}handler(t){return this.eventHandlers[t]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(t,r){this.ecrd(t,r)}ecrd(t,r){if(this.dispatcher=t,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return n})();function jL(n,e=window){return Vme(e._ejsas?.[n])}function ax(n,e=window){e._ejsas&&(e._ejsas[n]=void 0)}var QL=Symbol("InputSignalNode#UNSET"),rge=We(Z({},mf),{transformFn:void 0,applyValueToInputSignal(n,e){pf(n,e)}});function KL(n,e){let t=Object.create(rge);t.value=n,t.transformFn=e?.transform;function r(){if(Qu(t),t.value===QL){let i=null;throw new Me(-950,i)}return t.value}return r[hr]=t,r}var gh=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>cy(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function $L(n,e){return KL(n,e)}function ige(n){return KL(QL,n)}var YL=($L.required=ige,$L);function VL(n,e){return SD(e)}function sge(n,e){return ID(e)}var ymt=(VL.required=sge,VL);function UL(n,e){return SD(e)}function oge(n,e){return ID(e)}var bmt=(UL.required=oge,UL);var ux=new Ee(""),age=new Ee("");function mh(n){return!n.moduleRef}function cge(n){let e=mh(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ot);return t.run(()=>{mh(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(_s),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),mh(n)){let s=()=>e.destroy(),o=n.platformInjector.get(ux);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(ux);o.add(s),n.moduleRef.onDestroy(()=>{Vf(n.allPlatformModules,n.moduleRef),i.unsubscribe(),o.delete(s)})}return lge(r,t,()=>{let s=e.get(io),o=s.add(),a=e.get(LD);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(ZD,lh);if(X1(c||lh),!e.get(age,!0))return mh(n)?e.get(xr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(mh(n)){let l=e.get(xr);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return uge?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void s.remove(o))})})}var uge;function lge(n,e,t){try{let r=t();return Zc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Uy=null;function dge(n=[],e){return tn.create({name:e,providers:[{provide:Ff,useValue:"platform"},{provide:ux,useValue:new Set([()=>Uy=null])},...n]})}function fge(n=[]){if(Uy)return Uy;let e=dge(n);return Uy=e,$1(),hge(e),e}function hge(n){let e=n.get(uy,null);pr(n,()=>{e?.forEach(t=>t())})}function vmt(){return!1}var nu=(()=>{class n{static __NG_ELEMENT_ID__=pge}return n})();function pge(n){return mge(mr(),rt(),(n&16)===16)}function mge(n,e,t){if(eo(n)&&!t){let r=Xi(n.index,e);return new Ma(r,r)}else if(n.type&175){let r=e[Dr];return new Ma(r,e)}return null}function JL(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;zt(jt.BootstrapApplicationStart);try{let s=i?.injector??fge(r),o=[JD(),yP,...t||[]],a=new Kf({providers:o,parent:s,debugName:"",runEnvironmentInitializers:!1});return cge({r3Injector:a.injector,platformInjector:s,rootComponent:e})}catch(s){return Promise.reject(s)}finally{zt(jt.BootstrapApplicationEnd)}}var Vy=new WeakSet,HL="";function WL(n){return n.get(W0,HF)}function ZL(){let n=[{provide:W0,useFactory:()=>{let e=!0;{let t=U(pi);e=!!window._ejsas?.[t]}return e&&Kr("NgEventReplay"),e}}];return n.push({provide:Ys,useValue:()=>{let e=U(xr),{injector:t}=e;if(!Vy.has(e)){let r=U(z0);if(WL(t)){XF();let i=t.get(pi),s=JF(i,(o,a,c)=>{o.nodeType===Node.ELEMENT_NODE&&(GF(o,a,c),QF(o,r))});e.onDestroy(s)}}},multi:!0},{provide:$o,useFactory:()=>{let e=U(xr),{injector:t}=e;return()=>{if(!WL(t)||Vy.has(e))return;Vy.add(e);let r=t.get(pi);e.onDestroy(()=>{Vy.delete(e),ax(r)}),e.whenStable().then(()=>{if(e.destroyed)return;let i=t.get(YF);gge(i,t);let s=t.get(z0);s.get(HL)?.forEach(KF),s.delete(HL);let o=i.instance;ok(t)?e.onDestroy(()=>o.cleanUp()):o.cleanUp()})}},multi:!0}),n}var gge=(n,e)=>{let t=e.get(pi),r=window._ejsas[t],i=n.instance=new qL(new jy(r.c));for(let a of r.et)i.addEvent(a);for(let a of r.etc)i.addEvent(a);let s=jL(t);i.replayEarlyEventInfos(s),ax(t);let o=new $y(a=>{yge(e,a,a.currentTarget)});BL(i,o)};function yge(n,e,t){let r=(t&&t.getAttribute(Xf))??"";/d\d+/.test(r)?bge(r,n,e,t):e.eventPhase===ox.REPLAY&&G0(e,t)}function bge(n,e,t,r){let i=e.get(WF);i.push({event:t,currentTarget:r}),H1(e,n,vge(i))}function vge(n){return e=>{let t=new Set(e),r=[];for(let{event:i,currentTarget:s}of n){let o=s.getAttribute(Xf);t.has(o)?G0(i,s):r.push({event:i,currentTarget:s})}n.length=0,n.push(...r)}}var zL=!1;function _ge(){zL||(zL=!0,rk(),Q1(),fL(),J1(),P1(),_1(),s1(),Bk())}function Ege(n){return n.whenStable()}function XL(){let n=[{provide:Zf,useFactory:()=>{let e=!0;return e=!!U(Il,{optional:!0})?.get(Q0,null),e&&Kr("NgHydration"),e}},{provide:Ys,useValue:()=>{t1(!1);let e=U(ut);U(Zf)&&(uk(e),_ge())},multi:!0}];return n.push({provide:H0,useFactory:()=>U(Zf)},{provide:$o,useFactory:()=>{if(U(Zf)){let e=U(xr);return()=>{Ege(e).then(()=>{e.destroyed||ED(e)})}}return()=>{}},multi:!0}),Mi(n)}function mi(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function fx(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}var wge="\u{1F170}\uFE0F",eB=!1;function _mt(n){if(!eB)return;let{startLabel:e}=tB(n);performance.mark(e)}function Emt(n){if(!eB)return;let{startLabel:e,labelName:t,endLabel:r}=tB(n);performance.mark(r),performance.measure(t,e,r),performance.clearMarks(e),performance.clearMarks(r)}function tB(n){let e=`${wge}:${n}`;return{labelName:e,startLabel:`start:${e}`,endLabel:`end:${e}`}}var cx=Symbol("NOT_SET"),nB=new Set,Cge=We(Z({},mf),{kind:"afterRenderEffectPhase",consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,value:cx,cleanup:null,consumerMarkedDirty(){if(this.sequence.impl.executing){if(this.sequence.lastPhase===null||this.sequence.lastPhase<this.phase)return;this.sequence.erroredOrDestroyed=!0}this.sequence.scheduler.notify(7)},phaseFn(n){if(this.sequence.lastPhase=this.phase,!this.dirty)return this.signal;if(this.dirty=!1,this.value!==cx&&!Yu(this))return this.signal;try{for(let i of this.cleanup??nB)i()}finally{this.cleanup?.clear()}let e=[];n!==void 0&&e.push(n),e.push(this.registerCleanupFn);let t=wc(this),r;try{r=this.userFn.apply(null,e)}finally{Ku(this,t)}return(this.value===cx||!this.equal(this.value,r))&&(this.value=r,this.version++),this.signal}}),lx=class extends Wf{scheduler;lastPhase=null;nodes=[void 0,void 0,void 0,void 0];onDestroyFns=null;constructor(e,t,r,i,s,o=null){super(e,[void 0,void 0,void 0,void 0],r,!1,s.get(zr),o),this.scheduler=i;for(let a of lD){let c=t[a];if(c===void 0)continue;let u=Object.create(Cge);u.sequence=this,u.phase=a,u.userFn=c,u.dirty=!0,u.signal=()=>(Qu(u),u.value),u.signal[hr]=u,u.registerCleanupFn=l=>(u.cleanup??=new Set).add(l),this.nodes[a]=u,this.hooks[a]=l=>u.phaseFn(l)}}afterRun(){super.afterRun(),this.lastPhase=null}destroy(){if(this.onDestroyFns!==null)for(let e of this.onDestroyFns)e();super.destroy();for(let e of this.nodes)if(e)try{for(let t of e.cleanup??nB)t()}finally{ya(e)}}};function wmt(n,e){let t=e?.injector??U(tn),r=t.get(Qs),i=t.get(vy),s=t.get(oo,null,{optional:!0});i.impl??=t.get(dD);let o=n;typeof o=="function"&&(o={mixedReadWrite:n});let a=t.get(bl,null,{optional:!0}),c=new lx(i.impl,[o.earlyRead,o.write,o.mixedReadWrite,o.read],a?.view,r,t,s?.snapshot(null));return i.impl.register(c),c}function Hy(n,e){let t=bs(n),r=e.elementInjector||fl();return new Na(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector,e.directives,e.bindings)}function rB(n){let e=bs(n);if(!e)return null;let t=new Na(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}function Cmt(...n){return n.reduce((e,t)=>Object.assign(e,t,{providers:[...e.providers,...t.providers]}),{providers:[]})}var iB=null;function Uo(){return iB}function hx(n){iB??=n}var yh=class{},kl=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:()=>U(sB),providedIn:"platform"})}return n})(),px=new Ee(""),sB=(()=>{class n extends kl{_location;_history;_doc=U(ut);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Uo().getBaseHref(this._doc)}onPopState(t){let r=Uo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Uo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Wy(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function oB(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Ts(n){return n&&n[0]!=="?"?`?${n}`:n}var ao=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:()=>U(Gy),providedIn:"root"})}return n})(),zy=new Ee(""),Gy=(()=>{class n extends ao{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??U(ut).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Wy(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Ts(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Ts(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Ts(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Be(kl),Be(zy,8))};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ja=(()=>{class n{_subject=new Ge;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=Tge(oB(aB(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ts(r))}normalize(t){return n.stripTrailingSlash(xge(this._basePath,aB(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ts(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ts(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ts;static joinWithSlash=Wy;static stripTrailingSlash=oB;static \u0275fac=function(r){return new(r||n)(Be(ao))};static \u0275prov=ye({token:n,factory:()=>Dge(),providedIn:"root"})}return n})();function Dge(){return new ja(Be(ao))}function xge(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function aB(n){return n.replace(/\/index.html$/,"")}function Tge(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Qy=(()=>{class n extends ao{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Wy(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Ts(s))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Ts(s))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Be(kl),Be(zy,8))};static \u0275prov=ye({token:n,factory:n.\u0275fac})}return n})();var mx=/\s+/,cB=[],Sge=(()=>{class n{_ngEl;_renderer;initialClasses=cB;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(mx):cB}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(mx):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(mx).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(Br(vn),Br(jo))};static \u0275dir=dn({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Ige=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||n)(Br(es))};static \u0275dir=dn({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[qi]})}return n})();var uB=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=Rt({})}return n})();function Ky(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var ru=class{};var yx="browser";function dB(n){return n===yx}var fB=(()=>{class n{static \u0275prov=ye({token:n,providedIn:"root",factory:()=>new gx(U(ut),window)})}return n})(),gx=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(We(Z({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=Rge(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(Ks(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,s=r.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(We(Z({},t),{left:i-o[0],top:s-o[1]}))}};function Rge(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var lB=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}};var Ll=class{_doc;constructor(e){this._doc=e}manager},Yy=(()=>{class n extends Ll{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,s){return t.addEventListener(r,i,s),()=>this.removeEventListener(t,r,i,s)}removeEventListener(t,r,i,s){return t.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||n)(Be(ut))};static \u0275prov=ye({token:n,factory:n.\u0275fac})}return n})(),_h=new Ee(""),Ex=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(o=>{o.manager=this});let i=t.filter(o=>!(o instanceof Yy));this._plugins=i.slice().reverse();let s=t.find(o=>o instanceof Yy);s&&this._plugins.push(s)}addEventListener(t,r,i,s){return this._findPluginFor(r).addEventListener(t,r,i,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new Me(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Be(_h),Be(Ot))};static \u0275prov=ye({token:n,factory:n.\u0275fac})}return n})(),bx="ng-app-id";function hB(n){for(let e of n)e.remove()}function pB(n,e){let t=e.createElement("style");return t.textContent=n,t}function Nge(n,e,t,r){let i=n.head?.querySelectorAll(`style[${bx}="${e}"],link[${bx}="${e}"]`);if(i)for(let s of i)s.removeAttribute(bx),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&t.set(s.textContent,{usage:0,elements:[s]})}function _x(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var wx=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,Nge(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,pB);r?.forEach(i=>this.addUsage(i,this.external,_x))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let s=r.get(t);s?s.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(hB(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])hB(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,pB(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,_x(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Be(ut),Be(pi),Be(Sl,8),Be(Oa))};static \u0275prov=ye({token:n,factory:n.\u0275fac})}return n})(),vx={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Cx=/%COMP%/g;var gB="%COMP%",Oge=`_nghost-${gB}`,Pge=`_ngcontent-${gB}`,Fge=!0,kge=new Ee("",{factory:()=>Fge});function Lge(n){return Pge.replace(Cx,n)}function Bge(n){return Oge.replace(Cx,n)}function yB(n,e){return e.map(t=>t.replace(Cx,n))}var Dx=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(t,r,i,s,o,a,c=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.ngZone=a,this.nonce=c,this.tracingService=u,this.defaultRenderer=new bh(t,o,a,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Zy?i.applyToHost(t):i instanceof vh&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,f=this.tracingService;switch(r.encapsulation){case Cs.Emulated:s=new Zy(c,u,r,this.appId,l,o,a,f);break;case Cs.ShadowDom:return new Jy(c,t,r,o,a,this.nonce,f,u);case Cs.ExperimentalIsolatedShadowDom:return new Jy(c,t,r,o,a,this.nonce,f);default:s=new vh(c,u,r,l,o,a,f);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Be(Ex),Be(wx),Be(pi),Be(kge),Be(ut),Be(Ot),Be(Sl),Be(oo,8))};static \u0275prov=ye({token:n,factory:n.\u0275fac})}return n})(),bh=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(vx[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(mB(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(mB(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Me(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=vx[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=vx[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ko.DashCase|ko.Important)?e.style.setProperty(t,r,i&ko.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ko.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Uo().getGlobalEventTarget(this.doc,e),!e))throw new Me(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,t,s)),this.eventManager.addEventListener(e,t,s,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function mB(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Jy=class extends bh{hostEl;sharedStylesHost;shadowRoot;constructor(e,t,r,i,s,o,a,c){super(e,i,s,a),this.hostEl=t,this.sharedStylesHost=c,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let u=r.styles;u=yB(r.id,u);for(let f of u){let p=document.createElement("style");o&&p.setAttribute("nonce",o),p.textContent=f,this.shadowRoot.appendChild(p)}let l=r.getExternalStyles?.();if(l)for(let f of l){let p=_x(f,i);o&&p.setAttribute("nonce",o),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},vh=class extends bh{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?yB(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Qc.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Zy=class extends vh{contentAttr;hostAttr;constructor(e,t,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,t,r,s,o,a,c,u),this.contentAttr=Lge(u),this.hostAttr=Bge(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Xy=class n extends yh{supportsDOMEvents=!0;static makeCurrent(){hx(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=qge();return t==null?null:jge(t)}resetBaseElement(){Eh=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ky(document.cookie,e)}},Eh=null;function qge(){return Eh=Eh||document.head.querySelector("base"),Eh?Eh.getAttribute("href"):null}function jge(n){return new URL(n,document.baseURI).pathname}var $ge=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac})}return n})(),bB=["alt","control","meta","shift"],Vge={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Uge={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},vB=(()=>{class n extends Ll{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,s){let o=n.parseEventName(r),a=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Uo().onAndCancel(t,o.domEventName,a,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),bB.forEach(u=>{let l=r.indexOf(u);l>-1&&(r.splice(l,1),o+=u+".")}),o+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(t,r){let i=Vge[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),bB.forEach(o=>{if(o!==i){let a=Uge[o];a(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Be(ut))};static \u0275prov=ye({token:n,factory:n.\u0275fac})}return n})();function Hge(n,e,t){let r=Z({rootComponent:n,platformRef:t?.platformRef},Wge(e));return JL(r)}function Wge(n){return{appProviders:[...Yge,...n?.providers??[]],platformProviders:Kge}}function zge(){Xy.makeCurrent()}function Gge(){return new fi}function Qge(){return j0(document),document}var Kge=[{provide:Oa,useValue:yx},{provide:uy,useValue:zge,multi:!0},{provide:ut,useFactory:Qge}];var Yge=[{provide:Ff,useValue:"root"},{provide:fi,useFactory:Gge},{provide:_h,useClass:Yy,multi:!0},{provide:_h,useClass:vB,multi:!0},Dx,wx,Ex,{provide:hi,useExisting:Dx},{provide:ru,useClass:$ge},[]];var Wo=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),s=t.slice(r+1).trim();this.addHeaderEntry(i,s)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Tx=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}},Ax=class{encodeKey(e){return _B(e)}encodeValue(e){return _B(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Jge(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=t.get(o)||[];c.push(a),t.set(o,c)}),t}var Zge=/%(\d[a-f0-9])/gi,Xge={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _B(n){return encodeURIComponent(n).replace(Zge,(e,t)=>Xge[t]??e)}function eb(n){return`${n}`}var Ho=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Ax,e.fromString){if(e.fromObject)throw new Me(2805,!1);this.map=Jge(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(eb):[eb(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(eb(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(eb(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};function eye(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function EB(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function wB(n){return typeof Blob<"u"&&n instanceof Blob}function CB(n){return typeof FormData<"u"&&n instanceof FormData}function tye(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var DB="Content-Type",xB="Accept",TB="text/plain",AB="application/json",nye=`${AB}, ${TB}, */*`,Bl=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let s;if(eye(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s){if(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,this.keepalive=!!s.keepalive,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),s.priority&&(this.priority=s.priority),s.cache&&(this.cache=s.cache),s.credentials&&(this.credentials=s.credentials),typeof s.timeout=="number"){if(s.timeout<1||!Number.isInteger(s.timeout))throw new Me(2822,"");this.timeout=s.timeout}s.mode&&(this.mode=s.mode),s.redirect&&(this.redirect=s.redirect),s.integrity&&(this.integrity=s.integrity),s.referrer&&(this.referrer=s.referrer),s.referrerPolicy&&(this.referrerPolicy=s.referrerPolicy),this.transferCache=s.transferCache}if(this.headers??=new Wo,this.context??=new Tx,!this.params)this.params=new Ho,this.urlWithParams=t;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||EB(this.body)||wB(this.body)||CB(this.body)||tye(this.body)?this.body:this.body instanceof Ho?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||CB(this.body)?null:wB(this.body)?this.body.type||null:EB(this.body)?null:typeof this.body=="string"?TB:this.body instanceof Ho?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?AB:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.keepalive??this.keepalive,o=e.priority||this.priority,a=e.cache||this.cache,c=e.mode||this.mode,u=e.redirect||this.redirect,l=e.credentials||this.credentials,f=e.referrer||this.referrer,p=e.integrity||this.integrity,g=e.referrerPolicy||this.referrerPolicy,v=e.transferCache??this.transferCache,E=e.timeout??this.timeout,D=e.body!==void 0?e.body:this.body,P=e.withCredentials??this.withCredentials,K=e.reportProgress??this.reportProgress,J=e.headers||this.headers,re=e.params||this.params,he=e.context??this.context;return e.setHeaders!==void 0&&(J=Object.keys(e.setHeaders).reduce((y,Te)=>y.set(Te,e.setHeaders[Te]),J)),e.setParams&&(re=Object.keys(e.setParams).reduce((y,Te)=>y.set(Te,e.setParams[Te]),re)),new n(t,r,D,{params:re,headers:J,context:he,reportProgress:K,responseType:i,withCredentials:P,transferCache:v,keepalive:s,cache:a,priority:o,timeout:E,mode:c,redirect:u,credentials:l,referrer:f,integrity:p,referrerPolicy:g})}},iu=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(iu||{}),wh=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(e,t=200,r="OK"){this.headers=e.headers||new Wo,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.responseType=e.responseType,this.ok=this.status>=200&&this.status<300}},Sx=class n extends wh{constructor(e={}){super(e)}type=iu.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},jl=class n extends wh{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=iu.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected,responseType:e.responseType??this.responseType})}},ql=class extends wh{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},rye=200,iye=204;var sye=/^\)\]\}',?\n/;var oye=(()=>{class n{xhrFactory;tracingService=U(oo,{optional:!0});constructor(t){this.xhrFactory=t}maybePropagateTrace(t){return this.tracingService?.propagate?this.tracingService.propagate(t):t}handle(t){if(t.method==="JSONP")throw new Me(-2800,!1);let r=this.xhrFactory;return Je(null).pipe(di(()=>new it(s=>{let o=r.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((D,P)=>o.setRequestHeader(D,P.join(","))),t.headers.has(xB)||o.setRequestHeader(xB,nye),!t.headers.has(DB)){let D=t.detectContentTypeHeader();D!==null&&o.setRequestHeader(DB,D)}if(t.timeout&&(o.timeout=t.timeout),t.responseType){let D=t.responseType.toLowerCase();o.responseType=D!=="json"?D:"text"}let a=t.serializeBody(),c=null,u=()=>{if(c!==null)return c;let D=o.statusText||"OK",P=new Wo(o.getAllResponseHeaders()),K=o.responseURL||t.url;return c=new Sx({headers:P,status:o.status,statusText:D,url:K}),c},l=this.maybePropagateTrace(()=>{let{headers:D,status:P,statusText:K,url:J}=u(),re=null;P!==iye&&(re=typeof o.response>"u"?o.responseText:o.response),P===0&&(P=re?rye:0);let he=P>=200&&P<300;if(t.responseType==="json"&&typeof re=="string"){let y=re;re=re.replace(sye,"");try{re=re!==""?JSON.parse(re):null}catch(Te){re=y,he&&(he=!1,re={error:Te,text:re})}}he?(s.next(new jl({body:re,headers:D,status:P,statusText:K,url:J||void 0})),s.complete()):s.error(new ql({error:re,headers:D,status:P,statusText:K,url:J||void 0}))}),f=this.maybePropagateTrace(D=>{let{url:P}=u(),K=new ql({error:D,status:o.status||0,statusText:o.statusText||"Unknown Error",url:P||void 0});s.error(K)}),p=f;t.timeout&&(p=this.maybePropagateTrace(D=>{let{url:P}=u(),K=new ql({error:new DOMException("Request timed out","TimeoutError"),status:o.status||0,statusText:o.statusText||"Request timeout",url:P||void 0});s.error(K)}));let g=!1,v=this.maybePropagateTrace(D=>{g||(s.next(u()),g=!0);let P={type:iu.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(P.total=D.total),t.responseType==="text"&&o.responseText&&(P.partialText=o.responseText),s.next(P)}),E=this.maybePropagateTrace(D=>{let P={type:iu.UploadProgress,loaded:D.loaded};D.lengthComputable&&(P.total=D.total),s.next(P)});return o.addEventListener("load",l),o.addEventListener("error",f),o.addEventListener("timeout",p),o.addEventListener("abort",f),t.reportProgress&&(o.addEventListener("progress",v),a!==null&&o.upload&&o.upload.addEventListener("progress",E)),o.send(a),s.next({type:iu.Sent}),()=>{o.removeEventListener("error",f),o.removeEventListener("abort",f),o.removeEventListener("load",l),o.removeEventListener("timeout",p),t.reportProgress&&(o.removeEventListener("progress",v),a!==null&&o.upload&&o.upload.removeEventListener("progress",E)),o.readyState!==o.DONE&&o.abort()}})))}static \u0275fac=function(r){return new(r||n)(Be(ru))};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function aye(n,e){return e(n)}function cye(n,e,t){return(r,i)=>pr(t,()=>e(r,s=>n(s,i)))}var uye=new Ee("",{factory:()=>[]}),Ix=new Ee(""),lye=new Ee("",{factory:()=>!0});var dye=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=Be(oye),i},providedIn:"root"})}return n})();var fye=(()=>{class n{backend;injector;chain=null;pendingTasks=U(jf);contributeToStability=U(lye);constructor(t,r){this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(uye),...this.injector.get(Ix,[])]));this.chain=r.reduceRight((i,s)=>cye(i,s,this.injector),aye)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Ic(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(Be(dye),Be(ln))};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hye=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=Be(fye),i},providedIn:"root"})}return n})();function xx(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer,referrerPolicy:n.referrerPolicy}}var Mx=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Bl)s=t;else{let c;i.headers instanceof Wo?c=i.headers:c=new Wo(i.headers);let u;i.params&&(i.params instanceof Ho?u=i.params:u=new Ho({fromObject:i.params})),s=new Bl(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,referrerPolicy:i.referrerPolicy,integrity:i.integrity,timeout:i.timeout})}let o=Je(s).pipe(Ea(c=>this.handler.handle(c)));if(t instanceof Bl||i.observe==="events")return o;let a=o.pipe(Nn(c=>c instanceof jl));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Dt(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Me(2806,!1);return c.body}));case"blob":return a.pipe(Dt(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Me(2807,!1);return c.body}));case"text":return a.pipe(Dt(c=>{if(c.body!==null&&typeof c.body!="string")throw new Me(2808,!1);return c.body}));case"json":default:return a.pipe(Dt(c=>c.body))}case"response":return a;default:throw new Me(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Ho().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,xx(i,r))}post(t,r,i={}){return this.request("POST",t,xx(i,r))}put(t,r,i={}){return this.request("PUT",t,xx(i,r))}static \u0275fac=function(r){return new(r||n)(Be(hye))};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var pye=new Ee(""),mye="b",gye="h",yye="s",bye="st",vye="u",_ye="rt",Rx=new Ee(""),Eye=["GET","HEAD"];function wye(n,e){let g=U(Rx),{isCacheActive:t}=g,r=ff(g,["isCacheActive"]),{transferCache:i,method:s}=n;if(!t||i===!1||s==="POST"&&!r.includePostRequests&&!i||s!=="POST"&&!Eye.includes(s)||!r.includeRequestsWithAuthHeaders&&Cye(n)||r.filter?.(n)===!1)return e(n);let o=U(Il);if(U(pye,{optional:!0}))throw new Me(2803,!1);let c=n.url,u=Dye(n,c),l=o.get(u,null),f=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(f=i.includeHeaders),l){let{[mye]:v,[_ye]:E,[gye]:D,[yye]:P,[bye]:K,[vye]:J}=l,re=v;switch(E){case"arraybuffer":re=new TextEncoder().encode(v).buffer;break;case"blob":re=new Blob([v]);break}let he=new Wo(D);return Je(new jl({body:re,headers:he,status:P,statusText:K,url:J}))}return e(n)}function Cye(n){return n.headers.has("authorization")||n.headers.has("proxy-authorization")}function SB(n){return[...n.keys()].sort().map(e=>`${e}=${n.getAll(e)}`).join("&")}function Dye(n,e){let{params:t,method:r,responseType:i}=n,s=SB(t),o=n.serializeBody();o instanceof URLSearchParams?o=SB(o):typeof o!="string"&&(o="");let a=[r,i,e,o,s].join("|"),c=xye(a);return c}function xye(n){let e=0;for(let t of n)e=Math.imul(31,e)+t.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function IB(n){return[{provide:Rx,useFactory:()=>(Kr("NgHttpTransferCache"),Z({isCacheActive:!0},n))},{provide:Ix,useValue:wye,multi:!0},{provide:$o,multi:!0,useFactory:()=>{let e=U(xr),t=U(Rx);return()=>{e.whenStable().then(()=>{t.isCacheActive=!1})}}}]}var MB=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Be(ut))};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Nx=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=Be(Aye),i},providedIn:"root"})}return n})(),Aye=(()=>{class n extends Nx{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case Lr.NONE:return r;case Lr.HTML:return Pa(r,"HTML")?Ds(r):nD(this._doc,String(r)).toString();case Lr.STYLE:return Pa(r,"Style")?Ds(r):r;case Lr.SCRIPT:if(Pa(r,"Script"))return Ds(r);throw new Me(5200,!1);case Lr.URL:return Pa(r,"URL")?Ds(r):th(String(r));case Lr.RESOURCE_URL:if(Pa(r,"ResourceURL"))return Ds(r);throw new Me(5201,!1);default:throw new Me(5202,!1)}}bypassSecurityTrustHtml(t){return J0(t)}bypassSecurityTrustStyle(t){return Z0(t)}bypassSecurityTrustScript(t){return X0(t)}bypassSecurityTrustUrl(t){return eD(t)}bypassSecurityTrustResourceUrl(t){return tD(t)}static \u0275fac=function(r){return new(r||n)(Be(ut))};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tb=(function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n[n.I18nSupport=2]="I18nSupport",n[n.EventReplay=3]="EventReplay",n[n.IncrementalHydration=4]="IncrementalHydration",n})(tb||{});function Sye(n,e=[],t={}){return{\u0275kind:n,\u0275providers:e}}function obt(){return Sye(tb.EventReplay,ZL())}function abt(...n){let e=[],t=new Set;for(let{\u0275providers:i,\u0275kind:s}of n)t.add(s),i.length&&e.push(i);let r=t.has(tb.HttpTransferCacheOptions);return Mi([[],XL(),t.has(tb.NoHttpTransferCache)||r?[]:IB({}),e])}function Ch(n){return n.buttons===0||n.detail===0}function Dh(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var Px;function OB(){if(Px==null){let n=typeof document<"u"?document.head:null;Px=!!(n&&(n.createShadowRoot||n.attachShadow))}return Px}function Fx(n){if(OB()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function kx(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){let e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function As(n){return n.composedPath?n.composedPath()[0]:n.target}var Lx;try{Lx=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Lx=!1}var rr=(()=>{class n{_platformId=U(Oa);isBrowser=this._platformId?dB(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Lx)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var xh;function PB(){if(xh==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>xh=!0}))}finally{xh=xh||!1}return xh}function $l(n){return PB()?n:!!n.capture}function FB(n,e=0){return kB(n)?Number(n):arguments.length===2?e:0}function kB(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function co(n){return n instanceof vn?n.nativeElement:n}var LB=new Ee("cdk-input-modality-detector-options"),BB={ignoreKeys:[18,17,224,91,16]},qB=650,Bx={passive:!0,capture:!0},jB=(()=>{class n{_platform=U(rr);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new tr(null);_options;_lastTouchMs=0;_onKeydown=t=>{this._options?.ignoreKeys?.some(r=>r===t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=As(t))};_onMousedown=t=>{Date.now()-this._lastTouchMs<qB||(this._modality.next(Ch(t)?"keyboard":"mouse"),this._mostRecentTarget=As(t))};_onTouchstart=t=>{if(Dh(t)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=As(t)};constructor(){let t=U(Ot),r=U(ut),i=U(LB,{optional:!0});if(this._options=Z(Z({},BB),i),this.modalityDetected=this._modality.pipe(Tf(1)),this.modalityChanged=this.modalityDetected.pipe(eg()),this._platform.isBrowser){let s=U(hi).createRenderer(null,null);this._listenerCleanups=t.runOutsideAngular(()=>[s.listen(r,"keydown",this._onKeydown,Bx),s.listen(r,"mousedown",this._onMousedown,Bx),s.listen(r,"touchstart",this._onTouchstart,Bx)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(t=>t())}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Th=(function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n})(Th||{}),$B=new Ee("cdk-focus-monitor-default-options"),nb=$l({passive:!0,capture:!0}),rb=(()=>{class n{_ngZone=U(Ot);_platform=U(rr);_inputModalityDetector=U(jB);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=U(ut);_stopInputModalityDetector=new Ge;constructor(){let t=U($B,{optional:!0});this._detectionMode=t?.detectionMode||Th.IMMEDIATE}_rootNodeFocusAndBlurListener=t=>{let r=As(t);for(let i=r;i;i=i.parentElement)t.type==="focus"?this._onFocus(t,i):this._onBlur(t,i)};monitor(t,r=!1){let i=co(t);if(!this._platform.isBrowser||i.nodeType!==1)return Je();let s=Fx(i)||this._document,o=this._elementInfo.get(i);if(o)return r&&(o.checkChildren=!0),o.subject;let a={checkChildren:r,subject:new Ge,rootNode:s};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){let r=co(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){let s=co(t),o=this._document.activeElement;s===o?this._getClosestElementsInfo(s).forEach(([a,c])=>this._originChanged(a,r,c)):(this._setOrigin(r),typeof s.focus=="function"&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===Th.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused",r==="touch"),t.classList.toggle("cdk-keyboard-focused",r==="keyboard"),t.classList.toggle("cdk-mouse-focused",r==="mouse"),t.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&r,this._detectionMode===Th.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?qB:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(t,r){let i=this._elementInfo.get(r),s=As(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){let i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,nb),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,nb)}),this._rootNodeFocusListenerCount.set(r,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Si(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){let r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,nb),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,nb),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){let r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!r||r===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let s=t.labels;if(s){for(let o=0;o<s.length;o++)if(s[o].contains(r))return!0}return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Iye=(()=>{class n{_elementRef=U(vn);_focusMonitor=U(rb);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new pn;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,t.nodeType===1&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(r=>{this._focusOrigin=r,this.cdkFocusChange.emit(r)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=dn({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return n})();var ib=new WeakMap,zo=(()=>{class n{_appRef;_injector=U(tn);_environmentInjector=U(ln);load(t){let r=this._appRef=this._appRef||this._injector.get(xr),i=ib.get(r);i||(i={loaders:new Set,refs:[]},ib.set(r,i),r.onDestroy(()=>{ib.get(r)?.refs.forEach(s=>s.destroy()),ib.delete(r)})),i.loaders.has(t)||(i.loaders.add(t),i.refs.push(Hy(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ah=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=On({type:n,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(r,i){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return n})();function qx(n){return Array.isArray(n)?n:[n]}var VB=new Set,su,sb=(()=>{class n{_platform=U(rr);_nonce=U(Sl,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Rye}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&Mye(t,this._nonce),this._matchMedia(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Mye(n,e){if(!VB.has(n))try{su||(su=document.createElement("style"),e&&su.setAttribute("nonce",e),su.setAttribute("type","text/css"),document.head.appendChild(su)),su.sheet&&(su.sheet.insertRule(`@media ${n} {body{ }}`,0),VB.add(n))}catch(t){console.error(t)}}function Rye(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var jx=(()=>{class n{_mediaMatcher=U(sb);_zone=U(Ot);_queries=new Map;_destroySubject=new Ge;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return UB(qx(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let i=UB(qx(t)).map(o=>this._registerQuery(o).observable),s=ol(i);return s=va(s.pipe(Ai(1)),s.pipe(Tf(1),Df(0))),s.pipe(Dt(o=>{let a={matches:!1,breakpoints:{}};return o.forEach(({matches:c,query:u})=>{a.matches=a.matches||c,a.breakpoints[u]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let r=this._mediaMatcher.matchMedia(t),s={observable:new it(o=>{let a=c=>this._zone.run(()=>o.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(al(r),Dt(({matches:o})=>({query:t,matches:o})),Si(this._destroySubject)),mql:r};return this._queries.set(t,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function UB(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var Nye=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ob=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=Rt({providers:[Nye]})}return n})();var Oye=(()=>{class n{_platform=U(rr);constructor(){}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return Fye(t)&&getComputedStyle(t).visibility==="visible"}isTabbable(t){if(!this._platform.isBrowser)return!1;let r=Pye(Uye(t));if(r&&(HB(r)===-1||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),s=HB(t);return t.hasAttribute("contenteditable")?s!==-1:i==="iframe"||i==="object"||this._platform.WEBKIT&&this._platform.IOS&&!$ye(t)?!1:i==="audio"?t.hasAttribute("controls")?s!==-1:!1:i==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||t.hasAttribute("controls"):t.tabIndex>=0}isFocusable(t,r){return Vye(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Pye(n){try{return n.frameElement}catch{return null}}function Fye(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function kye(n){let e=n.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function Lye(n){return qye(n)&&n.type=="hidden"}function Bye(n){return jye(n)&&n.hasAttribute("href")}function qye(n){return n.nodeName.toLowerCase()=="input"}function jye(n){return n.nodeName.toLowerCase()=="a"}function GB(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let e=n.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function HB(n){if(!GB(n))return null;let e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function $ye(n){let e=n.nodeName.toLowerCase(),t=e==="input"&&n.type;return t==="text"||t==="password"||e==="select"||e==="textarea"}function Vye(n){return Lye(n)?!1:kye(n)||Bye(n)||n.hasAttribute("contenteditable")||GB(n)}function Uye(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var Vx=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_enabled=!0;constructor(e,t,r,i,s=!1,o){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._injector=o,s||this.attachAnchors()}destroy(){let e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){let r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){let t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let r=0;r<t.length;r++){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let r=t.length-1;r>=0;r--){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?Fa(e,{injector:this._injector}):setTimeout(e)}},QB=(()=>{class n{_checker=U(Oye);_ngZone=U(Ot);_document=U(ut);_injector=U(tn);constructor(){U(zo).load(Ah)}create(t,r=!1){return new Vx(t,this._checker,this._ngZone,this._document,r,this._injector)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Hye=(()=>{class n{_elementRef=U(vn);_focusTrapFactory=U(QB);focusTrap;_previouslyFocusedElement=null;get enabled(){return this.focusTrap?.enabled||!1}set enabled(t){this.focusTrap&&(this.focusTrap.enabled=t)}autoCapture;constructor(){U(rr).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(t){let r=t.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=kx(),this.focusTrap?.focusInitialElementWhenReady()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=dn({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",mi],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",mi]},exportAs:["cdkTrapFocus"],features:[qi]})}return n})(),KB=new Ee("liveAnnouncerElement",{providedIn:"root",factory:()=>null}),YB=new Ee("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),Wye=0,zye=(()=>{class n{_ngZone=U(Ot);_defaultOptions=U(YB,{optional:!0});_liveElement;_document=U(ut);_previousTimeout;_currentPromise;_currentResolve;constructor(){let t=U(KB,{optional:!0});this._liveElement=t||this._createLiveElement()}announce(t,...r){let i=this._defaultOptions,s,o;return r.length===1&&typeof r[0]=="number"?o=r[0]:[s,o]=r,this.clear(),clearTimeout(this._previousTimeout),s||(s=i&&i.politeness?i.politeness:"polite"),o==null&&i&&(o=i.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,typeof o=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let s=0;s<r.length;s++)r[s].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),i.id=`cdk-live-announcer-${Wye++}`,this._document.body.appendChild(i),i}_exposeAnnouncerToModals(t){let r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){let s=r[i],o=s.getAttribute("aria-owns");o?o.indexOf(t)===-1&&s.setAttribute("aria-owns",o+" "+t):s.setAttribute("aria-owns",t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var $a=(function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n})($a||{}),WB="cdk-high-contrast-black-on-white",zB="cdk-high-contrast-white-on-black",$x="cdk-high-contrast-active",JB=(()=>{class n{_platform=U(rr);_hasCheckedHighContrastMode;_document=U(ut);_breakpointSubscription;constructor(){this._breakpointSubscription=U(jx).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return $a.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return $a.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return $a.BLACK_ON_WHITE}return $a.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove($x,WB,zB),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===$a.BLACK_ON_WHITE?t.add($x,WB):r===$a.WHITE_ON_BLACK&&t.add($x,zB)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gye=(()=>{class n{constructor(){U(JB)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=Rt({imports:[ob]})}return n})();var Ux={},Hx=class n{_appId=U(pi);static _infix=`a${Math.floor(Math.random()*1e5).toString()}`;getId(e,t=!1){return this._appId!=="ng"&&(e+=this._appId),Ux.hasOwnProperty(e)||(Ux[e]=0),`${e}${t?n._infix+"-":""}${Ux[e]++}`}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})};var Qye=200,ab=class{_letterKeyStream=new Ge;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new Ge;selectedItem=this._selectedItem;constructor(e,t){let r=typeof t?.debounceInterval=="number"?t.debounceInterval:Qye;t?.skipPredicate&&(this._skipPredicateFn=t.skipPredicate),this.setItems(e),this._setupKeyHandler(r)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(e){this._selectedItemIndex=e}setItems(e){this._items=e}handleKey(e){let t=e.keyCode;e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(e){this._letterKeyStream.pipe(jn(t=>this._pressedLetters.push(t)),Df(e),Nn(()=>this._pressedLetters.length>0),Dt(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(t=>{for(let r=1;r<this._items.length+1;r++){let i=(this._selectedItemIndex+r)%this._items.length,s=this._items[i];if(!this._skipPredicateFn?.(s)&&s.getLabel?.().toLocaleUpperCase().trim().indexOf(t)===0){this._selectedItem.next(s);break}}this._pressedLetters=[]})}};function ZB(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var Vl=class{_items;_activeItemIndex=Wn(-1);_activeItem=Wn(null);_wrap=!1;_typeaheadSubscription=hn.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=e=>e.disabled;constructor(e,t){this._items=e,e instanceof Gc?this._itemChangesSubscription=e.changes.subscribe(r=>this._itemsChanged(r.toArray())):ah(e)&&(this._effectRef=Pg(()=>this._itemsChanged(e()),{injector:t}))}tabOut=new Ge;change=new Ge;skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){this._typeaheadSubscription.unsubscribe();let t=this._getItemsArray();return this._typeahead=new ab(t,{debounceInterval:typeof e=="number"?e:void 0,skipPredicate:r=>this._skipPredicateFn(r)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(r=>{this.setActiveItem(r)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){let t=this._activeItem();this.updateActiveItem(e),this._activeItem()!==t&&this.change.next(this._activeItemIndex())}onKeydown(e){let t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:this.tabOut.next();return;case 40:if(this._vertical&&i){this.setNextItemActive();break}else return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&i){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&i){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&i){let s=this._activeItemIndex()-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&i){let s=this._activeItemIndex()+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}else return;default:(i||ZB(e,"shiftKey"))&&this._typeahead?.handleKey(e);return}this._typeahead?.reset(),e.preventDefault()}get activeItemIndex(){return this._activeItemIndex()}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex()<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex()<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let t=this._getItemsArray(),r=typeof e=="number"?e:t.indexOf(e),i=t[r];this._activeItem.set(i??null),this._activeItemIndex.set(r),this._typeahead?.setCurrentSelectedItemIndex(r)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let t=this._getItemsArray();for(let r=1;r<=t.length;r++){let i=(this._activeItemIndex()+e*r+t.length)%t.length,s=t[i];if(!this._skipPredicateFn(s)){this.setActiveItem(i);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex()+e,e)}_setActiveItemByIndex(e,t){let r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(e+=t,!r[e])return;this.setActiveItem(e)}}_getItemsArray(){return ah(this._items)?this._items():this._items instanceof Gc?this._items.toArray():this._items}_itemsChanged(e){this._typeahead?.setItems(e);let t=this._activeItem();if(t){let r=e.indexOf(t);r>-1&&r!==this._activeItemIndex()&&(this._activeItemIndex.set(r),this._typeahead?.setCurrentSelectedItemIndex(r))}}};var Wx=class extends Vl{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}};var XB=class extends Vl{_origin="program";setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}};var tq=" ";function Kye(n,e,t){let r=ub(n,e);t=t.trim(),!r.some(i=>i.trim()===t)&&(r.push(t),n.setAttribute(e,r.join(tq)))}function Yye(n,e,t){let r=ub(n,e);t=t.trim();let i=r.filter(s=>s!==t);i.length?n.setAttribute(e,i.join(tq)):n.removeAttribute(e)}function ub(n,e){return n.getAttribute(e)?.match(/\S+/g)??[]}var nq="cdk-describedby-message",cb="cdk-describedby-host",Gx=0,zvt=(()=>{class n{_platform=U(rr);_document=U(ut);_messageRegistry=new Map;_messagesContainer=null;_id=`${Gx++}`;constructor(){U(zo).load(Ah),this._id=U(pi)+"-"+Gx++}describe(t,r,i){if(!this._canBeDescribed(t,r))return;let s=zx(r,i);typeof r!="string"?(eq(r,this._id),this._messageRegistry.set(s,{messageElement:r,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(r,i),this._isElementDescribedByMessage(t,s)||this._addMessageReference(t,s)}removeDescription(t,r,i){if(!r||!this._isElementNode(t))return;let s=zx(r,i);if(this._isElementDescribedByMessage(t,s)&&this._removeMessageReference(t,s),typeof r=="string"){let o=this._messageRegistry.get(s);o&&o.referenceCount===0&&this._deleteMessageElement(s)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let t=this._document.querySelectorAll(`[${cb}="${this._id}"]`);for(let r=0;r<t.length;r++)this._removeCdkDescribedByReferenceIds(t[r]),t[r].removeAttribute(cb);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,r){let i=this._document.createElement("div");eq(i,this._id),i.textContent=t,r&&i.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(zx(t,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;let t="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let s=0;s<r.length;s++)r[s].remove();let i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(t),i.classList.add("cdk-visually-hidden"),this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(t){let r=ub(t,"aria-describedby").filter(i=>i.indexOf(nq)!=0);t.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(t,r){let i=this._messageRegistry.get(r);Kye(t,"aria-describedby",i.messageElement.id),t.setAttribute(cb,this._id),i.referenceCount++}_removeMessageReference(t,r){let i=this._messageRegistry.get(r);i.referenceCount--,Yye(t,"aria-describedby",i.messageElement.id),t.removeAttribute(cb)}_isElementDescribedByMessage(t,r){let i=ub(t,"aria-describedby"),s=this._messageRegistry.get(r),o=s&&s.messageElement.id;return!!o&&i.indexOf(o)!=-1}_canBeDescribed(t,r){if(!this._isElementNode(t))return!1;if(r&&typeof r=="object")return!0;let i=r==null?"":`${r}`.trim(),s=t.getAttribute("aria-label");return i?!s||s.trim()!==i:!1}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zx(n,e){return typeof n=="string"?`${e||""}/${n}`:n}function eq(n,e){n.id||(n.id=`${nq}-${e}-${Gx++}`)}var lb;function Jye(){if(lb===void 0&&(lb=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(lb=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return lb}function Ul(n){return Jye()?.createHTML(n)||n}var ou;function n_t(){if(ou==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return ou=!1,ou;if(document.documentElement?.style&&"scrollBehavior"in document.documentElement.style)ou=!0;else{let n=Element.prototype.scrollTo;n?ou=!/\{\s*\[native code\]\s*\}/.test(n.toString()):ou=!1}}return ou}function i_t(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var l_t=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=Rt({})}return n})(),d_t={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var Zye=new Ee("MATERIAL_ANIMATIONS"),rq=null;function Xye(){return U(Zye,{optional:!0})?.animationsDisabled||U($0,{optional:!0})==="NoopAnimations"?"di-disabled":(rq??=U(sb).matchMedia("(prefers-reduced-motion)").matches,rq?"reduced-motion":"enabled")}function Va(){return Xye()!=="enabled"}function y_t(n){return n==null?"":typeof n=="string"?n:`${n}px`}function v_t(n){return n!=null&&`${n}`!="false"}var ns=(function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n})(ns||{}),Qx=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=ns.HIDDEN;constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i}fadeOut(){this._renderer.fadeOutRipple(this)}},iq=$l({passive:!0,capture:!0}),Kx=class{_events=new Map;addHandler(e,t,r,i){let s=this._events.get(t);if(s){let o=s.get(r);o?o.add(i):s.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,iq)})}removeHandler(e,t,r){let i=this._events.get(e);if(!i)return;let s=i.get(t);s&&(s.delete(r),s.size===0&&i.delete(t),i.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,iq)))}_delegateEventHandler=e=>{let t=As(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(s=>s.handleEvent(e))})}},Sh={enterDuration:225,exitDuration:150},ebe=800,sq=$l({passive:!0,capture:!0}),oq=["mousedown","touchstart"],aq=["mouseup","mouseleave","touchend","touchcancel"],tbe=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=On({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return n})(),Ih=class n{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new Kx;constructor(e,t,r,i,s){this._target=e,this._ngZone=t,this._platform=i,i.isBrowser&&(this._containerElement=co(r)),s&&s.get(zo).load(tbe)}fadeInRipple(e,t,r={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Z(Z({},Sh),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);let o=r.radius||nbe(e,t,i),a=e-i.left,c=t-i.top,u=s.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=`${a-o}px`,l.style.top=`${c-o}px`,l.style.height=`${o*2}px`,l.style.width=`${o*2}px`,r.color!=null&&(l.style.backgroundColor=r.color),l.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(l);let f=window.getComputedStyle(l),p=f.transitionProperty,g=f.transitionDuration,v=p==="none"||g==="0s"||g==="0s, 0s"||i.width===0&&i.height===0,E=new Qx(this,l,r,v);l.style.transform="scale3d(1, 1, 1)",E.state=ns.FADING_IN,r.persistent||(this._mostRecentTransientRipple=E);let D=null;return!v&&(u||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let P=()=>{D&&(D.fallbackTimer=null),clearTimeout(J),this._finishRippleTransition(E)},K=()=>this._destroyRipple(E),J=setTimeout(K,u+100);l.addEventListener("transitionend",P),l.addEventListener("transitioncancel",K),D={onTransitionEnd:P,onTransitionCancel:K,fallbackTimer:J}}),this._activeRipples.set(E,D),(v||!u)&&this._finishRippleTransition(E),E}fadeOutRipple(e){if(e.state===ns.FADING_OUT||e.state===ns.HIDDEN)return;let t=e.element,r=Z(Z({},Sh),e.config.animation);t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=ns.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=co(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,oq.forEach(r=>{n._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{aq.forEach(t=>{this._triggerElement.addEventListener(t,this,sq)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===ns.FADING_IN?this._startFadeOutTransition(e):e.state===ns.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=ns.VISIBLE,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=ns.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=Ch(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+ebe;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Dh(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===ns.VISIBLE||e.config.terminateOnPointerUp&&e.state===ns.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(oq.forEach(t=>n._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(aq.forEach(t=>e.removeEventListener(t,this,sq)),this._pointerUpEventsRegistered=!1))}};function nbe(n,e,t){let r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}var Yx=new Ee("mat-ripple-global-options"),O_t=(()=>{class n{_elementRef=U(vn);_animationsDisabled=Va();color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let t=U(Ot),r=U(rr),i=U(Yx,{optional:!0}),s=U(tn);this._globalOptions=i||{},this._rippleRenderer=new Ih(this,t,this._elementRef,r,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Z(Z(Z({},this._globalOptions.animation),this._animationsDisabled?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return typeof t=="number"?this._rippleRenderer.fadeInRipple(t,r,Z(Z({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Z(Z({},this.rippleConfig),t))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=dn({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,i){r&2&&gr("mat-ripple-unbounded",i.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})();var rbe={capture:!0},ibe=["focus","mousedown","mouseenter","touchstart"],Jx="mat-ripple-loader-uninitialized",Zx="mat-ripple-loader-class-name",cq="mat-ripple-loader-centered",db="mat-ripple-loader-disabled",uq=(()=>{class n{_document=U(ut);_animationsDisabled=Va();_globalRippleOptions=U(Yx,{optional:!0});_platform=U(rr);_ngZone=U(Ot);_injector=U(tn);_eventCleanups;_hosts=new Map;constructor(){let t=U(hi).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>ibe.map(r=>t.listen(this._document,r,this._onInteraction,rbe)))}ngOnDestroy(){let t=this._hosts.keys();for(let r of t)this.destroyRipple(r);this._eventCleanups.forEach(r=>r())}configureRipple(t,r){t.setAttribute(Jx,this._globalRippleOptions?.namespace??""),(r.className||!t.hasAttribute(Zx))&&t.setAttribute(Zx,r.className||""),r.centered&&t.setAttribute(cq,""),r.disabled&&t.setAttribute(db,"")}setDisabled(t,r){let i=this._hosts.get(t);i?(i.target.rippleDisabled=r,!r&&!i.hasSetUpEvents&&(i.hasSetUpEvents=!0,i.renderer.setupTriggerEvents(t))):r?t.setAttribute(db,""):t.removeAttribute(db)}_onInteraction=t=>{let r=As(t);if(r instanceof HTMLElement){let i=r.closest(`[${Jx}="${this._globalRippleOptions?.namespace??""}"]`);i&&this._createRipple(i)}};_createRipple(t){if(!this._document||this._hosts.has(t))return;t.querySelector(".mat-ripple")?.remove();let r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(Zx)),t.append(r);let i=this._globalRippleOptions,s=this._animationsDisabled?0:i?.animation?.enterDuration??Sh.enterDuration,o=this._animationsDisabled?0:i?.animation?.exitDuration??Sh.exitDuration,a={rippleDisabled:this._animationsDisabled||i?.disabled||t.hasAttribute(db),rippleConfig:{centered:t.hasAttribute(cq),terminateOnPointerUp:i?.terminateOnPointerUp,animation:{enterDuration:s,exitDuration:o}}},c=new Ih(a,this._ngZone,r,this._platform,this._injector),u=!a.rippleDisabled;u&&c.setupTriggerEvents(t),this._hosts.set(t,{target:a,renderer:c,hasSetUpEvents:u}),t.removeAttribute(Jx)}destroyRipple(t){let r=this._hosts.get(t);r&&(r.renderer._removeTriggerEvents(),this._hosts.delete(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var lq=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=On({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(r,i){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus-visible::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return n})();var sbe=["mat-icon-button",""],obe=["*"],abe=new Ee("MAT_BUTTON_CONFIG");function dq(n){return n==null?void 0:fx(n)}var Xx=(()=>{class n{_elementRef=U(vn);_ngZone=U(Ot);_animationsDisabled=Va();_config=U(abe,{optional:!0});_focusMonitor=U(rb);_cleanupClick;_renderer=U(jo);_rippleLoader=U(uq);_isAnchor;_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;tabIndex;set _tabindex(t){this.tabIndex=t}constructor(){U(zo).load(lq);let t=this._elementRef.nativeElement;this._isAnchor=t.tagName==="A",this.disabledInteractive=this._config?.disabledInteractive??!1,this.color=this._config?.color??null,this._rippleLoader?.configureRipple(t,{className:"mat-mdc-button-ripple"})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0),this._isAnchor&&this._setupAsAnchor()}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this._isAnchor?this.disabled||null:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}_getTabIndex(){return this._isAnchor?this.disabled&&!this.disabledInteractive?-1:this.tabIndex:this.tabIndex}_setupAsAnchor(){this._cleanupClick=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"click",t=>{this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=dn({type:n,hostAttrs:[1,"mat-mdc-button-base"],hostVars:13,hostBindings:function(r,i){r&2&&(ts("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled())("tabindex",i._getTabIndex()),Fl(i.color?"mat-"+i.color:""),gr("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("mat-unthemed",!i.color)("_mat-animation-noopable",i._animationsDisabled))},inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",mi],disabled:[2,"disabled","disabled",mi],ariaDisabled:[2,"aria-disabled","ariaDisabled",mi],disabledInteractive:[2,"disabledInteractive","disabledInteractive",mi],tabIndex:[2,"tabIndex","tabIndex",dq],_tabindex:[2,"tabindex","_tabindex",dq]}})}return n})(),cbe=(()=>{class n extends Xx{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=On({type:n,selectors:[["button","mat-icon-button",""],["a","mat-icon-button",""],["button","matIconButton",""],["a","matIconButton",""]],hostAttrs:[1,"mdc-icon-button","mat-mdc-icon-button"],exportAs:["matButton","matAnchor"],features:[Yr],attrs:sbe,ngContentSelectors:obe,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){r&1&&(xs(),Vo(0,"span",0),ji(1),Vo(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%));flex-shrink:0;text-align:center;width:var(--mat-icon-button-state-layer-size, 40px);height:var(--mat-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mat-icon-button-state-layer-size, 40px) - var(--mat-icon-button-icon-size, 24px)) / 2);font-size:var(--mat-icon-button-icon-size, 24px);color:var(--mat-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus-visible>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-icon-button-touch-target-size, 48px);display:var(--mat-icon-button-touch-target-display, block);left:50%;width:var(--mat-icon-button-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mat-icon-button-icon-size, 24px);height:var(--mat-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%))}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();var ube=new Ee("cdk-dir-doc",{providedIn:"root",factory:()=>U(ut)}),lbe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function fq(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?lbe.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var hq=(()=>{class n{get value(){return this.valueSignal()}valueSignal=Wn("ltr");change=new pn;constructor(){let t=U(ube,{optional:!0});if(t){let r=t.body?t.body.dir:null,i=t.documentElement?t.documentElement.dir:null;this.valueSignal.set(fq(r||i||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ir=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=Rt({})}return n})();var fb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=Rt({imports:[ir]})}return n})();var dbe=["matButton",""],fbe=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],hbe=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var pq=new Map([["text",["mat-mdc-button"]],["filled",["mdc-button--unelevated","mat-mdc-unelevated-button"]],["elevated",["mdc-button--raised","mat-mdc-raised-button"]],["outlined",["mdc-button--outlined","mat-mdc-outlined-button"]],["tonal",["mat-tonal-button"]]]),dEt=(()=>{class n extends Xx{get appearance(){return this._appearance}set appearance(t){this.setAppearance(t||this._config?.defaultAppearance||"text")}_appearance=null;constructor(){super();let t=pbe(this._elementRef.nativeElement);t&&this.setAppearance(t)}setAppearance(t){if(t===this._appearance)return;let r=this._elementRef.nativeElement.classList,i=this._appearance?pq.get(this._appearance):null,s=pq.get(t);i&&r.remove(...i),r.add(...s),this._appearance=t}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=On({type:n,selectors:[["button","matButton",""],["a","matButton",""],["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""],["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:[1,"mdc-button"],inputs:{appearance:[0,"matButton","appearance"]},exportAs:["matButton","matAnchor"],features:[Yr],attrs:dbe,ngContentSelectors:hbe,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){r&1&&(xs(fbe),Vo(0,"span",0),ji(1),Xc(2,"span",1),ji(3,1),eu(),ji(4,2),Vo(5,"span",2)(6,"span",3)),r&2&&gr("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mat-mdc-button-base .mat-icon{min-height:fit-content;flex-shrink:0}@media(hover: none){.mat-mdc-button-base:hover>span.mat-mdc-button-persistent-ripple::before{opacity:0}}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-button-text-horizontal-padding, 12px);height:var(--mat-button-text-container-height, 40px);font-family:var(--mat-button-text-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-text-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-text-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-text-label-text-transform);font-weight:var(--mat-button-text-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mat-button-text-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mat-button-text-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-text-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-button-text-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-button-text-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-text-touch-target-size, 48px);display:var(--mat-button-text-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-filled-container-height, 40px);font-family:var(--mat-button-filled-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-filled-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-filled-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-filled-label-text-transform);font-weight:var(--mat-button-filled-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-filled-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-button-filled-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-filled-touch-target-size, 48px);display:var(--mat-button-filled-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mat-button-filled-label-text-color, var(--mat-sys-on-primary));background-color:var(--mat-button-filled-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mat-button-filled-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mat-button-protected-container-elevation-shadow, var(--mat-sys-level1));height:var(--mat-button-protected-container-height, 40px);font-family:var(--mat-button-protected-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-protected-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-protected-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-protected-label-text-transform);font-weight:var(--mat-button-protected-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-protected-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-button-protected-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-protected-touch-target-size, 48px);display:var(--mat-button-protected-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-raised-button:not(:disabled){color:var(--mat-button-protected-label-text-color, var(--mat-sys-primary));background-color:var(--mat-button-protected-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mat-button-protected-container-shape, var(--mat-sys-corner-full))}@media(hover: hover){.mat-mdc-raised-button:hover{box-shadow:var(--mat-button-protected-hover-container-elevation-shadow, var(--mat-sys-level2))}}.mat-mdc-raised-button:focus{box-shadow:var(--mat-button-protected-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mat-button-protected-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-protected-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-protected-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mat-button-protected-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-outlined-container-height, 40px);font-family:var(--mat-button-outlined-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-outlined-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-outlined-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-outlined-label-text-transform);font-weight:var(--mat-button-outlined-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mat-button-outlined-container-shape, var(--mat-sys-corner-full));border-width:var(--mat-button-outlined-outline-width, 1px);padding:0 var(--mat-button-outlined-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-button-outlined-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-outlined-touch-target-size, 48px);display:var(--mat-button-outlined-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-outlined-button:not(:disabled){color:var(--mat-button-outlined-label-text-color, var(--mat-sys-primary));border-color:var(--mat-button-outlined-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mat-button-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-tonal-container-height, 40px);font-family:var(--mat-button-tonal-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-tonal-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-tonal-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-tonal-label-text-transform);font-weight:var(--mat-button-tonal-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-tonal-horizontal-padding, 24px)}.mat-tonal-button:not(:disabled){color:var(--mat-button-tonal-label-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-tonal-container-color, var(--mat-sys-secondary-container))}.mat-tonal-button,.mat-tonal-button .mdc-button__ripple{border-radius:var(--mat-button-tonal-container-shape, var(--mat-sys-corner-full))}.mat-tonal-button[disabled],.mat-tonal-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-tonal-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-tonal-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-tonal-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}[dir=rtl] .mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}.mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}[dir=rtl] .mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}.mat-tonal-button .mat-ripple-element{background-color:var(--mat-button-tonal-ripple-color, color-mix(in srgb, var(--mat-sys-on-secondary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-tonal-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-tonal-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-tonal-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-tonal-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-tonal-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-tonal-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-tonal-touch-target-size, 48px);display:var(--mat-button-tonal-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button,.mat-tonal-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon,.mat-tonal-button .mdc-button__label,.mat-tonal-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator,.mat-tonal-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-raised-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus-visible>.mat-focus-indicator::before,.mat-tonal-button:focus-visible>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable,.mat-tonal-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon,.mat-tonal-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-tonal-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();function pbe(n){return n.hasAttribute("mat-raised-button")?"elevated":n.hasAttribute("mat-stroked-button")?"outlined":n.hasAttribute("mat-flat-button")?"filled":n.hasAttribute("mat-button")?"text":null}var fEt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=Rt({imports:[fb,ir]})}return n})();var mEt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=Rt({imports:[ir]})}return n})();var mq=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=Rt({imports:[ir]})}return n})();function gq(n){return Error(`Unable to find icon with the name "${n}"`)}function mbe(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function yq(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function bq(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var Go=class{url;svgText;options;svgElement;constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}},_q=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(t,r,i,s){this._httpClient=t,this._sanitizer=r,this._errorHandler=s,this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,s){return this._addSvgIconConfig(t,r,new Go(i,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,s){let o=this._sanitizer.sanitize(Lr.HTML,i);if(!o)throw bq(i);let a=Ul(o);return this._addSvgIconConfig(t,r,new Go("",a,s))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Go(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){let s=this._sanitizer.sanitize(Lr.HTML,r);if(!s)throw bq(r);let o=Ul(s);return this._addSvgIconSetConfig(t,new Go("",o,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){let r=this._sanitizer.sanitize(Lr.RESOURCE_URL,t);if(!r)throw yq(t);let i=this._cachedIconsByUrl.get(r);return i?Je(hb(i)):this._loadSvgIconFromConfig(new Go(t,null)).pipe(jn(s=>this._cachedIconsByUrl.set(r,s)),Dt(s=>hb(s)))}getNamedSvgIcon(t,r=""){let i=vq(r,t),s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,t),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);let o=this._iconSetConfigs.get(r);return o?this._getSvgFromIconSetConfigs(t,o):vf(gq(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Je(hb(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Dt(r=>hb(r)))}_getSvgFromIconSetConfigs(t,r){let i=this._extractIconWithNameFromAnySet(t,r);if(i)return Je(i);let s=r.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(_a(a=>{let u=`Loading icon set URL: ${this._sanitizer.sanitize(Lr.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(u)),Je(null)})));return Cf(s).pipe(Dt(()=>{let o=this._extractIconWithNameFromAnySet(t,r);if(!o)throw gq(t);return o}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){let s=r[i];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){let o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,t,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(jn(r=>t.svgText=r),Dt(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Je(null):this._fetchIcon(t).pipe(jn(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){let s=t.querySelector(`[id="${r}"]`);if(!s)return null;let o=s.cloneNode(!0);if(o.removeAttribute("id"),o.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(o,i);if(o.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(o),i);let a=this._svgElementFromString(Ul("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,i)}_svgElementFromString(t){let r=this._document.createElement("DIV");r.innerHTML=t;let i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){let r=this._svgElementFromString(Ul("<svg></svg>")),i=t.attributes;for(let s=0;s<i.length;s++){let{name:o,value:a}=i[s];o!=="id"&&r.setAttribute(o,a)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){let{url:r,options:i}=t,s=i?.withCredentials??!1;if(!this._httpClient)throw mbe();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let o=this._sanitizer.sanitize(Lr.RESOURCE_URL,r);if(!o)throw yq(r);let a=this._inProgressUrlFetches.get(o);if(a)return a;let c=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(Dt(u=>Ul(u)),Ic(()=>this._inProgressUrlFetches.delete(o)),xf());return this._inProgressUrlFetches.set(o,c),c}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(vq(t,r),i),this}_addSvgIconSetConfig(t,r){let i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){let r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){let s=this._resolvers[i](r,t);if(s)return gbe(s)?new Go(s.url,null,s.options):new Go(s,null)}}static \u0275fac=function(r){return new(r||n)(Be(Mx,8),Be(Nx),Be(ut,8),Be(fi))};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hb(n){return n.cloneNode(!0)}function vq(n,e){return n+":"+e}function gbe(n){return!!(n.url&&n.options)}var ybe=["*"],bbe=new Ee("MAT_ICON_DEFAULT_OPTIONS"),vbe=new Ee("mat-icon-location",{providedIn:"root",factory:()=>{let n=U(ut),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),Eq=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],_be=Eq.map(n=>`[${n}]`).join(", "),Ebe=/^url\(['"]?#(.*?)['"]?\)$/,LEt=(()=>{class n{_elementRef=U(vn);_iconRegistry=U(_q);_location=U(vbe);_errorHandler=U(fi);_defaultColor;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(t){let r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(t){let r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=hn.EMPTY;constructor(){let t=U(new gh("aria-hidden"),{optional:!0}),r=U(bbe,{optional:!0});r&&(r.color&&(this.color=this._defaultColor=r.color),r.fontSet&&(this.fontSet=r.fontSet)),t||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];let r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let t=this._elementsWithExternalReferences;if(t&&t.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){let t=this._elementRef.nativeElement,r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let i=t.childNodes[r];(i.nodeType!==1||i.nodeName.toLowerCase()==="svg")&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return typeof t=="string"?t.trim().split(" ")[0]:t}_prependPathToReferences(t){let r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){let r=t.querySelectorAll(_be),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)Eq.forEach(o=>{let a=r[s],c=a.getAttribute(o),u=c?c.match(Ebe):null;if(u){let l=i.get(a);l||(l=[],i.set(a,l)),l.push({name:o,value:u[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){let[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Ai(1)).subscribe(s=>this._setSvgElement(s),s=>{let o=`Error retrieving icon ${r}:${i}! ${s.message}`;this._errorHandler.handleError(new Error(o))})}}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=On({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,i){r&2&&(ts("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),Fl(i.color?"mat-"+i.color:""),gr("mat-icon-inline",i.inline)("mat-icon-no-color",i.color!=="primary"&&i.color!=="accent"&&i.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",mi],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:ybe,decls:1,vars:0,template:function(r,i){r&1&&(xs(),ji(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return n})(),BEt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=Rt({imports:[ir]})}return n})();var wbe=(()=>{class n{_listeners=[];notify(t,r){for(let i of this._listeners)i(t,r)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(r=>t!==r)}}ngOnDestroy(){this._listeners=[]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var eT=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new Ge;constructor(e=!1,t,r=!0,i){this._multiple=e,this._emitChanges=r,this.compareWith=i,t&&t.length&&(e?t.forEach(s=>this._markSelected(s)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(r=>this._markSelected(r));let t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(r=>this._unmarkSelected(r));let t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);let t=this.selected,r=new Set(e.map(s=>this._getConcreteValue(s)));e.forEach(s=>this._markSelected(s)),t.filter(s=>!r.has(this._getConcreteValue(s,r))).forEach(s=>this._unmarkSelected(s));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();let t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){e.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(e,t){if(this.compareWith){t=t??this._selection;for(let r of t)if(this.compareWith(e,r))return r;return e}else return e}};var awt=new Ee("");function rT(n){return n==null||iT(n)===0}function iT(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Mq=new Ee(""),Rq=new Ee(""),Cbe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,wq=class{static min(e){return Dbe(e)}static max(e){return xbe(e)}static required(e){return Tbe(e)}static requiredTrue(e){return Abe(e)}static email(e){return Sbe(e)}static minLength(e){return Ibe(e)}static maxLength(e){return Mbe(e)}static pattern(e){return Rbe(e)}static nullValidator(e){return Nq()}static compose(e){return Bq(e)}static composeAsync(e){return qq(e)}};function Dbe(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function xbe(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Tbe(n){return rT(n.value)?{required:!0}:null}function Abe(n){return n.value===!0?null:{required:!0}}function Sbe(n){return rT(n.value)||Cbe.test(n.value)?null:{email:!0}}function Ibe(n){return e=>{let t=e.value?.length??iT(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function Mbe(n){return e=>{let t=e.value?.length??iT(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function Rbe(n){if(!n)return Nq;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(rT(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Nq(n){return null}function Oq(n){return n!=null}function Pq(n){return Zc(n)?Xt(n):n}function Fq(n){let e={};return n.forEach(t=>{e=t!=null?Z(Z({},e),t):e}),Object.keys(e).length===0?null:e}function kq(n,e){return e.map(t=>t(n))}function Nbe(n){return!n.validate}function Lq(n){return n.map(e=>Nbe(e)?e:t=>e.validate(t))}function Bq(n){if(!n)return null;let e=n.filter(Oq);return e.length==0?null:function(t){return Fq(kq(t,e))}}function sT(n){return n!=null?Bq(Lq(n)):null}function qq(n){if(!n)return null;let e=n.filter(Oq);return e.length==0?null:function(t){let r=kq(t,e).map(Pq);return Cf(r).pipe(Dt(Fq))}}function oT(n){return n!=null?qq(Lq(n)):null}function Cq(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function jq(n){return n._rawValidators}function $q(n){return n._rawAsyncValidators}function tT(n){return n?Array.isArray(n)?n:[n]:[]}function mb(n,e){return Array.isArray(n)?n.includes(e):n===e}function Dq(n,e){let t=tT(e);return tT(n).forEach(i=>{mb(t,i)||t.push(i)}),t}function xq(n,e){return tT(e).filter(t=>!mb(n,t))}var gb=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=sT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=oT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},zl=class extends gb{name;get formDirective(){return null}get path(){return null}},Tq=class extends gb{_parent=null;name=null;valueAccessor=null};var Mh="VALID",pb="INVALID",Hl="PENDING",Rh="DISABLED",Ua=class{},yb=class extends Ua{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Oh=class extends Ua{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Ph=class extends Ua{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Wl=class extends Ua{status;source;constructor(e,t){super(),this.status=e,this.source=t}},bb=class extends Ua{source;constructor(e){super(),this.source=e}},vb=class extends Ua{source;constructor(e){super(),this.source=e}};function Vq(n){return(Db(n)?n.validators:n)||null}function Obe(n){return Array.isArray(n)?sT(n):n||null}function Uq(n,e){return(Db(e)?e.asyncValidators:n)||null}function Pbe(n){return Array.isArray(n)?oT(n):n||null}function Db(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Fbe(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new Me(1e3,"");if(!r[t])throw new Me(1001,"")}function kbe(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new Me(1002,"")})}var _b=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return nr(this.statusReactive)}set status(e){nr(()=>this.statusReactive.set(e))}_status=Ba(()=>this.statusReactive());statusReactive=Wn(void 0);get valid(){return this.status===Mh}get invalid(){return this.status===pb}get pending(){return this.status==Hl}get disabled(){return this.status===Rh}get enabled(){return this.status!==Rh}errors;get pristine(){return nr(this.pristineReactive)}set pristine(e){nr(()=>this.pristineReactive.set(e))}_pristine=Ba(()=>this.pristineReactive());pristineReactive=Wn(!0);get dirty(){return!this.pristine}get touched(){return nr(this.touchedReactive)}set touched(e){nr(()=>this.touchedReactive.set(e))}_touched=Ba(()=>this.touchedReactive());touchedReactive=Wn(!1);get untouched(){return!this.touched}_events=new Ge;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Dq(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Dq(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(xq(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(xq(e,this._rawAsyncValidators))}hasValidator(e){return mb(this._rawValidators,e)}hasAsyncValidator(e){return mb(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(We(Z({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Ph(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Ph(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(We(Z({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Oh(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Oh(!0,r))}markAsPending(e={}){this.status=Hl;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Wl(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(We(Z({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Rh,this.errors=null,this._forEachChild(i=>{i.disable(We(Z({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new yb(this.value,r)),this._events.next(new Wl(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(We(Z({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Mh,this._forEachChild(r=>{r.enable(We(Z({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(We(Z({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mh||this.status===Hl)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new yb(this.value,t)),this._events.next(new Wl(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(We(Z({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rh:Mh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Hl,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=Pq(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Wl(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new pn,this.statusChanges=new pn}_calculateStatus(){return this._allControlsDisabled()?Rh:this.errors?pb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Hl)?Hl:this._anyControlsHaveStatus(pb)?pb:Mh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Oh(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Ph(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Db(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Obe(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Pbe(this._rawAsyncValidators)}},Eb=class extends _b{constructor(e,t,r){super(Vq(t),Uq(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){kbe(this,!0,e),Object.keys(e).forEach(r=>{Fbe(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,We(Z({},t),{onlySelf:!0}))}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new vb(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Hq=new Ee("",{factory:()=>Wq}),Wq="always";function nT(n,e,t=Wq){aT(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Bbe(n,e),jbe(n,e),qbe(n,e),Lbe(n,e)}function Aq(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Cb(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function wb(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Lbe(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function aT(n,e){let t=jq(n);e.validator!==null?n.setValidators(Cq(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=$q(n);e.asyncValidator!==null?n.setAsyncValidators(Cq(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();wb(e._rawValidators,i),wb(e._rawAsyncValidators,i)}function Cb(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=jq(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let i=$q(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}let r=()=>{};return wb(e._rawValidators,r),wb(e._rawAsyncValidators,r),t}function Bbe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&zq(n,e)})}function qbe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&zq(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function zq(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function jbe(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function Gq(n,e){n==null,aT(n,e)}function $be(n,e){return Cb(n,e)}function Qq(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Vbe(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var Ube={provide:zl,useExisting:Da(()=>Hbe)},Nh=Promise.resolve(),Hbe=(()=>{class n extends zl{callSetDisabledState;get submitted(){return nr(this.submittedReactive)}_submitted=Ba(()=>this.submittedReactive());submittedReactive=Wn(!1);_directives=new Set;form;ngSubmit=new pn;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Eb({},sT(t),oT(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Nh.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),nT(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Nh.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Nh.then(()=>{let r=this._findContainer(t.path),i=new Eb({});Gq(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Nh.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Nh.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),Qq(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new bb(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(Br(Mq,10),Br(Rq,10),Br(Hq,8))};static \u0275dir=dn({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&ka("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[La([Ube]),Yr]})}return n})();function Sq(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Iq(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Wbe=class extends _b{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(Vq(t),Uq(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Db(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Iq(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),t.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new vb(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Sq(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Sq(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Iq(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var zbe=n=>n instanceof Wbe;var Gbe=(()=>{class n extends zl{callSetDisabledState;get submitted(){return nr(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Ba(()=>this._submittedReactive());_submittedReactive=Wn(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this.onChanges(t)}ngOnDestroy(){this.onDestroy()}onChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(Cb(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(t){let r=this.form.get(t.path);return nT(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Aq(t.control||null,t,!1),Vbe(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}getFormArray(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}updateModel(t,r){this.form.get(t.path).setValue(r)}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1)}onSubmit(t){return this.submitted=!0,Qq(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new bb(this.control)),t?.target?.method==="dialog"}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(Aq(r||null,t),zbe(i)&&(nT(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);Gq(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&$be(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){aT(this.form,this),this._oldForm&&Cb(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(r){return new(r||n)(Br(Mq,10),Br(Rq,10),Br(Hq,8))};static \u0275dir=dn({type:n,features:[Yr,qi]})}return n})();var Qbe={provide:zl,useExisting:Da(()=>Kbe)},Kbe=(()=>{class n extends Gbe{form=null;ngSubmit=new pn;get control(){return this.form}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Bo(n)))(i||n)}})();static \u0275dir=dn({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&ka("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[La([Qbe]),Yr]})}return n})();var fwt=(()=>{class n{_animationsDisabled=Va();state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=On({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(r,i){r&2&&gr("mat-pseudo-checkbox-indeterminate",i.state==="indeterminate")("mat-pseudo-checkbox-checked",i.state==="checked")("mat-pseudo-checkbox-disabled",i.disabled)("mat-pseudo-checkbox-minimal",i.appearance==="minimal")("mat-pseudo-checkbox-full",i.appearance==="full")("_mat-animation-noopable",i._animationsDisabled)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(r,i){},styles:[`.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-minimal-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-minimal-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-pseudo-checkbox-full-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-pseudo-checkbox-full-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-pseudo-checkbox-full-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-full-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-pseudo-checkbox-full-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-full-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}
`],encapsulation:2,changeDetection:0})}return n})();var Kq=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=Rt({imports:[ir]})}return n})();var wwt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=Rt({imports:[ob,fb,Kq,ir,mq]})}return n})();var cT=class{_box;_destroyed=new Ge;_resizeSubject=new Ge;_resizeObserver;_elementObservables=new Map;constructor(e){this._box=e,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new it(t=>{let r=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),r.unsubscribe(),this._elementObservables.delete(e)}}).pipe(Nn(t=>t.some(r=>r.target===e)),ng({bufferSize:1,refCount:!0}),Si(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},Iwt=(()=>{class n{_cleanupErrorListener;_observers=new Map;_ngZone=U(Ot);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,t]of this._observers)t.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(t,r){let i=r?.box||"content-box";return this._observers.has(i)||this._observers.set(i,new cT(i)),this._observers.get(i).observe(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ybe=20,Gwt=(()=>{class n{_ngZone=U(Ot);_platform=U(rr);_renderer=U(hi).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new Ge;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=Ybe){return this._platform.isBrowser?new it(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=t>0?this._scrolled.pipe(Xm(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):Je()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){let i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Nn(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){let r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_scrollableContainsElement(t,r){let i=co(r),s=t.getElementRef().nativeElement;do if(i==s)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Jbe=20,Qwt=(()=>{class n{_platform=U(rr);_listeners;_viewportSize;_change=new Ge;_document=U(ut);constructor(){let t=U(Ot),r=U(hi).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=s=>this._change.next(s);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect(),o=-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,a=-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:o,left:a}}change(t=Jbe){return t>0?this._change.pipe(Xm(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Yq=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=Rt({})}return n})(),Kwt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=Rt({imports:[ir,Yq,ir,Yq]})}return n})();var Fh=class{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},uT=class extends Fh{component;viewContainerRef;injector;projectableNodes;constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.projectableNodes=i}},lT=class extends Fh{templateRef;viewContainerRef;context;injector;constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},dT=class extends Fh{element;constructor(e){super(),this.element=e instanceof vn?e.nativeElement:e}},xb=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof uT)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof lT)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof dT)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},Jq=class extends xb{outletElement;_appRef;_defaultInjector;constructor(e,t,r){super(),this.outletElement=e,this._appRef=t,this._defaultInjector=r}attachComponentPortal(e){let t;if(e.viewContainerRef){let r=e.injector||e.viewContainerRef.injector,i=r.get(Lo,null,{optional:!0})||void 0;t=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:r,ngModuleRef:i,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>t.destroy())}else{let r=this._appRef,i=e.injector||this._defaultInjector||tn.NULL,s=i.get(ln,r.injector);t=Hy(e.component,{elementInjector:i,environmentInjector:s,projectableNodes:e.projectableNodes||void 0}),r.attachView(t.hostView),this.setDisposeFn(()=>{r.viewCount>0&&r.detachView(t.hostView),t.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=e,t}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);i!==-1&&t.remove(i)}),this._attachedPortal=e,r}attachDomPortal=e=>{let t=e.element;t.parentNode;let r=this.outletElement.ownerDocument.createComment("dom-portal");t.parentNode.insertBefore(r,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(t,r)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var nCt=(()=>{class n extends xb{_moduleRef=U(Lo,{optional:!0});_document=U(ut);_viewContainerRef=U(es);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}attached=new pn;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);let r=t.viewContainerRef!=null?t.viewContainerRef:this._viewContainerRef,i=r.createComponent(t.component,{index:r.length,injector:t.injector||r.injector,projectableNodes:t.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return r!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachDomPortal=t=>{let r=t.element;r.parentNode;let i=this._document.createComment("dom-portal");t.setAttachedHost(this),r.parentNode.insertBefore(i,r),this._getRootNode().appendChild(r),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(r,i)})};_getRootNode(){let t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static \u0275fac=function(r){return new(r||n)};static \u0275dir=dn({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Yr]})}return n})(),rCt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=Rt({})}return n})();var oCt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=Rt({imports:[ir]})}return n})();var bt="primary",zh=Symbol("RouteTitle"),gT=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function lu(n){return new gT(n)}function oj(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Rb(n){return new Promise((e,t)=>{n.pipe(Mo()).subscribe({next:r=>e(r),error:r=>t(r)})})}function Zbe(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!uo(n[t],e[t]))return!1;return!0}function uo(n,e){let t=n?yT(n):void 0,r=e?yT(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!aj(n[i],e[i]))return!1;return!0}function yT(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function aj(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function cj(n){return n.length>0?n[n.length-1]:null}function du(n){return _f(n)?n:Zc(n)?Xt(Promise.resolve(n)):Je(n)}function uj(n){return _f(n)?Rb(n):Promise.resolve(n)}var Xbe={exact:dj,subset:fj},lj={exact:eve,subset:tve,ignored:()=>!0};function Zq(n,e,t){return Xbe[t.paths](n.root,e.root,t.matrixParams)&&lj[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function eve(n,e){return uo(n,e)}function dj(n,e,t){if(!cu(n.segments,e.segments)||!Sb(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!dj(n.children[r],e.children[r],t))return!1;return!0}function tve(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>aj(n[t],e[t]))}function fj(n,e,t){return hj(n,e,e.segments,t)}function hj(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!cu(i,t)||e.hasChildren()||!Sb(i,t,r))}else if(n.segments.length===t.length){if(!cu(n.segments,t)||!Sb(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!fj(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!cu(n.segments,i)||!Sb(n.segments,i,r)||!n.children[bt]?!1:hj(n.children[bt],e,s,r)}}function Sb(n,e,t){return e.every((r,i)=>lj[t](n[i].parameters,r.parameters))}var Is=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Kt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=lu(this.queryParams),this._queryParamMap}toString(){return ive.serialize(this)}},Kt=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ib(this)}},Ha=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=lu(this.parameters),this._parameterMap}toString(){return mj(this)}};function nve(n,e){return cu(n,e)&&n.every((t,r)=>uo(t.parameters,e[r].parameters))}function cu(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function rve(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===bt&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==bt&&(t=t.concat(e(i,r)))}),t}var fu=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:()=>new Qo,providedIn:"root"})}return n})(),Qo=class{parse(e){let t=new vT(e);return new Is(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${kh(e.root,!0)}`,r=ave(e.queryParams),i=typeof e.fragment=="string"?`#${sve(e.fragment)}`:"";return`${t}${r}${i}`}},ive=new Qo;function Ib(n){return n.segments.map(e=>mj(e)).join("/")}function kh(n,e){if(!n.hasChildren())return Ib(n);if(e){let t=n.children[bt]?kh(n.children[bt],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==bt&&r.push(`${i}:${kh(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=rve(n,(r,i)=>i===bt?[kh(n.children[bt],!1)]:[`${i}:${kh(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[bt]!=null?`${Ib(n)}/${t[0]}`:`${Ib(n)}/(${t.join("//")})`}}function pj(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tb(n){return pj(n).replace(/%3B/gi,";")}function sve(n){return encodeURI(n)}function bT(n){return pj(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mb(n){return decodeURIComponent(n)}function Xq(n){return Mb(n.replace(/\+/g,"%20"))}function mj(n){return`${bT(n.path)}${ove(n.parameters)}`}function ove(n){return Object.entries(n).map(([e,t])=>`;${bT(e)}=${bT(t)}`).join("")}function ave(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Tb(t)}=${Tb(i)}`).join("&"):`${Tb(t)}=${Tb(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var cve=/^[^\/()?;#]+/;function fT(n){let e=n.match(cve);return e?e[0]:""}var uve=/^[^\/()?;=#]+/;function lve(n){let e=n.match(uve);return e?e[0]:""}var dve=/^[^=?&#]+/;function fve(n){let e=n.match(dve);return e?e[0]:""}var hve=/^[^&#]+/;function pve(n){let e=n.match(hve);return e?e[0]:""}var vT=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kt([],{}):new Kt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[bt]=new Kt(e,t)),r}parseSegment(){let e=fT(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Me(4009,!1);return this.capture(e),new Ha(Mb(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=lve(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=fT(this.remaining);i&&(r=i,this.capture(r))}e[Mb(t)]=Mb(r)}parseQueryParam(e){let t=fve(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=pve(this.remaining);o&&(r=o,this.capture(r))}let i=Xq(t),s=Xq(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=fT(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Me(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=bt);let o=this.parseChildren();t[s??bt]=Object.keys(o).length===1&&o[bt]?o[bt]:new Kt([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Me(4011,!1)}};function gj(n){return n.segments.length>0?new Kt([],{[bt]:n}):n}function yj(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=yj(i);if(r===bt&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new Kt(n.segments,e);return mve(t)}function mve(n){if(n.numberOfChildren===1&&n.children[bt]){let e=n.children[bt];return new Kt(n.segments.concat(e.segments),e.children)}return n}function Jl(n){return n instanceof Is}function bj(n,e,t=null,r=null,i=new Qo){let s=vj(n);return _j(s,e,t,r,i)}function vj(n){let e;function t(s){let o={};for(let c of s.children){let u=t(c);o[c.outlet]=u}let a=new Kt(s.url,o);return s===n&&(e=a),a}let r=t(n.root),i=gj(r);return e??i}function _j(n,e,t,r,i){let s=n;for(;s.parent;)s=s.parent;if(e.length===0)return hT(s,s,s,t,r,i);let o=gve(e);if(o.toRoot())return hT(s,s,new Kt([],{}),t,r,i);let a=yve(o,s,n),c=a.processChildren?Bh(a.segmentGroup,a.index,o.commands):wj(a.segmentGroup,a.index,o.commands);return hT(s,a.segmentGroup,c,t,r,i)}function Nb(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function jh(n){return typeof n=="object"&&n!=null&&n.outlets}function ej(n,e,t){n||="\u0275";let r=new Is;return r.queryParams={[n]:e},t.parse(t.serialize(r)).queryParams[n]}function hT(n,e,t,r,i,s){let o={};for(let[u,l]of Object.entries(r??{}))o[u]=Array.isArray(l)?l.map(f=>ej(u,f,s)):ej(u,l,s);let a;n===e?a=t:a=Ej(n,e,t);let c=gj(yj(a));return new Is(c,o,i)}function Ej(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=Ej(s,e,t)}),new Kt(n.segments,r)}var Ob=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Nb(r[0]))throw new Me(4003,!1);let i=r.find(jh);if(i&&i!==cj(r))throw new Me(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function gve(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Ob(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Ob(t,e,r)}var Ql=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function yve(n,e,t){if(n.isAbsolute)return new Ql(e,!0,0);if(!t)return new Ql(e,!1,NaN);if(t.parent===null)return new Ql(t,!0,0);let r=Nb(n.commands[0])?0:1,i=t.segments.length-1+r;return bve(t,i,n.numberOfDoubleDots)}function bve(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Me(4005,!1);i=r.segments.length}return new Ql(r,!1,i-s)}function vve(n){return jh(n[0])?n[0].outlets:{[bt]:n}}function wj(n,e,t){if(n??=new Kt([],{}),n.segments.length===0&&n.hasChildren())return Bh(n,e,t);let r=_ve(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new Kt(n.segments.slice(0,r.pathIndex),{});return s.children[bt]=new Kt(n.segments.slice(r.pathIndex),n.children),Bh(s,0,i)}else return r.match&&i.length===0?new Kt(n.segments,{}):r.match&&!n.hasChildren()?_T(n,e,t):r.match?Bh(n,0,i):_T(n,e,t)}function Bh(n,e,t){if(t.length===0)return new Kt(n.segments,{});{let r=vve(t),i={};if(Object.keys(r).some(s=>s!==bt)&&n.children[bt]&&n.numberOfChildren===1&&n.children[bt].segments.length===0){let s=Bh(n.children[bt],e,t);return new Kt(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=wj(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Kt(n.segments,i)}}function _ve(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],a=t[r];if(jh(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!nj(c,u,o))return s;r+=2}else{if(!nj(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function _T(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(jh(s)){let c=Eve(s.outlets);return new Kt(r,c)}if(i===0&&Nb(t[0])){let c=n.segments[e];r.push(new Ha(c.path,tj(t[0]))),i++;continue}let o=jh(s)?s.outlets[bt]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Nb(a)?(r.push(new Ha(o,tj(a))),i+=2):(r.push(new Ha(o,{})),i++)}return new Kt(r,{})}function Eve(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=_T(new Kt([],{}),0,r))}),e}function tj(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function nj(n,e,t){return n==t.path&&uo(e,t.parameters)}var Kl="imperative",sr=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(sr||{}),Vi=class{id;url;constructor(e,t){this.id=e,this.url=t}},Wa=class extends Vi{type=sr.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ms=class extends Vi{urlAfterRedirects;type=sr.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Jr=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Jr||{}),Zl=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Zl||{}),lo=class extends Vi{reason;code;type=sr.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},fo=class extends Vi{reason;code;type=sr.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Xl=class extends Vi{error;target;type=sr.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},$h=class extends Vi{urlAfterRedirects;state;type=sr.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pb=class extends Vi{urlAfterRedirects;state;type=sr.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fb=class extends Vi{urlAfterRedirects;state;shouldActivate;type=sr.GuardsCheckEnd;constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},kb=class extends Vi{urlAfterRedirects;state;type=sr.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lb=class extends Vi{urlAfterRedirects;state;type=sr.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bb=class{route;type=sr.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},qb=class{route;type=sr.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},jb=class{snapshot;type=sr.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$b=class{snapshot;type=sr.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vb=class{snapshot;type=sr.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ub=class{snapshot;type=sr.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ed=class{routerEvent;position;anchor;type=sr.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Vh=class{},td=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function wve(n){return!(n instanceof Vh)&&!(n instanceof td)}function Cve(n,e){return n.providers&&!n._injector&&(n._injector=Jc(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Ss(n){return n.outlet||bt}function Dve(n,e){let t=n.filter(r=>Ss(r)===e);return t.push(...n.filter(r=>Ss(r)!==e)),t}function id(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Hb=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return id(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new hu(this.rootInjector)}},hu=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Hb(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Be(ln))};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wb=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=ET(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=ET(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=wT(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return wT(e,this._root).map(t=>t.value)}};function ET(n,e){if(n===e.value)return e;for(let t of e.children){let r=ET(n,t);if(r)return r}return null}function wT(n,e){if(n===e.value)return[e];for(let t of e.children){let r=wT(n,t);if(r.length)return r.unshift(e),r}return[]}var $i=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Gl(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Uh=class extends Wb{snapshot;constructor(e,t){super(e),this.snapshot=t,ST(this,e)}toString(){return this.snapshot.toString()}};function Cj(n){let e=xve(n),t=new tr([new Ha("",{})]),r=new tr({}),i=new tr({}),s=new tr({}),o=new tr(""),a=new Ko(t,r,s,o,i,bt,n,e.root);return a.snapshot=e.root,new Uh(new $i(a,[]),e)}function xve(n){let e={},t={},r={},s=new uu([],e,r,"",t,bt,n,null,{});return new Hh("",new $i(s,[]))}var Ko=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Dt(u=>u[zh]))??Je(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Dt(e=>lu(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Dt(e=>lu(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function zb(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:Z(Z({},e.params),n.params),data:Z(Z({},e.data),n.data),resolve:Z(Z(Z(Z({},n.data),e.data),i?.data),n._resolvedData)}:r={params:Z({},n.params),data:Z({},n.data),resolve:Z(Z({},n.data),n._resolvedData??{})},i&&xj(i)&&(r.resolve[zh]=i.title),r}var uu=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[zh]}constructor(e,t,r,i,s,o,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=lu(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=lu(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Hh=class extends Wb{url;constructor(e,t){super(t),this.url=e,ST(this,t)}toString(){return Dj(this._root)}};function ST(n,e){e.value._routerState=n,e.children.forEach(t=>ST(n,t))}function Dj(n){let e=n.children.length>0?` { ${n.children.map(Dj).join(", ")} } `:"";return`${n.value}${e}`}function pT(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,uo(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),uo(e.params,t.params)||n.paramsSubject.next(t.params),Zbe(e.url,t.url)||n.urlSubject.next(t.url),uo(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function CT(n,e){let t=uo(n.params,e.params)&&nve(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||CT(n.parent,e.parent))}function xj(n){return typeof n.title=="string"||n.title===null}var Tj=new Ee(""),IT=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=bt;activateEvents=new pn;deactivateEvents=new pn;attachEvents=new pn;detachEvents=new pn;routerOutletData=YL();parentContexts=U(hu);location=U(es);changeDetector=U(nu);inputBinder=U(Gh,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Me(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Me(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Me(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Me(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new DT(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=dn({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[qi]})}return n})(),DT=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Ko?this.route:e===hu?this.childContexts:e===Tj?this.outletData:this.parent.get(e,t)}},Gh=new Ee(""),MT=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=ol([r.queryParams,r.params,r.data]).pipe(di(([s,o,a],c)=>(a=Z(Z(Z({},s),o),a),c===0?Je(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let o=rB(r.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac})}return n})(),RT=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=On({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Pl(0,"router-outlet")},dependencies:[IT],encapsulation:2})}return n})();function NT(n){let e=n.children&&n.children.map(NT),t=e?We(Z({},n),{children:e}):Z({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==bt&&(t.component=RT),t}function Tve(n,e,t){let r=Wh(n,e._root,t?t._root:void 0);return new Uh(r,e)}function Wh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=Ave(n,e,t);return new $i(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Wh(n,a)),o}}let r=Sve(e.value),i=e.children.map(s=>Wh(n,s));return new $i(r,i)}}function Ave(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Wh(n,r,i);return Wh(n,r)})}function Sve(n){return new Ko(new tr(n.url),new tr(n.params),new tr(n.queryParams),new tr(n.fragment),new tr(n.data),n.outlet,n.component,n)}var nd=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},Aj="ngNavigationCancelingError";function Gb(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Jl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Sj(!1,Jr.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function Sj(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[Aj]=!0,t.cancellationCode=e,t}function Ive(n){return Ij(n)&&Jl(n.url)}function Ij(n){return!!n&&n[Aj]}var Mve=(n,e,t,r)=>Dt(i=>(new xT(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),xT=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),pT(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Gl(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Gl(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Gl(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Gl(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Ub(s.value.snapshot))}),e.children.length&&this.forwardEvent(new $b(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(pT(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),pT(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Qb=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Yl=class{component;route;constructor(e,t){this.component=e,this.route=t}};function Rve(n,e,t){let r=n._root,i=e?e._root:null;return Lh(r,i,t,[r.value])}function Nve(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function sd(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Jw(n)?n:e.get(n):r}function Lh(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Gl(e);return n.children.forEach(o=>{Ove(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>qh(a,t.getContext(o),i)),i}function Ove(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=Pve(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Qb(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Lh(n,e,a?a.children:null,r,i):Lh(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Yl(a.outlet.component,o))}else o&&qh(e,a,i),i.canActivateChecks.push(new Qb(r)),s.component?Lh(n,null,a?a.children:null,r,i):Lh(n,null,t,r,i);return i}function Pve(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!cu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!cu(n.url,e.url)||!uo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!CT(n,e)||!uo(n.queryParams,e.queryParams);case"paramsChange":default:return!CT(n,e)}}function qh(n,e,t){let r=Gl(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?qh(o,e.children.getContext(s),t):qh(o,null,t):qh(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Yl(e.outlet.component,i)):t.canDeactivateChecks.push(new Yl(null,i)):t.canDeactivateChecks.push(new Yl(null,i))}function Qh(n){return typeof n=="function"}function Fve(n){return typeof n=="boolean"}function kve(n){return n&&Qh(n.canLoad)}function Lve(n){return n&&Qh(n.canActivate)}function Bve(n){return n&&Qh(n.canActivateChild)}function qve(n){return n&&Qh(n.canDeactivate)}function jve(n){return n&&Qh(n.canMatch)}function Mj(n){return n instanceof Io||n?.name==="EmptyError"}var Ab=Symbol("INITIAL_VALUE");function rd(){return di(n=>ol(n.map(e=>e.pipe(Ai(1),al(Ab)))).pipe(Dt(e=>{for(let t of e)if(t!==!0){if(t===Ab)return Ab;if(t===!1||$ve(t))return t}return!0}),Nn(e=>e!==Ab),Ai(1)))}function $ve(n){return Jl(n)||n instanceof nd}function Rj(n){return n.aborted?Je(void 0).pipe(Ai(1)):new it(e=>{let t=()=>{e.next(),e.complete()};return n.addEventListener("abort",t),()=>n.removeEventListener("abort",t)})}function Nj(n){return Si(Rj(n))}function Vve(n,e){return wr(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?Je(We(Z({},t),{guardsResult:!0})):Uve(o,r,i,n).pipe(wr(a=>a&&Fve(a)?Hve(r,s,n,e):Je(a)),Dt(a=>We(Z({},t),{guardsResult:a})))})}function Uve(n,e,t,r){return Xt(n).pipe(wr(i=>Kve(i.component,i.route,t,e,r)),Mo(i=>i!==!0,!0))}function Hve(n,e,t,r){return Xt(e).pipe(Ea(i=>va(zve(i.route.parent,r),Wve(i.route,r),Qve(n,i.path,t),Gve(n,i.route,t))),Mo(i=>i!==!0,!0))}function Wve(n,e){return n!==null&&e&&e(new Vb(n)),Je(!0)}function zve(n,e){return n!==null&&e&&e(new jb(n)),Je(!0)}function Gve(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Je(!0);let i=r.map(s=>wf(()=>{let o=id(e)??t,a=sd(s,o),c=Lve(a)?a.canActivate(e,n):pr(o,()=>a(e,n));return du(c).pipe(Mo())}));return Je(i).pipe(rd())}function Qve(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Nve(o)).filter(o=>o!==null).map(o=>wf(()=>{let a=o.guards.map(c=>{let u=id(o.node)??t,l=sd(c,u),f=Bve(l)?l.canActivateChild(r,n):pr(u,()=>l(r,n));return du(f).pipe(Mo())});return Je(a).pipe(rd())}));return Je(s).pipe(rd())}function Kve(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Je(!0);let o=s.map(a=>{let c=id(e)??i,u=sd(a,c),l=qve(u)?u.canDeactivate(n,e,t,r):pr(c,()=>u(n,e,t,r));return du(l).pipe(Mo())});return Je(o).pipe(rd())}function Yve(n,e,t,r,i){let s=e.canLoad;if(s===void 0||s.length===0)return Je(!0);let o=s.map(a=>{let c=sd(a,n),u=kve(c)?c.canLoad(e,t):pr(n,()=>c(e,t)),l=du(u);return i?l.pipe(Nj(i)):l});return Je(o).pipe(rd(),Oj(r))}function Oj(n){return Rw(jn(e=>{if(typeof e!="boolean")throw Gb(n,e)}),Dt(e=>e===!0))}function Jve(n,e,t,r,i){let s=e.canMatch;if(!s||s.length===0)return Je(!0);let o=s.map(a=>{let c=sd(a,n),u=jve(c)?c.canMatch(e,t):pr(n,()=>c(e,t)),l=du(u);return i?l.pipe(Nj(i)):l});return Je(o).pipe(rd(),Oj(r))}var au=class Pj extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,Pj.prototype)}},TT=class Fj extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,Fj.prototype)}};function Zve(n){throw new Me(4e3,!1)}function Xve(n){throw Sj(!1,Jr.GuardRejected)}var e_e=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}async lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[bt])throw Zve(`${e.redirectTo}`);i=i.children[bt]}}async applyRedirectCommands(e,t,r,i,s){let o=await t_e(t,i,s);if(o instanceof Is)throw new TT(o);let a=this.applyRedirectCreateUrlTree(o,this.urlSerializer.parse(o),e,r);if(o[0]==="/")throw new TT(a);return a}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new Is(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Kt(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new Me(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function t_e(n,e,t){if(typeof n=="string")return Promise.resolve(n);let r=n,{queryParams:i,fragment:s,routeConfig:o,url:a,outlet:c,params:u,data:l,title:f}=e;return Rb(du(pr(t,()=>r({params:u,data:l,queryParams:i,fragment:s,routeConfig:o,url:a,outlet:c,title:f}))))}var AT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function n_e(n,e,t,r,i,s){let o=kj(n,e,t);return o.matched?(r=Cve(e,r),Jve(r,e,t,i,s).pipe(Dt(a=>a===!0?o:Z({},AT)))):Je(o)}function kj(n,e,t){if(e.path==="**")return r_e(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?Z({},AT):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||oj)(t,n,e);if(!i)return Z({},AT);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?Z(Z({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function r_e(n){return{matched:!0,parameters:n.length>0?cj(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function rj(n,e,t,r){return t.length>0&&o_e(n,t,r)?{segmentGroup:new Kt(e,s_e(r,new Kt(t,n.children))),slicedSegments:[]}:t.length===0&&a_e(n,t,r)?{segmentGroup:new Kt(n.segments,i_e(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Kt(n.segments,n.children),slicedSegments:t}}function i_e(n,e,t,r){let i={};for(let s of t)if(Yb(n,e,s)&&!r[Ss(s)]){let o=new Kt([],{});i[Ss(s)]=o}return Z(Z({},r),i)}function s_e(n,e){let t={};t[bt]=e;for(let r of n)if(r.path===""&&Ss(r)!==bt){let i=new Kt([],{});t[Ss(r)]=i}return t}function o_e(n,e,t){return t.some(r=>Yb(n,e,r)&&Ss(r)!==bt)}function a_e(n,e,t){return t.some(r=>Yb(n,e,r))}function Yb(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function c_e(n,e,t){return e.length===0&&!n.children[t]}var u_e=class{};async function l_e(n,e,t,r,i,s,o="emptyOnly",a){return new f_e(n,e,t,r,i,o,s,a).recognize()}var d_e=31,f_e=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,s,o,a,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new e_e(this.urlSerializer,this.urlTree)}noMatchError(e){return new Me(4002,`'${e.segmentGroup}'`)}async recognize(){let e=rj(this.urlTree.root,[],[],this.config).segmentGroup,{children:t,rootSnapshot:r}=await this.match(e),i=new $i(r,t),s=new Hh("",i),o=bj(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}async match(e){let t=new uu([],Object.freeze({}),Object.freeze(Z({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),bt,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,e,bt,t),rootSnapshot:t}}catch(r){if(r instanceof TT)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof au?this.noMatchError(r):r}}async processSegmentGroup(e,t,r,i,s){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,t,r,s);let o=await this.processSegment(e,t,r,r.segments,i,!0,s);return o instanceof $i?[o]:[]}async processChildren(e,t,r,i){let s=[];for(let c of Object.keys(r.children))c==="primary"?s.unshift(c):s.push(c);let o=[];for(let c of s){let u=r.children[c],l=Dve(t,c),f=await this.processSegmentGroup(e,l,u,c,i);o.push(...f)}let a=Lj(o);return h_e(a),a}async processSegment(e,t,r,i,s,o,a){for(let c of t)try{return await this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,s,o,a)}catch(u){if(u instanceof au||Mj(u))continue;throw u}if(c_e(r,i,s))return new u_e;throw new au(r)}async processSegmentAgainstRoute(e,t,r,i,s,o,a,c){if(Ss(r)!==o&&(o===bt||!Yb(i,s,r)))throw new au(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,s,o,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,c);throw new au(i)}async expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,a){let{matched:c,parameters:u,consumedSegments:l,positionalParamSegments:f,remainingSegments:p}=kj(t,i,s);if(!c)throw new au(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>d_e&&(this.allowRedirects=!1));let g=new uu(s,u,Object.freeze(Z({},this.urlTree.queryParams)),this.urlTree.fragment,ij(i),Ss(i),i.component??i._loadedComponent??null,i,sj(i)),v=zb(g,a,this.paramsInheritanceStrategy);if(g.params=Object.freeze(v.params),g.data=Object.freeze(v.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let E=await this.applyRedirects.applyRedirectCommands(l,i.redirectTo,f,g,e),D=await this.applyRedirects.lineralizeSegments(i,E);return this.processSegment(e,r,t,D.concat(p),o,!1,a)}async matchSegmentAgainstRoute(e,t,r,i,s,o){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await Rb(n_e(t,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(t.children={}),!a?.matched)throw new au(t);e=r._injector??e;let{routes:c}=await this.getChildConfig(e,r,i),u=r._loadedInjector??e,{parameters:l,consumedSegments:f,remainingSegments:p}=a,g=new uu(f,l,Object.freeze(Z({},this.urlTree.queryParams)),this.urlTree.fragment,ij(r),Ss(r),r.component??r._loadedComponent??null,r,sj(r)),v=zb(g,o,this.paramsInheritanceStrategy);g.params=Object.freeze(v.params),g.data=Object.freeze(v.data);let{segmentGroup:E,slicedSegments:D}=rj(t,f,p,c);if(D.length===0&&E.hasChildren()){let J=await this.processChildren(u,c,E,g);return new $i(g,J)}if(c.length===0&&D.length===0)return new $i(g,[]);let P=Ss(r)===s,K=await this.processSegment(u,c,E,D,P?bt:s,!0,g);return new $i(g,K instanceof $i?[K]:[])}async getChildConfig(e,t,r){if(t.children)return{routes:t.children,injector:e};if(t.loadChildren){if(t._loadedRoutes!==void 0)return{routes:t._loadedRoutes,injector:t._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await Rb(Yve(e,t,r,this.urlSerializer,this.abortSignal))){let s=await this.configLoader.loadChildren(e,t);return t._loadedRoutes=s.routes,t._loadedInjector=s.injector,s}throw Xve(t)}return{routes:[],injector:e}}};function h_e(n){n.sort((e,t)=>e.value.outlet===bt?-1:t.value.outlet===bt?1:e.value.outlet.localeCompare(t.value.outlet))}function p_e(n){let e=n.value.routeConfig;return e&&e.path===""}function Lj(n){let e=[],t=new Set;for(let r of n){if(!p_e(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=Lj(r.children);e.push(new $i(r.value,i))}return e.filter(r=>!t.has(r))}function ij(n){return n.data||{}}function sj(n){return n.resolve||{}}var m_e=new Ee("",{factory:()=>l_e});function g_e(n,e,t,r,i,s,o){let a=n.get(m_e);return wr(c=>Je(c).pipe(di(u=>a(n,e,t,r,u.extractedUrl,i,s,o)),Dt(({state:u,tree:l})=>We(Z({},c),{targetSnapshot:u,urlAfterRedirects:l}))))}function y_e(n,e){return wr(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Je(t);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of Bj(c))o.add(u);let a=0;return Xt(o).pipe(Ea(c=>s.has(c)?b_e(c,r,n,e):(c.data=zb(c,c.parent,n).resolve,Je(void 0))),jn(()=>a++),tg(1),wr(c=>a===o.size?Je(t):Fr))})}function Bj(n){let e=n.children.map(t=>Bj(t)).flat();return[n,...e]}function b_e(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!xj(i)&&(s[zh]=i.title),wf(()=>(n.data=zb(n,n.parent,t).resolve,v_e(s,n,e,r).pipe(Dt(o=>(n._resolvedData=o,n.data=Z(Z({},n.data),o),null)))))}function v_e(n,e,t,r){let i=yT(n);if(i.length===0)return Je({});let s={};return Xt(i).pipe(wr(o=>E_e(n[o],e,t,r).pipe(Mo(),jn(a=>{if(a instanceof nd)throw Gb(new Qo,a);s[o]=a}))),tg(1),Dt(()=>s),_a(o=>Mj(o)?Fr:vf(o)))}function E_e(n,e,t,r){let i=id(e)??r,s=sd(n,i),o=s.resolve?s.resolve(e,t):pr(i,()=>s(e,t));return du(o)}function mT(n){return di(e=>{let t=n(e);return t?Xt(t).pipe(Dt(()=>e)):Je(e)})}var OT=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===bt);return r}getResolvedTitleForRoute(t){return t.data[zh]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:()=>U(qj),providedIn:"root"})}return n})(),qj=(()=>{class n extends OT{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Be(MB))};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pu=new Ee("",{factory:()=>({})}),mu=new Ee(""),Jb=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=U(YD);async loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let s=await uj(pr(t,()=>r.loadComponent())),o=await Vj($j(s));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o,o}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let s=await jj(r,this.compiler,t,this.onLoadEndListener);return r._loadedRoutes=s.routes,r._loadedInjector=s.injector,s}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();async function jj(n,e,t,r){let i=await uj(pr(t,()=>n.loadChildren())),s=await Vj($j(i)),o;s instanceof Ry||Array.isArray(s)?o=s:o=await e.compileModuleAsync(s),r&&r(n);let a,c,u=!1;return Array.isArray(o)?(c=o,u=!0):(a=o.create(t).injector,c=a.get(mu,[],{optional:!0,self:!0}).flat()),{routes:c.map(NT),injector:a}}function w_e(n){return n&&typeof n=="object"&&"default"in n}function $j(n){return w_e(n)?n.default:n}async function Vj(n){return n}var Zb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:()=>U(C_e),providedIn:"root"})}return n})(),C_e=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),PT=new Ee(""),FT=new Ee("");function Uj(n,e,t){let r=n.get(FT),i=n.get(ut);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let s,o=new Promise(u=>{s=u}),a=i.startViewTransition(()=>(s(),D_e(n)));a.updateCallbackDone.catch(u=>{}),a.ready.catch(u=>{}),a.finished.catch(u=>{});let{onViewTransitionCreated:c}=r;return c&&pr(n,()=>c({transition:a,from:e,to:t})),o}function D_e(n){return new Promise(e=>{Fa({read:()=>setTimeout(e)},{injector:n})})}var x_e=()=>{},kT=new Ee(""),Xb=(()=>{class n{currentNavigation=Wn(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=Wn(null);events=new Ge;transitionAbortWithErrorSubject=new Ge;configLoader=U(Jb);environmentInjector=U(ln);destroyRef=U(zr);urlSerializer=U(fu);rootContexts=U(hu);location=U(ja);inputBindingEnabled=U(Gh,{optional:!0})!==null;titleStrategy=U(OT);options=U(pu,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=U(Zb);createViewTransition=U(PT,{optional:!0});navigationErrorHandler=U(kT,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Je(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Bb(i)),r=i=>this.events.next(new qb(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;nr(()=>{this.transitions?.next(We(Z({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(t){return this.transitions=new tr(null),this.transitions.pipe(Nn(r=>r!==null),di(r=>{let i=!1,s=new AbortController;return Je(r).pipe(di(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Jr.SupersededByNewNavigation),Fr;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:a?We(Z({},a),{previousNavigation:null}):null,abort:()=>s.abort()});let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&u!=="reload")return this.events.next(new fo(o.id,this.urlSerializer.serialize(o.rawUrl),"",Zl.IgnoredSameUrlNavigation)),o.resolve(!1),Fr;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Je(o).pipe(di(l=>(this.events.next(new Wa(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Fr:Promise.resolve(l))),g_e(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy,s.signal),jn(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(p=>(p.finalUrl=l.urlAfterRedirects,p));let f=new $h(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:f,source:p,restoredState:g,extras:v}=o,E=new Wa(l,this.urlSerializer.serialize(f),p,g);this.events.next(E);let D=Cj(this.rootComponentType).snapshot;return this.currentTransition=r=We(Z({},o),{targetSnapshot:D,urlAfterRedirects:f,extras:We(Z({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(P=>(P.finalUrl=f,P)),Je(r)}else return this.events.next(new fo(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Zl.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Fr}),jn(o=>{let a=new Pb(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),Dt(o=>(this.currentTransition=r=We(Z({},o),{guards:Rve(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),Vve(this.environmentInjector,o=>this.events.next(o)),jn(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Gb(this.urlSerializer,o.guardsResult);let a=new Fb(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Nn(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Jr.GuardRejected),!1)),mT(o=>{if(o.guards.canActivateChecks.length!==0)return Je(o).pipe(jn(a=>{let c=new kb(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),di(a=>{let c=!1;return Je(a).pipe(y_e(this.paramsInheritanceStrategy,this.environmentInjector),jn({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Jr.NoDataFromResolver)}}))}),jn(a=>{let c=new Lb(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),mT(o=>{let a=u=>{let l=[];if(u.routeConfig?._loadedComponent)u.component=u.routeConfig?._loadedComponent;else if(u.routeConfig?.loadComponent){let f=id(u)??this.environmentInjector;l.push(this.configLoader.loadComponent(f,u.routeConfig).then(p=>{u.component=p}))}for(let f of u.children)l.push(...a(f));return l},c=a(o.targetSnapshot.root);return c.length===0?Je(o):Xt(Promise.all(c).then(()=>o))}),mT(()=>this.afterPreactivation()),di(()=>{let{currentSnapshot:o,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return c?Xt(c).pipe(Dt(()=>r)):Je(r)}),Dt(o=>{let a=Tve(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=We(Z({},o),{targetRouterState:a}),this.currentNavigation.update(c=>(c.targetRouterState=a,c)),r}),jn(()=>{this.events.next(new Vh)}),Mve(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Ai(1),Si(Rj(s.signal).pipe(Nn(()=>!i&&!r.targetRouterState),jn(()=>{this.cancelNavigationTransition(r,s.signal.reason+"",Jr.Aborted)}))),jn({next:o=>{i=!0,this.currentNavigation.update(a=>(a.abort=x_e,a)),this.lastSuccessfulNavigation.set(nr(this.currentNavigation)),this.events.next(new Ms(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Si(this.transitionAbortWithErrorSubject.pipe(jn(o=>{throw o}))),Ic(()=>{s.abort(),i||this.cancelNavigationTransition(r,"",Jr.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),_a(o=>{if(this.destroyed)return r.resolve(!1),Fr;if(i=!0,Ij(o))this.events.next(new lo(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),Ive(o)?this.events.next(new td(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Xl(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let c=pr(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof nd){let{message:u,cancellationCode:l}=Gb(this.urlSerializer,c);this.events.next(new lo(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new td(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Fr}))}))}cancelNavigationTransition(t,r,i){let s=new lo(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=nr(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function T_e(n){return n!==Kl}var Hj=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:()=>U(A_e),providedIn:"root"})}return n})(),Kb=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},A_e=(()=>{class n extends Kb{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Bo(n)))(i||n)}})();static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),LT=(()=>{class n{urlSerializer=U(fu);options=U(pu,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=U(ja);urlHandlingStrategy=U(Zb);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Is;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let s=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,o=i??s;return o instanceof Is?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=Cj(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:()=>U(Wj),providedIn:"root"})}return n})(),Wj=(()=>{class n extends LT{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Wa?this.updateStateMemento():t instanceof fo?this.commitTransition(r):t instanceof $h?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Vh?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof lo&&t.code!==Jr.SupersededByNewNavigation&&t.code!==Jr.Redirect?this.restoreHistory(r):t instanceof Xl?this.restoreHistory(r,!0):t instanceof Ms&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:s,state:o}=r;if(this.location.isCurrentPathEqualTo(t)||s){let a=this.browserPageId,c=Z(Z({},o),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=Z(Z({},o),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===t.finalUrl&&s===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Bo(n)))(i||n)}})();static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ev(n,e){n.events.pipe(Nn(t=>t instanceof Ms||t instanceof lo||t instanceof Xl||t instanceof fo),Dt(t=>t instanceof Ms||t instanceof fo?0:(t instanceof lo?t.code===Jr.Redirect||t.code===Jr.SupersededByNewNavigation:!1)?2:1),Nn(t=>t!==2),Ai(1)).subscribe(()=>{e()})}var S_e={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},I_e={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},za=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=U(Oy);stateManager=U(LT);options=U(pu,{optional:!0})||{};pendingTasks=U(io);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=U(Xb);urlSerializer=U(fu);location=U(ja);urlHandlingStrategy=U(Zb);injector=U(ln);_events=new Ge;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=U(Hj);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=U(mu,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!U(Gh,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new hn;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=nr(this.navigationTransitions.currentNavigation);if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof lo&&r.code!==Jr.Redirect&&r.code!==Jr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ms)this.navigated=!0;else if(r instanceof td){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=Z({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||T_e(i.source)},o);this.scheduleNavigation(a,Kl,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}wve(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Kl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let c=Z({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s).catch(c=>{this.disposed||this.injector.get(_s)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return nr(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(NT),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:o,l=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":l=Z(Z({},this.currentUrlTree.queryParams),s);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}l!==null&&(l=this.removeEmptyProps(l));let f;try{let p=i?i.snapshot:this.routerState.snapshot.root;f=vj(p)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return _j(f,t,l,u??null,this.urlSerializer)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Jl(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Kl,null,r)}navigate(t,r={skipLocationChange:!1}){return M_e(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(Ks(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=Z({},S_e):r===!1?i=Z({},I_e):i=r,Jl(t))return Zq(this.currentUrlTree,t,i);let s=this.parseUrl(t);return Zq(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,u;o?(a=o.resolve,c=o.reject,u=o.promise):u=new Promise((f,p)=>{a=f,c=p});let l=this.pendingTasks.add();return ev(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function M_e(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Me(4008,!1)}var Kh=class{};var zj=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,s){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Nn(t=>t instanceof Ms),Ea(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription?.unsubscribe()}processRoutes(t,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Jc(s.providers,t,""));let o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Xt(i).pipe(ba())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=Xt(this.loader.loadChildren(t,r)):i=Je(null);let s=i.pipe(wr(o=>o===null?Je(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(t,r);return Xt([s,o]).pipe(ba())}else return s})}static \u0275fac=function(r){return new(r||n)(Be(za),Be(ln),Be(Kh),Be(Jb))};static \u0275prov=ye({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gj=new Ee(""),R_e=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Kl;restoredId=0;store={};constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Wa?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ms?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof fo&&t.code===Zl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof ed))return;let r={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,r):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(async()=>{await new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new ed(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){wD()};static \u0275prov=ye({token:n,factory:n.\u0275fac})}return n})();function N_e(n,...e){return Mi([{provide:mu,multi:!0,useValue:n},[],{provide:Ko,useFactory:Qj},{provide:$o,multi:!0,useFactory:Kj},e.map(t=>t.\u0275providers)])}function Qj(){return U(za).routerState.root}function od(n,e){return{\u0275kind:n,\u0275providers:e}}function Kj(){let n=U(tn);return e=>{let t=n.get(xr);if(e!==t.components[0])return;let r=n.get(za),i=n.get(Yj);n.get(qT)===1&&r.initialNavigation(),n.get(Xj,null,{optional:!0})?.setUpPreloading(),n.get(Gj,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Yj=new Ee("",{factory:()=>new Ge}),qT=new Ee("",{factory:()=>1});function Jj(){let n=[{provide:dy,useValue:!0},{provide:qT,useValue:0},Py(()=>{let e=U(tn);return e.get(px,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(za),s=e.get(Yj);ev(i,()=>{r(!0)}),e.get(Xb).afterPreactivation=()=>(r(!0),s.closed?Je(void 0):s),i.initialNavigation()}))})];return od(2,n)}function Zj(){let n=[Py(()=>{U(za).setUpLocationChangeListener()}),{provide:qT,useValue:2}];return od(3,n)}var Xj=new Ee("");function e2(n){return od(0,[{provide:Xj,useExisting:zj},{provide:Kh,useExisting:n}])}function O_e(){return od(6,[{provide:ao,useClass:Qy}])}function t2(){return od(8,[MT,{provide:Gh,useExisting:MT}])}function n2(n){Kr("NgRouterViewTransitions");let e=[{provide:PT,useValue:Uj},{provide:FT,useValue:Z({skipNextTransition:!!n?.skipInitialTransition},n)}];return od(9,e)}var r2=[ja,{provide:fu,useClass:Qo},za,hu,{provide:Ko,useFactory:Qj},Jb,[]],P_e=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[r2,[],{provide:mu,multi:!0,useValue:t},[],r?.errorHandler?{provide:kT,useValue:r.errorHandler}:[],{provide:pu,useValue:r||{}},r?.useHash?k_e():L_e(),F_e(),r?.preloadingStrategy?e2(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?B_e(r):[],r?.bindToComponentInputs?t2().\u0275providers:[],r?.enableViewTransitions?n2().\u0275providers:[],q_e()]}}static forChild(t){return{ngModule:n,providers:[{provide:mu,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pt({type:n});static \u0275inj=Rt({})}return n})();function F_e(){return{provide:Gj,useFactory:()=>{let n=U(fB),e=U(Ot),t=U(pu),r=U(Xb),i=U(fu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new R_e(i,r,n,e,t)}}}function k_e(){return{provide:ao,useClass:Qy}}function L_e(){return{provide:ao,useClass:Gy}}function B_e(n){return[n.initialNavigation==="disabled"?Zj().\u0275providers:[],n.initialNavigation==="enabledBlocking"?Jj().\u0275providers:[]]}var BT=new Ee("");function q_e(){return[{provide:BT,useFactory:Kj},{provide:$o,multi:!0,useExisting:BT}]}var k2t=R(Ox(),1);var ite=R(R2(),1),ste=R(V2(),1),ote=R(fA(),1),ate=R(lU(),1),cte=R(yA(),1),ute=R(pv(),1),lte=R(vU(),1),dte=R(MH(),1),fte=R(CA(),1),hte=R(DA(),1),pte=R(TA(),1),mte=R(qH(),1),gte=R($H(),1),yte=R(kW(),1),bte=R(RA(),1),vte=R(BW(),1),_te=R(VW(),1),Ete=R(HW(),1),wte=R(zW(),1),Cte=R(KW(),1),Dte=R(y3(),1),xte=R(v3(),1),Tte=R(E3(),1),Ate=R(C3(),1),Ste=R(x3(),1),Ite=R(A3(),1),Mte=R(_8(),1),Rte=R(x8(),1),Nte=R(A8(),1),Ote=R(uv(),1),Pte=R(q8(),1),Fte=R($8(),1),kte=R(U8(),1),Lte=R(W8(),1),Bte=R(pS(),1),qte=R(OA(),1),jte=R(Y8(),1),$te=R(X8(),1),Vte=R(bG(),1),Ute=R(EG(),1),Hte=R(CG(),1),Wte=R(SG(),1),zte=R(RG(),1),Gte=R(OG(),1),Qte=R(FG(),1),Kte=R(LG(),1),Yte=R(qG(),1),Jte=R(UG(),1),Zte=R(WG(),1),Xte=R(KG(),1),ene=R(r4(),1),tne=R(s4(),1),nne=R(h4(),1),rne=R(g4(),1),ine=R(ss(),1),sne=R(IS(),1),one=R(C4(),1),ane=R(S4(),1),cne=R(M4(),1),une=R(N4(),1),lne=R(B4(),1),dne=R($4(),1),fne=R(W4(),1),hne=R(PS(),1),pne=R(Q4(),1),mne=R(J4(),1),gne=R(kS(),1),yne=R(X4(),1),bne=R(n6(),1),vne=R(o6(),1),_ne=R(c6(),1),Ene=R(l6(),1),wne=R(wA(),1),Cne=R(f6(),1),Dne=R(p6(),1),xne=R(g6(),1),Tne=R(b6(),1),Ane=R(C6(),1),Sne=R(x6(),1),Ine=R(wS(),1),Mne=R(xS(),1),Rne=R(A6(),1),Nne=R(I6(),1),One=R(R6(),1),Pne=R(O6(),1),Fne=R(F6(),1),kne=R(B6(),1),Lne=R(j6(),1),Bne=R(bv(),1),qne=R(V6(),1),jne=R(G6(),1),$ne=R(K6(),1),Vne=R(X6(),1),Une=R(Pv(),1),Hne=R(LS(),1),Wne=R(gi(),1),zne=R(i5(),1),Gne=R(u5(),1),Qne=R(d5(),1),Kne=R(h5(),1),Yne=R(b5(),1),Jne=R(E5(),1),Zne=R(C5(),1),Xne=R(S5(),1),ere=R(R5(),1),tre=R(F5(),1),nre=R(L5(),1),rre=R(Eu(),1),ire=R(Lt(),1),sre=R(U5(),1),ore=R(Xr(),1),are=R(ni(),1),cre=R(W5(),1),ure=R(Ya(),1),lre=R(J5(),1),dre=R(X5(),1),fre=R(t9(),1),hre=R(r9(),1),pre=R(s9(),1),mre=R(vv(),1),gre=R(a9(),1),yre=R(ho(),1),bre=R(US(),1),vre=R(np(),1),_re=R(YA(),1),Ere=R(l9(),1),wre=R(f9(),1),Cre=R(m9(),1),Dre=R(v9(),1),xre=R(E9(),1),Tre=R(C9(),1),Are=R(HS(),1),Sre=R(Gn(),1),Ire=R(Pn(),1),Mre=R(md(),1),Rre=R(Wv(),1),Nre=R(R9(),1),Ore=R(JA(),1),Pre=R(Ep(),1),Fre=R(rs(),1),kre=R(Cu(),1),Lre=R(O9(),1),Bre=R(F9(),1),qre=R(L9(),1),jre=R(q9(),1),$re=R($9(),1),Vre=R(U9(),1),Ure=R(W9(),1),Hre=R(yr(),1),Wre=R(ti(),1),zre=R(as(),1),Gre=R(K9(),1),Qre=R(J9(),1),Kre=R(X9(),1),Yre=R(nQ(),1),Jre=R(iQ(),1),Zre=R(vp(),1),Xre=R(oQ(),1),eie=R(cQ(),1),tie=R(lQ(),1),nie=R(fQ(),1),rie=R(mQ(),1),iie=R(yQ(),1),sie=R(EQ(),1),oie=R(CQ(),1),aie=R(vA(),1),cie=R(xQ(),1),uie=R(bS(),1),lie=R(AQ(),1),die=R(IQ(),1),fie=R(RQ(),1),hie=R(OQ(),1),pie=R(FQ(),1),mie=R(LQ(),1),gie=R(Qv(),1),yie=R(iv(),1),bie=R(fS(),1),vie=R($Q(),1),_ie=R(UQ(),1),Eie=R(QQ(),1),wie=R(e7(),1),Cie=R(n7(),1),Die=R(f7(),1),xie=R(m7(),1),Tie=R(w7(),1),Aie=R(D7(),1),Sie=R(T7(),1),Iie=R(H7(),1),Mie=R(z7(),1),Rie=R(Q7(),1),Nie=R(Y7(),1),Oie=R(nI(),1),Pie=R(X7(),1),Fie=R(tK(),1),kie=R(sK(),1),Lie=R(QS(),1),Bie=R(oS(),1),qie=R(aK(),1),jie=R(pK(),1),$ie=R(iI(),1),Vie=R(gK(),1),Uie=R(bK(),1),Hie=R(EK(),1),Wie=R(xK(),1),zie=R(MK(),1),Gie=R(NK(),1),Qie=R(PK(),1),Kie=R(LK(),1),Yie=R($K(),1),Jie=R(UK(),1),Zie=R(WK(),1),Xie=R(GK(),1),ese=R(KK(),1),tse=R(JK(),1),nse=R(XK(),1),rse=R(tY(),1),ise=R(rY(),1),sse=R(cY(),1),ose=R(mY(),1),ase=R(yY(),1),cse=R(vY(),1),use=R(xY(),1),lse=R(AY(),1),dse=R(MY(),1),fse=R(NY(),1),hse=R(kY(),1),pse=R(qY(),1),mse=R(HY(),1),gse=R(zY(),1),yse=R(QY(),1),bse=R(YY(),1),vse=R(ZY(),1),_se=R(eJ(),1),Ese=R(rJ(),1),wse=R(sJ(),1),Cse=R(aJ(),1),Dse=R(uJ(),1),xse=R(dJ(),1),Tse=R(hJ(),1),Ase=R(Cv(),1),Sse=R(fv(),1),Ise=R(mJ(),1),Mse=R(yJ(),1),Rse=R(vJ(),1),Nse=R(EJ(),1),Ose=R(CJ(),1),Pse=R(xJ(),1),Fse=R(AJ(),1),kse=R(IJ(),1),Lse=R(RJ(),1),Bse=R(OJ(),1),qse=R(FJ(),1),jse=R(LJ(),1),$se=R(eZ(),1),Vse=R(fI(),1),Use=R(nZ(),1),Hse=R(iZ(),1),Wse=R(oZ(),1),zse=R(dZ(),1),Gse=R(ad(),1),Qse=R(qt(),1),Kse=R(RS(),1),Yse=R(hZ(),1),Jse=R(Yo(),1),Zse=R(AS(),1),Xse=R(SS(),1),eoe=R(mZ(),1),toe=R(yS(),1),noe=R(bZ(),1),roe=R(sn(),1),ioe=R(_Z(),1),soe=R(wZ(),1),ooe=R(AZ(),1),aoe=R(MZ(),1),coe=R(OZ(),1),uoe=R(LZ(),1),loe=R(qZ(),1),doe=R(HZ(),1),foe=R(KZ(),1),hoe=R(ZZ(),1),poe=R(eX(),1),moe=R(nX(),1),goe=R(iX(),1),yoe=R(oX(),1),boe=R(cX(),1),voe=R(lX(),1),_oe=R(n_(),1),Eoe=R(bI(),1),woe=R(mX(),1),Coe=R(yX(),1),Doe=R(vX(),1),xoe=R(_v(),1),Toe=R(Su(),1),Aoe=R(EX(),1),Soe=R(CX(),1),Ioe=R(PA(),1),Moe=R(xX(),1),Roe=R(IX(),1),Noe=R(NX(),1),Ooe=R(PX(),1),Poe=R(kX(),1),Foe=R(qX(),1),koe=R($X(),1),Loe=R(UX(),1),zoe=R(WX(),1),MBt=R(GX(),1);var aJe=Math.pow(10,8)*24*60*60*1e3,cPt=-aJe,s_=6048e5,QX=864e5,wI=6e4,CI=36e5;var cJe=3600;var KX=cJe*24,uPt=KX*7,uJe=KX*365.2425,lJe=uJe/12,lPt=lJe*3,DI=Symbol.for("constructDateFrom");function qr(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&DI in n?n[DI](e):n instanceof Date?new n.constructor(e):new Date(e)}function En(n,e){return qr(e||n,n)}var dJe={};function tc(){return dJe}function ia(n,e){let t=tc(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=En(n,e?.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Mu(n,e){return ia(n,We(Z({},e),{weekStartsOn:1}))}function o_(n,e){let t=En(n,e?.in),r=t.getFullYear(),i=qr(t,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);let s=Mu(i),o=qr(t,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);let a=Mu(o);return t.getTime()>=s.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function xI(n){let e=En(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function YX(n,...e){let t=qr.bind(null,n||e.find(r=>typeof r=="object"));return e.map(t)}function TI(n,e){let t=En(n,e?.in);return t.setHours(0,0,0,0),t}function JX(n,e,t){let[r,i]=YX(t?.in,n,e),s=TI(r),o=TI(i),a=+s-xI(s),c=+o-xI(o);return Math.round((a-c)/QX)}function ZX(n,e){let t=o_(n,e),r=qr(e?.in||n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Mu(r)}function XX(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function eee(n){return!(!XX(n)&&typeof n!="number"||isNaN(+En(n)))}function tee(n,e){let t=En(n,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}var fJe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},nee=(n,e,t)=>{let r,i=fJe[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function a_(n){return(e={})=>{let t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}var hJe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pJe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},mJe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ree={date:a_({formats:hJe,defaultWidth:"full"}),time:a_({formats:pJe,defaultWidth:"full"}),dateTime:a_({formats:mJe,defaultWidth:"full"})};var gJe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},iee=(n,e,t,r)=>gJe[n];function wd(n){return(e,t)=>{let r=t?.context?String(t.context):"standalone",i;if(r==="formatting"&&n.formattingValues){let o=n.defaultFormattingWidth||n.defaultWidth,a=t?.width?String(t.width):o;i=n.formattingValues[a]||n.formattingValues[o]}else{let o=n.defaultWidth,a=t?.width?String(t.width):n.defaultWidth;i=n.values[a]||n.values[o]}let s=n.argumentCallback?n.argumentCallback(e):e;return i[s]}}var yJe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},bJe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},vJe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_Je={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},EJe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},wJe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},CJe=(n,e)=>{let t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},see={ordinalNumber:CJe,era:wd({values:yJe,defaultWidth:"wide"}),quarter:wd({values:bJe,defaultWidth:"wide",argumentCallback:n=>n-1}),month:wd({values:vJe,defaultWidth:"wide"}),day:wd({values:_Je,defaultWidth:"wide"}),dayPeriod:wd({values:EJe,defaultWidth:"wide",formattingValues:wJe,defaultFormattingWidth:"wide"})};function Cd(n){return(e,t={})=>{let r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],s=e.match(i);if(!s)return null;let o=s[0],a=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],c=Array.isArray(a)?xJe(a,f=>f.test(o)):DJe(a,f=>f.test(o)),u;u=n.valueCallback?n.valueCallback(c):c,u=t.valueCallback?t.valueCallback(u):u;let l=e.slice(o.length);return{value:u,rest:l}}}function DJe(n,e){for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function xJe(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function oee(n){return(e,t={})=>{let r=e.match(n.matchPattern);if(!r)return null;let i=r[0],s=e.match(n.parsePattern);if(!s)return null;let o=n.valueCallback?n.valueCallback(s[0]):s[0];o=t.valueCallback?t.valueCallback(o):o;let a=e.slice(i.length);return{value:o,rest:a}}}var TJe=/^(\d+)(th|st|nd|rd)?/i,AJe=/\d+/i,SJe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},IJe={any:[/^b/i,/^(a|c)/i]},MJe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},RJe={any:[/1/i,/2/i,/3/i,/4/i]},NJe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},OJe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},PJe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},FJe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kJe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},LJe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},aee={ordinalNumber:oee({matchPattern:TJe,parsePattern:AJe,valueCallback:n=>parseInt(n,10)}),era:Cd({matchPatterns:SJe,defaultMatchWidth:"wide",parsePatterns:IJe,defaultParseWidth:"any"}),quarter:Cd({matchPatterns:MJe,defaultMatchWidth:"wide",parsePatterns:RJe,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Cd({matchPatterns:NJe,defaultMatchWidth:"wide",parsePatterns:OJe,defaultParseWidth:"any"}),day:Cd({matchPatterns:PJe,defaultMatchWidth:"wide",parsePatterns:FJe,defaultParseWidth:"any"}),dayPeriod:Cd({matchPatterns:kJe,defaultMatchWidth:"any",parsePatterns:LJe,defaultParseWidth:"any"})};var AI={code:"en-US",formatDistance:nee,formatLong:ree,formatRelative:iee,localize:see,match:aee,options:{weekStartsOn:0,firstWeekContainsDate:1}};function cee(n,e){let t=En(n,e?.in);return JX(t,tee(t))+1}function uee(n,e){let t=En(n,e?.in),r=+Mu(t)-+ZX(t);return Math.round(r/s_)+1}function c_(n,e){let t=En(n,e?.in),r=t.getFullYear(),i=tc(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=qr(e?.in||n,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);let a=ia(o,e),c=qr(e?.in||n,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);let u=ia(c,e);return+t>=+a?r+1:+t>=+u?r:r-1}function lee(n,e){let t=tc(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,i=c_(n,e),s=qr(e?.in||n,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),ia(s,e)}function dee(n,e){let t=En(n,e?.in),r=+ia(t,e)-+lee(t,e);return Math.round(r/s_)+1}function Yt(n,e){let t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}var sa={y(n,e){let t=n.getFullYear(),r=t>0?t:1-t;return Yt(e==="yy"?r%100:r,e.length)},M(n,e){let t=n.getMonth();return e==="M"?String(t+1):Yt(t+1,2)},d(n,e){return Yt(n.getDate(),e.length)},a(n,e){let t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Yt(n.getHours()%12||12,e.length)},H(n,e){return Yt(n.getHours(),e.length)},m(n,e){return Yt(n.getMinutes(),e.length)},s(n,e){return Yt(n.getSeconds(),e.length)},S(n,e){let t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return Yt(i,e.length)}};var Dd={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},SI={G:function(n,e,t){let r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){let r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return sa.y(n,e)},Y:function(n,e,t,r){let i=c_(n,r),s=i>0?i:1-i;if(e==="YY"){let o=s%100;return Yt(o,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):Yt(s,e.length)},R:function(n,e){let t=o_(n);return Yt(t,e.length)},u:function(n,e){let t=n.getFullYear();return Yt(t,e.length)},Q:function(n,e,t){let r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Yt(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){let r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Yt(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){let r=n.getMonth();switch(e){case"M":case"MM":return sa.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){let r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Yt(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){let i=dee(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):Yt(i,e.length)},I:function(n,e,t){let r=uee(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Yt(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):sa.d(n,e)},D:function(n,e,t){let r=cee(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Yt(r,e.length)},E:function(n,e,t){let r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){let i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Yt(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){let i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Yt(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){let r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Yt(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){let i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){let r=n.getHours(),i;switch(r===12?i=Dd.noon:r===0?i=Dd.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){let r=n.getHours(),i;switch(r>=17?i=Dd.evening:r>=12?i=Dd.afternoon:r>=4?i=Dd.morning:i=Dd.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return sa.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):sa.H(n,e)},K:function(n,e,t){let r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Yt(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Yt(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):sa.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):sa.s(n,e)},S:function(n,e){return sa.S(n,e)},X:function(n,e,t){let r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return hee(r);case"XXXX":case"XX":return Ru(r);case"XXXXX":case"XXX":default:return Ru(r,":")}},x:function(n,e,t){let r=n.getTimezoneOffset();switch(e){case"x":return hee(r);case"xxxx":case"xx":return Ru(r);case"xxxxx":case"xxx":default:return Ru(r,":")}},O:function(n,e,t){let r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+fee(r,":");case"OOOO":default:return"GMT"+Ru(r,":")}},z:function(n,e,t){let r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+fee(r,":");case"zzzz":default:return"GMT"+Ru(r,":")}},t:function(n,e,t){let r=Math.trunc(+n/1e3);return Yt(r,e.length)},T:function(n,e,t){return Yt(+n,e.length)}};function fee(n,e=""){let t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),s=r%60;return s===0?t+String(i):t+String(i)+e+Yt(s,2)}function hee(n,e){return n%60===0?(n>0?"-":"+")+Yt(Math.abs(n)/60,2):Ru(n,e)}function Ru(n,e=""){let t=n>0?"-":"+",r=Math.abs(n),i=Yt(Math.trunc(r/60),2),s=Yt(r%60,2);return t+i+e+s}var pee=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},mee=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},BJe=(n,e)=>{let t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return pee(n,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",pee(r,e)).replace("{{time}}",mee(i,e))},gee={p:mee,P:BJe};var qJe=/^D+$/,jJe=/^Y+$/,$Je=["D","DD","YY","YYYY"];function yee(n){return qJe.test(n)}function bee(n){return jJe.test(n)}function vee(n,e,t){let r=VJe(n,e,t);if(console.warn(r),$Je.includes(n))throw new RangeError(r)}function VJe(n,e,t){let r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var UJe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,HJe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,WJe=/^'([^]*?)'?$/,zJe=/''/g,GJe=/[a-zA-Z]/;function _ee(n,e,t){let r=tc(),i=t?.locale??r.locale??AI,s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=En(n,t?.in);if(!eee(a))throw new RangeError("Invalid time value");let c=e.match(HJe).map(l=>{let f=l[0];if(f==="p"||f==="P"){let p=gee[f];return p(l,i.formatLong)}return l}).join("").match(UJe).map(l=>{if(l==="''")return{isToken:!1,value:"'"};let f=l[0];if(f==="'")return{isToken:!1,value:QJe(l)};if(SI[f])return{isToken:!0,value:l};if(f.match(GJe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:l}});i.localize.preprocessor&&(c=i.localize.preprocessor(a,c));let u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return c.map(l=>{if(!l.isToken)return l.value;let f=l.value;(!t?.useAdditionalWeekYearTokens&&bee(f)||!t?.useAdditionalDayOfYearTokens&&yee(f))&&vee(f,e,String(n));let p=SI[f[0]];return p(a,f,i.localize,u)}).join("")}function QJe(n){let e=n.match(WJe);return e?e[1].replace(zJe,"'"):n}function Eee(n,e){let t=()=>qr(e?.in,NaN),r=e?.additionalDigits??2,i=ZJe(n),s;if(i.date){let u=XJe(i.date,r);s=eZe(u.restDateString,u.year)}if(!s||isNaN(+s))return t();let o=+s,a=0,c;if(i.time&&(a=tZe(i.time),isNaN(a)))return t();if(i.timezone){if(c=nZe(i.timezone),isNaN(c))return t()}else{let u=new Date(o+a),l=En(0,e?.in);return l.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),l.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),l}return En(o+a+c,e?.in)}var u_={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},KJe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,YJe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,JJe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ZJe(n){let e={},t=n.split(u_.dateTimeDelimiter),r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],u_.timeZoneDelimiter.test(e.date)&&(e.date=n.split(u_.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){let i=u_.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function XJe(n,e){let t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};let i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:n.slice((r[1]||r[2]).length)}}function eZe(n,e){if(e===null)return new Date(NaN);let t=n.match(KJe);if(!t)return new Date(NaN);let r=!!t[4],i=Tp(t[1]),s=Tp(t[2])-1,o=Tp(t[3]),a=Tp(t[4]),c=Tp(t[5])-1;if(r)return aZe(e,a,c)?rZe(e,a,c):new Date(NaN);{let u=new Date(0);return!sZe(e,s,o)||!oZe(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,o)),u)}}function Tp(n){return n?parseInt(n):1}function tZe(n){let e=n.match(YJe);if(!e)return NaN;let t=II(e[1]),r=II(e[2]),i=II(e[3]);return cZe(t,r,i)?t*CI+r*wI+i*1e3:NaN}function II(n){return n&&parseFloat(n.replace(",","."))||0}function nZe(n){if(n==="Z")return 0;let e=n.match(JJe);if(!e)return 0;let t=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return uZe(r,i)?t*(r*CI+i*wI):NaN}function rZe(n,e,t){let r=new Date(0);r.setUTCFullYear(n,0,4);let i=r.getUTCDay()||7,s=(e-1)*7+t+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var iZe=[31,null,31,30,31,30,31,31,30,31,30,31];function wee(n){return n%400===0||n%4===0&&n%100!==0}function sZe(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(iZe[e]||(wee(n)?29:28))}function oZe(n,e){return e>=1&&e<=(wee(n)?366:365)}function aZe(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function cZe(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function uZe(n,e){return e>=0&&e<=59}var Goe=R(NI(),1);var OBt=R(Ox(),1);function Ap(n,e){return function(){return n.apply(e,arguments)}}var{toString:lZe}=Object.prototype,{getPrototypeOf:PI}=Object,{iterator:d_,toStringTag:Dee}=Symbol,f_=(n=>e=>{let t=lZe.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Fs=n=>(n=n.toLowerCase(),e=>f_(e)===n),h_=n=>e=>typeof e===n,{isArray:Td}=Array,xd=h_("undefined");function Sp(n){return n!==null&&!xd(n)&&n.constructor!==null&&!xd(n.constructor)&&yi(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}var xee=Fs("ArrayBuffer");function dZe(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&xee(n.buffer),e}var fZe=h_("string"),yi=h_("function"),Tee=h_("number"),Ip=n=>n!==null&&typeof n=="object",hZe=n=>n===!0||n===!1,l_=n=>{if(f_(n)!=="object")return!1;let e=PI(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Dee in n)&&!(d_ in n)},pZe=n=>{if(!Ip(n)||Sp(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},mZe=Fs("Date"),gZe=Fs("File"),yZe=Fs("Blob"),bZe=Fs("FileList"),vZe=n=>Ip(n)&&yi(n.pipe),_Ze=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||yi(n.append)&&((e=f_(n))==="formdata"||e==="object"&&yi(n.toString)&&n.toString()==="[object FormData]"))},EZe=Fs("URLSearchParams"),[wZe,CZe,DZe,xZe]=["ReadableStream","Request","Response","Headers"].map(Fs),TZe=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Mp(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Td(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{if(Sp(n))return;let s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length,a;for(r=0;r<o;r++)a=s[r],e.call(null,n[a],a,n)}}function Aee(n,e){if(Sp(n))return null;e=e.toLowerCase();let t=Object.keys(n),r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}var Nu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,See=n=>!xd(n)&&n!==Nu;function OI(){let{caseless:n,skipUndefined:e}=See(this)&&this||{},t={},r=(i,s)=>{let o=n&&Aee(t,s)||s;l_(t[o])&&l_(i)?t[o]=OI(t[o],i):l_(i)?t[o]=OI({},i):Td(i)?t[o]=i.slice():(!e||!xd(i))&&(t[o]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Mp(arguments[i],r);return t}var AZe=(n,e,t,{allOwnKeys:r}={})=>(Mp(e,(i,s)=>{t&&yi(i)?Object.defineProperty(n,s,{value:Ap(i,t),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(n,s,{value:i,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:r}),n),SZe=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),IZe=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),Object.defineProperty(n.prototype,"constructor",{value:n,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},MZe=(n,e,t,r)=>{let i,s,o,a={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)o=i[s],(!r||r(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&PI(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},RZe=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;let r=n.indexOf(e,t);return r!==-1&&r===t},NZe=n=>{if(!n)return null;if(Td(n))return n;let e=n.length;if(!Tee(e))return null;let t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},OZe=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&PI(Uint8Array)),PZe=(n,e)=>{let r=(n&&n[d_]).call(n),i;for(;(i=r.next())&&!i.done;){let s=i.value;e.call(n,s[0],s[1])}},FZe=(n,e)=>{let t,r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},kZe=Fs("HTMLFormElement"),LZe=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),Cee=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),BZe=Fs("RegExp"),Iee=(n,e)=>{let t=Object.getOwnPropertyDescriptors(n),r={};Mp(t,(i,s)=>{let o;(o=e(i,s,n))!==!1&&(r[s]=o||i)}),Object.defineProperties(n,r)},qZe=n=>{Iee(n,(e,t)=>{if(yi(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;let r=n[t];if(yi(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},jZe=(n,e)=>{let t={},r=i=>{i.forEach(s=>{t[s]=!0})};return Td(n)?r(n):r(String(n).split(e)),t},$Ze=()=>{},VZe=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function UZe(n){return!!(n&&yi(n.append)&&n[Dee]==="FormData"&&n[d_])}var HZe=n=>{let e=new Array(10),t=(r,i)=>{if(Ip(r)){if(e.indexOf(r)>=0)return;if(Sp(r))return r;if(!("toJSON"in r)){e[i]=r;let s=Td(r)?[]:{};return Mp(r,(o,a)=>{let c=t(o,i+1);!xd(c)&&(s[a]=c)}),e[i]=void 0,s}}return r};return t(n,0)},WZe=Fs("AsyncFunction"),zZe=n=>n&&(Ip(n)||yi(n))&&yi(n.then)&&yi(n.catch),Mee=((n,e)=>n?setImmediate:e?((t,r)=>(Nu.addEventListener("message",({source:i,data:s})=>{i===Nu&&s===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Nu.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",yi(Nu.postMessage)),GZe=typeof queueMicrotask<"u"?queueMicrotask.bind(Nu):typeof process<"u"&&process.nextTick||Mee,QZe=n=>n!=null&&yi(n[d_]),Y={isArray:Td,isArrayBuffer:xee,isBuffer:Sp,isFormData:_Ze,isArrayBufferView:dZe,isString:fZe,isNumber:Tee,isBoolean:hZe,isObject:Ip,isPlainObject:l_,isEmptyObject:pZe,isReadableStream:wZe,isRequest:CZe,isResponse:DZe,isHeaders:xZe,isUndefined:xd,isDate:mZe,isFile:gZe,isBlob:yZe,isRegExp:BZe,isFunction:yi,isStream:vZe,isURLSearchParams:EZe,isTypedArray:OZe,isFileList:bZe,forEach:Mp,merge:OI,extend:AZe,trim:TZe,stripBOM:SZe,inherits:IZe,toFlatObject:MZe,kindOf:f_,kindOfTest:Fs,endsWith:RZe,toArray:NZe,forEachEntry:PZe,matchAll:FZe,isHTMLForm:kZe,hasOwnProperty:Cee,hasOwnProp:Cee,reduceDescriptors:Iee,freezeMethods:qZe,toObjectSet:jZe,toCamelCase:LZe,noop:$Ze,toFiniteNumber:VZe,findKey:Aee,global:Nu,isContextDefined:See,isSpecCompliantForm:UZe,toJSONObject:HZe,isAsyncFn:WZe,isThenable:zZe,setImmediate:Mee,asap:GZe,isIterable:QZe};var KZe=(()=>{class n extends Error{static from(t,r,i,s,o,a){let c=new n(t.message,r||t.code,i,s,o);return c.cause=t,c.name=t.name,a&&Object.assign(c,a),c}constructor(t,r,i,s,o){super(t),this.name="AxiosError",this.isAxiosError=!0,r&&(this.code=r),i&&(this.config=i),s&&(this.request=s),o&&(this.response=o,this.status=o.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}}return n.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE",n.ERR_BAD_OPTION="ERR_BAD_OPTION",n.ECONNABORTED="ECONNABORTED",n.ETIMEDOUT="ETIMEDOUT",n.ERR_NETWORK="ERR_NETWORK",n.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS",n.ERR_DEPRECATED="ERR_DEPRECATED",n.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE",n.ERR_BAD_REQUEST="ERR_BAD_REQUEST",n.ERR_CANCELED="ERR_CANCELED",n.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT",n.ERR_INVALID_URL="ERR_INVALID_URL",n})(),ht=KZe;var p_=null;function FI(n){return Y.isPlainObject(n)||Y.isArray(n)}function Nee(n){return Y.endsWith(n,"[]")?n.slice(0,-2):n}function Ree(n,e,t){return n?n.concat(e).map(function(i,s){return i=Nee(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function YZe(n){return Y.isArray(n)&&!n.some(FI)}var JZe=Y.toFlatObject(Y,{},null,function(e){return/^is[A-Z]/.test(e)});function ZZe(n,e,t){if(!Y.isObject(n))throw new TypeError("target must be an object");e=e||new(p_||FormData),t=Y.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,D){return!Y.isUndefined(D[E])});let r=t.metaTokens,i=t.visitor||l,s=t.dots,o=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(e);if(!Y.isFunction(i))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(Y.isDate(v))return v.toISOString();if(Y.isBoolean(v))return v.toString();if(!c&&Y.isBlob(v))throw new ht("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(v)||Y.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function l(v,E,D){let P=v;if(v&&!D&&typeof v=="object"){if(Y.endsWith(E,"{}"))E=r?E:E.slice(0,-2),v=JSON.stringify(v);else if(Y.isArray(v)&&YZe(v)||(Y.isFileList(v)||Y.endsWith(E,"[]"))&&(P=Y.toArray(v)))return E=Nee(E),P.forEach(function(J,re){!(Y.isUndefined(J)||J===null)&&e.append(o===!0?Ree([E],re,s):o===null?E:E+"[]",u(J))}),!1}return FI(v)?!0:(e.append(Ree(D,E,s),u(v)),!1)}let f=[],p=Object.assign(JZe,{defaultVisitor:l,convertValue:u,isVisitable:FI});function g(v,E){if(!Y.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+E.join("."));f.push(v),Y.forEach(v,function(P,K){(!(Y.isUndefined(P)||P===null)&&i.call(e,P,Y.isString(K)?K.trim():K,E,p))===!0&&g(P,E?E.concat(K):[K])}),f.pop()}}if(!Y.isObject(n))throw new TypeError("data must be an object");return g(n),e}var nc=ZZe;function Oee(n){let e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Pee(n,e){this._pairs=[],n&&nc(n,this,e)}var Fee=Pee.prototype;Fee.append=function(e,t){this._pairs.push([e,t])};Fee.toString=function(e){let t=e?function(r){return e.call(this,r,Oee)}:Oee;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};var m_=Pee;function XZe(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Rp(n,e,t){if(!e)return n;let r=t&&t.encode||XZe,i=Y.isFunction(t)?{serialize:t}:t,s=i&&i.serialize,o;if(s?o=s(e,i):o=Y.isURLSearchParams(e)?e.toString():new m_(e,i).toString(r),o){let a=n.indexOf("#");a!==-1&&(n=n.slice(0,a)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}var kI=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Y.forEach(this.handlers,function(r){r!==null&&e(r)})}},LI=kI;var g_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var kee=typeof URLSearchParams<"u"?URLSearchParams:m_;var Lee=typeof FormData<"u"?FormData:null;var Bee=typeof Blob<"u"?Blob:null;var qee={isBrowser:!0,classes:{URLSearchParams:kee,FormData:Lee,Blob:Bee},protocols:["http","https","file","blob","url","data"]};var jI={};UN(jI,{hasBrowserEnv:()=>qI,hasStandardBrowserEnv:()=>eXe,hasStandardBrowserWebWorkerEnv:()=>tXe,navigator:()=>BI,origin:()=>nXe});var qI=typeof window<"u"&&typeof document<"u",BI=typeof navigator=="object"&&navigator||void 0,eXe=qI&&(!BI||["ReactNative","NativeScript","NS"].indexOf(BI.product)<0),tXe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",nXe=qI&&window.location.href||"http://localhost";var Sn=Z(Z({},jI),qee);function $I(n,e){return nc(n,new Sn.classes.URLSearchParams,Z({visitor:function(t,r,i,s){return Sn.isNode&&Y.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function rXe(n){return Y.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function iXe(n){let e={},t=Object.keys(n),r,i=t.length,s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function sXe(n){function e(t,r,i,s){let o=t[s++];if(o==="__proto__")return!0;let a=Number.isFinite(+o),c=s>=t.length;return o=!o&&Y.isArray(i)?i.length:o,c?(Y.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!Y.isObject(i[o]))&&(i[o]=[]),e(t,r,i[o],s)&&Y.isArray(i[o])&&(i[o]=iXe(i[o])),!a)}if(Y.isFormData(n)&&Y.isFunction(n.entries)){let t={};return Y.forEachEntry(n,(r,i)=>{e(rXe(r),i,t,0)}),t}return null}var y_=sXe;function oXe(n,e,t){if(Y.isString(n))try{return(e||JSON.parse)(n),Y.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}var VI={transitional:g_,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){let r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=Y.isObject(e);if(s&&Y.isHTMLForm(e)&&(e=new FormData(e)),Y.isFormData(e))return i?JSON.stringify(y_(e)):e;if(Y.isArrayBuffer(e)||Y.isBuffer(e)||Y.isStream(e)||Y.isFile(e)||Y.isBlob(e)||Y.isReadableStream(e))return e;if(Y.isArrayBufferView(e))return e.buffer;if(Y.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return $I(e,this.formSerializer).toString();if((a=Y.isFileList(e))||r.indexOf("multipart/form-data")>-1){let c=this.env&&this.env.FormData;return nc(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),oXe(e)):e}],transformResponse:[function(e){let t=this.transitional||VI.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(Y.isResponse(e)||Y.isReadableStream(e))return e;if(e&&Y.isString(e)&&(r&&!this.responseType||i)){let o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?ht.from(a,ht.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Sn.classes.FormData,Blob:Sn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],n=>{VI.headers[n]={}});var Ad=VI;var aXe=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jee=n=>{let e={},t,r,i;return n&&n.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!t||e[t]&&aXe[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e};var $ee=Symbol("internals");function Np(n){return n&&String(n).trim().toLowerCase()}function b_(n){return n===!1||n==null?n:Y.isArray(n)?n.map(b_):String(n)}function cXe(n){let e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}var uXe=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function UI(n,e,t,r,i){if(Y.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!Y.isString(e)){if(Y.isString(r))return e.indexOf(r)!==-1;if(Y.isRegExp(r))return r.test(e)}}function lXe(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function dXe(n,e){let t=Y.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}var Sd=class{constructor(e){e&&this.set(e)}set(e,t,r){let i=this;function s(a,c,u){let l=Np(c);if(!l)throw new Error("header name must be a non-empty string");let f=Y.findKey(i,l);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||c]=b_(a))}let o=(a,c)=>Y.forEach(a,(u,l)=>s(u,l,c));if(Y.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(Y.isString(e)&&(e=e.trim())&&!uXe(e))o(jee(e),t);else if(Y.isObject(e)&&Y.isIterable(e)){let a={},c,u;for(let l of e){if(!Y.isArray(l))throw TypeError("Object iterator must return a key-value pair");a[u=l[0]]=(c=a[u])?Y.isArray(c)?[...c,l[1]]:[c,l[1]]:l[1]}o(a,t)}else e!=null&&s(t,e,r);return this}get(e,t){if(e=Np(e),e){let r=Y.findKey(this,e);if(r){let i=this[r];if(!t)return i;if(t===!0)return cXe(i);if(Y.isFunction(t))return t.call(this,i,r);if(Y.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Np(e),e){let r=Y.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||UI(this,this[r],r,t)))}return!1}delete(e,t){let r=this,i=!1;function s(o){if(o=Np(o),o){let a=Y.findKey(r,o);a&&(!t||UI(r,r[a],a,t))&&(delete r[a],i=!0)}}return Y.isArray(e)?e.forEach(s):s(e),i}clear(e){let t=Object.keys(this),r=t.length,i=!1;for(;r--;){let s=t[r];(!e||UI(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){let t=this,r={};return Y.forEach(this,(i,s)=>{let o=Y.findKey(r,s);if(o){t[o]=b_(i),delete t[s];return}let a=e?lXe(s):String(s).trim();a!==s&&delete t[s],t[a]=b_(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let t=Object.create(null);return Y.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&Y.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){let r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){let r=(this[$ee]=this[$ee]={accessors:{}}).accessors,i=this.prototype;function s(o){let a=Np(o);r[a]||(dXe(i,o),r[a]=!0)}return Y.isArray(e)?e.forEach(s):s(e),this}};Sd.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(Sd.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});Y.freezeMethods(Sd);var ar=Sd;function Op(n,e){let t=this||Ad,r=e||t,i=ar.from(r.headers),s=r.data;return Y.forEach(n,function(a){s=a.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function Pp(n){return!!(n&&n.__CANCEL__)}var HI=class extends ht{constructor(e,t,r){super(e??"canceled",ht.ERR_CANCELED,t,r),this.name="CanceledError",this.__CANCEL__=!0}},bo=HI;function Fp(n,e,t){let r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new ht("Request failed with status code "+t.status,[ht.ERR_BAD_REQUEST,ht.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function WI(n){let e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function fXe(n,e){n=n||10;let t=new Array(n),r=new Array(n),i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){let u=Date.now(),l=r[s];o||(o=u),t[i]=c,r[i]=u;let f=s,p=0;for(;f!==i;)p+=t[f++],f=f%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),u-o<e)return;let g=l&&u-l;return g?Math.round(p*1e3/g):void 0}}var Vee=fXe;function hXe(n,e){let t=0,r=1e3/e,i,s,o=(u,l=Date.now())=>{t=l,i=null,s&&(clearTimeout(s),s=null),n(...u)};return[(...u)=>{let l=Date.now(),f=l-t;f>=r?o(u,l):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-f)))},()=>i&&o(i)]}var Uee=hXe;var Id=(n,e,t=3)=>{let r=0,i=Vee(50,250);return Uee(s=>{let o=s.loaded,a=s.lengthComputable?s.total:void 0,c=o-r,u=i(c),l=o<=a;r=o;let f={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&l?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};n(f)},t)},zI=(n,e)=>{let t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},GI=n=>(...e)=>Y.asap(()=>n(...e));var Hee=Sn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Sn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Sn.origin),Sn.navigator&&/(msie|trident)/i.test(Sn.navigator.userAgent)):()=>!0;var Wee=Sn.hasStandardBrowserEnv?{write(n,e,t,r,i,s,o){if(typeof document>"u")return;let a=[`${n}=${encodeURIComponent(e)}`];Y.isNumber(t)&&a.push(`expires=${new Date(t).toUTCString()}`),Y.isString(r)&&a.push(`path=${r}`),Y.isString(i)&&a.push(`domain=${i}`),s===!0&&a.push("secure"),Y.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(n){if(typeof document>"u")return null;let e=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function QI(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function KI(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function kp(n,e,t){let r=!QI(e);return n&&(r||t==!1)?KI(n,e):e}var zee=n=>n instanceof ar?Z({},n):n;function ks(n,e){e=e||{};let t={};function r(u,l,f,p){return Y.isPlainObject(u)&&Y.isPlainObject(l)?Y.merge.call({caseless:p},u,l):Y.isPlainObject(l)?Y.merge({},l):Y.isArray(l)?l.slice():l}function i(u,l,f,p){if(Y.isUndefined(l)){if(!Y.isUndefined(u))return r(void 0,u,f,p)}else return r(u,l,f,p)}function s(u,l){if(!Y.isUndefined(l))return r(void 0,l)}function o(u,l){if(Y.isUndefined(l)){if(!Y.isUndefined(u))return r(void 0,u)}else return r(void 0,l)}function a(u,l,f){if(f in e)return r(u,l);if(f in n)return r(void 0,u)}let c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,l,f)=>i(zee(u),zee(l),f,!0)};return Y.forEach(Object.keys(Z(Z({},n),e)),function(l){let f=c[l]||i,p=f(n[l],e[l],l);Y.isUndefined(p)&&f!==a||(t[l]=p)}),t}var v_=n=>{let e=ks({},n),{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;if(e.headers=o=ar.from(o),e.url=Rp(kp(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),Y.isFormData(t)){if(Sn.hasStandardBrowserEnv||Sn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Y.isFunction(t.getHeaders)){let c=t.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([l,f])=>{u.includes(l.toLowerCase())&&o.set(l,f)})}}if(Sn.hasStandardBrowserEnv&&(r&&Y.isFunction(r)&&(r=r(e)),r||r!==!1&&Hee(e.url))){let c=i&&s&&Wee.read(s);c&&o.set(i,c)}return e};var pXe=typeof XMLHttpRequest<"u",Gee=pXe&&function(n){return new Promise(function(t,r){let i=v_(n),s=i.data,o=ar.from(i.headers).normalize(),{responseType:a,onUploadProgress:c,onDownloadProgress:u}=i,l,f,p,g,v;function E(){g&&g(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(l),i.signal&&i.signal.removeEventListener("abort",l)}let D=new XMLHttpRequest;D.open(i.method.toUpperCase(),i.url,!0),D.timeout=i.timeout;function P(){if(!D)return;let J=ar.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),he={data:!a||a==="text"||a==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:J,config:n,request:D};Fp(function(Te){t(Te),E()},function(Te){r(Te),E()},he),D=null}"onloadend"in D?D.onloadend=P:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(P)},D.onabort=function(){D&&(r(new ht("Request aborted",ht.ECONNABORTED,n,D)),D=null)},D.onerror=function(re){let he=re&&re.message?re.message:"Network Error",y=new ht(he,ht.ERR_NETWORK,n,D);y.event=re||null,r(y),D=null},D.ontimeout=function(){let re=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded",he=i.transitional||g_;i.timeoutErrorMessage&&(re=i.timeoutErrorMessage),r(new ht(re,he.clarifyTimeoutError?ht.ETIMEDOUT:ht.ECONNABORTED,n,D)),D=null},s===void 0&&o.setContentType(null),"setRequestHeader"in D&&Y.forEach(o.toJSON(),function(re,he){D.setRequestHeader(he,re)}),Y.isUndefined(i.withCredentials)||(D.withCredentials=!!i.withCredentials),a&&a!=="json"&&(D.responseType=i.responseType),u&&([p,v]=Id(u,!0),D.addEventListener("progress",p)),c&&D.upload&&([f,g]=Id(c),D.upload.addEventListener("progress",f),D.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(l=J=>{D&&(r(!J||J.type?new bo(null,n,D):J),D.abort(),D=null)},i.cancelToken&&i.cancelToken.subscribe(l),i.signal&&(i.signal.aborted?l():i.signal.addEventListener("abort",l)));let K=WI(i.url);if(K&&Sn.protocols.indexOf(K)===-1){r(new ht("Unsupported protocol "+K+":",ht.ERR_BAD_REQUEST,n));return}D.send(s||null)})};var mXe=(n,e)=>{let{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i,s=function(u){if(!i){i=!0,a();let l=u instanceof Error?u:this.reason;r.abort(l instanceof ht?l:new bo(l instanceof Error?l.message:l))}},o=e&&setTimeout(()=>{o=null,s(new ht(`timeout of ${e}ms exceeded`,ht.ETIMEDOUT))},e),a=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),n=null)};n.forEach(u=>u.addEventListener("abort",s));let{signal:c}=r;return c.unsubscribe=()=>Y.asap(a),c}},Qee=mXe;var gXe=function*(n,e){let t=n.byteLength;if(!e||t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},yXe=async function*(n,e){for await(let t of bXe(n))yield*gXe(t,e)},bXe=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}let e=n.getReader();try{for(;;){let{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},YI=(n,e,t,r)=>{let i=yXe(n,e),s=0,o,a=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{let{done:u,value:l}=await i.next();if(u){a(),c.close();return}let f=l.byteLength;if(t){let p=s+=f;t(p)}c.enqueue(new Uint8Array(l))}catch(u){throw a(u),u}},cancel(c){return a(c),i.return()}},{highWaterMark:2})};var Kee=64*1024,{isFunction:__}=Y,vXe=(({Request:n,Response:e})=>({Request:n,Response:e}))(Y.global),{ReadableStream:Yee,TextEncoder:Jee}=Y.global,Zee=(n,...e)=>{try{return!!n(...e)}catch{return!1}},_Xe=n=>{n=Y.merge.call({skipUndefined:!0},vXe,n);let{fetch:e,Request:t,Response:r}=n,i=e?__(e):typeof fetch=="function",s=__(t),o=__(r);if(!i)return!1;let a=i&&__(Yee),c=i&&(typeof Jee=="function"?(v=>E=>v.encode(E))(new Jee):async v=>new Uint8Array(await new t(v).arrayBuffer())),u=s&&a&&Zee(()=>{let v=!1,E=new t(Sn.origin,{body:new Yee,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!E}),l=o&&a&&Zee(()=>Y.isReadableStream(new r("").body)),f={stream:l&&(v=>v.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!f[v]&&(f[v]=(E,D)=>{let P=E&&E[v];if(P)return P.call(E);throw new ht(`Response type '${v}' is not supported`,ht.ERR_NOT_SUPPORT,D)})});let p=async v=>{if(v==null)return 0;if(Y.isBlob(v))return v.size;if(Y.isSpecCompliantForm(v))return(await new t(Sn.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(v)||Y.isArrayBuffer(v))return v.byteLength;if(Y.isURLSearchParams(v)&&(v=v+""),Y.isString(v))return(await c(v)).byteLength},g=async(v,E)=>{let D=Y.toFiniteNumber(v.getContentLength());return D??p(E)};return async v=>{let{url:E,method:D,data:P,signal:K,cancelToken:J,timeout:re,onDownloadProgress:he,onUploadProgress:y,responseType:Te,headers:De,withCredentials:Ve="same-origin",fetchOptions:q}=v_(v),I=e||fetch;Te=Te?(Te+"").toLowerCase():"text";let ee=Qee([K,J&&J.toAbortSignal()],re),de=null,pe=ee&&ee.unsubscribe&&(()=>{ee.unsubscribe()}),Ke;try{if(y&&u&&D!=="get"&&D!=="head"&&(Ke=await g(De,P))!==0){let xn=new t(E,{method:"POST",body:P,duplex:"half"}),Re;if(Y.isFormData(P)&&(Re=xn.headers.get("content-type"))&&De.setContentType(Re),xn.body){let[Tn,In]=zI(Ke,Id(GI(y)));P=YI(xn.body,Kee,Tn,In)}}Y.isString(Ve)||(Ve=Ve?"include":"omit");let ce=s&&"credentials"in t.prototype,st=We(Z({},q),{signal:ee,method:D.toUpperCase(),headers:De.normalize().toJSON(),body:P,duplex:"half",credentials:ce?Ve:void 0});de=s&&new t(E,st);let Mt=await(s?I(de,q):I(E,st)),Wt=l&&(Te==="stream"||Te==="response");if(l&&(he||Wt&&pe)){let xn={};["status","statusText","headers"].forEach(Tt=>{xn[Tt]=Mt[Tt]});let Re=Y.toFiniteNumber(Mt.headers.get("content-length")),[Tn,In]=he&&zI(Re,Id(GI(he),!0))||[];Mt=new r(YI(Mt.body,Kee,Tn,()=>{In&&In(),pe&&pe()}),xn)}Te=Te||"text";let Kn=await f[Y.findKey(f,Te)||"text"](Mt,v);return!Wt&&pe&&pe(),await new Promise((xn,Re)=>{Fp(xn,Re,{data:Kn,headers:ar.from(Mt.headers),status:Mt.status,statusText:Mt.statusText,config:v,request:de})})}catch(ce){throw pe&&pe(),ce&&ce.name==="TypeError"&&/Load failed|fetch/i.test(ce.message)?Object.assign(new ht("Network Error",ht.ERR_NETWORK,v,de),{cause:ce.cause||ce}):ht.from(ce,ce&&ce.code,v,de)}}},EXe=new Map,JI=n=>{let e=n&&n.env||{},{fetch:t,Request:r,Response:i}=e,s=[r,i,t],o=s.length,a=o,c,u,l=EXe;for(;a--;)c=s[a],u=l.get(c),u===void 0&&l.set(c,u=a?new Map:_Xe(e)),l=u;return u},mLt=JI();var ZI={http:p_,xhr:Gee,fetch:{get:JI}};Y.forEach(ZI,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});var Xee=n=>`- ${n}`,CXe=n=>Y.isFunction(n)||n===null||n===!1;function DXe(n,e){n=Y.isArray(n)?n:[n];let{length:t}=n,r,i,s={};for(let o=0;o<t;o++){r=n[o];let a;if(i=r,!CXe(r)&&(i=ZI[(a=String(r)).toLowerCase()],i===void 0))throw new ht(`Unknown adapter '${a}'`);if(i&&(Y.isFunction(i)||(i=i.get(e))))break;s[a||"#"+o]=i}if(!i){let o=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build")),a=t?o.length>1?`since :
`+o.map(Xee).join(`
`):" "+Xee(o[0]):"as no adapter specified";throw new ht("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i}var E_={getAdapter:DXe,adapters:ZI};function XI(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new bo(null,n)}function w_(n){return XI(n),n.headers=ar.from(n.headers),n.data=Op.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),E_.getAdapter(n.adapter||Ad.adapter,n)(n).then(function(r){return XI(n),r.data=Op.call(n,n.transformResponse,r),r.headers=ar.from(r.headers),r},function(r){return Pp(r)||(XI(n),r&&r.response&&(r.response.data=Op.call(n,n.transformResponse,r.response),r.response.headers=ar.from(r.response.headers))),Promise.reject(r)})}var C_="1.13.4";var D_={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{D_[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});var ete={};D_.transitional=function(e,t,r){function i(s,o){return"[Axios v"+C_+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new ht(i(o," has been removed"+(t?" in "+t:"")),ht.ERR_DEPRECATED);return t&&!ete[o]&&(ete[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};D_.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function xXe(n,e,t){if(typeof n!="object")throw new ht("options must be an object",ht.ERR_BAD_OPTION_VALUE);let r=Object.keys(n),i=r.length;for(;i-- >0;){let s=r[i],o=e[s];if(o){let a=n[s],c=a===void 0||o(a,s,n);if(c!==!0)throw new ht("option "+s+" must be "+c,ht.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ht("Unknown option "+s,ht.ERR_BAD_OPTION)}}var Lp={assertOptions:xXe,validators:D_};var vo=Lp.validators,Md=class{constructor(e){this.defaults=e||{},this.interceptors={request:new LI,response:new LI}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;let s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ks(this.defaults,t);let{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&Lp.assertOptions(r,{silentJSONParsing:vo.transitional(vo.boolean),forcedJSONParsing:vo.transitional(vo.boolean),clarifyTimeoutError:vo.transitional(vo.boolean)},!1),i!=null&&(Y.isFunction(i)?t.paramsSerializer={serialize:i}:Lp.assertOptions(i,{encode:vo.function,serialize:vo.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Lp.assertOptions(t,{baseUrl:vo.spelling("baseURL"),withXsrfToken:vo.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&Y.merge(s.common,s[t.method]);s&&Y.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),t.headers=ar.concat(o,s);let a=[],c=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(t)===!1||(c=c&&E.synchronous,a.unshift(E.fulfilled,E.rejected))});let u=[];this.interceptors.response.forEach(function(E){u.push(E.fulfilled,E.rejected)});let l,f=0,p;if(!c){let v=[w_.bind(this),void 0];for(v.unshift(...a),v.push(...u),p=v.length,l=Promise.resolve(t);f<p;)l=l.then(v[f++],v[f++]);return l}p=a.length;let g=t;for(;f<p;){let v=a[f++],E=a[f++];try{g=v(g)}catch(D){E.call(this,D);break}}try{l=w_.call(this,g)}catch(v){return Promise.reject(v)}for(f=0,p=u.length;f<p;)l=l.then(u[f++],u[f++]);return l}getUri(e){e=ks(this.defaults,e);let t=kp(e.baseURL,e.url,e.allowAbsoluteUrls);return Rp(t,e.params,e.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(e){Md.prototype[e]=function(t,r){return this.request(ks(r||{},{method:e,url:t,data:(r||{}).data}))}});Y.forEach(["post","put","patch"],function(e){function t(r){return function(s,o,a){return this.request(ks(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Md.prototype[e]=t(),Md.prototype[e+"Form"]=t(!0)});var Bp=Md;var eM=class n{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});let r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s,o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new bo(s,o,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){let e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new n(function(i){e=i}),cancel:e}}},tte=eM;function tM(n){return function(t){return n.apply(null,t)}}function nM(n){return Y.isObject(n)&&n.isAxiosError===!0}var rM={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(rM).forEach(([n,e])=>{rM[e]=n});var nte=rM;function rte(n){let e=new Bp(n),t=Ap(Bp.prototype.request,e);return Y.extend(t,Bp.prototype,e,{allOwnKeys:!0}),Y.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return rte(ks(n,i))},t}var Qn=rte(Ad);Qn.Axios=Bp;Qn.CanceledError=bo;Qn.CancelToken=tte;Qn.isCancel=Pp;Qn.VERSION=C_;Qn.toFormData=nc;Qn.AxiosError=ht;Qn.Cancel=Qn.CanceledError;Qn.all=function(e){return Promise.all(e)};Qn.spread=tM;Qn.isAxiosError=nM;Qn.mergeConfig=ks;Qn.AxiosHeaders=ar;Qn.formToJSON=n=>y_(Y.isHTMLForm(n)?new FormData(n):n);Qn.getAdapter=E_.getAdapter;Qn.HttpStatusCode=nte;Qn.default=Qn;var oa=Qn;var{Axios:hBt,AxiosError:pBt,CanceledError:mBt,isCancel:gBt,CancelToken:yBt,VERSION:bBt,all:vBt,Cancel:_Bt,isAxiosError:EBt,spread:wBt,toFormData:CBt,AxiosHeaders:DBt,HttpStatusCode:xBt,formToJSON:TBt,getAdapter:ABt,mergeConfig:SBt}=oa;var Qoe=!1;Qoe=!0;var TXe="",AXe=TXe,SXe=Qoe?"taon":AXe,k;(function(n){n.add=ite?.default??ite,n.after=ste?.default??ste,n.ary=ote?.default??ote,n.assign=ate?.default??ate,n.assignIn=cte?.default??cte,n.assignInWith=ute?.default??ute,n.assignWith=lte?.default??lte,n.at=dte?.default??dte,n.attempt=fte?.default??fte,n.before=hte?.default??hte,n.bind=pte?.default??pte,n.bindAll=mte?.default??mte,n.bindKey=gte?.default??gte,n.camelCase=yte?.default??yte,n.capitalize=bte?.default??bte,n.castArray=vte?.default??vte,n.ceil=_te?.default??_te,n.chain=Ete?.default??Ete,n.chunk=wte?.default??wte,n.clamp=Cte?.default??Cte,n.clone=Dte?.default??Dte,n.cloneDeep=xte?.default??xte,n.cloneDeepWith=Tte?.default??Tte,n.cloneWith=Ate?.default??Ate,n.compact=Ste?.default??Ste,n.concat=Ite?.default??Ite,n.cond=Mte?.default??Mte,n.conforms=Rte?.default??Rte,n.conformsTo=Nte?.default??Nte,n.constant=Ote?.default??Ote,n.countBy=Pte?.default??Pte,n.create=Fte?.default??Fte,n.curry=kte?.default??kte,n.curryRight=Lte?.default??Lte,n.debounce=Bte?.default??Bte,n.deburr=qte?.default??qte,n.defaultTo=jte?.default??jte,n.defaults=$te?.default??$te,n.defaultsDeep=Vte?.default??Vte,n.defer=Ute?.default??Ute,n.delay=Hte?.default??Hte,n.difference=Wte?.default??Wte,n.differenceBy=zte?.default??zte,n.differenceWith=Gte?.default??Gte,n.divide=Qte?.default??Qte,n.drop=Kte?.default??Kte,n.dropRight=Yte?.default??Yte,n.dropRightWhile=Jte?.default??Jte,n.dropWhile=Zte?.default??Zte,n.each=Xte?.default??Xte,n.eachRight=ene?.default??ene,n.endsWith=tne?.default??tne,n.entries=nne?.default??nne,n.entriesIn=rne?.default??rne,n.eq=ine?.default??ine,n.escape=sne?.default??sne,n.escapeRegExp=one?.default??one,n.every=ane?.default??ane,n.extend=cne?.default??cne,n.extendWith=une?.default??une,n.fill=lne?.default??lne,n.filter=dne?.default??dne,n.find=fne?.default??fne,n.findIndex=hne?.default??hne,n.findKey=pne?.default??pne,n.findLast=mne?.default??mne,n.findLastIndex=gne?.default??gne,n.findLastKey=yne?.default??yne,n.first=bne?.default??bne,n.flatMap=vne?.default??vne,n.flatMapDeep=_ne?.default??_ne,n.flatMapDepth=Ene?.default??Ene,n.flatten=wne?.default??wne,n.flattenDeep=Cne?.default??Cne,n.flattenDepth=Dne?.default??Dne,n.flip=xne?.default??xne,n.floor=Tne?.default??Tne,n.flow=Ane?.default??Ane,n.flowRight=Sne?.default??Sne,n.forEach=Ine?.default??Ine,n.forEachRight=Mne?.default??Mne,n.forIn=Rne?.default??Rne,n.forInRight=Nne?.default??Nne,n.forOwn=One?.default??One,n.forOwnRight=Pne?.default??Pne,n.fromPairs=Fne?.default??Fne,n.functions=kne?.default??kne,n.functionsIn=Lne?.default??Lne,n.get=Bne?.default??Bne,n.groupBy=qne?.default??qne,n.gt=jne?.default??jne,n.gte=$ne?.default??$ne,n.has=Vne?.default??Vne,n.hasIn=Une?.default??Une,n.head=Hne?.default??Hne,n.identity=Wne?.default??Wne,n.inRange=zne?.default??zne,n.includes=Gne?.default??Gne,n.indexOf=Qne?.default??Qne,n.initial=Kne?.default??Kne,n.intersection=Yne?.default??Yne,n.intersectionBy=Jne?.default??Jne,n.intersectionWith=Zne?.default??Zne,n.invert=Xne?.default??Xne,n.invertBy=ere?.default??ere,n.invoke=tre?.default??tre,n.invokeMap=nre?.default??nre,n.isArguments=rre?.default??rre,n.isArray=ire?.default??ire,n.isArrayBuffer=sre?.default??sre,n.isArrayLike=ore?.default??ore,n.isArrayLikeObject=are?.default??are,n.isBoolean=cre?.default??cre,n.isBuffer=ure?.default??ure,n.isDate=lre?.default??lre,n.isElement=dre?.default??dre,n.isEmpty=fre?.default??fre,n.isEqual=hre?.default??hre,n.isEqualWith=pre?.default??pre,n.isError=mre?.default??mre,n.isFinite=gre?.default??gre,n.isFunction=yre?.default??yre,n.isInteger=bre?.default??bre,n.isLength=vre?.default??vre,n.isMap=_re?.default??_re,n.isMatch=Ere?.default??Ere,n.isMatchWith=wre?.default??wre,n.isNaN=Cre?.default??Cre,n.isNative=Dre?.default??Dre,n.isNil=xre?.default??xre,n.isNull=Tre?.default??Tre,n.isNumber=Are?.default??Are,n.isObject=Sre?.default??Sre,n.isObjectLike=Ire?.default??Ire,n.isPlainObject=Mre?.default??Mre,n.isRegExp=Rre?.default??Rre,n.isSafeInteger=Nre?.default??Nre,n.isSet=Ore?.default??Ore,n.isString=Pre?.default??Pre,n.isSymbol=Fre?.default??Fre,n.isTypedArray=kre?.default??kre,n.isUndefined=Lre?.default??Lre,n.isWeakMap=Bre?.default??Bre,n.isWeakSet=qre?.default??qre,n.iteratee=jre?.default??jre,n.join=$re?.default??$re,n.kebabCase=Vre?.default??Vre,n.keyBy=Ure?.default??Ure,n.keys=Hre?.default??Hre,n.keysIn=Wre?.default??Wre,n.last=zre?.default??zre,n.lastIndexOf=Gre?.default??Gre,n.lowerCase=Qre?.default??Qre,n.lowerFirst=Kre?.default??Kre,n.lt=Yre?.default??Yre,n.lte=Jre?.default??Jre,n.map=Zre?.default??Zre,n.mapKeys=Xre?.default??Xre,n.mapValues=eie?.default??eie,n.matches=tie?.default??tie,n.matchesProperty=nie?.default??nie,n.max=rie?.default??rie,n.maxBy=iie?.default??iie,n.mean=sie?.default??sie,n.meanBy=oie?.default??oie,n.memoize=aie?.default??aie,n.merge=cie?.default??cie,n.mergeWith=uie?.default??uie,n.method=lie?.default??lie,n.methodOf=die?.default??die,n.min=fie?.default??fie,n.minBy=hie?.default??hie,n.mixin=pie?.default??pie,n.multiply=mie?.default??mie,n.negate=gie?.default??gie,n.noop=yie?.default??yie,n.now=bie?.default??bie,n.nth=vie?.default??vie,n.nthArg=_ie?.default??_ie,n.omit=Eie?.default??Eie,n.omitBy=wie?.default??wie,n.once=Cie?.default??Cie,n.orderBy=Die?.default??Die,n.over=xie?.default??xie,n.overArgs=Tie?.default??Tie,n.overEvery=Aie?.default??Aie,n.overSome=Sie?.default??Sie,n.pad=Iie?.default??Iie,n.padEnd=Mie?.default??Mie,n.padStart=Rie?.default??Rie,n.parseInt=Nie?.default??Nie,n.partial=Oie?.default??Oie,n.partialRight=Pie?.default??Pie,n.partition=Fie?.default??Fie,n.pick=kie?.default??kie,n.pickBy=Lie?.default??Lie,n.property=Bie?.default??Bie,n.propertyOf=qie?.default??qie,n.pull=jie?.default??jie,n.pullAll=$ie?.default??$ie,n.pullAllBy=Vie?.default??Vie,n.pullAllWith=Uie?.default??Uie,n.pullAt=Hie?.default??Hie,n.random=Wie?.default??Wie,n.range=zie?.default??zie,n.rangeRight=Gie?.default??Gie,n.rearg=Qie?.default??Qie,n.reduce=Kie?.default??Kie,n.reduceRight=Yie?.default??Yie,n.reject=Jie?.default??Jie,n.remove=Zie?.default??Zie,n.repeat=Xie?.default??Xie,n.replace=ese?.default??ese,n.rest=tse?.default??tse,n.result=nse?.default??nse,n.reverse=rse?.default??rse,n.round=ise?.default??ise,n.sample=sse?.default??sse,n.sampleSize=ose?.default??ose,n.set=ase?.default??ase,n.setWith=cse?.default??cse,n.shuffle=use?.default??use,n.size=lse?.default??lse,n.slice=dse?.default??dse,n.snakeCase=fse?.default??fse,n.some=hse?.default??hse,n.sortBy=pse?.default??pse,n.sortedIndex=mse?.default??mse,n.sortedIndexBy=gse?.default??gse,n.sortedIndexOf=yse?.default??yse,n.sortedLastIndex=bse?.default??bse,n.sortedLastIndexBy=vse?.default??vse,n.sortedLastIndexOf=_se?.default??_se,n.sortedUniq=Ese?.default??Ese,n.sortedUniqBy=wse?.default??wse,n.split=Cse?.default??Cse,n.spread=Dse?.default??Dse,n.startCase=xse?.default??xse,n.startsWith=Tse?.default??Tse,n.stubArray=Ase?.default??Ase,n.stubFalse=Sse?.default??Sse,n.stubObject=Ise?.default??Ise,n.stubString=Mse?.default??Mse,n.stubTrue=Rse?.default??Rse,n.subtract=Nse?.default??Nse,n.sum=Ose?.default??Ose,n.sumBy=Pse?.default??Pse,n.tail=Fse?.default??Fse,n.take=kse?.default??kse,n.takeRight=Lse?.default??Lse,n.takeRightWhile=Bse?.default??Bse,n.takeWhile=qse?.default??qse,n.tap=jse?.default??jse,n.template=$se?.default??$se,n.templateSettings=Vse?.default??Vse,n.throttle=Use?.default??Use,n.thru=Hse?.default??Hse,n.times=Wse?.default??Wse,n.toArray=zse?.default??zse,n.toFinite=Gse?.default??Gse,n.toInteger=Qse?.default??Qse,n.toLength=Kse?.default??Kse,n.toLower=Yse?.default??Yse,n.toNumber=Jse?.default??Jse,n.toPairs=Zse?.default??Zse,n.toPairsIn=Xse?.default??Xse,n.toPath=eoe?.default??eoe,n.toPlainObject=toe?.default??toe,n.toSafeInteger=noe?.default??noe,n.toString=roe?.default??roe,n.toUpper=ioe?.default??ioe,n.transform=soe?.default??soe,n.trim=ooe?.default??ooe,n.trimEnd=aoe?.default??aoe,n.trimStart=coe?.default??coe,n.truncate=uoe?.default??uoe,n.unary=loe?.default??loe,n.unescape=doe?.default??doe,n.union=foe?.default??foe,n.unionBy=hoe?.default??hoe,n.unionWith=poe?.default??poe,n.uniq=moe?.default??moe,n.uniqBy=goe?.default??goe,n.uniqWith=yoe?.default??yoe,n.uniqueId=boe?.default??boe,n.unset=voe?.default??voe,n.unzip=_oe?.default??_oe,n.unzipWith=Eoe?.default??Eoe,n.update=woe?.default??woe,n.updateWith=Coe?.default??Coe,n.upperCase=Doe?.default??Doe,n.upperFirst=xoe?.default??xoe,n.values=Toe?.default??Toe,n.valuesIn=Aoe?.default??Aoe,n.without=Soe?.default??Soe,n.words=Ioe?.default??Ioe,n.wrap=Moe?.default??Moe,n.xor=Roe?.default??Roe,n.xorBy=Noe?.default??Noe,n.xorWith=Ooe?.default??Ooe,n.zip=Poe?.default??Poe,n.zipObject=Foe?.default??Foe,n.zipObjectDeep=koe?.default??koe,n.zipWith=Loe?.default??Loe})(k||(k={}));var A_={black(n){console.log(n)},gray(n){console.log(n)},red(n){console.log(n)},green(n){console.log(n)},italic(n){console.log(n)},magenta(n){console.log(n)},bold(n){console.log(n)},underline(n){console.log(n)}},Koe=new Map,x_=Object.keys(A_).map(n=>(Koe.set(A_[n],n),A_[n]));for(let n=0;n<x_.length;n++){let e=x_[n];for(let t=0;t<x_.length;t++){let r=x_[t];e[Koe.get(r)]=r}}var IXe=A_;function aa(n){if(typeof n!="string")throw new TypeError("[taon-core] Path must be a string. Received "+JSON.stringify(n))}function MXe(n,e){for(var t="",r=0,i=-1,s=0,o,a=0;a<=n.length;++a){if(a<n.length)o=n.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var c=t.lastIndexOf("/");if(c!==t.length-1){c===-1?(t="",r=0):(t=t.slice(0,c),r=t.length-1-t.lastIndexOf("/")),i=a,s=0;continue}}else if(t.length===2||t.length===1){t="",r=0,i=a,s=0;continue}}e&&(t.length>0?t+="/..":t="..",r=2)}else t.length>0?t+="/"+n.slice(i+1,a):t=n.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return t}function RXe(n,e){var t=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return t?t===e.root?t+r:t+n+r:r}var S_={resolve:function(e){return e},normalize:function(e){if(aa(e),e.length===0)return".";var t=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=MXe(e,!t),e.length===0&&!t&&(e="."),e.length>0&&r&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return aa(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var r=arguments[t];aa(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":S_.normalize(e)},relative:function(e,t){if(aa(e),aa(t),e===t||(e=S_.resolve(e),t=S_.resolve(t),e===t))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var i=e.length,s=i-r,o=1;o<t.length&&t.charCodeAt(o)===47;++o);for(var a=t.length,c=a-o,u=s<c?s:c,l=-1,f=0;f<=u;++f){if(f===u){if(c>u){if(t.charCodeAt(o+f)===47)return t.slice(o+f+1);if(f===0)return t.slice(o+f)}else s>u&&(e.charCodeAt(r+f)===47?l=f:f===0&&(l=0));break}var p=e.charCodeAt(r+f),g=t.charCodeAt(o+f);if(p!==g)break;p===47&&(l=f)}var v="";for(f=r+l+1;f<=i;++f)(f===i||e.charCodeAt(f)===47)&&(v.length===0?v+="..":v+="/..");return v.length>0?v+t.slice(o+l):(o+=l,t.charCodeAt(o)===47&&++o,t.slice(o))},_makeLong:function(e){return e},dirname:function(e){if(aa(e),e.length===0)return".";for(var t=e.charCodeAt(0),r=t===47,i=-1,s=!0,o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),t===47){if(!s){i=o;break}}else s=!1;return i===-1?r?"/":".":r&&i===1?"//":e.slice(0,i)},basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');aa(e);var r=0,i=-1,s=!0,o;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var a=t.length-1,c=-1;for(o=e.length-1;o>=0;--o){var u=e.charCodeAt(o);if(u===47){if(!s){r=o+1;break}}else c===-1&&(s=!1,c=o+1),a>=0&&(u===t.charCodeAt(a)?--a===-1&&(i=o):(a=-1,i=c))}return r===i?i=c:i===-1&&(i=e.length),e.slice(r,i)}else{for(o=e.length-1;o>=0;--o)if(e.charCodeAt(o)===47){if(!s){r=o+1;break}}else i===-1&&(s=!1,i=o+1);return i===-1?"":e.slice(r,i)}},extname:function(e){aa(e);for(var t=-1,r=0,i=-1,s=!0,o=0,a=e.length-1;a>=0;--a){var c=e.charCodeAt(a);if(c===47){if(!s){r=a+1;break}continue}i===-1&&(s=!1,i=a+1),c===46?t===-1?t=a:o!==1&&(o=1):t!==-1&&(o=-1)}return t===-1||i===-1||o===0||o===1&&t===i-1&&t===r+1?"":e.slice(t,i)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return RXe("/",e)},parse:function(e){aa(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var r=e.charCodeAt(0),i=r===47,s;i?(t.root="/",s=1):s=0;for(var o=-1,a=0,c=-1,u=!0,l=e.length-1,f=0;l>=s;--l){if(r=e.charCodeAt(l),r===47){if(!u){a=l+1;break}continue}c===-1&&(u=!1,c=l+1),r===46?o===-1?o=l:f!==1&&(f=1):o!==-1&&(f=-1)}return o===-1||c===-1||f===0||f===1&&o===c-1&&o===a+1?c!==-1&&(a===0&&i?t.base=t.name=e.slice(1,c):t.base=t.name=e.slice(a,c)):(a===0&&i?(t.name=e.slice(1,o),t.base=e.slice(1,c)):(t.name=e.slice(a,o),t.base=e.slice(a,c)),t.ext=e.slice(o,c)),a>0?t.dir=e.slice(0,a-1):i&&(t.dir="/"),t},sep:"/",delimiter:":",win32:{normalize:n=>n},posix:null};var NXe=(n,e)=>_ee(typeof n=="number"?new Date(n):n,e.replace(/mm/g,"MM").replace(/MM/g,"mm")),OXe;OXe=zoe.default;var Ls;Ls=S_;var PXe;PXe=IXe;var FXe;var Eo=n=>{if(Array.isArray(n)&&(n=n.join("/")),typeof n!="string")return n;typeof n=="string"&&/^[A-Z]\:/.test(n)&&(n=k.lowerFirst(n));let e=/^\\\\\?\\/.test(n),t=/[^\u0000-\u0080]+/.test(n);if(e&&console.warn(`[taon-core][crossPlatformPath]: Path starts with \\\\,
    this is not supported in crossPlatformPath`),t){let s=n.match(/[^\u0000-\u0080]+/g)||"";Le.logWarn(`[taon-core][crossPlatformPath]: path below contains non-ascii characters (${s}):
"${n}"`),Le.logWarn(n)}return n=(n||"").replace(/\\/g,"/").replace(/\/\//g,"/").replace(/\/\//g,"/"),!1&&/^(\/)[a-zA-Z]\:/.test(n)&&(n=n.slice(1)),n},bi;(function(n){n.InstalationTypeArr=["-g","--save","--save-dev"];let e;(function(r){r.MAJOR="major",r.MINOR="minor",r.PATCH="patch"})(e=n.ReleaseVersionTypeEnum||(n.ReleaseVersionTypeEnum={})),n.NpmSpecialVersions=["latest","next","beta","alpha","rc","lts"];let t;(function(r){r.__="__",r.LOCALHOST="localhost",r.DEV="dev",r.STAGE="stage",r.PROD="prod",r.TEST="test",r.QA="qa",r.SANDBOX="sandbox",r.UAT="uat",r.PREPROD="preprod",r.DEMO="demo",r.DOCS="docs",r.STATIC_PAGES="static-pages",r.CI="ci",r.TRAINING="training",r.STAGING="staging"})(t=n.EnvironmentName||(n.EnvironmentName={})),n.ImageFileExtensionArr=["jpg","jpeg","png","svg"],n.BaseProjectTypeArr=["typescript","angular","angular-lib","unknown","unknown-npm-project"],n.mimeTypes={".aac":"audio/aac",".abw":"application/x-abiword",".arc":"application/x-freearc",".avi":"video/x-msvideo",".azw":"application/vnd.amazon.ebook",".bin":"application/octet-stream",".bmp":"image/bmp",".bz":"application/x-bzip",".bz2":"application/x-bzip2",".csh":"application/x-csh",".css":"text/css",".csv":"text/csv",".doc":"application/msword",".docx":"application/vnd.openxmlformats-officedocument.wordprocessingml.document",".eot":"application/vnd.ms-fontobject",".epub":"application/epub+zip",".gz":"application/gzip",".gif":"image/gif",".htm":"text/html",".html":"text/html",".ico":"image/vnd.microsoft.icon",".ics":"text/calendar",".jar":"application/java-archive",".jpeg":"image/jpeg",".jpg":"image/jpeg",".js":"text/javascript",".json":"application/json",".jsonld":"application/ld+json",".mid":"application/midi",".midi":"application/midi",".mjs":"text/javascript",".mp3":"audio/mpeg",".mp4":"video/mp4",".mpeg":"video/mpeg",".mpkg":"application/vnd.apple.installer+xml",".odp":"application/vnd.oasis.opendocument.presentation",".ods":"application/vnd.oasis.opendocument.spreadsheet",".odt":"application/vnd.oasis.opendocument.text",".oga":"audio/ogg",".ogg":"audio/ogg",".ogv":"video/ogg",".ogx":"application/ogg",".opus":"audio/opus",".otf":"font/otf",".png":"image/png",".pdf":"application/pdf",".php":"application/php",".ppt":"application/vnd.ms-powerpoint",".pptx":"application/vnd.openxmlformats-officedocument.presentationml.presentation",".rar":"application/vnd.rar",".rtf":"application/rtf",".sh":"application/x-sh",".svg":"image/svg+xml",".swf":"application/x-shockwave-flash",".tar":"application/x-tar",".tif":"image/tiff",".tiff":"image/tiff",".ts":"video/mp2t",".ttf":"font/ttf",".txt":"text/plain",".vsd":"application/vnd.visio",".wav":"audio/wav",".weba":"audio/webm",".webm":"video/webm",".webp":"image/webp",".woff":"font/woff",".woff2":"font/woff2",".xhtml":"application/xhtml+xml",".xls":"application/vnd.ms-excel",".xlsx":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",".xml":"application/xml",".xul":"application/vnd.mozilla.xul+xml",".zip":"application/zip",".3gp":"video/3gpp",".3g2":"video/3gpp2",".7z":"application/x-7z-compressed"},n.MediaTypeAllArr=["text","image","audio","video","font","application","multipart","message","model"],n.MimeTypesObj=n.mimeTypes,n.tagForTaskName="@updateValueWithPortNumForTaskName",n.OrignalClassKey="$$originalClass$$",n.localhostIp127="127.0.0.1",n.localhostDomain="localhost",n.SPECIAL_WORKER_READY_MESSAGE="$$$ WORKER_READY $$$",n.SPECIAL_APP_READY_MESSAGE="$$$ APP_READY $$$",n.ClassNameStaticProperty="$$className$$",n.TaonHttpErrorCustomProp="$$taonError$$",n.pathToChildren="path-to-children",n.parentLocation="parent-location"})(bi||(bi={}));var kXe="taon-containers";var LXe="taon",BXe=".taon",qXe=".tnp",FBt=`https://github.com/darekf77/${LXe}.git`,kBt=`https://github.com/darekf77/${kXe}.git`;var iM={_gitignore:".gitignore",_npmrc:".npmrc",_npmignore:".npmignore",tslint_json:"tslint.json",_editorconfig:".editorconfig",_angularCli_json:".angular-cli.json",_vscode_launch_json:".vscode/launch.json"},jXe=Z({_bowerrc:".bowerrc",bower_json:"bower.json",controllers_ts:"controllers.ts",entities_ts:"entities.ts",angular_json:"angular.json",autob_actions_js:"auto-actions.js",local_config_js:"local-config.js",build_config_js:"build-config.js",local_config:"local-config",start_backend_ts:"start.backend.ts",docs_config_jsonc:"docs-config.jsonc",package_json:"package.json",taon_jsonc:"taon.jsonc",firedev_jsonc:"firedev.jsonc",firedev_json:"firedev.json",package_json__tnp_json:"package.json_tnp.json",package_json__tnp_json5:"package.json_tnp.json5",package_json__devDependencies_json:"package.json_devDependencies.json",devDependencies_json:"devDependencies.json",yarn_lock:"yarn.lock",package_lock_json:"package-lock.json",tnpEnvironment_json:"tmp-environment.json",environment:"environment",environment_js:"environment.js",tmp_transaction_pid_txt:"tmp-transaction-pid.txt",manifest_webmanifest:"manifest.webmanifest",public_api_d_ts:"public-api.d.ts",public_api_ts:"public-api.ts",public_api:"public-api",_babelrc:".babelrc",index:"index",index_d_ts:"index.d.ts",index_ts:"index.ts",index_js:"index.js",cli_js:"cli.js",cli_ts:"cli.ts",index_js_map:"index.js.map",db_json:"db.json",db_for_tests_json:"db-for-tests.json",tmpDockerImageId:"tmp-docker-image-id",tmp_recent_json:"recent.json",tsconfig_json:"tsconfig.json",tsconfig_lib_json:"tsconfig.lib.json",README_MD:"README.md",server_key:"server.key",server_cert:"server.cert",server_chain_cert:"server-chain.cert",meta_config_md:"meta-content.md",logo_png:"logo.png",logo_svg:"logo.svg",ric_proj_json:"ric-project.json",linked_projects_json:"linked-projects.json",docker_compose_yml:"docker-compose.yml",compose_yml:"docker-compose.yml"},iM),Yoe={vendor:"vendor",docs:"docs",dist:"dist",tmp:"tmp",tmpDistRelease:"tmp-dist-release",tempSrc:"tmp-src",tempSrcDist:"tmp-src-dist",previewDistApp:"dist-app",preview:"preview",browser:"browser",websql:"websql",_browser:".browser",module:"module",backup:"backup",node_modules:"node_modules",local_release:"local_release",client:"client",tnp_tests_context:"tmp-tests-context",tmpPackage:"tmp-package",tmpScenarios:"tmp-scenarios",tmpTestsEnvironments:"tmp-tests-environments",testsEnvironments:"tests-environments"},$Xe=Z({scripts:"scripts",scenarios:"scenarios",bower:"bower",src:"src",out:"out",app:"app",lib:"lib",tests:"tests",libraries:"libraries",libs:"libs",source:"source",custom:"custom",migrations:"migrations",components:"components",assets:"assets",generated:"generated",apps:"apps",shared:"shared",container:"container",bin:"bin",_bin:".bin",_vscode:".vscode",project:"project",projects:"projects",external:"external",tmpDist:"tmp-dist",tmpFor(n){return`tmp-src-${n}`},targetProjects:{DEFAULT_PATH_GENERATED:"tmp-target-projects/generated",DEFAULT_PATH_ORIGINS:"tmp-target-projects/origins"}},Yoe),VXe=[],Joe=["js","ts","tsx"].map(n=>`.${n}`),sM=["html"].map(n=>`.${n}`),Zoe=["scss","sass"].map(n=>`.${n}`),oM=[...Zoe,...["css","less"].map(n=>`.${n}`)],UXe=[...oM,...sM,...Joe],LBt={TS_JS_SCSS_SASS:{START:new RegExp("\\/\\/\\s*\\#region"),END:new RegExp("\\/\\/\\s*\\#endregion"),EXT:[...Joe,...Zoe]},HTML:{START:new RegExp("\\<\\!\\-\\-\\s*\\#region"),END:new RegExp("\\<\\!\\-\\-\\s*\\#endregion"),EXT:sM},CSS:{START:new RegExp("\\/\\*\\s*\\#region"),END:new RegExp("\\/\\*\\s*\\#endregion"),EXT:oM}},HXe=["backend.ts"].map(n=>`.${n}`),BBt=["subscriber.ts","test.ts"].map(n=>`.${n}`),Xoe=["browser.ts","component.ts","container.ts","directive.ts","pipe.ts","module.ts","service.ts","store.ts","actions.ts","action.ts","effects.ts","effect.ts","reducers.ts","reducer.ts","selectors.ts","selector.ts","routes.ts","resolver.ts","resolvers.ts","guard.ts","guards.ts","store.ts","spec.ts","e2e.ts","cy.ts","e2e-spec.ts"].map(n=>`.${n}`),qBt=["routes.ts"].map(n=>`.${n}`),jBt=[...sM,...oM,...Xoe],$Bt=[...UXe.map(n=>`app${n}`),...Xoe.map(n=>`app${n}`),"app.models.ts","app.env.ts","app.constants.ts","app.hosts.ts","app.electron.ts","app.vscode.ts","app.mobile.ts","app.context.ts","app.worker.ts"];var WXe=["copyto","copy","melt","push","pul","soft","pull","app","apps","dist","bundle","libs","lib","src","bin","source","migrations","assets","assets-for","browser","websql","compiled","docs","environments","env","projects","plugins","_"],VBt=[...WXe,...HXe];var T_=!1,ic;(function(n){n.wait=c=>new Promise((u,l)=>{setTimeout(()=>{u(void 0)},c*1e3)}),n.waitMilliseconds=c=>new Promise((u,l)=>{setTimeout(()=>{u(void 0)},c)}),n.uniqArray=(c,u)=>{var l={};return c.filter(f=>!!f).filter(function(f){return l.hasOwnProperty(u?f[u]:f)?!1:l[u?f[u]:f]=!0})},n.sortKeys=c=>k.isArray(c)?c.map(n.sortKeys):k.isObject(c)?k.fromPairs(k.keys(c).sort().map(u=>[u,n.sortKeys(c[u])])):c,n.escapeStringForRegEx=(c,u)=>(u=u||{},u?.skipEscapeSlashAndDash?c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"):c.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));function e(c){let u=/\u001b\[[0-9;]*m/g;return c.replace(u,"")}n.removeChalkSpecialChars=e,n.fullDateTime=()=>{},n.fullDate=()=>{};let t=[];n.getFreePort=async c=>{};let r=(c,u)=>{},i=c=>{};n.requireUncached=c=>{},n.camelize=(c="")=>(c=c.replace(/\W/g,"").toLowerCase(),c.replace(/(?:^\w|[A-Z]|\b\w)/g,function(u,l){return l==0?u.toLowerCase():u.toUpperCase()}).replace(/\s+/g,""));let s;(function(c){c.Blob="Blob",c.File="File",c.string="string"})(s=n.DbBinaryFormatEnum||(n.DbBinaryFormatEnum={}));let o;(function(c){async function u(q,I){return new Blob([q],{type:I})}c.arrayBufferToBlob=u;async function l(q){return await new Promise((I,ee)=>{let de=new FileReader;de.addEventListener("loadend",()=>{I(de.result)}),de.addEventListener("error",ee),de.readAsArrayBuffer(q)})}c.blobToArrayBuffer=l;function f(q){return new Promise((I,ee)=>{let de=new FileReader;de.onloadend=()=>I(de.result),de.readAsDataURL(q)})}c.blobToBase64=f;async function p(q,I){let ee,de;if(!I){let Re=/^data:(.+?);base64,(.+)$/.exec(q);if(!Re)throw new Error(`[taon-framework][base64toBlob] Not a base64 blob [${q}]`);var[pe,Ke,ce]=Re;ee=Ke,de=ce}ee=I||ee||"",q=I?q:de;let st=1024,Mt=atob(q),Wt=Mt.length,Kn=Math.ceil(Wt/st),xn=new Array(Kn);for(let Re=0;Re<Kn;++Re){let Tn=Re*st,In=Math.min(Tn+st,Wt),Tt=new Array(In-Tn);for(let vr=Tn,Un=0;vr<In;++Un,++vr)Tt[Un]=Mt[vr].charCodeAt(0);xn[Re]=new Uint8Array(Tt)}return new Blob(xn,{type:ee})}c.base64toBlob=p;async function g(q){let I;return I=await(async()=>T_?await p(q):q)(),I}c.base64toDbBinaryFormat=g;async function v(q){let I;return I=await(async()=>T_?await f(q):q)(),I}c.dbBinaryFormatToBase64=v;async function E(q){let I;return I=await(async()=>T_?await J(q):q)(),I}c.textToDbBinaryFormat=E;async function D(q){let I;return I=await(async()=>T_?await re(q):q)(),I}c.dbBinaryFormatToText=D;async function P(q){return new Blob([new Uint8Array(await q.arrayBuffer())],{type:q.type})}c.fileToBlob=P;async function K(q,I="my-file-name"){return I||(I="nonamefile"+new Date().getTime()),new File([q],I)}c.blobToFile=K;async function J(q,I="text/plain"){return new Blob([q],{type:I})}c.textToBlob=J;async function re(q){return await q.text()}c.blobToText=re;async function he(q,I){let ee=Ls.extname(I),de=bi.mimeTypes[ee],pe=new Blob([q],{type:de});return await K(pe,I)}c.textToFile=he;async function y(q){return await q.text()}c.fileToText=y;async function Te(q){return new Blob([JSON.stringify(q,null,2)],{type:"application/json"})}c.jsonToBlob=Te;async function De(q){return JSON.parse(await q.text())}c.blobToJson=De;async function Ve(q){return(await oa({url:q,method:"get",responseType:"blob"})).data}c.getBlobFrom=Ve})(o=n.binary||(n.binary={}));let a;(function(c){function u(l){return parseInt(l?.toString()?.replace("px",""))}c.numValue=u})(a=n.css||(n.css={}))})(ic||(ic={}));var I_;(function(n){n.startAsync=async(i,s,o)=>{},n.startAsyncChildProcessCommandUntil=async(i,s)=>{},n.getGitBashPath=()=>{},n.startInNewTerminalWindow=(i,s)=>{},n.getBashOrShellName=()=>"browser",n.getUsageForPid=async i=>{};async function e(i){}async function t(i){}async function r(i){}n.getChildPidsOnce=r,n.getCurrentProcessAndChildUsage=async()=>{},n.killAllJava=async()=>{},n.killProcess=async i=>{},n.killProcessOnPort=async i=>{if(!i||isNaN(i)||gt.isBrowser)return Le.warn(`[UtilsProcess.killProcessOnPort]: Invalid port number: ${i}`),!1},n.killAllOtherNodeProcesses=async()=>{},n.isNodeVersionOk=i=>{if(!globalThis||!globalThis.process||!globalThis.process.version)return!1;i=i||{},i.required=i.required||"18.0.0";let s=globalThis.process.version.replace(/^v/,""),[o,a,c]=s.split(".").map(Number),[u,l,f]=i.required.replace(/^v/,"").split(".").map(Number),p=o>u||o===u&&a>l||o===u&&a===l&&c>=f;if(i?.log&&console.log(p?`\u2705 Node.js version OK (required \u2265 ${i.required}, current ${s})`:`\u274C Node.js version too low (required \u2265 ${i.required}, current ${s})`),i?.throwErrorIfNotOk&&!p)throw new Error(`Node.js version too low (required \u2265 ${i.required}, current ${s})`);return p},n.getPathOfExecutable=async i=>{}})(I_||(I_={}));var Boe;(function(n){class e{get maxBuffer(){}get env(){}constructor(r,i,s={}){this.command=r,this.args=i,this.execProcOptions=s,this.stdoutFromCommand="",this.stderrFromCommand=""}async getOutput(r){}async getStdoutWithoutShowingOrThrow(){let{stdout:r}=await this.getOutput();return r}async waitUntilDoneOrThrow(r){}}n.spawnAsync=(t,r)=>{r=r||{},r.cwd=Eo(r.cwd||process.cwd());let[i,...s]=t.split(" ");return new e(i,s)},n.spawnAdminSudo=async(t,r)=>{},n.executeUntilEndOrThrow=async({command:t,cwd:r})=>{},n.getStdoutWithoutShowingOrThrow=async({command:t,cwd:r})=>{}})(Boe||(Boe={}));var qoe;(function(n){let e;(function(s){s.NotInstalled="NotInstalled",s.Disabled="Disabled",s.Enabled_ForceNewWindow="Enabled_ForceNewWindow",s.Enabled_Inline="Enabled_Inline",s.Unknown="Unknown"})(e||(e={})),n.isCurrentProcessElevated=async()=>await FXe();let t={[e.NotInstalled]:"sudo is not installed",[e.Disabled]:"sudo is disabled",[e.Enabled_ForceNewWindow]:"sudo enabled \u2192 opens new window (ForceNewWindow)",[e.Enabled_Inline]:"sudo enabled \u2192 inline mode (runs in same window)",[e.Unknown]:"sudo present but status unknown"};async function r(){}async function i(){}n.getStatus=i,n.isInProperModeForTaon=async({displayErrorMessage:s=!1})=>{}})(qoe||(qoe={}));var Ou;(function(n){n.IGNORE_FOLDERS_FILES_PATTERNS=["**/node_modules/**","**/.git/**/**",`**/${BXe}/**`,`**/${qXe}/**`,"**/tmp-*","**/tmp-*/**"],n.readFile=(t,r)=>{},n.writeFile=(t,r,i)=>{};let e=(t,r)=>{};n.getFilesFrom=(t,r)=>{},n.getFoldersFrom=(t,r)=>{},n.copy=(t,r,i)=>{},n.filterDontCopy=(t,r)=>{},n.filterOnlyCopy=(t,r)=>{},n.copyFile=(t,r,i)=>{},n.move=(t,r,i)=>{}})(Ou||(Ou={}));var joe;(function(n){n.IGNORE_FOLDERS_FILES_PATTERNS=Ou.IGNORE_FOLDERS_FILES_PATTERNS;let e=async(c,u)=>{},t=async(c,u)=>{};async function r(c,u={}){return null}let i=async(c,u)=>{},s=async(c,u,l)=>{},o=async c=>{},a=async c=>{}})(joe||(joe={}));var gt;(function(n){n.isRunningInBrowser=()=>!0,n.isRunningInNode=()=>!1,n.isRunningInWebSQL=()=>!0,n.isRunningInSSRMode=()=>typeof globalThis.window>"u",n.isRunningInElectron=()=>!!(typeof process<"u"&&process?.versions?.electron||typeof globalThis<"u"&&globalThis?.process?.type==="renderer"||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&/Electron/i.test(navigator.userAgent)),n.isRunningInVscodeExtension=()=>{},n.isRunningInWsl=()=>!1;let e=()=>{},t=E=>{};n.isRunningInWindowsPowerShell=()=>t(["powershell.exe","pwsh.exe"])!==void 0,n.isRunningInWindowsCmd=()=>t(["cmd.exe"])!==void 0,n.isRunningInDocker=()=>!1,n.isRunningInLinuxGraphicsCapableEnvironment=()=>{},n.isRunningInOsWithGraphicsCapableEnvironment=()=>{},n.isRunningInCliMode=()=>!1,n.isRunningInMochaTest=()=>!1;let r=(E,D)=>{};n.isPortInUse=async(E,D)=>{},n.isDockerAvailable=async()=>{if(n.isBrowser)return!1},n.openFolderInVSCode=E=>{},n.openFolderInFileExplorer=E=>{},n.getRealHomeDir=()=>"",n.EditorArr=["code","codium","cursor","theia","idea","idea64"],n.EDITOR_PROCESSES={code:["code","Code"],codium:["codium","VSCodium"],cursor:["cursor","Cursor"],theia:["theia","TheiaIDE"],"code-oss":["code","Code","codium","VSCodium","cursor","Cursor","theia","TheiaIDE"],idea:["idea","idea64","IntelliJ IDEA"],idea64:["idea64","idea","IntelliJ IDEA"]};let i=E=>{};n.killAllEditor=E=>{},n.detectEditor=()=>{},n.getEditorSettingsJsonPath=(E,D=process.platform,P=process.env)=>{},n.isRunningNodeDebugger=()=>!1,n.isNodeVersionOk=I_.isNodeVersionOk,n.isElectron=n.isRunningInElectron(),n.isBrowser=n.isRunningInBrowser(),n.isNode=n.isRunningInNode(),n.isWebSQL=n.isRunningInWebSQL(),n.isVscodeExtension=n.isRunningInVscodeExtension(),n.isSSRMode=n.isRunningInSSRMode();let s=!1;n.isRunningInWindows=s;let o=async E=>{},a=E=>{},c=async E=>{},u=E=>{},l=async E=>{},f=async E=>{},p=E=>{},g=E=>{};n.commandExistsAsync=async E=>{},n.commandExistsSync=E=>n.isRunningInWindows?g(E):p(E),n.pipxPackageExists=E=>{},n.pipxNestedPackageExists=(E,D)=>{};let v=E=>E.replace(/-/g,"_");n.pythonModuleExists=async(E,D="python3")=>{}})(gt||(gt={}));var M_=(function(n){return n.getTimestampFromClassName=e=>{let[t,r]=e.split("_")||[],i=parseInt(t),s=parseInt(r),o=k.isNaN(i)?s:i;return n.isValidTimestamp(o)?o:void 0},n.getFormattedTimestampFromClassName=e=>{let t=n.getTimestampFromClassName(e);if(t)return n.formatTimestamp(t)},n.formatTimestamp=e=>{let t=new Date(e);return`${NXe(t,"dd-mm-yyyy HH:MM:ss")}`},n.isValidTimestamp=e=>typeof e!="number"?!1:e>=0&&e<=864e13,n})(M_||{}),Nd;(function(n){n.wait=ic.wait,n.waitMilliseconds=ic.waitMilliseconds,n.isVerboseModeTaon=()=>{},n.waitForUserAnyKey=async(r,i)=>{},n.getTerminalHeight=()=>{},n.clearConsole=()=>{};let e=r=>{};n.multiselect=async r=>{},n.multiselectActionAndExecute=async(r,i)=>{},n.selectActionAndExecute=async(r,i)=>{},n.select=async r=>{},n.pipeEnterToStdin=()=>{},n.input=async({defaultValue:r,question:i,required:s,validate:o})=>{},n.confirm=async r=>{},n.pressAnyKeyToContinueAsync=r=>{},n.pressKeyAndContinueSync=(r="Press enter to continue..")=>{},n.pressAnyKeyToTryAgainErrorOccurred=async r=>{},n.pressAnyKey=r=>{},n.previewLongList=async(r,i="List")=>{},n.previewLongListGitLogLike=async r=>{},n.drawBigText=async(r,i)=>{};let t=async()=>{}})(Nd||(Nd={}));var qp;(function(n){n.getAtrributiesFromJsonWithComments=(t,r)=>{let i=r.split(`
`),o=t.split(".").reduce((l,f)=>{if(l.length===0)return[f];let p=l[l.length-1];return p.startsWith("['")&&f.endsWith("']")||p.startsWith('["')&&f.endsWith('"]')?l[l.length-1]=[p,f].join("."):l.push(f),l},[]).pop().replace(/^\["(.+)"\]$/,"$1"),a="",c=[],u=[];for(let l of i){let f=l.trim();if(f.startsWith("//"))u.push(f);else if(f.startsWith('"')||f.startsWith("'")){let p=f.match(/["']([^"']+)["']\s*:/);if(p){let g=p[1];if(a=a?`${a}.${g.includes(".")?`['${g}']`:g}`:g,a.endsWith(o)&&!a.endsWith("/"+o)||a.endsWith(`['${o}']`)){c=e(u);break}u=[]}}}return c},n.getAttributiesFromComment=(t,r=[])=>{let i=/@(\w+)(?:\s*=\s*(?:"([^"]*)"|'([^']*)'|([^\s@]+)))?/g,s;for(;(s=i.exec(t))!==null;){let[,o,a,c,u]=s,l=a??c??u,f=r.find(p=>p.name===`@${o}`);f?l!==void 0&&(Array.isArray(f.value)?f.value.push(l):f.value=[f.value,l]):r.push({name:`@${o}`,value:l!==void 0?l:!0})}return r.forEach(o=>{Array.isArray(o.value)&&o.value.length===1&&(o.value=o.value[0])}),r};let e=t=>{let r=[];for(let i of t)n.getAttributiesFromComment(i,r);return r};n.readJson=(t,r={},i=!1)=>{},n.readJsonWithComments=(t,r={})=>{}})(qp||(qp={}));var $oe;(function(n){let e="xxxxx",r="IxIxI";n.embedData=(i,s,o)=>{o=o||{};let a=Ls.extname(s),c=Ls.basename(s,a);return`${Object.entries(i).map(([l,f])=>(o.keysMap&&o.keysMap[l]&&(l=o.keysMap[l]),`${l}...${f??""}`)).join(r)}${e}${o.skipAddingBasenameAtEnd?"":c}${a}`},n.extractData=(i,s)=>{s=s||{};let o=Ls.extname(i),c=o.includes("|")||o.includes("-")?i:Ls.basename(i,o),u=c.lastIndexOf(e),l=u>=0?c.substring(0,u):c,f={},p=0;for(;p<=l.length;){let g=l.indexOf(r,p),v=g===-1?l.substring(p):l.substring(p,g);if(v){let E=v.indexOf("...");if(E>-1){let D=v.substring(0,E),P=v.substring(E+3),K=s.keysMap?Object.keys(s.keysMap||{}).find(J=>s.keysMap[J]===D):D;f[K]=P}}if(g===-1)break;p=g+r.length}return f},n.getOnlyMetadataString=i=>{let s=Ls.extname(i),o=Ls.basename(i,s),a=o.lastIndexOf(e);if(a===-1)return"";let c=o.substring(0,a);return c.trim()?c:""}})($oe||($oe={}));var Voe;(function(n){let e=t=>{let r=t.trim().replace(/^"|"$/g,"");return r.toLowerCase()==="true"?!0:r.toLowerCase()==="false"?!1:!isNaN(Number(r))&&r!==""?Number(r):r};n.setValueToDotFile=(t,r,i)=>{},n.setCommentToKeyInDotFile=(t,r,i)=>{},n.getValueFromDotFile=(t,r)=>{},n.addCommentAtTheBeginningOfDotFile=(t,r)=>{},n.setValuesKeysFromObject=(t,r,i)=>{},n.getValuesKeysAsJsonObject=t=>{},n.getCommentsKeysAsJsonObject=t=>{}})(Voe||(Voe={}));var rc=(function(n){return n.SIMULATE_DOMAIN_TAG="@simulatedDomainByTaon",n.getPath=()=>Eo(""),n.getLines=()=>{},n.getTokensData=e=>{},n.specificEntryExists=(e,t)=>{},n.getEntriesByDomain=e=>{},n.getEntryByComment=e=>{},n.getEntriesByIp=e=>{},n.removeEntryByDomain=e=>{},n.simulateDomain=async(e,t)=>{},n})(rc||{}),Uoe;(function(n){async function e(s,o=3e3){}n.checkPing=e,n.checkIfServerPings=async(s,o=3e3)=>{},n.checkIfServerOnline=async(s,o=80,a=3e3)=>{},n.isValidIp=s=>k.isString(s)?(s=s.trim(),s==="localhost"?!0:/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(s)):!1,n.isValidDomain=(s,o)=>{if(!s||typeof s!="string")return!1;let c=!!o?.shouldIncludeProtocol?/^(https?:\/\/)([a-zA-Z0-9-]{1,63}\.)+[a-zA-Z]{2,}$/:/^([a-zA-Z0-9-]{1,63}\.)+[a-zA-Z]{2,}$/;return typeof o?.shouldIncludeProtocol=="string"&&o?.shouldIncludeProtocol==="http"&&!s.startsWith("http://")||typeof o?.shouldIncludeProtocol=="string"&&o?.shouldIncludeProtocol==="https"&&!s.startsWith("https://")?!1:c.test(s.trim())},n.urlParse=(s,o)=>{o=o||{};let a,c=o.httpsIfNotProvided?"https:":"http:";if(s instanceof URL)a=s;else if(k.isNumber(s))a=new URL(`${c}//localhost:${s}`);else if(!k.isNaN(Number(s)))a=new URL(`${c}//localhost:${Number(s)}`);else if(k.isString(s)){try{a=new URL(s)}catch{}if(n.isValidIp(s))try{a=new URL(`${c}//${s}`)}catch{Le.warn(`Not able to get port from ${s}`)}if(o.forceDomain){let u=s;a=new URL(u.startsWith("http")?u:`http://${s}`)}}return a},n.getEtcHostsPath=rc.getPath,n.SIMULATE_DOMAIN_TAG=rc.SIMULATE_DOMAIN_TAG,n.setEtcHost=(s,o="127.0.0.1",a="")=>{},n.getEtcHostEntriesByDomain=rc.getEntriesByDomain,n.getEtcHostEntryByComment=rc.getEntryByComment,n.getEtcHostEntryByIp=rc.getEntriesByIp,n.removeEtcHost=rc.removeEntryByDomain,n.etcHostHasProperLocalhostIp4Entry=()=>{},n.etcHostHasProperLocalhostIp6Entry=()=>{},n.simulateDomain=rc.simulateDomain;let t=s=>{let o=s.toLowerCase();return o.includes("virtual")||o.includes("vmware")||o.includes("vbox")||o.includes("hyper-v")||o.includes("wsl")||o.includes("docker")||o.includes("veth")||o.includes("default switch")},r=s=>{let o=s.toLowerCase();return t(o)?"virtual":o.includes("eth")||o.includes("en")||o.includes("lan")?"lan":o.includes("wl")||o.includes("wi-fi")||o.includes("wifi")?"wifi":"other"},i=(s,o)=>{let a={lan:1,wifi:2,other:3,virtual:4},c=a[s.type],u=a[o.type];if(c!==u)return c-u;let l=s.interfaceName.toLowerCase(),f=o.interfaceName.toLowerCase(),p=v=>v.includes("ethernet")&&!v.includes("vethernet")?0:1,g=p(l)-p(f);return g!==0?g:l.localeCompare(f)};n.getLocalIpAddresses=async()=>{},n.getFirstIpV4LocalActiveIpAddress=async()=>{},n.getCurrentPublicIpAddress=async()=>{}})(Uoe||(Uoe={}));var Hoe;(function(n){let e="file.log";n.baseDirTaonProcessLogs=()=>Eo([gt.getRealHomeDir(),".taon","log-files-for"]),n.getLogsFiles=(i,s)=>{};class t{get processLogFilename(){return this._processLogFilename}get processLogAbsFilePath(){return this._logFilePath}constructor(s,o){this.dataForFilename=s,this.options=o,this._logFilePath=null,this.writeStream=null,this._processLogFilename=null,this.lastNLinesFromStderr=[],this.lastNLinesFromStdout=[],this.lastNLinesFromOfOutput=[]}startLogging(s,o){}stopLogging(){}update(s,o){}}n.ProcessFileLogger=t,n.createStickyTopBox=i=>{};let r=i=>{}})(Hoe||(Hoe={}));var Woe;(function(n){let e=Symbol("cliMethod"),t="unknownclass";n.staticClassNameProperty=bi.ClassNameStaticProperty,n.decoratorMethod=r=>(i,s,o)=>{},n.getFrom=(r,i)=>{}})(Woe||(Woe={}));var Rd={},_o={},UBt={LAST_ERROR:Symbol(),LAST_INFO:Symbol(),LAST_WARN:Symbol(),LAST_LOG:Symbol(),LAST_SUCCESS:Symbol(),LAST_TASK_STARTED:Symbol(),LAST_TASK_DONE:Symbol()},HBt={LAST_ERROR:Symbol(),LAST_INFO:Symbol(),LAST_WARN:Symbol(),LAST_LOG:Symbol(),LAST_SUCCESS:Symbol(),LAST_TASK_STARTED:Symbol(),LAST_TASK_DONE:Symbol()},WBt={LAST_ERROR:Symbol(),LAST_INFO:Symbol(),LAST_WARN:Symbol(),LAST_LOG:Symbol(),LAST_SUCCESS:Symbol(),LAST_TASK_STARTED:Symbol(),LAST_TASK_DONE:Symbol()};var Le;(function(n){n.getIsBrowser=()=>gt.isRunningInBrowser(),n.getIsWebSQL=()=>gt.isRunningInWebSQL(),n.getIsNode=()=>gt.isRunningInNode(),n.getIsElectron=()=>gt.isRunningInElectron(),n.contain=(r,i)=>r.filter(s=>s instanceof RegExp?s.test(i):!!(s===i||i.match&&typeof i.match=="function"&&i.match(s))).length>0;let e=r=>{if(typeof r=="object")try{r=JSON.stringify(r,null,2)}catch{return r}return r};n.msgCacheClear=()=>{},n.renderError=r=>{n.getIsBrowser()&&console.error(r)},n.throwError=r=>{throw new Error(r)},n.stopApplication=r=>{throw n.getIsBrowser()&&(document.body.innerHTML="<h1>Application has encountered an error and stopped.</h1>",document.body.style.pointerEvents="none"),new Error(r)},n.tryCatchError=r=>{n.error(r,!0,!0)},n.error=(r,i=!1,s=!1)=>{if(n.getIsBrowser()){console.error(r);return}},n.info=(r,i=!1)=>{if(n.getIsBrowser()){console.info(r);return}},n.success=r=>{if(n.getIsBrowser()){console.info(r);return}},n.taskStarted=(r,i=!1)=>{if(n.getIsBrowser()){console.info(r);return}},n.taskDone=(r,i=!1)=>{if(n.getIsBrowser()){console.info(r);return}},n.getIsVerboseMode=()=>!0,n.log=(r,i=0)=>{if(n.getIsBrowser()){console.log(r);return}},n.logSuccess=r=>{},n.logInfo=(r,i=!1)=>{},n.logError=(r,i=!1,s=!1)=>{},n.logWarn=(r,i=!1)=>{},n.warn=(r,i=!1)=>{if(n.getIsBrowser()){console.warn(r);return}};let t=[];n.bigMaxBuffer=2024*500,n.getIsWsl=()=>gt.isRunningInWsl(),n.isRunningInDocker=()=>gt.isRunningInDocker(),n.isRunningInLinuxGraphicsCapableEnvironment=()=>gt.isRunningInLinuxGraphicsCapableEnvironment(),n.clearConsole=()=>Nd.clearConsole(),n.mediaTypeFromSrc=r=>{let i=Ls.extname(r),s=bi.mimeTypes[i];return k.first(s?.split("/"))},n.sleep=(r=1)=>{},n.removeIfExists=r=>{},n.relative=(r,i)=>Eo(Ls.relative(r,i)),n.removeFileIfExists=r=>{},n.removeFolderIfExists=r=>{},n.removeEmptyLineFromString=r=>{},n.tryRemoveDir=(r,i=!1,s=!1)=>{},n.removeSymlinks=(r,i)=>{},n.remove=(r,i=!1)=>{},n.cleanExit=()=>{},n.getIsRunningInGitBash=()=>{},n.getIsSupportedTaonTerminal=()=>!1,n.isClass=r=>{let i=!1;return typeof r=="function"&&(i=!!r.prototype&&Object.getOwnPropertyNames(r.prototype).filter(s=>s!=="constructor").length>0),i},n.isBlob=r=>r instanceof Blob,n.isBuffer=r=>Buffer.isBuffer(r),n.removeSlashAtEnd=r=>(r=r?.endsWith("/")?r.slice(0,r.length-1):r,r),n.removeSlashAtBegin=r=>(r=r?.startsWith("/")?r.slice(1):r,r),n.stringify=r=>JSON.stringify(r,null,2),n.runSyncOrAsync=async r=>{if(k.isUndefined(r))return;let i,{functionFn:s,context:o,arrayOfParams:a}=r;return i=s.apply(o,a),i instanceof Promise&&(i=Promise.resolve(i)),i},n.createSymLink=(r,i,s)=>{},n.createFolder=r=>n.mkdirp(r),n.mkdirp=r=>{},n.isSymlinkThatMatchesUrl=(r,i,s=!1)=>{},n.isSymlinkFileExitedOrUnexisted=r=>{},n.isUnexistedLink=r=>{},n.isExistedSymlink=r=>{},n.pathContainLink=r=>{let i;for(;;){if(r=Eo(Ls.dirname(r)),r===i)return!1;if(n.isExistedSymlink(r))return!0;if(!n.exists(r))return!1;i=r}},n.exists=r=>{},n._fixCommand=r=>{},n.command=r=>(r=n._fixCommand(r),{}),n.wait=async r=>{await Nd.wait(r)},n.timeout=async r=>{await n.wait(r)},n.commandOutputAsStringAsync=async(r,i=Eo(process.cwd()),s)=>{},n.commandOutputAsString=(r,i=Eo(process.cwd()),s)=>{},n.killProcessByPort=async(r,i)=>{},n.killOnPort=async(r,i)=>await n.killProcessByPort(r,i),n.killProcess=r=>{if(Rd[r]){let i=Rd[r].ppid;if(_o[i]){let s=_o[i].childProcesses;_o[i].childProcesses=s.filter(o=>o!==r)}delete Rd[r]}if(_o[r]){let i=_o[r].childProcesses;for(let s=0;s<i.length;s++){let o=i[s];delete Rd[o]}delete _o[r]}},n.run=(r,i)=>(r=n._fixCommand(r),{sync(){},async(s=!1,o){if(o){let a=new Ge,c=new Ge,u=new Ge,l=[],f={stdout:{on(v,E){v=="data"&&l.push(a.subscribe(D=>{E(D)}))}},stderr:{on(v,E){v=="data"&&l.push(c.subscribe(D=>{E(D)}))}},on(v,E){v=="exit"&&l.push(u.subscribe(D=>{E(D)}))},ppid:void 0,pid:void 0};f.pid=Math.round(Math.random()*900)+100,f.ppid=f.pid+9999,Rd[f.pid]=f,_o[f.ppid]||(_o[f.ppid]={childProcesses:[]}),_o[f.ppid].childProcesses.push(f.pid);let p=()=>k.isNil(Rd[f.pid])||k.isNil(_o[f.ppid]);return n.runSyncOrAsync({functionFn:o,arrayOfParams:[v=>{setTimeout(()=>{a.next(v)})},v=>{setTimeout(()=>{c.next(v)})},()=>p()]}).then(v=>{k.isNil(v)&&(v=0),setTimeout(()=>{u.next(v),l.forEach(E=>E.unsubscribe())})}).catch(v=>{console.error(v),console.error("Something wrong with your mock funciton"),u.next(1),l.forEach(E=>E.unsubscribe())}),f}},asyncAsPromise(){},unitlOutput(s){},unitlOutputContains(s,o,a=0,c){}}),n.questionYesNo=async(r,i,s,o=!0)=>{},n.getStdio=r=>{},n.runSyncIn=(r,i)=>{},n.runAsyncIn=(r,i)=>{},n.logProc=(r,i=!0,s,o,a,c)=>{},n.execute=(r,i,s)=>I_.startAsync(r,i,s),n.checkProcess=(r,i)=>{},n.modifyLineByLine=(r,i,s,o)=>{},n.isFolder=r=>{},n.values=r=>{if(k.isObject(r)&&!Array.isArray(r)){let i=[];for(let s in r)Object.prototype.hasOwnProperty.call(r,s)&&i.push(r[s]);return i}return[]},n.isFile=r=>{},n.tryReadFile=async(r,i=void 0,s=!1)=>{},n.readFile=(r,i=void 0,s=!1)=>Ou.readFile(r,{defaultValueWhenNotExists:i,notTrim:s}),n.readJson=(r,i={},s=!1)=>qp.readJson(r,i,s),n.readJson5=(r,i={})=>qp.readJsonWithComments(r,i),n.readJsonC=(r,i={})=>qp.readJsonWithComments(r,i),n.parse=(r,i=!1)=>k.isString(r)?i?Goe.parse(r):JSON.parse(r):(n.log(r),n.warn("[taon-core] Trying to parse no a string..."),r),n.compilationWrapper=async(r,i="Task",s="Compilation of")=>{},n.replaceLinesInFile=(r,i)=>{},n.writeFile=(r,i,s)=>Ou.writeFile(r,i,s),n.writeJson=(r,i,s)=>{},n.writeJson5=(r,i)=>n.writeJson(r,i,{writeJson5:!0}),n.writeJsonC=(r,i)=>n.writeJson5(r,i),n.foldersFrom=(r,i)=>{},n.linksToFoldersFrom=(r,i=!1)=>{},n.linksToFolderFrom=r=>{},n.getFilesFrom=(r,i)=>Ou.getFilesFrom(r,i),n.getFoldersFrom=(r,i)=>Ou.getFoldersFrom(r,i),n.filesFrom=(r,i=!1,s=!1)=>{},n.openFolderInFileExplorer=r=>{gt.openFolderInFileExplorer(r)},n.hideNodeWarnings=()=>{}})(Le||(Le={}));var zXe,eae={dirnameForTnp:zXe,packagesThat:{areTrustedForPatchUpdate:VXe},regexString:{pathPartStringRegex:"(/([a-zA-Z0-9]|\\-|\\_|\\+|\\.)*)"},placeholders:{forProjectsInEnvironmentFile:"//<PLACEHOLDER_FOR_PROJECTS>"},frameworkName:SXe,startPort:6001,frameworks:["bootstrap","ionic","material"],folder:$Xe,tempFolders:Yoe,filesNotAllowedToClean:Object.keys(iM).map(n=>iM[n]),file:jXe,reservedArgumentsNamesUglify:["reservedExpOne","reservedExpSec"],localLibs:[],helpAlias:["-h","--help","-help","help"]};var aM;(function(n){class e{}n.ParamConfig=e;class t{constructor(){this.parameters={}}}n.MethodConfig=t;class r{constructor(){this.singleton=void 0,this.injections=[],this.vChildren=[],this.methods={}}}n.ClassConfig=r})(aM||(aM={}));var wn={MODELS_MAPPING:Symbol(),DEFAULT_MODEL:Symbol(),STORAGE:"classesstorage",CLASSES:"classes",ClassNameStaticProperty:bi.ClassNameStaticProperty};function R_(){return k.cloneDeep({[wn.CLASSES]:[]})}function cM(n){return typeof n=="string"?cM()[n]:(typeof R_.prototype[wn.STORAGE]>"u"&&(R_.prototype[wn.STORAGE]=R_()),R_.prototype[wn.STORAGE])}function tae(){return cM()[wn.CLASSES]}function nae(n,e,t){let{classFamily:r,uniqueKey:i,classNameInBrowser:s,singleton:o}=t||{classFamily:void 0,uniqueKey:"id",classNameInBrowser:void 0,singleton:void 0,autoinstance:!1};if(!k.isUndefined(o)&&k.isBoolean(o)&&o&&(o="first-instance"),i||(i="id"),n){let u=k.first(ri.getClassConfig(n));u.className=e,u.uniqueKey=i,u.classNameInBrowser=s}let a=tae().find(u=>u.className===e);if(a)a.target=n;else{let u={className:e,classNameInBrowser:s,target:n,uniqueKey:i,classFamily:r};k.isUndefined(r)&&Object.defineProperty(u,"classFamily",{get:function(){let l=Object.getPrototypeOf(n);if(!k.isFunction(l)||l.name==="Object"||l.name==="")return e;let f=ri.getClassName(l);return ri.getClassFamilyByClassName(f)}}),tae().push(u)}let c=n;if(o==="first-instance"||o==="last-instance"){let u={decoratedConstructor:function(...l){let f=c.apply(this,l);return(!tt.getSingleton(c)||o==="last-instance")&&(tt.setSingletonObj(c,this),tt.setSingletonObj(u.decoratedConstructor,this)),f}};return u.decoratedConstructor.prototype=c.prototype,Object.keys(c).forEach(l=>{u.decoratedConstructor[l]=c[l]}),Object.defineProperty(u.decoratedConstructor,"name",{value:e,configurable:!0}),u.decoratedConstructor}else if(o==="autoinstance"){let u=new c;tt.setSingletonObj(c,u)}}var sc={configs:[],classes:[]},GXe=`[typescript-class-helpers][getClassName(...)](PRODUCTION MODE ERROR)
Please use decoartor @CLASSNAME for each entity or controller
This is preventing class name problem in minified code.

import { CLASS } from 'typescript-class-helpers';

@CLASS.NAME('ExampleClass')
class ExampleClass {
  ...
}
`;function jp(){return cM()[wn.CLASSES]}var ri;(function(n){function e(u,l=[],f){if(!k.isFunction(u))throw`[typescript-class-helper][getClassConfig] Cannot get class config from: ${u}`;let p,g=Object.getPrototypeOf(u),v=k.isFunction(g)&&g.name!=="";if(sc.classes.includes(u)?p=sc.configs[sc.classes.findIndex(E=>E===u)]:(p=new aM.ClassConfig,p.classReference=u,sc.classes.push(u)),sc.configs[sc.classes.findIndex(E=>E===u)]=p,f){let E=sc.configs[sc.classes.findIndex(D=>D===f)];p.vChildren.includes(E)||p.vChildren.push(E),E.vParent=p}return l.push(p),v?e(g,l,u):l}n.getClassConfig=e;function t(u,l){return function(f){return nae(f,u,l)}}n.CLASSNAME=t;function r(u,l=!1){if(k.isNil(u))return;if(k.isString(u))return Le.log(`[typescript-class-helpers][getClassName] target is string: '${u}', produciton: ${l}`),u;if(u===Date)return"Date";if(u===FormData)return"FormData";if(!k.isFunction(u)){Le.log("[typescript-class-helpers][getClassName] target is not a class");return}if(u[wn.ClassNameStaticProperty])return u[wn.ClassNameStaticProperty];let f=e(u),p=k.first(f),g=p?.classNameInBrowser;if(gt.isBrowser&&k.isString(g))return g;let v=p?.className;if(typeof v=="string")return v;if(l)throw console.log("class without @CLASS.NAME deocrator",u),new Error(GXe);return u.name?.startsWith("class_")?"":u.name}n.getClassName=r;function i(u){let l=vi.getNameFromObject(u),f=jp().find(p=>p.className===l);if(f)return f.uniqueKey}n.getObjectIndexPropertyValue=i;function s(u){let l=jp().find(f=>f.className===u);if(l)return l.classFamily}n.getClassFamilyByClassName=s;function o(u){let l=vi.getNameFromObject(u),f=jp().find(p=>p.className===l);if(f)return f.classFamily}n.getObjectClassFamily=o;function a(u){let l=vi.getNameFromObject(u),f=jp().find(p=>p.className===l);if(f&&k.isString(f.uniqueKey))return u[f.uniqueKey]}n.getObjectIndexValue=a;function c(u){let l;if(Array.isArray(u)){if(u.length!==1)throw`Mapping error... please use proper class names:
  {
    propertyObject: 'MyClassName',
    propertyWithArray: ['MyClassName']
  }

        `;u=u[0]}typeof u=="function"&&(l=u),u==="Date"&&(l=Date),u==="FormData"&&(l=FormData);let f=jp().find(p=>p.className===u);return f&&(l=f.target),l}n.getClassBy=c})(ri||(ri={}));var QXe=new RegExp(/(?:this\.)(.+?(?= ))/g);function rae(n,e=!1){var t=[];if(e){var r=Object.getPrototypeOf(n.prototype);r&&(t=t.concat(rae(r.constructor,e)))}let s=n.toString().match(QXe)||[];return t=t.concat(s),t.map(o=>o.replace("this.","").replace(".","").replace(")","").replace("(",""))}function KXe(n){let e={};if(n){n[wn.DEFAULT_MODEL]&&Object.keys(n[wn.DEFAULT_MODEL]).filter(i=>!k.isFunction(n[wn.DEFAULT_MODEL][i])).forEach(i=>e[i]=null);let r=n[wn.MODELS_MAPPING];k.isArray(r)?r.forEach(i=>{Object.keys(i).forEach(s=>{e[s]=null})}):r&&Object.keys(r).forEach(i=>{e[i]=null})}let t=Object.keys(e).filter(r=>!!r);return t=(t.includes("id")?[]:["id"]).concat(t),t}var vi=class{static getBy(e){return ri.getClassBy(e)}static getFromObject(e){if(k.isUndefined(e)||k.isNull(e))return;if(e.constructor)return e.constructor;let t=Object.getPrototypeOf(e);return t&&t.constructor}static getName(e,t=!1){return ri.getClassName(e,t)}static getNameFromObject(e){let t=this.getFromObject(e);return this.getName(t)}static getConfigs(e){return ri.getClassConfig(e)}static describeProperites(e){let t=rae(e),r=KXe(e),i={};return t.concat(r).forEach(s=>i[s]=s),Object.keys(i).filter(s=>!!s).filter(s=>typeof e.prototype[s]!="function")}},YXe=["length","name","arguments","caller","constructor","apply","bind","call","toString","__defineGetter__","__defineSetter__","hasOwnProperty","__lookupGetter__","__lookupSetter__","isPrototypeOf","propertyIsEnumerable","valueOf","__proto__","toLocaleString"],iae=(n,e=[])=>{if(!n)return e;let t=k.isFunction(n),r=t?n:Object.getPrototypeOf(n),i=t?n?.prototype:n,s=Object.getPrototypeOf(i||{});return k.uniq([...Object.getOwnPropertyNames(i||{}),...Object.getOwnPropertyNames(s||{}),...Object.keys(i||{}),...Object.keys(s||{})]).filter(a=>!!a&&!YXe.includes(a)).filter(a=>typeof i[a]=="function").forEach(a=>e.push(a)),!r||!r.constructor||r?.constructor?.name==="Object"?e:iae(Object.getPrototypeOf(r),e)},tt={NAME:ri.CLASSNAME,setName:nae,getBy:vi.getBy,getSingleton(n){if(typeof n!="function"){console.error("[typescript-class-helpers][setSingletonObj] Type of target is not a function");return}return vi.getConfigs(n)[0].singleton},setSingletonObj(n,e){if(typeof n!="function"){console.error("[typescript-class-helpers][setSingletonObj] Type of target is not a function");return}if(Array.isArray(e)){console.error("[typescript-class-helpers][setSingletonObj] Singleton instance cant be an array");return}if(typeof e!="object"){console.error("[typescript-class-helpers][setSingletonObj] Singleton instance cant must be a object");return}let t=tt.getName(n),r=vi.getConfigs(n)[0];r.singleton&&console.warn(`[typescript-class-helpers] You are trying to set singleton of "${t}" second time with different object.`),r.singleton=e},getConfigs:vi.getConfigs,getConfig:n=>k.first(vi.getConfigs(n)),getMethodsNames(n){return iae(n)},getFromObject:vi.getFromObject,getName:vi.getName,getNameFromObject:vi.getNameFromObject,describeProperites:vi.describeProperites,OBJECT:n=>({get indexValue(){return ri.getObjectIndexValue(n)},get indexProperty(){return ri.getObjectIndexPropertyValue(n)},get isClassObject(){if(!k.isObject(n)||k.isArray(n)||k.isRegExp(n)||k.isBuffer(n)||k.isArrayBuffer(n))return!1;if(k.isDate(n))return!0;let e=tt.getNameFromObject(n);return k.isString(e)&&e!=="Object"},isEqual:(e,t=!1)=>{if(!tt.OBJECT(n).isClassObject||!tt.OBJECT(e).isClassObject)return!1;if(n===e)return!0;let r=ri.getObjectIndexValue(n),i=ri.getObjectIndexValue(e),s=ri.getObjectClassFamily(n),o=ri.getObjectClassFamily(e);return!k.isString(s)||!k.isString(o)||s!==o||!tt.OBJECT(n).isClassObject||!tt.OBJECT(e).isClassObject?!1:k.isNumber(r)&&k.isNumber(i)||k.isString(r)&&k.isString(i)?r===i:t?k.isEqual(r,i):!1}})};function sae(n,e,t){let r=n.v;if(k.isArray(r))return r.map((i,s)=>({v:i,p:`${e}[${s}]`,parent:n,isGetter:!1}));if(k.isObject(r)){let i=t?Object.getOwnPropertyNames(r):[],s=[];for(let o in r)k.isObject(r)&&k.isFunction(r.hasOwnProperty)&&r.hasOwnProperty(o)&&(k.pull(i,o),s.push({v:r[o],p:`${e===""?"":`${e}.`}${o}`,parent:n,isGetter:!1}));if(t){for(let o=0;o<i.length;o++)if(k.isObject(r)){let a=i[o];s.push({v:r[a],p:`${e===""?"":`${e}.`}${a}`,parent:n,isGetter:!0})}}return s}return[]}var N_=class{static get Walk(){let e=this;return{Object(t,r,i){k.isUndefined(i)&&(i={}),i.hasIterator=k.isFunction(r),k.isUndefined(i.breadthWalk)&&(i.breadthWalk=!1);let{circural:s}=e._walk(t,t,r,void 0,i);return{circs:s}},ObjectBy(t,r,i,s){k.isFunction(i)&&i(r,"",e._changeValue(r,t,!0));let o=r[t];return e.Walk.Object(o,i,s)}}}static _changeValue(e,t,r=!1,i){var{contextPath:s,property:o}=this._prepareParams(t),a=k.get(e,s);return c=>{s===""&&(r=!0),r?e[o]=c:a&&(a[o]=c),i&&(i._valueChanged=!0)}}static _prepareParams(e){let t=this._Helpers.Path.getContextPath(e),r=this._Helpers.Path.getPropertyPath(e,t);return k.isString(r)&&r.trim()!==""&&!k.isNaN(Number(r))&&(r=Number(r)),{contextPath:t,property:r}}static get _Helpers(){return{get Path(){return{getPropertyPath(e,t){return e.replace(t,"").replace(/^\./,"").replace(/\[/,"").replace(/\]/,"")},getContextPath(e){let t;return e.endsWith("]")?t=e.replace(/\[(\"|\')?[0-9]+(\"|\')?\]$/,""):t=e.replace(/\.([a-zA-Z0-9]|\$|\_|\@|\-|\/|\:)+$/,""),t===e?"":t}}}}}static _shoudlReturn(e=[],t=[],r){let i=!1;return r.replace(/^\[(\'|\")?[0-9]*(\'|\")?\]/,"").trim()!==""&&(r=r.replace(/^\[(\'|\")?[0-9]*(\'|\")?\]\./,""),i=k.isArray(e)&&e.length>0&&!e.find(s=>r.startsWith(s))||k.isArray(t)&&t.length>0&&!!t.find(s=>r.startsWith(s))),i}static prepareOptions(e,t,r){if(e._exit)return;k.isUndefined(e.walkGetters)&&(e.walkGetters=!0),k.isUndefined(e.checkCircural)&&(e.checkCircural=!1),k.isUndefined(e.isGetter)&&(e.isGetter=!1),k.isUndefined(e._valueChanged)&&(e._valueChanged=!1),k.isUndefined(e._exit)&&(e._exit=!1),k.isUndefined(e.exit)&&(e.exit=()=>{e._exit=!0}),k.isUndefined(e._skip)&&(e._skip=!1),k.isUndefined(e.skipObject)&&(e.skipObject=()=>{e._skip=!0}),e.checkCircural&&(k.isUndefined(e.db)&&(e.db={}),k.isUndefined(e.stack)&&(e.stack=[]),k.isUndefined(e.circural)&&(e.circural=[]));let{db:i,stack:s}=e;if(e.isCircural=!1,e.checkCircural&&k.isObject(t)){let o=tt.OBJECT(t).indexValue;if(tt.OBJECT(t).isClassObject&&!k.isUndefined(o)){let c=`${tt.getNameFromObject(t)}.id_${o}`,u=k.get(i,c);if(u&&tt.OBJECT(u.target).isEqual(t)){let l={pathToObj:r,circuralTargetPath:u.path};e.circural.push(l),e.isCircural=!0}else k.set(i,c,{path:r,target:t})}else{let a=s.find(c=>c.target==t);if(k.isUndefined(a))s.push({path:r,target:t});else{let c={pathToObj:r,circuralTargetPath:a.path};e.circural.push(c),e.isCircural=!0}}}return e}static _walk(e,t,r,i="",s,o=0){if(s||(s={}),!s.breadthWalk){if(s=this.prepareOptions(s,t,i),this._shoudlReturn(s.include,s.exclude,i))return;if(s.hasIterator&&i!==""&&r(t,i,this._changeValue(e,i,!1,s),s),s._valueChanged&&(t=k.get(e,i)),s._valueChanged=!1,s.isCircural&&(s._skip=!0),s._skip){s._skip=!1;return}}if(s.breadthWalk){let a=[{v:e,p:i,parent:void 0}];for(;a.length>0;){let c=a.shift();if(this._shoudlReturn(s.include,s.exclude,c.p))continue;let{v:u,p:l}=c;if(s=this.prepareOptions(s,u,l),s._exit)return console.log("EXIT"),s;if(s.hasIterator&&l!==""&&r(u,l,this._changeValue(e,l,!1,s),s),s._valueChanged&&(c.v=k.get(e,l)),s._valueChanged=!1,!s.isCircural){if(s._skip){s._skip=!1;continue}(k.isArray(u)||k.isObject(u))&&(a=a.concat(sae(c,l,s.walkGetters)))}}}else{let{walkGetters:a}=s;if(Array.isArray(t))t.forEach((c,u)=>{this._walk(e,t[u],r,`${i}[${u}]`,s,o+1)});else if(k.isObject(t)){let c=a?Object.getOwnPropertyNames(t):[];for(let u in t)if(k.isObject(t)&&t.hasOwnProperty(u)){k.pull(c,u);let l=u;s.isGetter=!1,l.includes(".")&&(l=`['${l}']`),this._walk(e,t[l],r,`${i===""?"":`${i}.`}${l}`,s,o+1)}if(a){for(let u=0;u<c.length;u++)if(k.isObject(t)){let l=c[u];s.isGetter=!0,this._walk(e,t[l],r,`${i===""?"":`${i}.`}${l}`,s,o+1)}}}s._exit&&e===t&&(s._exit=!1)}return s}},oc={Object:N_.Walk.Object,ObjectBy:N_.Walk.ObjectBy};var cs=class{static structureArray(e,t){let r=[],{include:i,exclude:s}=t||{};return oc.Object(e,(o,a)=>{k.isUndefined(o)||r.push(a)},{include:i,exclude:s,checkCircural:!0}),r}static cleaned(e,t,r){let i=k.isArray(e)?[]:{},s=tt.OBJECT(e).isClassObject&&tt.getFromObject(e),{exclude:o,include:a,breadthWalk:c}=r||{exclude:[],include:[],breadthWalk:!1},{circs:u}=oc.Object(e,(l,f,p,g)=>{k.isObject(l)&&g.isCircural?k.set(i,f,null):k.set(i,f,k.cloneDeep(l))},{include:a,exclude:o,breadthWalk:c,checkCircural:!0});return k.isFunction(t)&&t(u),k.isFunction(s)?k.merge(new s,i):i}static stringify(e,t,r,i){let s=this.cleaned(e,i);return JSON.stringify(s,t,r)}static parse(e,t=[]){let r=JSON.parse(e);return k.isArray(t)&&t.forEach(({circuralTargetPath:i,pathToObj:s})=>{if(i==="")k.set(r,s,r);else{let o=k.get(r,i);k.set(r,s,o)}}),r}};var dae=R(aae(),1);var Ze=(function(n){return n[n.DATA=0]="DATA",n[n.INFO=1]="INFO",n[n.WARN=2]="WARN",n[n.ERROR=3]="ERROR",n[n.SUCCESS=4]="SUCCESS",n[n.TASK_STARTED=5]="TASK_STARTED",n[n.TASK_DONE=6]="TASK_DONE",n[n.__NOTHING=7]="__NOTHING",n})(Ze||{}),ac={[Ze.DATA]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error",[Ze.SUCCESS]:"success",[Ze.TASK_STARTED]:"taskstarted",[Ze.TASK_DONE]:"taskdone",[Ze.__NOTHING]:""},cae=[ac[Ze.DATA],ac[Ze.TASK_STARTED],ac[Ze.TASK_DONE],ac[Ze.INFO],ac[Ze.SUCCESS],ac[Ze.WARN],ac[Ze.ERROR]],ca=class{static msg(e,t,r,i,s,o,a){if(a)return;let c="gray";if(s===Ze.INFO&&(c="deepskyblue"),s===Ze.ERROR&&(c="red"),s===Ze.WARN&&(c="orange"),o){let u=o-r.length;if(u>0)for(let l=0;l<u;l++)r+=" "}if(gt.isBrowser)if(document.documentMode||/Edge/.test(navigator.userAgent)){if(typeof e=="string"){let l="[[ "+r+" ]] "+e+" ";t.unshift(l)}else{let l="[[ "+r+"]] ";t.push(e),t.unshift(l)}s===Ze.INFO?console.info.apply(console,t):s===Ze.ERROR?console.error.apply(console,t):s===Ze.WARN?console.warn.apply(console,t):console.log.apply(console,t)}else{if(typeof e=="string"){let l="%c "+r+"  %c "+e+" ",f="background: "+i+";color:white; border: 1px solid "+i+"; ",p="border: 1px solid "+c+"; ";t.unshift(p),t.unshift(f),t.unshift(l)}else{let l="%c "+r+" ",f="background: "+i+";color:white; border: 1px solid "+c+"; ";t.push(e),t.unshift(f),t.unshift(l)}console.log.apply(console,t)}}},uM=class{setLevel(e){return this._level=e,this}get isProductionMode(){return!this.developmentMode}setProductionMode(e){return this.developmentMode=!e,this}mute(){return this.isMuted=!0,this}constructor(e,t,r,i,s,o){this.name=e,this.color=t,this.developmentMode=r,this.allowed=i,this.isMuted=s,this.fixedWidth=o,this.d=(a,...c)=>this._data(a,c),this.er=(a,...c)=>this._error(a,c),this.i=(a,...c)=>this._info(a,c),this.w=(a,...c)=>this._warn(a,c),this.data=(a,...c)=>this._data(a,c),this.error=(a,...c)=>this._error(a,c),this.info=(a,...c)=>this._info(a,c),this.success=(a,...c)=>this._success(a,c),this.taskStarted=(a,...c)=>this._taskStarted(a,c),this.taskDone=(a,...c)=>this._taskDone(a,c),this.warn=(a,...c)=>this._warn(a,c)}onlyWhen(e){typeof e=="function"?this.isMuted=!e():typeof e=="boolean"&&(this.isMuted=!e)}_data(e,...t){return this.isMuted?this:this.allowed.length>=1&&Le.contain(this.allowed,Ze.__NOTHING)&&!Le.contain(this.allowed,Ze.DATA)?this:((this.allowed.length===0||Le.contain(this.allowed,Ze.DATA))&&ca.msg.apply(void 0,[e,...t,this.name,this.color,Ze.DATA,this.fixedWidth,this.isProductionMode]),this)}_error(e,...t){return this.isMuted?this:this.allowed.length>=1&&Le.contain(this.allowed,Ze.__NOTHING)&&!Le.contain(this.allowed,Ze.ERROR)?this:((this.allowed.length===0||Le.contain(this.allowed,Ze.ERROR))&&ca.msg.apply(void 0,[e,...t,this.name,this.color,Ze.ERROR,this.fixedWidth,this.isProductionMode]),this)}_info(e,...t){return this.isMuted?this:this.allowed.length>=1&&Le.contain(this.allowed,Ze.__NOTHING)&&!Le.contain(this.allowed,Ze.INFO)?this:((this.allowed.length===0||Le.contain(this.allowed,Ze.INFO))&&ca.msg.apply(void 0,[e,...t,this.name,this.color,Ze.INFO,this.fixedWidth,this.isProductionMode]),this)}_success(e,...t){return this.isMuted?this:this.allowed.length>=1&&Le.contain(this.allowed,Ze.__NOTHING)&&!Le.contain(this.allowed,Ze.SUCCESS)?this:((this.allowed.length===0||Le.contain(this.allowed,Ze.SUCCESS))&&ca.msg.apply(void 0,[e,...t,this.name,this.color,Ze.SUCCESS,this.fixedWidth,this.isProductionMode]),this)}_taskStarted(e,...t){return this.isMuted?this:this.allowed.length>=1&&Le.contain(this.allowed,Ze.__NOTHING)&&!Le.contain(this.allowed,Ze.TASK_STARTED)?this:((this.allowed.length===0||Le.contain(this.allowed,Ze.TASK_STARTED))&&ca.msg.apply(void 0,[e,...t,this.name,this.color,Ze.TASK_STARTED,this.fixedWidth,this.isProductionMode]),this)}_taskDone(e,...t){return this.isMuted?this:this.allowed.length>=1&&Le.contain(this.allowed,Ze.__NOTHING)&&!Le.contain(this.allowed,Ze.TASK_DONE)?this:((this.allowed.length===0||Le.contain(this.allowed,Ze.TASK_DONE))&&ca.msg.apply(void 0,[e,...t,this.name,this.color,Ze.TASK_DONE,this.fixedWidth,this.isProductionMode]),this)}_warn(e,...t){return this.isMuted?this:this.allowed.length>=1&&Le.contain(this.allowed,Ze.__NOTHING)&&!Le.contain(this.allowed,Ze.WARN)?this:((this.allowed.length===0||Le.contain(this.allowed,Ze.WARN))&&ca.msg.apply(void 0,[e,...t,this.name,this.color,Ze.WARN,this.fixedWidth,this.isProductionMode]),this)}},P_=(()=>{class n{constructor(){this._logOnly=!1,this._logModules=!1,this.isDevelopmentMode=!0,this.modeIsSet=!1,this.fixedWidth=0,this.instances={},this.levels=[],this.modules=[]}static get instance(){return n._instance||(n._instance=new n),n._instance}static{this.Logger=uM}static create(t,...r){return n.instance.create(t,...r)}static{this.consolelogfn={}}static disableLogs(t=Ze.__NOTHING){cae.reverse().find(r=>(this.consolelogfn[r]||(this.consolelogfn[r]=console[r]),console[r]=()=>{},r===ac[t]))}static enableLogs(){cae.forEach(t=>{console[t]=this.consolelogfn[t]})}setProductionMode(){if(this.modeIsSet)throw this.modeIsSet=!1,"[ng2-logger] Production mode is already set";this.modeIsSet=!0,setTimeout(()=>{this.modeIsSet&&console!==void 0&&console.clear!==void 0&&(console.clear(),console.log=()=>{},console.error=()=>{},console.warn=()=>{},console.info=()=>{})}),this.isDevelopmentMode=!1}onlyModules(...t){if(this._logModules)throw"[ng2-logger] You should use funcion onlyModules only once";this._logModules||(this._logModules=!0),t.length!==0&&(this.modules=t,this.muteAllOtherModules())}onlyLevel(...t){if(this._logOnly)throw"[ng2-logger] You should use funcion onlyLevel only once";this._logOnly||(this._logOnly=!0),this.levels=Array.isArray(t)?t:[t];for(let r in this.instances)if(this.instances.hasOwnProperty(r)){let i=this.instances[r];i.allowed=this.levels}}create(t,...r){let i;return Array.isArray(this.levels)&&this.levels.length>0&&(r=this.levels),this.instances[t]===void 0?(i=new n.Logger(t,uae(),this.isDevelopmentMode,r,this.isMutedModule(t),this.levels.length>0?this.fixedWidth:void 0),this.instances[t]=i):i=this.instances[t],i}isMutedModule(t){return this.modules.length==0?!1:!Le.contain(this.modules,t)}muteAllOtherModules(){for(var t in this.instances)Le.contain(this.modules,t)||this.instances[t].mute()}}return n})();function uae(){let n="012345".split(""),e="#";e+=n[Math.round(Math.random()*5)],n="0123456789ABCDEF".split("");for(let t=0;t<5;t++)e+=n[Math.round(Math.random()*15)];return e===void 0?uae():e}var k_=class n{static get Instance(){return n.__instance||(n.__instance=new n),n.__instance}constructor(){}read(e){var t=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie);return t?t[1]:null}write(e,t,r){r||(r=365*20);var i=new Date;i.setTime(i.getTime()+r*24*60*60*1e3);var s="; expires="+i.toUTCString();document.cookie=e+"="+t+s+"; path=/"}remove(e){this.write(e,"",-1)}},wo;(function(n){function e(f,p=!1){if(k.isUndefined(f))return;let g=r(k.isArray(f)?k.first(f):f,!p);return p&&(g=k.merge(o(f),g)),g}n.decode=e;function t(f,p,g=[]){if(k.isString(f)||k.isBoolean(f)||k.isNumber(f))return f;if(p[""]){let E=i(tt.getBy(p[""]));p=k.merge(p,E)}let v;return k.isArray(g)&&g.length>0?v=c(f,p,g):v=u(f,p),v}n.encode=t;function r(f,p=!1){let g=tt.getFromObject(f);return i(g)}function i(f){if(!k.isFunction(f)||f===Object)return{};let p=tt.getName(f),g=k.isArray(f[wn.MODELS_MAPPING])?f[wn.MODELS_MAPPING]:[{"":p}],v={},E=g.filter(D=>!k.isUndefined(D[""])&&D[""]!==p).map(D=>D[""]);return g.reverse().forEach(D=>{D=k.cloneDeep(D),Object.keys(D).forEach(P=>{let K=D[P],J=k.isArray(K),re=J?k.first(K):K;E.includes(re)&&(D[P]=J?[p]:p)}),v=k.merge(v,D)}),v[""]=p,v}n.getModelsMapping=i;function s(f,p,g={}){if(!f||Array.isArray(f)||typeof f!="object")return;let v=Object.getPrototypeOf(f);if(!v)return;let E=tt.getName(v.constructor),D=tt.getBy(E);if(!D){E!=="Object"&&gt.isBrowser&&console.error(`Cannot resolve class "${E}" while mapping.`);return}g[p]||(g[p]=tt.getName(D))}function o(f,p="",g={},v=0){if(f!=null){if(Array.isArray(f))return f.forEach(D=>o(D,p,g,v)),g;if(++v!==16){s(f,p,g);for(var E in f)if(k.isFunction(f.hasOwnProperty)&&f.hasOwnProperty(E)){let D=f[E];if(Array.isArray(D)&&D.length>0)D.forEach((P,K)=>{let J=[p,E].filter(re=>re.trim()!="").join(".");o(P,J,g,v)});else if(typeof D=="object"){let P=[p,E].filter(K=>K.trim()!="").join(".");s(D,P,g),o(D,P,g,v)}}return g}}}function a(f){if(!k.isString(f))return;let p=/\[([0-9a-zA-Z]|\'|\")*\]/g;return f=f.replace(p,"").replace("..","."),f.startsWith(".")&&(f=f.slice(1)),f}function c(f,p={},g=[]){let v=!k.isArray(f)&&tt.getBy(p[""]);return oc.Object(f,(E,D,P)=>{if(!k.isUndefined(E)&&!k.isNull(E)){let K=a(D);if(!k.isUndefined(p[K])){let J=k.isArray(p[K]);if(!J){let re=J?k.first(p[K]):p[K],he=tt.getBy(re);k.isFunction(he)&&P(k.merge(new he,E))}}}}),g.forEach(E=>{let D=k.get(f,E.circuralTargetPath);k.set(f,E.pathToObj,D)}),k.isFunction(v)&&(f=k.merge(new v,f)),f}function u(f,p={}){if(Array.isArray(f))return f.map(v=>u(v,p));let g=tt.getBy(p[""]);for(let v in f)if(f.hasOwnProperty(v)){if(k.isArray(f[v]))f[v]=f[v].map(E=>{let D=i(tt.getBy(p[v]));return u(E,D)});else if(k.isObject(f[v])){let E=i(tt.getBy(p[v]));f[v]=u(f[v],E)}}return Object.keys(p).filter(v=>v!==""&&v.split(".").length>=2).forEach(v=>{let E=i(tt.getBy(p[v])),D=k.get(f,v);if(!k.isUndefined(D)){let P=u(D,E);k.set(f,v,P)}}),g?k.merge(new g,f):f}function l(f,p){return function(g){if(k.isArray(g[wn.MODELS_MAPPING])||(g[wn.MODELS_MAPPING]=[]),g[wn.MODELS_MAPPING].push({"":tt.getName(g)}),k.isObject(p)&&(g[wn.MODELS_MAPPING]=g[wn.MODELS_MAPPING].concat(p),Object.keys(p).forEach(v=>{let E=p;if(k.isUndefined(E)||k.isFunction(E))throw`


            Class: '${g.name}'
[ng2rest] Bad mapping value for path: ${v} , please use type: <string> or [<string>]
`})),k.isObject(f)){let v={};tt.describeProperites(g).filter(P=>/^([a-zA-Z0-9]|\_|\#)+$/.test(P)).forEach(P=>{f[P]?console.warn(`

            CONFLICT: default value for property: "${P}"
            in class "${g.name}" already defined as typescript
            default class proprty value.

            `):v[P]=null}),g[wn.DEFAULT_MODEL]=k.merge(v,f);let D=Object.keys(g[wn.DEFAULT_MODEL]).filter(P=>!!Object.getOwnPropertyDescriptor(g.prototype,P));k.merge(g.prototype,k.omit(g[wn.DEFAULT_MODEL],D))}}}n.DefaultModelWithMapping=l})(wo||(wo={}));var fqt=P_.create("[ng2-rest] params",Ze.__NOTHING);function JXe(n){return new RegExp("/:[a-zA-Z]*","g").test(n.replace("://",""))}function ZXe(n){return n.match(new RegExp("[a-z-A-Z]*/:","g")).map(t=>t.replace("/:",""))}function XXe(n){return n.charAt(n.length-1)!=="/"&&(n=`${n}/`),n.match(new RegExp(":[a-zA-Z]*/","g")).map(r=>r.replace(":","").replace("/","")).filter(r=>r.trim()!=="")}function eet(n,e){return n.charAt(0)!=="/"&&(n="/"+n),e.filter(r=>{let i="/"+r,s=n.indexOf(i);return s+i.length<n.length&&n.charAt(s+i.length)!=="/"?!1:s!==-1?(n=n.replace(new RegExp("/"+r,"g"),""),!0):!1}).length===e.length}function tet(n){let e="";for(let t=0;t<n;t++)e+="*";return e}function net(n,e){let t={},r=XXe(e);r.forEach(s=>{e=e.replace(`:${s}`,tet(s.length))});let i;return(0,dae.diffChars)(e,n).forEach(s=>{s.added&&(isNaN(Number(s.value))?s.value.trim()==="true"?t[i]=!0:s.value.trim()==="false"?t[i]=!1:t[i]=decodeURIComponent(s.value):t[i]=Number(s.value),i=void 0);let o=s.value.replace(":","");s.removed&&(i=r.shift())}),t}var fae=/[^\..]+(\.[^\..]+)+/g;function Vp(n,e,t){if(e.length===0)return t.join("/");let r=e.pop(),i=r.match(/:[a-zA-Z0-9\.]+/)[0].replace(":",""),s=fae.test(i),o=r.match(/[a-zA-Z0-9]+\//)[0].replace("/","");if(n===void 0||(s?k.get(n,i)===void 0:n[i]===void 0)||i==="undefined")return t.length=0,t.unshift(o),Vp(n,e,t);if(s){let a=r.replace(new RegExp(`:${i}`,"g"),`${k.get(n,i)}`);return t.unshift(a),Vp(n,e,t)}else{let a=r.replace(new RegExp(`:${i}`,"g"),`${n[i]}`);return t.unshift(a),Vp(n,e,t)}}function ret(n,e){let t=/\[\[([^\..]+\.[^\..]+)+\]\]/g;e=e.split("/").map(u=>{if(u.startsWith(":")){let f=u.slice(1);return t.test(f)&&(f=f.replace("[[",""),f=f.replace("]]","")),`:${f}`}return u}).join("/");let r={start:e.charAt(0)==="/",end:e.charAt(e.length-1)==="/"},i=e.match(/(\/:[a-zA-Z0-9\.]+){2,10}/g);if(i&&Array.isArray(i)&&i.length===1)return i[0].match(/\/:[a-zA-Z0-9\.]+/g).forEach(f=>{let p=f.replace("/:","");fae.test(p)?e=e.replace(f,`/${k.get(n,p)}`):e=e.replace(f,`/${n[p]}`)}),e;let s=e.match(/[a-zA-Z0-9]+\/:[a-zA-Z0-9\.]+/g);if(!s||Array.isArray(s)&&s.length===0)return e;r.end||(e=`${e}/`);let o=!/:[a-zA-Z0-9\.]+\/$/g.test(e)&&/[a-zA-Z0-9]+\/$/g.test(e),a=(s.length>1?s.join("/"):s[0])+(o?"/"+e.match(/[a-zA-Z0-9]+\/$/g)[0]:"/"),c=e.replace(a,"");return o?(e=e.replace(/\/$/g,"/:undefined"),s=e.match(/[a-zA-Z0-9]+\/:[a-zA-Z0-9\.]+/g),e=Vp(n,s,[])):e=Vp(n,s,[]),e=c+e,e.charAt(e.length-1)!=="/"&&r.end&&(e=`${e}/`),e.charAt(0)!=="/"&&r.start&&(e=`/${e}`),e}function iet(n,e=!1){let t=[];return!n||!(n instanceof Array)||n.length===0||(n.forEach(i=>{if(JSON.stringify(i)!=="{}"){let s=[],o=i;for(let a in o)if(o[a]===void 0&&delete o[a],o.hasOwnProperty(a)&&typeof a=="string"&&a!=="regex"&&!(o[a]instanceof RegExp)){if(a.length>0&&a[0]==="/"){let u=a.slice(1,a.length-1);i[u]=i[a],i[a]=void 0,a=u}if(a.length>0&&a[a.length-1]==="/"){let u=a.slice(0,a.length-2);i[u]=i[a],i[a]=void 0,a=u}i[a]instanceof Object&&(i[a]=JSON.stringify(i[a])),i[a]=e?i[a]:encodeURIComponent(i[a]),i.regex!==void 0&&i.regex instanceof RegExp&&(i.regex.test(i[a])||console.warn(`Data: ${i[a]} incostistent with regex ${i.regex.source}`)),s.push(`${a}=${i[a]}`)}t.push(s.join("&"))}}),t.join().trim().trim()==="")?"":`?${t.join("&")}`}var dM=class{handle(e){return Xt(oa.request(e))}},set=(n,e)=>n.reduceRight((t,r)=>({handle:i=>r.intercept({req:i,next:t})}),e),fM=class{};var hM=class extends fM{},cc;(function(n){class e{toJSON(a,c){c=c||{isJSONArray:!1};let u=c.isJSONArray?[]:{};if(typeof a=="string")try{let l=JSON.parse(a);return typeof l=="string"&&l.trim().startsWith("{")&&(l=JSON.parse(l)),c.parsingError&&l[bi.TaonHttpErrorCustomProp]?k.merge(new hM,l):l}catch{}else if(typeof a=="object")return a;return u}}n.BaseBody=e;class t extends e{constructor(a,c=!1,u,l){super(),this.responseText=a,this.isArray=c,this.entity=u,this.circular=l}get blob(){return this.responseText}get booleanValue(){if(!Le.isBlob(this.responseText))return["ok","true"].includes(this.responseText?.trim())}get numericValue(){if(!Le.isBlob(this.responseText))return Number(this.responseText?.trim())}get rawJson(){if(!Le.isBlob(this.responseText)){let a=this.toJSON(this.responseText,{isJSONArray:this.isArray});return this.circular&&Array.isArray(this.circular)&&(a=cs.parse(JSON.stringify(a),this.circular)),a}}get json(){if(Le.isBlob(this.responseText))return;if(this.entity&&typeof this.entity=="function")return this.entity();if(this.entity&&typeof this.entity=="object"){let u=this.toJSON(this.responseText,{isJSONArray:this.isArray});return wo.encode(u,this.entity,this.circular)}let c=this.toJSON(this.responseText,{isJSONArray:this.isArray});return this.circular&&Array.isArray(this.circular)&&(c=cs.parse(JSON.stringify(c),this.circular)),c}get text(){if(!Le.isBlob(this.responseText))return this.responseText.replace(/^\"/,"").replace(/\"$/,"")}}n.HttpBody=t;class r extends e{constructor(a){super(),this.data=a}get json(){return this.toJSON(this.data,{parsingError:!0})}get text(){return this.data}}n.ErrorBody=r;class i{static{this.cookies=k_.Instance}get cookies(){return i.cookies}constructor(a,c,u,l=!1){this.responseText=a,this.headers=c,this.statusCode=u,this.isArray=l}}n.BaseResponse=i;class s extends i{constructor(a,c,u,l,f,p,g,v=!1){super(c,u,l,v),this.sourceRequest=a,this.responseText=c,this.headers=u,this.statusCode=l,this.entity=f,this.circular=p,this.jobid=g,this.isArray=v,this.init()}init(){if(typeof this.entity=="string"){let a=this.headers?.getAll(this.entity);a&&(this.entity=JSON.parse(a.join()))}if(typeof this.circular=="string"){let a=this.headers?.getAll(this.circular);a&&(this.circular=JSON.parse(a.join()))}this.body=new t(this.responseText,this.isArray,this.entity,this.circular)}}n.HttpResponse=s})(cc||(cc={}));var Pu=class extends cc.BaseResponse{constructor(e,t,r,i,s,o){super(t,r,i),this.message=e,this.jobid=s,this.sourceRequest=o,this.body=new cc.ErrorBody(t)}},ii=class n{static from(e){if(e)return new n(e)}constructor(e){this._headers=new Map,this._normalizedNames=new Map,e instanceof n?e.forEach((t,r)=>{t.forEach(i=>this.set(r,i))}):Object.keys(e).forEach(t=>{let r=Array.isArray(e[t])?e[t]:[e[t]];this.delete(t),r.forEach(i=>this.set(t,i))})}static fromResponseHeaderString(e){let t=new n;return e.split(`
`).forEach(r=>{let i=r.indexOf(":");if(i>0){let s=r.slice(0,i),o=r.slice(i+1).trim();t.set(s,o)}}),t}append(e,t){let r=this.getAll(e);r===null?this.set(e,t):r.push(t)}delete(e){let t=e.toLowerCase();this._normalizedNames.delete(t),this._headers.delete(t)}forEach(e){this._headers.forEach((t,r)=>e(t,this._normalizedNames.get(r),this._headers))}get(e){let t=this.getAll(e);return t===null?null:t.length>0?t[0]:null}has(e){return this._headers.has(e.toLowerCase())}keys(){return Array.from(this._normalizedNames.values())}set(e,t){Array.isArray(t)?t.length&&this._headers.set(e.toLowerCase(),[t.join(",")]):this._headers.set(e.toLowerCase(),[t]),this.mayBeSetNormalizedName(e)}values(){return Array.from(this._headers.values())}toJSON(){let e={};return this._headers,this._headers.forEach((t,r)=>{let i=[];t.forEach(s=>i.push(...s.split(","))),e[this._normalizedNames.get(r)]=i}),e}getAll(e){return this.has(e)?this._headers.get(e.toLowerCase()):null}mayBeSetNormalizedName(e){let t=e.toLowerCase();this._normalizedNames.has(t)||this._normalizedNames.set(t,e)}},oet="jobID",$p="customObs",lM="cancelFn",F_="isCanceled",aet=(()=>{class n{constructor(){this.subjectInuUse={},this.meta={},this.interceptors=new Map,this.methodsInterceptors=new Map,this.replaySubjects={}}static{this.jobId=0}handlerResult(t,r){k.isUndefined(t)&&(t={});let{res:i,jobid:s,isArray:o,method:a}=t;if(typeof i!="object")throw new Error("No resposnse for request. ");if(gt.isBrowser&&(i.headers=ii.from(i.headers)),i.error){this.subjectInuUse[s].error(new Pu(i.error,i.data,i.headers,i.code,s,r));return}let c=this.meta[s].entity,u=this.meta[s].circular,l=us._listenSuccess,f=new cc.HttpResponse(r,i.data,i.headers,i.code,c,u,s,o);l.next(f),this.subjectInuUse[s].next(f),this.meta[s]=void 0,this.subjectInuUse[s].complete()}async req(t,r,i,s,o,a=!1,c,u){let f=oa.CancelToken.source();this.subjectInuUse[o][lM]=f.cancel;var p;if(c){if(typeof c=="object")p={data:c.data,status:c.code,headers:c.headers,statusText:c.error,config:{}};else if(typeof c=="function"){let P=c(t,r,i,s);p={data:P.data,status:P.code,headers:P.headers,statusText:P.error,config:{}}}}let g=tt.getNameFromObject(s)==="FormData",v=g?s:void 0,E=i.toJSON(),D=E.responsetypeaxios?E.responsetypeaxios:"text";try{if(!p){let P=Z({url:t,method:r,data:s,responseType:D,headers:E,cancelToken:f.token},u||{});g&&(P.maxBodyLength=1/0);let K=new URL(t),J=new dM,re=Array.from(this.interceptors.entries()).map(([De,Ve])=>Ve),he=Array.from(this.methodsInterceptors.entries()).filter(([De])=>{let Ve=`-${r?.toUpperCase()}-${K.pathname}`;return De.endsWith(Ve)}).map(([De,Ve])=>Ve),y=[...re,...he],Te=set(y,J);p=await Ef(Te.handle(P))}if(this.subjectInuUse[o][F_])return;this.handlerResult({res:{code:p.status,data:p.data,isArray:a,jobid:o,headers:ii.from(p.headers)},method:r,jobid:o,isArray:a},{url:t,body:s,method:r,isArray:a})}catch(P){if(this.subjectInuUse[o][F_])return;if(typeof P=="object"&&P.response&&P.response.data){let J=P.response.data,re=P.response.data.message||"",he=(J.stack||"").split(`
`);us._listenErrors.next({msg:re,stack:he,data:P.response.data})}let K=P&&P.response?`[${P.response.statusText}]: `:"";this.handlerResult({res:{code:P&&P.response?P.response.status:void 0,error:`${K}${P.message}`,data:P&&P.response?JSON.stringify(P.response.data):void 0,isArray:a,jobid:o,headers:ii.from(P&&P.response&&P.response.headers)},method:r,jobid:o,isArray:a},{url:t,body:s,isArray:a,method:r})}}getReplay(t,r,i){let s;k.isUndefined(this.replaySubjects[r.endpoint])&&(this.replaySubjects[r.endpoint]={}),k.isUndefined(this.replaySubjects[r.endpoint][r.path])&&(this.replaySubjects[r.endpoint][r.path]={}),k.isUndefined(this.replaySubjects[r.endpoint][r.path][t])&&(this.replaySubjects[r.endpoint][r.path][t]={});let o=Object.keys(this.replaySubjects[r.endpoint][r.path][t]).length+(i?0:1);if(i&&o===0)return s;if(k.isUndefined(this.replaySubjects[r.endpoint][r.path][t][o])&&(this.replaySubjects[r.endpoint][r.path][t][o]={subject:new Ge,data:void 0}),s=this.replaySubjects[r.endpoint][r.path][t][o],!k.isNumber(s.id)){n.jobId===Number.MAX_SAFE_INTEGER&&(n.jobId=0);let a=n.jobId++;s.id=a;let c=s.subject;c[oet]=a,this.meta[a]=r,this.subjectInuUse[a]=c,this.subjectInuUse[a][$p]=new it(u=>{u.add(()=>{this.subjectInuUse[a][F_]||(this.subjectInuUse[a][F_]=!0,typeof this.subjectInuUse[a][lM]=="function"&&this.subjectInuUse[a][lM]("[ng2-rest] on purpose canceled http request"))});let l=c.subscribe({next:f=>u.next(f),error:f=>u.error(f),complete:()=>{setTimeout(()=>{l.unsubscribe(),u.complete()})}})})}return s}generalReq(t,r,i,s,o,a,c,u){let l=this.getReplay(t,o,!1);l.data={url:r,body:i,headers:s,isArray:a},((p,g,v,E,D,P,K,J,re)=>{setTimeout(()=>p.req(g,v,E,D,P,K,J,re))})(this,r,t,s,i,l.id,a,c,u);let f=Ef(l.subject[$p]);return f.observable=l.subject[$p],f}get(t,r,i,s,o,a,c){return this.generalReq("get",t,r,i,s,o,a,c)}head(t,r,i,s,o,a,c){return this.generalReq("head",t,r,i,s,o,a,c)}delete(t,r,i,s,o,a,c){return this.generalReq("delete",t,r,i,s,o,a,c)}post(t,r,i,s,o,a,c){return this.generalReq("post",t,r,i,s,o,a,c)}put(t,r,i,s,o,a,c){return this.generalReq("put",t,r,i,s,o,a,c)}patch(t,r,i,s,o,a,c){return this.generalReq("patch",t,r,i,s,o,a,c)}jsonp(t,r,i,s,o,a,c){let u="jsonp";if(gt.isSSRMode){let g=Promise.resolve();return g.observable=new it,console.warn("Cannot perform jsonp request in SSR mode"),g}let l=this.getReplay("jsonp",s,!1),f=l.id;setTimeout(()=>{t.endsWith("/")&&(t=t.slice(0,t.length-1));let v="cb_"+Math.round(1e4*Math.random()),E=globalThis;E[v]=P=>{this.handlerResult({res:{data:P,isArray:o},method:u,jobid:f,isArray:o},{url:t,body:r,isArray:o,method:u})};let D=document.createElement("script");D.src=`${t}?callback=${v}`,document.body.appendChild(D),document.body.removeChild(D)});let p=Ef(l.subject[$p]);return p.observable=l.subject[$p],p}}return n})(),lae={APPLICATION_JSON:ii.from({"Content-Type":"application/json",Accept:"application/json"}),APPLICATINO_VND_API_JSON:ii.from({"Content-Type":"application/vnd.api+json",Accept:"application/vnd.api+json"})},pM=class{mock(e){if(typeof e=="function"||typeof e=="object")this.mockHttp=e;else throw`[ng2-rest]
      .model(...)
      .mock( < BAD MOCK DATA > )
      ...
      `;return this}get endpoint(){let e=this.__meta_endpoint;return this.restQueryParams!==void 0&&this._endpointRest!==void 0&&typeof this._endpointRest=="string"&&this._endpointRest.trim()!==""&&(e=this._endpointRest),e}set __rest_endpoint(e){this._endpointRest=e,e===void 0?this.restQueryParams=void 0:this.restQueryParams=net(e,this.__meta_endpoint)}creatUrl(e,t=!1){return`${this.endpoint}${iet(e,t)}`}get headers(){return this._headers}constructor(e,t,r,i){this.request=t,this.meta=r,this.customContentType=i,this._headers=ii.from(lae.APPLICATION_JSON),this.array={get:(s,o=void 0,a)=>this.req("get",s,o,a,!0),head:(s,o=void 0,a)=>this.req("head",s,o,a,!0),post:(s,o,a)=>this.req("post",s,o,a,!0),put:(s,o,a)=>this.req("put",s,o,a,!0),patch:(s,o,a)=>this.req("patch",s,o,a,!0),delete:(s,o,a)=>this.req("delete",s,o,a,!0),jsonp:(s,o,a)=>this.req("jsonp",s,o,a,!0)},this.__meta_endpoint=e}req(e,t,r,i,s=!1){i=i||{};let o=this.creatUrl(r,!!i.doNotSerializeParams),c=tt.getNameFromObject(t)==="FormData"?t:t?JSON.stringify(t):void 0;if(this.customContentType){let l=this.customContentType.keys();this._headers.keys().filter(p=>!l.includes(p)).forEach(p=>{this.customContentType.set(p,this._headers.get(p))}),this._headers=this.customContentType}else this._headers=ii.from(lae.APPLICATION_JSON);let u=this.request[e.toLowerCase()](o,c,this.headers,this.meta,s,this.mockHttp,i);return this.mockHttp=void 0,u}get(e,t,r){return this.req("get",e,t,r)}head(e,t,r){return this.req("head",e,t,r)}post(e,t,r){return this.req("post",e,t,r)}put(e,t,r){return this.req("put",e,t,r)}patch(e,t,r){return this.req("patch",e,t,r)}delete(e,t,r){return this.req("delete",e,t,r)}jsonp(e,t,r){return this.req("jsonp",e,t,r)}},us=class n{static{this._listenErrors=new Ge}static{this._listenSuccess=new Ge}static get listenErrors(){return this._listenErrors.asObservable()}static get listenSuccessOperations(){return this._listenSuccess.asObservable()}static{this.enableWarnings=!0}checkNestedModels(e,t){for(let r in t)if(t.hasOwnProperty(r)){let i=t[r];if(JXe(r)){let s=ZXe(r);if(eet(e,s)){e=r;break}}}return e}static{this.instance=new n}static{this.endpoints={}}static getModel(e,t){if(t=n.prepareModel(t),!n.endpoints[e])return;let i=n.endpoints[e].models[t];return n.endpoints[e].models[t]}static{this.request=new aet}static create(e,t,r,i,s){let o=new RegExp("((/:)[a-z]+)+","g"),c=(t.match(o)||[]).join();if((c.match(new RegExp(":","g"))||[]).length>=2&&t.search(c)!==-1)throw new Error(`

Bad rest model: ${t}

Do not create rest models like this:    /book/author/:bookid/:authorid
Instead use nested approach:            /book/:bookid/author/:authorid
            `);return n.map(e,e),n.instance.add(e,t||"",r,i,s),{model:l=>n.instance.api(e,ret(l,t)),get headers(){return n.getModel(e,t).headers}}}static reset(){n.endpoints={}}constructor(){}static{this.Cookies=k_.Instance}static map(e,t){let r=/(http|https):\/\/(\w+:{0,1}\w*)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%!\-\/]))?/,i=e;if(!r.test(t))throw`Url address is not correct: ${t}`;return t.charAt(t.length-1)==="/"&&(t=t.slice(0,t.length-1)),n.endpoints[i]!==void 0?!1:(n.endpoints[i]={url:t,models:{},entity:null},!0)}static prepareModel(e){return e.charAt(e.length-1)==="/"&&(e=e.slice(0,e.length-1)),e.charAt(0)==="/"&&(e=e.slice(1,e.length)),e}add(e,t,r,i,s){t=n.prepareModel(t);let o;if(o=e.toString(),n.endpoints[o]===void 0){console.error("Endpoint is not mapped ! Cannot add model "+t);return}if(n.endpoints[o].models[t]!==void 0){n.enableWarnings&&console.warn(`Model '${t}' is already defined in endpoint: `+n.endpoints[o].url);return}n.endpoints[o].models[t]=new pM(n.endpoints[o].url+"/"+t,n.request,{endpoint:o,path:t,entity:r,circular:i},s)}api(e,t){t.charAt(0)==="/"&&(t=t.slice(1,t.length));let r=e.toString();if(n.endpoints[r]===void 0)throw`Endpoint: ${e} is not mapped ! Cannot add model: ${t}`;let i=n.endpoints[r].models,s=t;if(t=this.checkNestedModels(t,i),n.endpoints[r].models[t]===void 0)throw`Model '${t}' is undefined in endpoint: ${n.endpoints[r].url} `;let o=n.endpoints[e.toString()].models[t];if(s!==t){let a=n.endpoints[e.toString()].url;o.__rest_endpoint=`${a}/${s}`}else o.__rest_endpoint=void 0;return o}};var Ar=[];for(let n=0;n<256;++n)Ar.push((n+256).toString(16).slice(1));function hae(n,e=0){return(Ar[n[e+0]]+Ar[n[e+1]]+Ar[n[e+2]]+Ar[n[e+3]]+"-"+Ar[n[e+4]]+Ar[n[e+5]]+"-"+Ar[n[e+6]]+Ar[n[e+7]]+"-"+Ar[n[e+8]]+Ar[n[e+9]]+"-"+Ar[n[e+10]]+Ar[n[e+11]]+Ar[n[e+12]]+Ar[n[e+13]]+Ar[n[e+14]]+Ar[n[e+15]]).toLowerCase()}var mM,cet=new Uint8Array(16);function gM(){if(!mM){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");mM=crypto.getRandomValues.bind(crypto)}return mM(cet)}var uet=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),yM={randomUUID:uet};function det(n,e,t){if(yM.randomUUID&&!e&&!n)return yM.randomUUID();n=n||{};let r=n.random??n.rng?.()??gM();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){if(t=t||0,t<0||t+16>e.length)throw new RangeError(`UUID byte range ${t}:${t+15} is out of buffer bounds`);for(let i=0;i<16;++i)e[t+i]=r[i];return e}return hae(r)}var L_=det;var ua=R(bae(),1);var VR=bi.OrignalClassKey,$d=class{static getInheritanceTree(e){let t=[e],r=i=>{let s=Object.getPrototypeOf(i);s&&s.name&&(t.push(s),r(s))};return r(e),t}static isInherited(e,t){return e.prototype instanceof t}static filterByTarget(e,t){return t?e.filter(r=>r.target&&t.indexOf(r.target)!==-1):e}},V_=class{constructor(){this.tables=[],this.trees=[],this.entityRepositories=[],this.transactionEntityManagers=[],this.transactionRepositories=[],this.namingStrategies=[],this.entitySubscribers=[],this.indices=[],this.uniques=[],this.checks=[],this.exclusions=[],this.columns=[],this.generations=[],this.relations=[],this.joinColumns=[],this.joinTables=[],this.entityListeners=[],this.relationCounts=[],this.relationIds=[],this.embeddeds=[],this.inheritances=[],this.discriminatorValues=[]}filterTables(e){return this.filterByTarget(this.tables,e)}filterColumns(e){return this.filterByTargetAndWithoutDuplicateProperties(this.columns,e)}findGenerated(e,t){return this.generations.find(r=>(Array.isArray(e)?e.indexOf(r.target)!==-1:r.target===e)&&r.propertyName===t)}findTree(e){return this.trees.find(t=>Array.isArray(e)?e.indexOf(t.target)!==-1:t.target===e)}filterRelations(e){return this.filterByTargetAndWithoutDuplicateRelationProperties(this.relations,e)}filterRelationIds(e){return this.filterByTargetAndWithoutDuplicateProperties(this.relationIds,e)}filterRelationCounts(e){return this.filterByTargetAndWithoutDuplicateProperties(this.relationCounts,e)}filterIndices(e){return this.indices.filter(t=>Array.isArray(e)?e.indexOf(t.target)!==-1:t.target===e)}filterUniques(e){return this.uniques.filter(t=>Array.isArray(e)?e.indexOf(t.target)!==-1:t.target===e)}filterChecks(e){return this.checks.filter(t=>Array.isArray(e)?e.indexOf(t.target)!==-1:t.target===e)}filterExclusions(e){return this.exclusions.filter(t=>Array.isArray(e)?e.indexOf(t.target)!==-1:t.target===e)}filterListeners(e){return this.filterByTarget(this.entityListeners,e)}filterEmbeddeds(e){return this.filterByTargetAndWithoutDuplicateEmbeddedProperties(this.embeddeds,e)}findJoinTable(e,t){return this.joinTables.find(r=>r.target===e&&r.propertyName===t)}filterJoinColumns(e,t){return this.joinColumns.filter(r=>r.target===e&&r.propertyName===t)}filterSubscribers(e){return this.filterByTarget(this.entitySubscribers,e)}filterNamingStrategies(e){return this.filterByTarget(this.namingStrategies,e)}filterTransactionEntityManagers(e,t){return this.transactionEntityManagers.filter(r=>(Array.isArray(e)?e.indexOf(r.target)!==-1:r.target===e)&&r.methodName===t)}filterTransactionRepository(e,t){return this.transactionRepositories.filter(r=>(Array.isArray(e)?e.indexOf(r.target)!==-1:r.target===e)&&r.methodName===t)}filterSingleTableChildren(e){return this.tables.filter(t=>typeof t.target=="function"&&typeof e=="function"&&$d.isInherited(t.target,e)&&t.type==="entity-child")}findInheritanceType(e){return this.inheritances.find(t=>t.target===e)}findDiscriminatorValue(e){return this.discriminatorValues.find(t=>t.target===e)}filterByTarget(e,t){return e.filter(r=>Array.isArray(t)?t.indexOf(r.target)!==-1:r.target===t)}filterByTargetAndWithoutDuplicateProperties(e,t){let r=[];return e.forEach(i=>{(Array.isArray(t)?t.indexOf(i.target)!==-1:i.target===t)&&(r.find(o=>o.propertyName===i.propertyName)||r.push(i))}),r}filterByTargetAndWithoutDuplicateRelationProperties(e,t){let r=[];return e.forEach(i=>{if(Array.isArray(t)?t.indexOf(i.target)!==-1:i.target===t){let o=r.findIndex(a=>a.propertyName===i.propertyName);if(Array.isArray(t)&&o!==-1&&t.indexOf(i.target)<t.indexOf(r[o].target)){let a=Object.create(r[o]);a.type=i.type,r[o]=a}else o===-1&&r.push(i)}}),r}filterByTargetAndWithoutDuplicateEmbeddedProperties(e,t){let r=[];return e.forEach(i=>{(Array.isArray(t)?t.indexOf(i.target)!==-1:i.target===t)&&(r.find(a=>a.prefix===i.prefix&&a.propertyName===i.propertyName)||r.push(i))}),r}},_M;_M=n=>n;var Ir;Ir={blueBright(n){return n},white(n){return n},gray(n){return n},magenta(n){return n},magentaBright(n){return n},yellow(n){return n},red(n){return n},bgRed(n){return n},underline(n){return n},black(n){return n}};Object.keys(Ir).forEach(n=>{Object.keys(Ir).forEach(e=>{Ir[n][e]=Ir[n]})});var on=class{static get type(){return"browser"}static getGlobalVariable(){return globalThis}static load(e){try{switch(e){case"spanner":return;case"mongodb":return;case"@sap/hana-client":return;case"hdb-pool":return;case"mysql":return;case"mysql2":return;case"oracledb":return;case"pg":return;case"pg-native":return;case"pg-query-stream":return;case"typeorm-aurora-data-api-driver":return;case"redis":return;case"ioredis":return;case"better-sqlite3":return;case"sqlite3":return;case"sql.js":return Zce();case"mssql":return;case"react-native-sqlite-storage":return}}catch{return}throw new TypeError(`Invalid Package for PlatformTools.load: ${e}`)}static pathNormalize(e){}static pathExtname(e){}static pathResolve(e){}static fileExist(e){}static readFileSync(e){}static appendFileSync(e,t){}static async writeFile(e,t){return new Promise((r,i)=>{})}static dotenv(e){}static getEnvVariable(e){}static highlightSql(e){let t={keyword:Ir.blueBright,literal:Ir.blueBright,string:Ir.white,type:Ir.magentaBright,built_in:Ir.magentaBright,comment:Ir.gray};return _M(e,{theme:t,language:"sql"})}static highlightJson(e){return _M(e,{language:"json"})}static logInfo(e,t){console.log(Ir.gray.underline(e),t)}static logError(e,t){console.log(Ir.underline.red(e),t)}static logWarn(e,t){console.log(Ir.underline.yellow(e),t)}static log(e){console.log(Ir.underline(e))}static warn(e){return Ir.yellow(e)}static logCmdErr(e,t){console.log(Ir.black.bgRed(e)),t&&console.error(t)}},Q=class extends Error{get name(){return this.constructor.name}constructor(e){super(e),Object.setPrototypeOf?Object.setPrototypeOf(this,new.target.prototype):this.__proto__=new.target.prototype}};var kd=class extends Q{constructor(e){super(`Internal error. Subject ${e.metadata.targetName} must have an identifier to perform operation.`)}},EM=class extends Q{constructor(e){super(`Cannot create a "${e}" connection because connection to the database already established.`)}},uc=class extends Q{constructor(){super("Locking not supported on given driver.")}};var wM=class extends Q{constructor(e,t){super();let r=e.primaryColumns.reduce((i,s,o)=>(s.setEntityValue(i,o+1),i),{});this.message=`Cannot use given entity id "${t}" because "${e.targetName}" contains multiple primary columns, you must provide object in following form: ${JSON.stringify(r)} as an id.`}};var CM=class extends Q{constructor(e){super(`Cannot ${e}, given value must be instance of entity class, instead object literal is given. Or you must specify an entity target to method call.`)}},Qp=class extends Q{constructor(){super('Cannot perform update query because update values are not defined. Call "qb.set(...)" method to specify updated values.')}},DM=class extends Q{constructor(e){super(`Tree repositories are not supported in ${e.options.type} driver.`)}},U_=class extends Q{constructor(e){super(`Custom repository ${typeof e=="function"?e.name:e.constructor.name} was not found. Did you forgot to put @EntityRepository decorator on it?`)}},H_=class extends Q{constructor(){super("Transaction is not started yet, start transaction before committing or rolling it back.")}},xM=class extends Q{constructor(){super("Transaction already started for the given connection, commit current transaction before starting a new one.")}},Ye=class{static isObject(e){return e!==null&&typeof e=="object"}static assign(e,...t){for(let r of t)for(let i of Object.getOwnPropertyNames(r))e[i]=r[i]}static mixedListToArray(e){return e!==null&&typeof e=="object"?Object.keys(e).map(t=>e[t]):e}},_e=class{static isEntityMetadata(e){return this.check(e,"EntityMetadata")}static isColumnMetadata(e){return this.check(e,"ColumnMetadata")}static isQueryBuilder(e){return this.check(e,"QueryBuilder")||this.check(e,"SelectQueryBuilder")||this.check(e,"InsertQueryBuilder")||this.check(e,"DeleteQueryBuilder")||this.check(e,"UpdateQueryBuilder")||this.check(e,"SoftDeleteQueryBuilder")||this.check(e,"RelationQueryBuilder")}static isSelectQueryBuilder(e){return this.check(e,"SelectQueryBuilder")}static isInsertQueryBuilder(e){return this.check(e,"InsertQueryBuilder")}static isDeleteQueryBuilder(e){return this.check(e,"DeleteQueryBuilder")}static isUpdateQueryBuilder(e){return this.check(e,"UpdateQueryBuilder")}static isSoftDeleteQueryBuilder(e){return this.check(e,"SoftDeleteQueryBuilder")}static isRelationQueryBuilder(e){return this.check(e,"RelationQueryBuilder")}static isBrackets(e){return this.check(e,"Brackets")||this.check(e,"NotBrackets")}static isNotBrackets(e){return this.check(e,"NotBrackets")}static isSubject(e){return this.check(e,"Subject")}static isRdbmsSchemaBuilder(e){return this.check(e,"RdbmsSchemaBuilder")}static isSqljsEntityManager(e){return this.check(e,"SqljsEntityManager")}static isEntitySchema(e){return this.check(e,"EntitySchema")}static isBaseEntityConstructor(e){return typeof e=="function"&&typeof e.hasId=="function"&&typeof e.save=="function"&&typeof e.useDataSource=="function"}static isFindOperator(e){return this.check(e,"FindOperator")||this.check(e,"EqualOperator")}static isEqualOperator(e){return this.check(e,"EqualOperator")}static isQuery(e){return this.check(e,"Query")}static isTable(e){return this.check(e,"Table")}static isTableCheck(e){return this.check(e,"TableCheck")}static isTableColumn(e){return this.check(e,"TableColumn")}static isTableExclusion(e){return this.check(e,"TableExclusion")}static isTableForeignKey(e){return this.check(e,"TableForeignKey")}static isTableIndex(e){return this.check(e,"TableIndex")}static isTableUnique(e){return this.check(e,"TableUnique")}static isView(e){return this.check(e,"View")}static isDataSource(e){return this.check(e,"DataSource")}static check(e,t){return typeof e=="object"&&e!==null&&e["@instanceof"]===Symbol.for(t)}},Kp=class extends Q{constructor(e,t){super(),this.message=`Could not find any entity of type "${this.stringifyTarget(e)}" matching: ${this.stringifyCriteria(t)}`}stringifyTarget(e){return _e.isEntitySchema(e)?e.options.name:typeof e=="function"||Ye.isObject(e)&&"name"in e?e.name:e}stringifyCriteria(e){try{return JSON.stringify(e,null,4)}catch{}return""+e}},TM=class extends Q{constructor(e){super(),this.message=`No metadata for "${this.stringifyTarget(e)}" was found.`}stringifyTarget(e){return _e.isEntitySchema(e)?e.options.name:typeof e=="function"||Ye.isObject(e)&&"name"in e?e.name:e}},AM=class extends Q{constructor(e,t){super(`Cannot ${e}, given value must be an entity, instead "${t}" is given.`)}},W_=class extends Q{constructor(e,t,r){super(`The optimistic lock on entity ${e} failed, version ${t} was expected, but is actually ${r}.`)}},z_=class extends Q{constructor(){super("Your database does not support LIMIT on UPDATE statements.")}};var SM=class extends Q{constructor(e){super(`Custom entity repository ${typeof e=="function"?e.name:e.constructor.name}  cannot inherit Repository class without entity being set in the @EntityRepository decorator.`)}},G_=class extends Q{constructor(){super("Database connection provided by a query runner was already released, cannot continue to use its querying methods anymore.")}},Q_=class extends Q{constructor(e){super(`Cannot attach entity "${e}" to its parent. Please make sure parent is saved in the database before saving children nodes.`)}},Up=class extends Q{constructor(e){super(`Custom repository ${typeof e=="function"?e.name:e.constructor.name} does not have managed entity. Did you forget to specify entity for it @EntityRepository(MyEntity)? `)}},IM=class extends Q{constructor(e){super(`Entity "${e.name}" does not have delete date columns.`)}};var MM=class extends Q{constructor(e){super(`Circular relations detected: ${e}. To resolve this issue you need to set nullable: true somewhere in this dependency structure.`)}},Hd=class extends Q{constructor(){super("OUTPUT or RETURNING clause only supported by Microsoft SQL Server or PostgreSQL or MariaDB databases.")}};var RM=class extends Q{constructor(e){super(`Entity "${e.name}" does not have a primary column. Primary column is required to have in all your entities. Use @PrimaryColumn decorator to add a primary column to your entity.`)}},Do=class n extends Q{constructor(e,t){super(e),Object.setPrototypeOf(this,n.prototype),this.message=`Property "${e}" was not found in "${t.targetName}". Make sure your query is correct.`}},NM=class extends Q{constructor(e,t=[]){super(`Wrong driver: "${e}" given. Supported drivers are: ${t.map(r=>`"${r}"`).join(", ")}.`)}},Wd=class extends Q{constructor(e,t){super(`${e} package has not been found installed. Try to install it: npm install ${t} --save`)}};var OM=class extends Q{constructor(e){super(`Entity ${e} does not have version or update date columns.`)}},PM=class extends Q{constructor(){super('Cannot perform insert query because values are not defined. Call "qb.values(...)" method to specify inserted values.')}},Ld=class extends Q{constructor(){super("The optimistic lock can be used only with getOne() method.")}};var dc=class extends Q{constructor(e){super(`Driver option (${e}) is not set. Please set it to perform connection to the database.`)}},FM=class extends Q{constructor(e){super(),e.length===1?this.message=`Relation "${e[0]}" was not found; please check if it is correct and really exists in your entity.`:this.message=`Relations ${e.map(t=>`"${t}"`).join(", ")} were not found; please check if relations are correct and they exist in your entities.`}};var kM=class extends Q{constructor(){super("An open transaction is required for pessimistic lock.")}};var LM=class extends Q{constructor(e,t,r){super();let i=typeof t=="string"?t:t.name;this.message=`Data type "${i}" in "${e.entityMetadata.targetName}.${e.propertyName}" is not supported by "${r}" database.`}},BM=class extends Q{constructor(e){super(`Array initializations are not allowed in entity relations. Please remove array initialization (= []) from "${e.entityMetadata.targetName}#${e.propertyPath}". This is ORM requirement to make relations to work properly. Refer docs for more information.`)}};var zd=class extends Q{constructor(e,t,r){if(super(r.toString().replace(/^error: /,"").replace(/^Error: /,"").replace(/^Request/,"")),this.query=e,this.parameters=t,this.driverError=r,r){let i=r,{name:s}=i,o=ff(i,["name"]);Ye.assign(this,Z({},o))}}},qM=class extends Q{constructor(){super("Entity manager is not using single database connection and cannot be released. Only entity managers created by connection#createEntityManagerWithSingleDatabaseConnection methods have a single database connection and they should be released.")}};var jM=class extends Q{constructor(e){super(`Removed entity "${e.metadata.name}" is also scheduled for update operation. Make sure you are not updating and removing same object (note that update or remove may be executed by cascade operations).`)}};var $M=class extends Q{constructor(e,t){super(`Column type for ${e.constructor.name}#${t} is not defined and cannot be guessed. Make sure you have turned on an "emitDecoratorMetadata": true option in tsconfig.json. Also make sure you have imported "reflect-metadata" on top of the main entry file in your application (before any entity imported).If you are using JavaScript instead of TypeScript you must explicitly provide a column type.`)}},Gd=class extends Q{constructor(){super("Query runner already released. Cannot run queries anymore.")}},VM=class extends Q{constructor(){super("RDBMS does not support OFFSET without LIMIT in SELECT statements. You must use limit in conjunction with offset function (or take in conjunction with skip function if you are using pagination).")}},ku=class extends Q{constructor(e){super(`Cannot execute operation on "${e}" connection because connection is not yet established.`)}},UM=class extends Q{constructor(e){super(`Option "${e}" is not set in your connection options, please define "${e}" option in your connection options or ormconfig.json`)}};var Co=class{static sha1(e){let t=function(he,y){return he<<y|he>>>32-y},r=function(he){let y="",Te,De;for(Te=7;Te>=0;Te--)De=he>>>Te*4&15,y+=De.toString(16);return y},i,s,o,a=new Array(80),c=1732584193,u=4023233417,l=2562383102,f=271733878,p=3285377520,g,v,E,D,P,K;e=encodeURIComponent(e);let J=e.length,re=[];for(s=0;s<J-3;s+=4)o=e.charCodeAt(s)<<24|e.charCodeAt(s+1)<<16|e.charCodeAt(s+2)<<8|e.charCodeAt(s+3),re.push(o);switch(J%4){case 0:s=2147483648;break;case 1:s=e.charCodeAt(J-1)<<24|8388608;break;case 2:s=e.charCodeAt(J-2)<<24|e.charCodeAt(J-1)<<16|32768;break;case 3:s=e.charCodeAt(J-3)<<24|e.charCodeAt(J-2)<<16|e.charCodeAt(J-1)<<8|128;break}for(re.push(s);re.length%16!==14;)re.push(0);for(re.push(J>>>29),re.push(J<<3&4294967295),i=0;i<re.length;i+=16){for(s=0;s<16;s++)a[s]=re[i+s];for(s=16;s<=79;s++)a[s]=t(a[s-3]^a[s-8]^a[s-14]^a[s-16],1);for(g=c,v=u,E=l,D=f,P=p,s=0;s<=19;s++)K=t(g,5)+(v&E|~v&D)+P+a[s]+1518500249&4294967295,P=D,D=E,E=t(v,30),v=g,g=K;for(s=20;s<=39;s++)K=t(g,5)+(v^E^D)+P+a[s]+1859775393&4294967295,P=D,D=E,E=t(v,30),v=g,g=K;for(s=40;s<=59;s++)K=t(g,5)+(v&E|v&D|E&D)+P+a[s]+2400959708&4294967295,P=D,D=E,E=t(v,30),v=g,g=K;for(s=60;s<=79;s++)K=t(g,5)+(v^E^D)+P+a[s]+3395469782&4294967295,P=D,D=E,E=t(v,30),v=g,g=K;c=c+g&4294967295,u=u+v&4294967295,l=l+E&4294967295,f=f+D&4294967295,p=p+P&4294967295}return K=r(c)+r(u)+r(l)+r(f)+r(p),K.toLowerCase()}};function bM(n,e=!1){return n.replace(/^([A-Z])|[\s-_](\w)/g,function(t,r,i,s){return e===!0&&s===0?r:i?i.toUpperCase():r.toLowerCase()})}function _ae(n){return n.replace(/([A-Z])([A-Z])([a-z])/g,"$1_$2$3").replace(/([a-z0-9])([A-Z])/g,"$1_$2").toLowerCase()}function Det(n){return n.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())}function Dae(n,e={}){let{segmentLength:t=4,separator:r="__",termLength:i=2}=e;return n.split(r).reduce((a,c)=>{let u=c.replace(/([a-z\xE0-\xFF])([A-Z\xC0-\xDF])/g,"$1 $2").split(" "),l=u.length>1?i:t,f=u.map(p=>p.substr(0,l)).join("");return a.push(f),a},[]).join(r)}var HM=class{constructor(){this.nestedSetColumnNames={left:"nsleft",right:"nsright"},this.materializedPathColumnName="mpath"}getTableName(e){return typeof e!="string"&&(e=e.name),e.split(".").pop()}tableName(e,t){return t||_ae(e)}closureJunctionTableName(e){return e+"_closure"}columnName(e,t,r){let i=t||e;return r.length?bM(r.join("_"))+Det(i):i}relationName(e){return e}primaryKeyName(e,t){let r=[...t];r.sort();let o=`${this.getTableName(e).replace(".","_")}_${r.join("_")}`;return"PK_"+Co.sha1(o).substr(0,27)}uniqueConstraintName(e,t){let r=[...t];r.sort();let o=`${this.getTableName(e).replace(".","_")}_${r.join("_")}`;return"UQ_"+Co.sha1(o).substr(0,27)}relationConstraintName(e,t,r){let i=[...t];i.sort();let a=`${this.getTableName(e).replace(".","_")}_${i.join("_")}`;return r&&(a+=`_${r}`),"REL_"+Co.sha1(a).substr(0,26)}defaultConstraintName(e,t){let s=`${this.getTableName(e).replace(".","_")}_${t}`;return"DF_"+Co.sha1(s).substr(0,27)}foreignKeyName(e,t,r,i){let s=[...t];s.sort();let c=`${this.getTableName(e).replace(".","_")}_${s.join("_")}`;return"FK_"+Co.sha1(c).substr(0,27)}indexName(e,t,r){let i=[...t];i.sort();let a=`${this.getTableName(e).replace(".","_")}_${i.join("_")}`;return r&&(a+=`_${r}`),"IDX_"+Co.sha1(a).substr(0,26)}checkConstraintName(e,t,r){let o=`${this.getTableName(e).replace(".","_")}_${t}`,a="CHK_"+Co.sha1(o).substr(0,26);return r?`${a}_ENUM`:a}exclusionConstraintName(e,t){let s=`${this.getTableName(e).replace(".","_")}_${t}`;return"XCL_"+Co.sha1(s).substr(0,26)}joinColumnName(e,t){return bM(e+"_"+t)}joinTableName(e,t,r,i){return _ae(e+"_"+r.replace(/\./gi,"_")+"_"+t)}joinTableColumnDuplicationPrefix(e,t){return e+"_"+t}joinTableColumnName(e,t,r){return bM(e+"_"+(r||t))}joinTableInverseColumnName(e,t,r){return this.joinTableColumnName(e,t,r)}prefixTableName(e,t){return e+t}eagerJoinRelationAlias(e,t){return e+"_"+t.replace(".","_")}},Lu=class n{constructor(e){this["@instanceof"]=Symbol.for("TableColumn"),this.isNullable=!1,this.isGenerated=!1,this.isPrimary=!1,this.isUnique=!1,this.isArray=!1,this.length="",this.zerofill=!1,this.unsigned=!1,e&&(this.name=e.name,this.type=e.type||"",this.length=e.length||"",this.width=e.width,this.charset=e.charset,this.collation=e.collation,this.precision=e.precision,this.scale=e.scale,this.zerofill=e.zerofill||!1,this.unsigned=this.zerofill?!0:e.unsigned||!1,this.default=e.default,this.onUpdate=e.onUpdate,this.isNullable=e.isNullable||!1,this.isGenerated=e.isGenerated||!1,this.generationStrategy=e.generationStrategy,this.generatedIdentity=e.generatedIdentity,this.isPrimary=e.isPrimary||!1,this.isUnique=e.isUnique||!1,this.isArray=e.isArray||!1,this.comment=e.comment,this.enum=e.enum,this.enumName=e.enumName,this.primaryKeyConstraintName=e.primaryKeyConstraintName,this.asExpression=e.asExpression,this.generatedType=e.generatedType,this.spatialFeatureType=e.spatialFeatureType,this.srid=e.srid)}clone(){return new n({name:this.name,type:this.type,length:this.length,width:this.width,charset:this.charset,collation:this.collation,precision:this.precision,scale:this.scale,zerofill:this.zerofill,unsigned:this.unsigned,enum:this.enum,enumName:this.enumName,primaryKeyConstraintName:this.primaryKeyConstraintName,asExpression:this.asExpression,generatedType:this.generatedType,default:this.default,onUpdate:this.onUpdate,isNullable:this.isNullable,isGenerated:this.isGenerated,generationStrategy:this.generationStrategy,generatedIdentity:this.generatedIdentity,isPrimary:this.isPrimary,isUnique:this.isUnique,isArray:this.isArray,comment:this.comment,spatialFeatureType:this.spatialFeatureType,srid:this.srid})}},fc=class n{constructor(e){this["@instanceof"]=Symbol.for("TableIndex"),this.columnNames=[],this.name=e.name,this.columnNames=e.columnNames,this.isUnique=!!e.isUnique,this.isSpatial=!!e.isSpatial,this.isFulltext=!!e.isFulltext,this.isNullFiltered=!!e.isNullFiltered,this.parser=e.parser,this.where=e.where?e.where:""}clone(){return new n({name:this.name,columnNames:[...this.columnNames],isUnique:this.isUnique,isSpatial:this.isSpatial,isFulltext:this.isFulltext,isNullFiltered:this.isNullFiltered,parser:this.parser,where:this.where})}static create(e){return new n({name:e.name,columnNames:e.columns.map(t=>t.databaseName),isUnique:e.isUnique,isSpatial:e.isSpatial,isFulltext:e.isFulltext,isNullFiltered:e.isNullFiltered,parser:e.parser,where:e.where})}},Yp=class n{constructor(e){this["@instanceof"]=Symbol.for("TableForeignKey"),this.columnNames=[],this.referencedColumnNames=[],this.name=e.name,this.columnNames=e.columnNames,this.referencedColumnNames=e.referencedColumnNames,this.referencedDatabase=e.referencedDatabase,this.referencedSchema=e.referencedSchema,this.referencedTableName=e.referencedTableName,this.onDelete=e.onDelete,this.onUpdate=e.onUpdate,this.deferrable=e.deferrable}clone(){return new n({name:this.name,columnNames:[...this.columnNames],referencedColumnNames:[...this.referencedColumnNames],referencedDatabase:this.referencedDatabase,referencedSchema:this.referencedSchema,referencedTableName:this.referencedTableName,onDelete:this.onDelete,onUpdate:this.onUpdate,deferrable:this.deferrable})}static create(e,t){return new n({name:e.name,columnNames:e.columnNames,referencedColumnNames:e.referencedColumnNames,referencedDatabase:e.referencedEntityMetadata.database,referencedSchema:e.referencedEntityMetadata.schema,referencedTableName:e.referencedTablePath,onDelete:e.onDelete,onUpdate:e.onUpdate,deferrable:e.deferrable})}},Vd=class{static createTableColumnOptions(e,t){return{name:e.databaseName,length:t.getColumnLength(e),width:e.width,charset:e.charset,collation:e.collation,precision:e.precision,scale:e.scale,zerofill:e.zerofill,unsigned:e.unsigned,asExpression:e.asExpression,generatedType:e.generatedType,default:t.normalizeDefault(e),onUpdate:e.onUpdate,comment:e.comment,isGenerated:e.isGenerated,generationStrategy:e.generationStrategy,generatedIdentity:e.generatedIdentity,isNullable:e.isNullable,type:t.normalizeType(e),isPrimary:e.isPrimary,isUnique:t.normalizeIsUnique(e),isArray:e.isArray||!1,enum:e.enum?e.enum.map(r=>r+""):e.enum,enumName:e.enumName,primaryKeyConstraintName:e.primaryKeyConstraintName,spatialFeatureType:e.spatialFeatureType,srid:e.srid}}},Bu=class n{constructor(e){this["@instanceof"]=Symbol.for("TableUnique"),this.columnNames=[],this.name=e.name,this.columnNames=e.columnNames,this.deferrable=e.deferrable}clone(){return new n({name:this.name,columnNames:[...this.columnNames],deferrable:this.deferrable})}static create(e){return new n({name:e.name,columnNames:e.columns.map(t=>t.databaseName),deferrable:e.deferrable})}},Qd=class n{constructor(e){this["@instanceof"]=Symbol.for("TableCheck"),this.columnNames=[],this.name=e.name,this.columnNames=e.columnNames,this.expression=e.expression}clone(){return new n({name:this.name,columnNames:this.columnNames?[...this.columnNames]:[],expression:this.expression})}static create(e){return new n({name:e.name,expression:e.expression})}},Jp=class n{constructor(e){this["@instanceof"]=Symbol.for("TableExclusion"),this.name=e.name,this.expression=e.expression}clone(){return new n({name:this.name,expression:this.expression})}static create(e){return new n({name:e.name,expression:e.expression})}},la=class n{constructor(e){this["@instanceof"]=Symbol.for("Table"),this.columns=[],this.indices=[],this.foreignKeys=[],this.uniques=[],this.checks=[],this.exclusions=[],this.justCreated=!1,this.withoutRowid=!1,e&&(this.database=e.database,this.schema=e.schema,this.name=e.name,e.columns&&(this.columns=e.columns.map(t=>new Lu(t))),e.indices&&(this.indices=e.indices.map(t=>new fc(t))),e.foreignKeys&&(this.foreignKeys=e.foreignKeys.map(t=>new Yp(We(Z({},t),{referencedDatabase:t?.referencedDatabase||e.database,referencedSchema:t?.referencedSchema||e.schema})))),e.uniques&&(this.uniques=e.uniques.map(t=>new Bu(t))),e.checks&&(this.checks=e.checks.map(t=>new Qd(t))),e.exclusions&&(this.exclusions=e.exclusions.map(t=>new Jp(t))),e.justCreated!==void 0&&(this.justCreated=e.justCreated),e.withoutRowid&&(this.withoutRowid=e.withoutRowid),this.engine=e.engine)}get primaryColumns(){return this.columns.filter(e=>e.isPrimary)}clone(){return new n({schema:this.schema,database:this.database,name:this.name,columns:this.columns.map(e=>e.clone()),indices:this.indices.map(e=>e.clone()),foreignKeys:this.foreignKeys.map(e=>e.clone()),uniques:this.uniques.map(e=>e.clone()),checks:this.checks.map(e=>e.clone()),exclusions:this.exclusions.map(e=>e.clone()),justCreated:this.justCreated,withoutRowid:this.withoutRowid,engine:this.engine})}addColumn(e){this.columns.push(e)}removeColumn(e){let t=this.columns.find(r=>r.name===e.name);t&&this.columns.splice(this.columns.indexOf(t),1)}addUniqueConstraint(e){if(this.uniques.push(e),e.columnNames.length===1){let t=this.columns.find(r=>r.name===e.columnNames[0]);t&&(t.isUnique=!0)}}removeUniqueConstraint(e){let t=this.uniques.find(r=>r.name===e.name);if(t&&(this.uniques.splice(this.uniques.indexOf(t),1),t.columnNames.length===1)){let r=this.columns.find(i=>i.name===t.columnNames[0]);r&&(r.isUnique=!1)}}addCheckConstraint(e){this.checks.push(e)}removeCheckConstraint(e){let t=this.checks.find(r=>r.name===e.name);t&&this.checks.splice(this.checks.indexOf(t),1)}addExclusionConstraint(e){this.exclusions.push(e)}removeExclusionConstraint(e){let t=this.exclusions.find(r=>r.name===e.name);t&&this.exclusions.splice(this.exclusions.indexOf(t),1)}addForeignKey(e){this.foreignKeys.push(e)}removeForeignKey(e){let t=this.foreignKeys.find(r=>r.name===e.name);t&&this.foreignKeys.splice(this.foreignKeys.indexOf(t),1)}addIndex(e,t=!1){if(this.indices.push(e),e.columnNames.length===1&&e.isUnique&&t){let r=this.columns.find(i=>i.name===e.columnNames[0]);r&&(r.isUnique=!0)}}removeIndex(e,t=!1){let r=this.indices.find(i=>i.name===e.name);if(r&&(this.indices.splice(this.indices.indexOf(r),1),r.columnNames.length===1&&r.isUnique&&t)){let i=this.columns.find(s=>s.name===r.columnNames[0]);i&&(i.isUnique=this.indices.some(s=>s.columnNames.length===1&&s.columnNames[0]===i.name&&!!r.isUnique))}}findColumnByName(e){return this.columns.find(t=>t.name===e)}findColumnIndices(e){return this.indices.filter(t=>!!t.columnNames.find(r=>r===e.name))}findColumnForeignKeys(e){return this.foreignKeys.filter(t=>!!t.columnNames.find(r=>r===e.name))}findColumnUniques(e){return this.uniques.filter(t=>!!t.columnNames.find(r=>r===e.name))}findColumnChecks(e){return this.checks.filter(t=>!!t.columnNames.find(r=>r===e.name))}static create(e,t){let r=e.database===t.database?void 0:e.database,i=e.schema===t.options.schema?void 0:e.schema,s={database:e.database,schema:e.schema,name:t.buildTableName(e.tableName,i,r),withoutRowid:e.withoutRowid,engine:e.engine,columns:e.columns.filter(o=>o&&!o.isVirtualProperty).map(o=>Vd.createTableColumnOptions(o,t)),indices:e.indices.filter(o=>o.synchronize===!0).map(o=>fc.create(o)),uniques:e.uniques.map(o=>Bu.create(o)),checks:e.checks.map(o=>Qd.create(o)),exclusions:e.exclusions.map(o=>Jp.create(o))};return new n(s)}},K_=class{constructor(e,t,r,i){this.id=e,this.timestamp=t,this.name=r,this.instance=i}},Hp=class{constructor(e,t){this.connection=e,this.queryRunner=t,this.transaction="all";let{schema:r}=this.connection.driver.options,i=this.connection.driver.database;this.migrationsDatabase=i,this.migrationsSchema=r,this.migrationsTableName=e.options.migrationsTableName||"migrations",this.migrationsTable=this.connection.driver.buildTableName(this.migrationsTableName,r,i)}async executeMigration(e){return this.withQueryRunner(async t=>{await this.createMigrationsTableIfNotExist(t);let r=this.connection.driver.createSchemaBuilder();return _e.isRdbmsSchemaBuilder(r)&&await r.createMetadataTableIfNecessary(t),await t.beforeMigration(),await e.instance.up(t),await t.afterMigration(),await this.insertExecutedMigration(t,e),e})}async getAllMigrations(){return Promise.resolve(this.getMigrations())}async getExecutedMigrations(){return this.withQueryRunner(async e=>(await this.createMigrationsTableIfNotExist(e),await this.loadExecutedMigrations(e)))}async getPendingMigrations(){let e=await this.getAllMigrations(),t=await this.getExecutedMigrations();return e.filter(r=>!t.find(i=>i.name===r.name))}insertMigration(e){return this.withQueryRunner(t=>this.insertExecutedMigration(t,e))}deleteMigration(e){return this.withQueryRunner(t=>this.deleteExecutedMigration(t,e))}async showMigrations(){let e=!1,t=this.queryRunner||this.connection.createQueryRunner();await this.createMigrationsTableIfNotExist(t);let r=await this.loadExecutedMigrations(t),i=this.getMigrations();for(let s of i)r.find(a=>a.name===s.name)?this.connection.logger.logSchemaBuild(`[X] ${s.name}`):(e=!0,this.connection.logger.logSchemaBuild(`[ ] ${s.name}`));return this.queryRunner||await t.release(),e}async executePendingMigrations(){let e=this.queryRunner||this.connection.createQueryRunner();await this.createMigrationsTableIfNotExist(e);let t=this.connection.driver.createSchemaBuilder();_e.isRdbmsSchemaBuilder(t)&&await t.createMetadataTableIfNecessary(e);let r=await this.loadExecutedMigrations(e),i=this.getLatestTimestampMigration(r),s=this.getMigrations(),o=[],a=s.filter(u=>!r.find(f=>f.name===u.name));if(!a.length)return this.connection.logger.logSchemaBuild("No migrations are pending"),this.queryRunner||await e.release(),[];this.connection.logger.logSchemaBuild(`${r.length} migrations are already loaded in the database.`),this.connection.logger.logSchemaBuild(`${s.length} migrations were found in the source code.`),i&&this.connection.logger.logSchemaBuild(`${i.name} is the last executed migration. It was executed on ${new Date(i.timestamp).toString()}.`),this.connection.logger.logSchemaBuild(`${a.length} migrations are new migrations must be executed.`);let c=!1;this.transaction==="all"&&!e.isTransactionActive&&(await e.startTransaction(),c=!0);try{for(let u of a){if(this.fake){await this.insertExecutedMigration(e,u);continue}this.transaction==="each"&&!e.isTransactionActive&&(await e.startTransaction(),c=!0),await u.instance.up(e).catch(l=>{throw this.connection.logger.logMigration(`Migration "${u.name}" failed, error: ${l?.message}`),l}).then(async()=>{await this.insertExecutedMigration(e,u),this.transaction==="each"&&c&&await e.commitTransaction()}).then(()=>{o.push(u),this.connection.logger.logSchemaBuild(`Migration ${u.name} has been ${this.fake?"(fake)":""} executed successfully.`)})}this.transaction==="all"&&c&&await e.commitTransaction()}catch(u){if(c)try{await e.rollbackTransaction()}catch{}throw u}finally{this.queryRunner||await e.release()}return o}async undoLastMigration(){let e=this.queryRunner||this.connection.createQueryRunner();await this.createMigrationsTableIfNotExist(e);let t=this.connection.driver.createSchemaBuilder();_e.isRdbmsSchemaBuilder(t)&&await t.createMetadataTableIfNecessary(e);let r=await this.loadExecutedMigrations(e),i=this.getLatestExecutedMigration(r);if(!i){this.connection.logger.logSchemaBuild("No migrations was found in the database. Nothing to revert!");return}let o=this.getMigrations().find(c=>c.name===i.name);if(!o)throw new Q(`No migration ${i.name} was found in the source code. Make sure you have this migration in your codebase and its included in the connection options.`);this.connection.logger.logSchemaBuild(`${r.length} migrations are already loaded in the database.`),this.connection.logger.logSchemaBuild(`${i.name} is the last executed migration. It was executed on ${new Date(i.timestamp).toString()}.`),this.connection.logger.logSchemaBuild("Now reverting it...");let a=!1;this.transaction!=="none"&&!e.isTransactionActive&&(await e.startTransaction(),a=!0);try{this.fake||(await e.beforeMigration(),await o.instance.down(e),await e.afterMigration()),await this.deleteExecutedMigration(e,o),this.connection.logger.logSchemaBuild(`Migration ${o.name} has been ${this.fake?"(fake)":""} reverted successfully.`),a&&await e.commitTransaction()}catch(c){if(a)try{await e.rollbackTransaction()}catch{}throw c}finally{this.queryRunner||await e.release()}}async createMigrationsTableIfNotExist(e){if(this.connection.driver.options.type==="mongodb")return;await e.hasTable(this.migrationsTable)||await e.createTable(new la({database:this.migrationsDatabase,schema:this.migrationsSchema,name:this.migrationsTable,columns:[{name:"id",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationId}),isGenerated:!0,generationStrategy:"increment",isPrimary:!0,isNullable:!1},{name:"timestamp",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationTimestamp}),isPrimary:!1,isNullable:!1},{name:"name",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationName}),isNullable:!1}]}))}async loadExecutedMigrations(e){if(this.connection.driver.options.type!=="mongodb")return(await this.connection.manager.createQueryBuilder(e).select().orderBy(this.connection.driver.escape("id"),"DESC").from(this.migrationsTable,this.migrationsTableName).getRawMany()).map(r=>new K_(parseInt(r.id),parseInt(r.timestamp),r.name))}getMigrations(){let e=this.connection.migrations.map(t=>{let r=t.name||t.constructor.name,i=parseInt(r.substr(-13),10);if(!i||isNaN(i))throw new Q(`${r} migration name is wrong. Migration class name should have a JavaScript timestamp appended.`);return new K_(void 0,i,r,t)});return this.checkForDuplicateMigrations(e),e.sort((t,r)=>t.timestamp-r.timestamp)}checkForDuplicateMigrations(e){let t=e.map(i=>i.name),r=Array.from(new Set(t.filter((i,s)=>t.indexOf(i)<s)));if(r.length>0)throw Error(`Duplicate migrations: ${r.join(", ")}`)}getLatestTimestampMigration(e){let t=e.map(r=>r).sort((r,i)=>(r.timestamp-i.timestamp)*-1);return t.length>0?t[0]:void 0}getLatestExecutedMigration(e){return e.length>0?e[0]:void 0}async insertExecutedMigration(e,t){let r={};this.connection.driver.options.type==="mssql"||(r.timestamp=t.timestamp,r.name=t.name),this.connection.driver.options.type==="mongodb"||await e.manager.createQueryBuilder().insert().into(this.migrationsTable).values(r).execute()}async deleteExecutedMigration(e,t){let r={};if(this.connection.driver.options.type==="mssql"||(r.timestamp=t.timestamp,r.name=t.name),this.connection.driver.options.type!=="mongodb"){let i=e.manager.createQueryBuilder();await i.delete().from(this.migrationsTable).where(`${i.escape("timestamp")} = :timestamp`).andWhere(`${i.escape("name")} = :name`).setParameters(r).execute()}}async withQueryRunner(e){let t=this.queryRunner||this.connection.createQueryRunner();try{return e(t)}finally{this.queryRunner||await t.release()}}};function j_(n,e,t){let r=[],i={};return function s(o){i[o]=!0,r.push(o),n[o].forEach(function(a){if(!i[a])s(a);else if(r.indexOf(a)>=0)throw r.push(a),new Q(`Dependency Cycle Found: ${r.join(" -> ")}`)}),r.pop(),(!e||n[o].length===0)&&t.indexOf(o)===-1&&t.push(o)}}var WM=class{constructor(){this.nodes={},this.outgoingEdges={},this.incomingEdges={}}addNode(e,t){this.hasNode(e)||(arguments.length===2?this.nodes[e]=t:this.nodes[e]=e,this.outgoingEdges[e]=[],this.incomingEdges[e]=[])}removeNode(e){this.hasNode(e)&&(delete this.nodes[e],delete this.outgoingEdges[e],delete this.incomingEdges[e],[this.incomingEdges,this.outgoingEdges].forEach(function(t){Object.keys(t).forEach(function(r){let i=t[r].indexOf(e);i>=0&&t[r].splice(i,1)},this)}))}hasNode(e){return this.nodes.hasOwnProperty(e)}getNodeData(e){if(this.hasNode(e))return this.nodes[e];throw new Q(`Node does not exist: ${e}`)}setNodeData(e,t){if(this.hasNode(e))this.nodes[e]=t;else throw new Q(`Node does not exist: ${e}`)}addDependency(e,t){if(!this.hasNode(e))throw new Q(`Node does not exist: ${e}`);if(!this.hasNode(t))throw new Q(`Node does not exist: ${t}`);return this.outgoingEdges[e].indexOf(t)===-1&&this.outgoingEdges[e].push(t),this.incomingEdges[t].indexOf(e)===-1&&this.incomingEdges[t].push(e),!0}removeDependency(e,t){let r;this.hasNode(e)&&(r=this.outgoingEdges[e].indexOf(t),r>=0&&this.outgoingEdges[e].splice(r,1)),this.hasNode(t)&&(r=this.incomingEdges[t].indexOf(e),r>=0&&this.incomingEdges[t].splice(r,1))}dependenciesOf(e,t){if(this.hasNode(e)){let r=[];j_(this.outgoingEdges,t,r)(e);let s=r.indexOf(e);return s>=0&&r.splice(s,1),r}else throw new Q(`Node does not exist: ${e}`)}dependantsOf(e,t){if(this.hasNode(e)){let r=[];j_(this.incomingEdges,t,r)(e);let s=r.indexOf(e);return s>=0&&r.splice(s,1),r}else throw new Q(`Node does not exist: ${e}`)}overallOrder(e){let t=this,r=[],i=Object.keys(this.nodes);if(i.length===0)return r;{let s=j_(this.outgoingEdges,!1,[]);i.forEach(function(a){s(a)});let o=j_(this.outgoingEdges,e,r);return i.filter(function(a){return t.incomingEdges[a].length===0}).forEach(function(a){o(a)}),r}}},zM=class{static isGreaterOrEqual(e,t){let r=Eae(e),i=Eae(t);return r[0]>i[0]||r[0]===i[0]&&r[1]>i[1]||r[0]===i[0]&&r[1]===i[1]&&r[2]>=i[2]}};function Eae(n=""){let e=[0,0,0];return n.split(".").forEach((t,r)=>e[r]=parseInt(t,10)),e}var Ae=class{static isSQLiteFamily(e){return["sqlite","cordova","react-native","nativescript","sqljs","expo","better-sqlite3","capacitor"].includes(e.options.type)}static isMySQLFamily(e){return["mysql","mariadb"].includes(e.options.type)}static isReleaseVersionOrGreater(e,t){return e.version!=null&&zM.isGreaterOrEqual(e.version,t)}static isPostgresFamily(e){return["postgres","aurora-postgres"].includes(e.options.type)}static buildDriverOptions(e,t){if(e.url){let r=this.parseConnectionUrl(e.url);t&&t.useSid&&r.database&&(r.sid=r.database);for(let i of Object.keys(r))typeof r[i]>"u"&&delete r[i];return Object.assign({},e,r)}return Object.assign({},e)}static buildMongoDBDriverOptions(e,t){if(e.url){let r=this.parseMongoDBConnectionUrl(e.url);t&&t.useSid&&r.database&&(r.sid=r.database);for(let i of Object.keys(r))typeof r[i]>"u"&&delete r[i];return Object.assign({},e,r)}return Object.assign({},e)}static buildAlias({maxAliasLength:e},t,...r){typeof t=="string"?(r.unshift(t),t={shorten:!1,joiner:"_"}):t=Object.assign({shorten:!1,joiner:"_"},t);let i=r.length===1?r[0]:r.join(t.joiner);if(e&&e>0&&i.length>e){if(t.shorten===!0){let s=Dae(i);if(s.length<e)return s}return void 0}return i}static buildColumnAlias({maxAliasLength:e},t,...r){return this.buildAlias({maxAliasLength:e},t,...r)}static parseConnectionUrl(e){let t=e.split(":")[0],r=e.indexOf("//"),i=e.substr(r+2),s=i.indexOf("/"),o=s!==-1?i.substr(0,s):i,a=s!==-1?i.substr(s+1):void 0;a&&a.indexOf("?")!==-1&&(a=a.substr(0,a.indexOf("?")));let c=o.lastIndexOf("@"),u=o.substr(0,c),l=o.substr(c+1),f=u,p="",g=u.indexOf(":");g!==-1&&(f=u.substr(0,g),p=u.substr(g+1));let[v,E]=l.split(":");return{type:t,host:v,username:decodeURIComponent(f),password:decodeURIComponent(p),port:E?parseInt(E):void 0,database:a||void 0}}static parseMongoDBConnectionUrl(e){let t=e.split(":")[0],r=e.indexOf("//"),i=e.substr(r+2),s=i.indexOf("/"),o=s!==-1?i.substr(0,s):i,a=s!==-1?i.substr(s+1):void 0,c="",u,l,f,p,g={};if(a&&a.indexOf("?")!==-1){c=a.substr(a.indexOf("?")+1,a.length);let he=c.split("&"),y,Te;he.forEach(De=>{y=De.split("=")[0],Te=De.split("=")[1],g[y]=Te}),p=g.replicaSet,a=a.substr(0,a.indexOf("?"))}let v=o.lastIndexOf("@"),E=o.substr(0,v),D=o.substr(v+1),P=E,K="",J=E.indexOf(":");J!==-1&&(P=E.substr(0,J),K=E.substr(J+1)),p?f=D:[u,l]=D.split(":");let re={type:t,host:u,hostReplicaSet:f,username:decodeURIComponent(P),password:decodeURIComponent(K),port:l?parseInt(l):void 0,database:a||void 0};for(let[he,y]of Object.entries(g))re[he]=y;return re}},GM=class{validateMany(e,t){e.forEach(r=>this.validate(r,e,t)),this.validateDependencies(e),this.validateEagerRelations(e)}validate(e,t,r){if(!e.primaryColumns.length&&!e.isJunction)throw new RM(e);if(e.primaryColumns.length>1&&!e.primaryColumns.every((o,a,c)=>o.primaryKeyConstraintName===c[0].primaryKeyConstraintName))throw new Q(`Entity ${e.name} has multiple primary columns with different constraint names. Constraint names should be the equal.`);if(e.inheritancePattern==="STI"||e.tableType==="entity-child"){if(!e.discriminatorColumn)throw new Q(`Entity ${e.name} using single-table inheritance, it should also have a discriminator column. Did you forget to put discriminator column options?`);if(typeof e.discriminatorValue>"u")throw new Q(`Entity ${e.name} has an undefined discriminator value. Discriminator value should be defined.`);let s=t.find(o=>o!==e&&(o.inheritancePattern==="STI"||o.tableType==="entity-child")&&o.tableName===e.tableName&&o.discriminatorValue===e.discriminatorValue&&o.inheritanceTree.some(a=>e.inheritanceTree.indexOf(a)!==-1));if(s)throw new Q(`Entities ${e.name} and ${s.name} have the same discriminator values. Make sure they are different while using the @ChildEntity decorator.`)}if(e.relationCounts.forEach(s=>{if(s.relation.isManyToOne||s.relation.isOneToOne)throw new Q("Relation count can not be implemented on ManyToOne or OneToOne relations.")}),r.options.type!=="mongodb"&&e.columns.filter(s=>!s.isVirtualProperty).forEach(s=>{let o=r.normalizeType(s);if(r.supportedDataTypes.indexOf(o)===-1)throw new LM(s,o,r.options.type);if(s.length&&r.withLengthColumnTypes.indexOf(o)===-1)throw new Q(`Column ${s.propertyName} of Entity ${e.name} does not support length property.`);if(s.type==="enum"&&!s.enum&&!s.enumName)throw new Q(`Column "${s.propertyName}" of Entity "${e.name}" is defined as enum, but missing "enum" or "enumName" properties.`)}),(Ae.isMySQLFamily(r)||r.options.type==="aurora-mysql")&&e.columns.filter(o=>o.isGenerated&&o.generationStrategy!=="uuid").length>1)throw new Q(`Error in ${e.name} entity. There can be only one auto-increment column in MySql table.`);if(Ae.isMySQLFamily(r)&&t.filter(o=>o.database).length===0&&!r.database)throw new UM("database");if(r.options.type==="mssql"&&e.columns.filter(o=>o.charset).length>1)throw new Q("Character set specifying is not supported in Sql Server");if(r.options.type==="postgres"){let s=e.columns.find(o=>o.asExpression&&(!o.generatedType||o.generatedType==="VIRTUAL"));if(s)throw new Q(`Column "${s.propertyName}" of Entity "${e.name}" is defined as VIRTUAL, but Postgres supports only STORED generated columns.`)}let i=e.create(void 0,{fromDeserializer:!0});e.relations.forEach(s=>{if(s.isManyToMany||s.isOneToMany){if(s.persistenceEnabled===!1)return;let o=s.getEntityValue(i);if(Array.isArray(o))throw new BM(s)}}),e.relations.forEach(s=>{}),e.relations.forEach(s=>{if(s.isCascadeRemove&&s.inverseRelation&&s.inverseRelation.isCascadeRemove)throw new Q(`Relation ${e.name}#${s.propertyName} and ${s.inverseRelation.entityMetadata.name}#${s.inverseRelation.propertyName} both has cascade remove set. This may lead to unexpected circular removals. Please set cascade remove only from one side of relationship.`)}),e.eagerRelations.forEach(s=>{})}validateDependencies(e){let t=new WM;e.forEach(r=>{t.addNode(r.name)}),e.forEach(r=>{r.relationsWithJoinColumns.filter(i=>!i.isNullable).forEach(i=>{t.addDependency(r.name,i.inverseEntityMetadata.name)})});try{t.overallOrder()}catch(r){throw new MM(r.toString().replace("Error: Dependency Cycle Found: ",""))}}validateEagerRelations(e){e.forEach(t=>{t.eagerRelations.forEach(r=>{if(r.inverseRelation&&r.inverseRelation.isEager)throw new Q(`Circular eager relations are disallowed. ${t.targetName}#${r.propertyPath} contains "eager: true", and its inverse side ${r.inverseEntityMetadata.targetName}#${r.inverseRelation.propertyPath} contains "eager: true" as well. Remove "eager: true" from one side of the relation.`)})})}},si=class n{static isFindOneOptions(e){let t=e;return t&&(Array.isArray(t.select)||Array.isArray(t.relations)||typeof t.select=="object"||typeof t.relations=="object"||typeof t.where=="object"||typeof t.join=="object"||typeof t.order=="object"||typeof t.cache=="object"||typeof t.cache=="boolean"||typeof t.cache=="number"||typeof t.comment=="string"||typeof t.lock=="object"||typeof t.loadRelationIds=="object"||typeof t.loadRelationIds=="boolean"||typeof t.loadEagerRelations=="boolean"||typeof t.withDeleted=="boolean"||typeof t.relationLoadStrategy=="string"||typeof t.transaction=="boolean")}static isFindManyOptions(e){let t=e;return t&&(this.isFindOneOptions(t)||typeof t.skip=="number"||typeof t.take=="number"||typeof t.skip=="string"||typeof t.take=="string")}static extractFindManyOptionsAlias(e){if(this.isFindManyOptions(e)&&e.join)return e.join.alias}static applyOptionsToTreeQueryBuilder(e,t){if(t?.relations){let r=[...t.relations];if(n.applyRelationsRecursively(e,r,e.expressionMap.mainAlias.name,e.expressionMap.mainAlias.metadata,""),r.length>0)throw new FM(r)}return e}static applyRelationsRecursively(e,t,r,i,s){let o=[];if(s){let a=new RegExp("^"+s.replace(".","\\.")+"\\.");o=t.filter(c=>c.match(a)).map(c=>c.replace(a,"")).filter(c=>i.findRelationWithPropertyPath(c))}else o=t.filter(a=>i.findRelationWithPropertyPath(a));o.forEach(a=>{let c=Ae.buildAlias(e.connection.driver,{joiner:"__"},r,a),u=r+"."+a;e.leftJoinAndSelect(u,c),t.splice(t.indexOf(s?s+"."+a:a),1);let l=e.expressionMap.joinAttributes.find(p=>p.entityOrProperty===u);this.applyRelationsRecursively(e,t,l.alias.name,l.metadata,s?s+"."+a:a);let f=i.relations.find(p=>p.propertyName===a);f&&this.joinEagerRelations(e,c,f.inverseEntityMetadata)})}static joinEagerRelations(e,t,r){r.eagerRelations.forEach(i=>{let s=Ae.buildAlias(e.connection.driver,e.connection.namingStrategy.eagerJoinRelationAlias(t,i.propertyPath)),o=!0;for(let c of e.expressionMap.joinAttributes)if(!(c.condition!==void 0||c.mapToProperty!==void 0||c.isMappingMany!==void 0||c.direction!=="LEFT"||c.entityOrProperty!==`${t}.${i.propertyPath}`)){o=!1,s=c.alias.name;break}o&&e.leftJoin(t+"."+i.propertyPath,s);let a=!0;for(let c of e.expressionMap.selects)if(!(c.aliasName!==void 0||c.virtual!==void 0||c.selection!==s)){a=!1;break}a&&e.addSelect(s),this.joinEagerRelations(e,s,i.inverseEntityMetadata)})}},Bd=class n{static createRelationMaps(e,t,r,i){return i.map(s=>{let o=t.treeParentRelation.joinColumns[0],a=o.givenDatabaseName||o.databaseName,c=s[r+"_"+t.primaryColumns[0].databaseName],u=s[r+"_"+a];return{id:e.connection.driver.prepareHydratedValue(c,t.primaryColumns[0]),parentId:e.connection.driver.prepareHydratedValue(u,o)}})}static buildChildrenEntityTree(e,t,r,i,s){let o=e.treeChildrenRelation.propertyName;if(s.depth===0){t[o]=[];return}let a=e.primaryColumns[0].getEntityValue(t),c=i.filter(l=>l.parentId===a),u=new Set(c.map(l=>l.id));t[o]=r.filter(l=>u.has(e.primaryColumns[0].getEntityValue(l))),t[o].forEach(l=>{n.buildChildrenEntityTree(e,l,r,i,We(Z({},s),{depth:s.depth-1}))})}static buildParentEntityTree(e,t,r,i){let s=e.treeParentRelation.propertyName,o=e.primaryColumns[0].getEntityValue(t),a=i.find(u=>u.id===o),c=r.find(u=>a?e.primaryColumns[0].getEntityValue(u)===a.parentId:!1);c&&(t[s]=c,n.buildParentEntityTree(e,t[s],r,i))}},Y_=class{get metadata(){return this.manager.connection.getMetadata(this.target)}constructor(e,t,r){this.target=e,this.manager=t,this.queryRunner=r}createQueryBuilder(e,t){return this.manager.createQueryBuilder(this.metadata.target,e||this.metadata.targetName,t||this.queryRunner)}hasId(e){return this.manager.hasId(this.metadata.target,e)}getId(e){return this.manager.getId(this.metadata.target,e)}create(e){return this.manager.create(this.metadata.target,e)}merge(e,...t){return this.manager.merge(this.metadata.target,e,...t)}preload(e){return this.manager.preload(this.metadata.target,e)}save(e,t){return this.manager.save(this.metadata.target,e,t)}remove(e,t){return this.manager.remove(this.metadata.target,e,t)}softRemove(e,t){return this.manager.softRemove(this.metadata.target,e,t)}recover(e,t){return this.manager.recover(this.metadata.target,e,t)}insert(e){return this.manager.insert(this.metadata.target,e)}update(e,t){return this.manager.update(this.metadata.target,e,t)}upsert(e,t){return this.manager.upsert(this.metadata.target,e,t)}delete(e){return this.manager.delete(this.metadata.target,e)}softDelete(e){return this.manager.softDelete(this.metadata.target,e)}restore(e){return this.manager.restore(this.metadata.target,e)}count(e){return this.manager.count(this.metadata.target,e)}countBy(e){return this.manager.countBy(this.metadata.target,e)}async find(e){return this.manager.find(this.metadata.target,e)}async findBy(e){return this.manager.findBy(this.metadata.target,e)}findAndCount(e){return this.manager.findAndCount(this.metadata.target,e)}findAndCountBy(e){return this.manager.findAndCountBy(this.metadata.target,e)}async findByIds(e){return this.manager.findByIds(this.metadata.target,e)}async findOne(e){return this.manager.findOne(this.metadata.target,e)}async findOneBy(e){return this.manager.findOneBy(this.metadata.target,e)}async findOneById(e){return this.manager.findOneById(this.metadata.target,e)}async findOneOrFail(e){return this.manager.findOneOrFail(this.metadata.target,e)}async findOneByOrFail(e){return this.manager.findOneByOrFail(this.metadata.target,e)}query(e,t){return this.manager.query(e,t)}clear(){return this.manager.clear(this.metadata.target)}increment(e,t,r){return this.manager.increment(this.metadata.target,e,t,r)}decrement(e,t,r){return this.manager.decrement(this.metadata.target,e,t,r)}extend(e){let t=this.constructor,{target:r,manager:i,queryRunner:s}=this,o=new class extends t{}(r,i,s);return Object.assign(o,e),o}},QM=class extends Y_{async findTrees(e){let t=await this.findRoots(e);return await Promise.all(t.map(r=>this.findDescendantsTree(r,e))),t}findRoots(e){let t=a=>this.manager.connection.driver.escape(a),r=a=>this.manager.connection.driver.escape(a),i=this.metadata.treeParentRelation.joinColumns[0],s=i.givenDatabaseName||i.databaseName,o=this.createQueryBuilder("treeEntity");return si.applyOptionsToTreeQueryBuilder(o,e),o.where(`${t("treeEntity")}.${r(s)} IS NULL`).getMany()}findDescendants(e,t){let r=this.createDescendantsQueryBuilder("treeEntity","treeClosure",e);return si.applyOptionsToTreeQueryBuilder(r,t),r.getMany()}async findDescendantsTree(e,t){let r=this.createDescendantsQueryBuilder("treeEntity","treeClosure",e);si.applyOptionsToTreeQueryBuilder(r,t);let i=await r.getRawAndEntities(),s=Bd.createRelationMaps(this.manager,this.metadata,"treeEntity",i.raw);return Bd.buildChildrenEntityTree(this.metadata,e,i.entities,s,Z({depth:-1},t)),e}countDescendants(e){return this.createDescendantsQueryBuilder("treeEntity","treeClosure",e).getCount()}createDescendantsQueryBuilder(e,t,r){let i=s=>this.manager.connection.driver.escape(s);if(this.metadata.treeType==="closure-table"){let s=this.metadata.closureJunctionTable.descendantColumns.map(c=>i(t)+"."+i(c.propertyPath)+" = "+i(e)+"."+i(c.referencedColumn.propertyPath)).join(" AND "),o={},a=this.metadata.closureJunctionTable.ancestorColumns.map(c=>(o[c.referencedColumn.propertyName]=c.referencedColumn.getEntityValue(r),i(t)+"."+i(c.propertyPath)+" = :"+c.referencedColumn.propertyName)).join(" AND ");return this.createQueryBuilder(e).innerJoin(this.metadata.closureJunctionTable.tableName,t,s).where(a).setParameters(o)}else if(this.metadata.treeType==="nested-set"){let s=e+"."+this.metadata.nestedSetLeftColumn.propertyPath+" BETWEEN joined."+this.metadata.nestedSetLeftColumn.propertyPath+" AND joined."+this.metadata.nestedSetRightColumn.propertyPath,o={},a=this.metadata.treeParentRelation.joinColumns.map(c=>{let u=c.referencedColumn.propertyPath.replace(".","_");return o[u]=c.referencedColumn.getEntityValue(r),"joined."+c.referencedColumn.propertyPath+" = :"+u}).join(" AND ");return this.createQueryBuilder(e).innerJoin(this.metadata.targetName,"joined",s).where(a,o)}else if(this.metadata.treeType==="materialized-path")return this.createQueryBuilder(e).where(s=>{let o=s.subQuery().select(`${this.metadata.targetName}.${this.metadata.materializedPathColumn.propertyPath}`,"path").from(this.metadata.target,this.metadata.targetName).whereInIds(this.metadata.getEntityIdMap(r));return Ae.isSQLiteFamily(this.manager.connection.driver)?`${e}.${this.metadata.materializedPathColumn.propertyPath} LIKE ${o.getQuery()} || '%'`:`${e}.${this.metadata.materializedPathColumn.propertyPath} LIKE NULLIF(CONCAT(${o.getQuery()}, '%'), '%')`});throw new Q("Supported only in tree entities")}findAncestors(e,t){let r=this.createAncestorsQueryBuilder("treeEntity","treeClosure",e);return si.applyOptionsToTreeQueryBuilder(r,t),r.getMany()}async findAncestorsTree(e,t){let r=this.createAncestorsQueryBuilder("treeEntity","treeClosure",e);si.applyOptionsToTreeQueryBuilder(r,t);let i=await r.getRawAndEntities(),s=Bd.createRelationMaps(this.manager,this.metadata,"treeEntity",i.raw);return Bd.buildParentEntityTree(this.metadata,e,i.entities,s),e}countAncestors(e){return this.createAncestorsQueryBuilder("treeEntity","treeClosure",e).getCount()}createAncestorsQueryBuilder(e,t,r){if(this.metadata.treeType==="closure-table"){let i=this.metadata.closureJunctionTable.ancestorColumns.map(a=>t+"."+a.propertyPath+" = "+e+"."+a.referencedColumn.propertyPath).join(" AND "),s={},o=this.metadata.closureJunctionTable.descendantColumns.map(a=>(s[a.referencedColumn.propertyName]=a.referencedColumn.getEntityValue(r),t+"."+a.propertyPath+" = :"+a.referencedColumn.propertyName)).join(" AND ");return this.createQueryBuilder(e).innerJoin(this.metadata.closureJunctionTable.tableName,t,i).where(o).setParameters(s)}else if(this.metadata.treeType==="nested-set"){let i="joined."+this.metadata.nestedSetLeftColumn.propertyPath+" BETWEEN "+e+"."+this.metadata.nestedSetLeftColumn.propertyPath+" AND "+e+"."+this.metadata.nestedSetRightColumn.propertyPath,s={},o=this.metadata.treeParentRelation.joinColumns.map(a=>{let c=a.referencedColumn.propertyPath.replace(".","_");return s[c]=a.referencedColumn.getEntityValue(r),"joined."+a.referencedColumn.propertyPath+" = :"+c}).join(" AND ");return this.createQueryBuilder(e).innerJoin(this.metadata.targetName,"joined",i).where(o,s)}else if(this.metadata.treeType==="materialized-path")return this.createQueryBuilder(e).where(i=>{let s=i.subQuery().select(`${this.metadata.targetName}.${this.metadata.materializedPathColumn.propertyPath}`,"path").from(this.metadata.target,this.metadata.targetName).whereInIds(this.metadata.getEntityIdMap(r));return Ae.isSQLiteFamily(this.manager.connection.driver)?`${s.getQuery()} LIKE ${e}.${this.metadata.materializedPathColumn.propertyPath} || '%'`:`${s.getQuery()} LIKE CONCAT(${e}.${this.metadata.materializedPathColumn.propertyPath}, '%')`});throw new Q("Supported only in tree entities")}extend(e){let t=this.constructor,{target:r,manager:i,queryRunner:s}=this,o=new class extends t{}(r,i,s);return Object.assign(o,e),o}},KM=class{transform(e,t,r,i=!1){return this.groupAndTransform(e,t,r,i),e}groupAndTransform(e,t,r,i=!1){r.nonVirtualColumns.forEach(s=>{let o=s.getEntityValue(t);o!==void 0&&s.setEntityValue(e,o)}),r.relations.length&&r.relations.forEach(s=>{let o=s.getEntityValue(e),a=s.getEntityValue(t,i);if(a!==void 0)if(s.isOneToMany||s.isManyToMany){if(!Array.isArray(a))return;o||(o=[],s.setEntityValue(e,o)),a.forEach(c=>{let u=o.find(l=>s.inverseEntityMetadata.compareEntities(c,l));u||(u=s.inverseEntityMetadata.create(void 0,{fromDeserializer:!0}),o.push(u)),this.groupAndTransform(u,c,s.inverseEntityMetadata,i)})}else{if(!Ye.isObject(a)){Ye.isObject(o)||s.setEntityValue(e,a);return}o||(o=s.inverseEntityMetadata.create(void 0,{fromDeserializer:!0}),s.setEntityValue(e,o)),this.groupAndTransform(o,a,s.inverseEntityMetadata,i)}})}},YM=class{constructor(e,t,r,i){this.plainEntity=e,this.metadata=t,this.parentLoadMapItem=r,this.relation=i}get target(){return this.metadata.target}get id(){return this.metadata.getEntityIdMixedMap(this.plainEntity)}},JM=class{constructor(){this.loadMapItems=[]}get mainLoadMapItem(){return this.loadMapItems.find(e=>!e.relation&&!e.parentLoadMapItem)}addLoadMap(e){this.loadMapItems.find(r=>r.target===e.target&&r.id===e.id)||this.loadMapItems.push(e)}fillEntities(e,t){t.forEach(r=>{let i=this.loadMapItems.find(s=>s.target===e&&s.metadata.compareEntities(r,s.plainEntity));i&&(i.entity=r)})}groupByTargetIds(){let e=[];return this.loadMapItems.forEach(t=>{let r=e.find(i=>i.target===t.target);r||(r={target:t.target,ids:[]},e.push(r)),r.ids.push(t.id)}),e}},ZM=class{constructor(e){this.manager=e}async transform(e,t){if(!t.hasAllPrimaryKeys(e))return Promise.reject("Given object does not have a primary column, cannot transform it to database entity.");let r=new JM,i=(s,o,a,c)=>{let u=new YM(s,o,a,c);r.addLoadMap(u),o.extractRelationValuesFromEntity(s,t.relations).filter(l=>l!=null).forEach(([l,f,p])=>i(f,p,u,l))};return i(e,t),await Promise.all(r.groupByTargetIds().map(s=>this.manager.findByIds(s.target,s.ids).then(o=>r.fillEntities(s.target,o)))),r.loadMapItems.forEach(s=>{!s.relation||!s.entity||!s.parentLoadMapItem||!s.parentLoadMapItem.entity||(s.relation.isManyToMany||s.relation.isOneToMany?(s.parentLoadMapItem.entity[s.relation.propertyName]||(s.parentLoadMapItem.entity[s.relation.propertyName]=[]),s.parentLoadMapItem.entity[s.relation.propertyName].push(s.entity)):s.parentLoadMapItem.entity[s.relation.propertyName]=s.entity)}),r.mainLoadMapItem?r.mainLoadMapItem.entity:void 0}},XM=class{get repository(){let e=this.getCustomRepositoryTarget(this);if(!e)throw new Up(this.constructor);return this.manager.getRepository(e)}get treeRepository(){let e=this.getCustomRepositoryTarget(this);if(!e)throw new Up(this.constructor);return this.manager.getTreeRepository(e)}createQueryBuilder(e){let t=this.getCustomRepositoryTarget(this.constructor);if(!t)throw new Up(this.constructor);return this.manager.getRepository(t).createQueryBuilder(e)}createQueryBuilderFor(e,t){return this.getRepositoryFor(e).createQueryBuilder(t)}getRepositoryFor(e){return this.manager.getRepository(e)}getTreeRepositoryFor(e){return this.manager.getTreeRepository(e)}getCustomRepositoryTarget(e){let t=wi().entityRepositories.find(r=>r.target===(typeof e=="function"?e:e.constructor));if(!t)throw new U_(e);return t.entity}},J_=class{constructor(e){this.subjects=[...e],this.metadatas=this.getUniqueMetadatas(this.subjects)}sort(e){if(!this.metadatas.length)return this.subjects;let t=[];if(e==="delete"){let a=this.subjects.filter(c=>!c.entity&&!c.databaseEntity);t.push(...a),this.removeAlreadySorted(a)}let r=this.getNonNullableDependencies(),i=this.toposort(r);e==="insert"&&(i=i.reverse()),i.forEach(a=>{let c=this.subjects.filter(u=>u.metadata.targetName===a||u.metadata.parentEntityMetadata?.targetName===a);t.push(...c),this.removeAlreadySorted(c)});let s=this.getDependencies(),o=this.toposort(s);return e==="insert"&&(o=o.reverse()),o.forEach(a=>{let c=this.subjects.filter(u=>u.metadata.targetName===a);t.push(...c),this.removeAlreadySorted(c)}),t.push(...this.subjects),t}removeAlreadySorted(e){e.forEach(t=>{this.subjects.splice(this.subjects.indexOf(t),1)})}getUniqueMetadatas(e){let t=[];return e.forEach(r=>{t.indexOf(r.metadata)===-1&&t.push(r.metadata)}),t}getNonNullableDependencies(){return this.metadatas.reduce((e,t)=>(t.relationsWithJoinColumns.forEach(r=>{r.isNullable||e.push([t.targetName,r.inverseEntityMetadata.targetName])}),e),[])}getDependencies(){return this.metadatas.reduce((e,t)=>(t.relationsWithJoinColumns.forEach(r=>{r.inverseEntityMetadata!==t&&e.push([t.targetName,r.inverseEntityMetadata.targetName])}),e),[])}toposort(e){function t(u){let l=[];for(let f=0,p=u.length;f<p;f++){let g=u[f];l.indexOf(g[0])<0&&l.push(g[0]),l.indexOf(g[1])<0&&l.push(g[1])}return l}let r=t(e),i=r.length,s=new Array(i),o={},a=i;for(;a--;)o[a]||c(r[a],a,[]);function c(u,l,f){if(f.indexOf(u)>=0)throw new Q("Cyclic dependency: "+JSON.stringify(u));if(!~r.indexOf(u))throw new Q("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(o[l])return;o[l]=!0;let p=e.filter(function(g){return g[0]===u});if(l=p.length){let g=f.concat(u);do{let v=p[--l][1];c(v,r.indexOf(v),g)}while(l)}s[--i]=u}return s}},gn=class{static normalizeHydratedDate(e){return e&&(typeof e=="string"?new Date(e):e)}static mixedDateToDateString(e){return e instanceof Date?this.formatZerolessValue(e.getFullYear(),4)+"-"+this.formatZerolessValue(e.getMonth()+1)+"-"+this.formatZerolessValue(e.getDate()):e}static mixedDateToDate(e,t=!1,r=!0){let i=typeof e=="string"?Eee(e):e;return t&&(i=new Date(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds())),r||i.setUTCMilliseconds(0),i}static mixedDateToTimeString(e,t=!1){return e instanceof Date?this.formatZerolessValue(e.getHours())+":"+this.formatZerolessValue(e.getMinutes())+(t?"":":"+this.formatZerolessValue(e.getSeconds())):e}static mixedTimeToDate(e){if(typeof e=="string"){let[t,r,i]=e.split(":"),s=new Date;return t&&s.setHours(parseInt(t)),r&&s.setMinutes(parseInt(r)),i&&s.setSeconds(parseInt(i)),s}return e}static mixedTimeToString(e,t=!1){return e=e instanceof Date?e.getHours()+":"+e.getMinutes()+(t?"":":"+e.getSeconds()):e,typeof e=="string"?e.split(":").map(r=>r.length===1?"0"+r:r).join(":"):e}static mixedDateToDatetimeString(e,t){if(typeof e=="string"&&(e=new Date(e)),e instanceof Date){let r=this.formatZerolessValue(e.getFullYear(),4)+"-"+this.formatZerolessValue(e.getMonth()+1)+"-"+this.formatZerolessValue(e.getDate())+" "+this.formatZerolessValue(e.getHours())+":"+this.formatZerolessValue(e.getMinutes())+":"+this.formatZerolessValue(e.getSeconds());t&&(r+=`.${this.formatMilliseconds(e.getMilliseconds())}`),e=r}return e}static mixedDateToUtcDatetimeString(e){return typeof e=="string"&&(e=new Date(e)),e instanceof Date?this.formatZerolessValue(e.getUTCFullYear(),4)+"-"+this.formatZerolessValue(e.getUTCMonth()+1)+"-"+this.formatZerolessValue(e.getUTCDate())+" "+this.formatZerolessValue(e.getUTCHours())+":"+this.formatZerolessValue(e.getUTCMinutes())+":"+this.formatZerolessValue(e.getUTCSeconds())+"."+this.formatMilliseconds(e.getUTCMilliseconds()):e}static simpleArrayToString(e){return Array.isArray(e)?e.map(t=>String(t)).join(","):e}static stringToSimpleArray(e){return typeof e=="string"?e.length>0?e.split(","):[]:e}static simpleJsonToString(e){return JSON.stringify(e)}static stringToSimpleJson(e){return typeof e=="string"?JSON.parse(e):e}static simpleEnumToString(e){return""+e}static stringToSimpleEnum(e,t){return t.enum&&!isNaN(e)&&t.enum.indexOf(parseInt(e))>=0&&(e=parseInt(e)),e}static formatZerolessValue(e,t=2){return`${"0".repeat(t)}${e}`.slice(-t)}static formatMilliseconds(e){return e<10?"00"+e:e<100?"0"+e:String(e)}},yt=class n{static chunk(e,t){return Array.from(Array(Math.ceil(e.length/t)),(r,i)=>e.slice(i*t,i*t+t))}static splitClassesAndStrings(e){return[e.filter(t=>typeof t!="string"),e.filter(t=>typeof t=="string")]}static groupBy(e,t){return e.reduce((r,i)=>{let s=t(i),o=r.find(a=>a.id===s);return o||(o={id:s,items:[]},r.push(o)),o.items.push(i),r},[])}static uniq(e,t){return e.reduce((r,i)=>{let s=!1;if(typeof t=="function"){let o=t(i);s=!!r.find(a=>t(a)===o)}else typeof t=="string"?s=!!r.find(o=>o[t]===i[t]):s=r.indexOf(i)!==-1;return s||r.push(i),r},[])}static isPlainObject(e){return e==null?!1:!e.constructor||e.constructor===Object}static mergeArrayKey(e,t,r,i){if(i.has(r)){e[t]=i.get(r);return}if(!(r instanceof Promise)){if(!this.isPlainObject(r)&&!Array.isArray(r)){e[t]=r;return}e[t]||(e[t]=Array.isArray(r)?[]:{}),i.set(r,e[t]),this.merge(e[t],r,i),i.delete(r)}}static mergeObjectKey(e,t,r,i){if(i.has(r)){Object.assign(e,{[t]:i.get(r)});return}if(!(r instanceof Promise)){if(!this.isPlainObject(r)&&!Array.isArray(r)){Object.assign(e,{[t]:r});return}e[t]||Object.assign(e,{[t]:Array.isArray(r)?[]:{}}),i.set(r,e[t]),this.merge(e[t],r,i),i.delete(r)}}static merge(e,t,r=new Map){if(this.isPlainObject(e)&&this.isPlainObject(t))for(let i of Object.keys(t))i!=="__proto__"&&this.mergeObjectKey(e,i,t[i],r);if(Array.isArray(e)&&Array.isArray(t))for(let i=0;i<t.length;i++)this.mergeArrayKey(e,i,t[i],r)}static mergeDeep(e,...t){if(!t.length)return e;for(let r of t)n.merge(e,r);return e}static deepCompare(...e){let t,r,i,s;if(arguments.length<1)return!0;for(t=1,r=arguments.length;t<r;t++)if(i=[],s=[],!this.compare2Objects(i,s,arguments[0],arguments[t]))return!1;return!0}static deepValue(e,t){let r=t.split(".");for(let i=0,s=r.length;i<s;i++)e=e[r[i]];return e}static replaceEmptyObjectsWithBooleans(e){for(let t in e)e[t]&&typeof e[t]=="object"&&(Object.keys(e[t]).length===0?e[t]=!0:this.replaceEmptyObjectsWithBooleans(e[t]))}static propertyPathsToTruthyObject(e){let t={};for(let r of e){let i=r.split(".");if(!i.length)continue;(!t[i[0]]||t[i[0]]===!0)&&(t[i[0]]={});let s=t[i[0]];for(let[o,a]of i.entries())o!==0&&(s[a]?s=s[a]:o===i.length-1?(s[a]={},s=null):(s[a]={},s=s[a]))}return this.replaceEmptyObjectsWithBooleans(t),t}static compareIds(e,t){return e==null||t===void 0||t===null?!1:(typeof e.id=="string"&&typeof t.id=="string"||typeof e.id=="number"&&typeof t.id=="number")&&Object.keys(e).length===1&&Object.keys(t).length===1?e.id===t.id:n.deepCompare(e,t)}static toBoolean(e){return typeof e=="boolean"?e:typeof e=="string"?e==="true"||e==="1":typeof e=="number"?e>0:!1}static zipObject(e,t){return e.reduce((r,i,s)=>(r[i]=t[s],r),{})}static isArraysEqual(e,t){return e.length!==t.length?!1:e.every(r=>t.indexOf(r)!==-1)}static areMutuallyExclusive(...e){return!e.some(r=>{let i=e.filter(s=>s!==r);return r.some(s=>i.some(o=>o.includes(s)))})}static compare2Objects(e,t,r,i){let s;if(Number.isNaN(r)&&Number.isNaN(i)||r===i)return!0;if(r===null||i===null||r===void 0||i===void 0)return!1;if((typeof r.equals=="function"||typeof r.equals=="function")&&r.equals(i))return!0;if(typeof r=="function"&&typeof i=="function"||r instanceof Date&&i instanceof Date||r instanceof RegExp&&i instanceof RegExp||typeof r=="string"&&typeof i=="string"||typeof r=="number"&&typeof i=="number")return r.toString()===i.toString();if(!(typeof r=="object"&&typeof i=="object")||r.isPrototypeOf(i)||i.isPrototypeOf(r)||r.constructor!==i.constructor||r.prototype!==i.prototype||e.indexOf(r)>-1||t.indexOf(i)>-1)return!1;for(s in i){if(i.hasOwnProperty(s)!==r.hasOwnProperty(s))return!1;if(typeof i[s]!=typeof r[s])return!1}for(s in r){if(i.hasOwnProperty(s)!==r.hasOwnProperty(s))return!1;if(typeof i[s]!=typeof r[s])return!1;switch(typeof r[s]){case"object":case"function":if(e.push(r),t.push(i),!this.compare2Objects(e,t,r[s],i[s]))return!1;e.pop(),t.pop();break;default:if(r[s]!==i[s])return!1;break}}return!0}},lc=class{static transformFrom(e,t){return Array.isArray(e)?e.slice().reverse().reduce((i,s)=>s.from(i),t):e.from(t)}static transformTo(e,t){return Array.isArray(e)?e.reduce((r,i)=>i.to(r),t):e.to(t)}},eR=class{compute(e){e.forEach(t=>{this.computeDiffColumns(t),this.computeDiffRelationalColumns(e,t)})}computeDiffColumns(e){e.entity&&e.metadata.columns.forEach(t=>{if(t.isVirtual||t.isDiscriminator)return;let r=e.changeMaps.find(s=>s.column===t);r&&e.changeMaps.splice(e.changeMaps.indexOf(r),1);let i=t.getEntityValue(e.entity);if(i!==void 0){if(e.databaseEntity){let s=t.type!=="json"&&t.type!=="jsonb",o=t.getEntityValue(e.databaseEntity,s);if(t.relationMetadata){let c=t.relationMetadata.getEntityValue(e.entity);if(c!=null)return}let a=i;if(i!==null){switch(t.type){case"date":a=gn.mixedDateToDateString(i);break;case"time":case"time with time zone":case"time without time zone":case"timetz":a=gn.mixedDateToTimeString(i);break;case"datetime":case"datetime2":case Date:case"timestamp":case"timestamp without time zone":case"timestamp with time zone":case"timestamp with local time zone":case"timestamptz":a=gn.mixedDateToUtcDatetimeString(i),o=gn.mixedDateToUtcDatetimeString(o);break;case"json":case"jsonb":if(yt.deepCompare(i,o))return;break;case"simple-array":a=gn.simpleArrayToString(i),o=gn.simpleArrayToString(o);break;case"simple-enum":a=gn.simpleEnumToString(i),o=gn.simpleEnumToString(o);break;case"simple-json":a=gn.simpleJsonToString(i),o=gn.simpleJsonToString(o);break}t.transformer&&(a=lc.transformTo(t.transformer,i))}if(a===o)return}e.diffColumns.push(t),e.changeMaps.push({column:t,value:i})}})}computeDiffRelationalColumns(e,t){t.entity&&t.metadata.relationsWithJoinColumns.forEach(r=>{let i=r.getEntityValue(t.entity);if(i===void 0)return;if(t.databaseEntity){let a=i;a!==null&&Ye.isObject(a)&&(a=r.getRelationIdMap(a));let c=r.getEntityValue(t.databaseEntity);if(yt.compareIds(a,c))return;t.diffRelations.push(r)}let s=e.find(a=>a.mustBeInserted&&a.entity===i);s&&(i=s);let o=t.changeMaps.find(a=>a.relation===r);o?o.value=i:t.changeMaps.push({relation:r,value:i})})}},qu=class{constructor(){this.count=0,this.promises=[]}async wait(){return this.promises.length>0&&await Promise.all(this.promises),this}},Z_=class extends Q{constructor(){super("Nested sets do not support multiple root entities.")}};var Wp=class{constructor(e){this.queryRunner=e}async insert(e){let t=u=>this.queryRunner.connection.driver.escape(u),r=this.getTableName(e.metadata.tablePath),i=t(e.metadata.nestedSetLeftColumn.databaseName),s=t(e.metadata.nestedSetRightColumn.databaseName),o=e.metadata.treeParentRelation.getEntityValue(e.entity);!o&&e.parentSubject&&e.parentSubject.entity&&(o=e.parentSubject.insertedValueSet?e.parentSubject.insertedValueSet:e.parentSubject.entity);let a=e.metadata.getEntityIdMap(o),c;if(a&&(c=await this.queryRunner.manager.createQueryBuilder().select(e.metadata.targetName+"."+e.metadata.nestedSetRightColumn.propertyPath,"right").from(e.metadata.target,e.metadata.targetName).whereInIds(a).getRawOne().then(u=>{let l=u?u.right:void 0;return typeof l=="string"?parseInt(l):l})),c!==void 0)await this.queryRunner.query(`UPDATE ${r} SET ${i} = CASE WHEN ${i} > ${c} THEN ${i} + 2 ELSE ${i} END,${s} = ${s} + 2 WHERE ${s} >= ${c}`),yt.mergeDeep(e.insertedValueSet,e.metadata.nestedSetLeftColumn.createValueMap(c),e.metadata.nestedSetRightColumn.createValueMap(c+1));else{if(!await this.isUniqueRootEntity(e,o))throw new Z_;yt.mergeDeep(e.insertedValueSet,e.metadata.nestedSetLeftColumn.createValueMap(1),e.metadata.nestedSetRightColumn.createValueMap(2))}}async update(e){let t=e.metadata.treeParentRelation.getEntityValue(e.entity);!t&&e.parentSubject&&e.parentSubject.entity&&(t=e.parentSubject.entity);let r=e.databaseEntity;if(!r&&t&&(r=e.metadata.treeChildrenRelation.getEntityValue(t).find(a=>Object.entries(e.identifier).every(([c,u])=>a[c]===u))),r===void 0||t===void 0)return;let i=e.metadata.treeParentRelation.getEntityValue(r),s=e.metadata.getEntityIdMap(i),o=e.metadata.getEntityIdMap(t);if(!yt.compareIds(s,o)){if(t){let a=v=>this.queryRunner.connection.driver.escape(v),c=this.getTableName(e.metadata.tablePath),u=a(e.metadata.nestedSetLeftColumn.databaseName),l=a(e.metadata.nestedSetRightColumn.databaseName),f=e.metadata.getEntityIdMap(r),p;f&&(p=(await this.getNestedSetIds(e.metadata,f))[0]);let g;if(o&&(g=(await this.getNestedSetIds(e.metadata,o))[0]),p!==void 0&&g!==void 0){let v=g.left>p.left,E=p.right-p.left+1,D;v?D=g.left-p.right:D=g.right-p.left;let P=`WHEN ${u} >= ${p.left} AND ${u} < ${p.right} THEN ${u} + ${D} `,K=`WHEN ${l} > ${p.left} AND ${l} <= ${p.right} THEN ${l} + ${D} `;v?await this.queryRunner.query(`UPDATE ${c} SET ${u} = CASE WHEN ${u} > ${p.right} AND ${u} <= ${g.left} THEN ${u} - ${E} `+P+`ELSE ${u} END, ${l} = CASE WHEN ${l} > ${p.right} AND ${l} < ${g.left} THEN ${l} - ${E} `+K+`ELSE ${l} END`):await this.queryRunner.query(`UPDATE ${c} SET ${u} = CASE WHEN ${u} < ${p.left} AND ${u} > ${g.right} THEN ${u} + ${E} `+P+`ELSE ${u} END, ${l} = CASE WHEN ${l} < ${p.left} AND ${l} >= ${g.right} THEN ${l} + ${E} `+K+`ELSE ${l} END`)}}else if(!await this.isUniqueRootEntity(e,t))throw new Z_}}async remove(e){Array.isArray(e)||(e=[e]);let t=e[0].metadata,r=u=>this.queryRunner.connection.driver.escape(u),i=this.getTableName(t.tablePath),s=r(t.nestedSetLeftColumn.databaseName),o=r(t.nestedSetRightColumn.databaseName),a=[];for(let u of e){let l=t.getEntityIdMap(u.entity);l&&a.push(l)}let c=await this.getNestedSetIds(t,a);for(let u of c){let l=u.right-u.left+1;await this.queryRunner.query(`UPDATE ${i} SET ${s} = CASE WHEN ${s} > ${u.left} THEN ${s} - ${l} ELSE ${s} END, ${o} = CASE WHEN ${o} > ${u.right} THEN ${o} - ${l} ELSE ${o} END`)}}getNestedSetIds(e,t){let r={left:`${e.targetName}.${e.nestedSetLeftColumn.propertyPath}`,right:`${e.targetName}.${e.nestedSetRightColumn.propertyPath}`},i=this.queryRunner.manager.createQueryBuilder();return Object.entries(r).forEach(([s,o])=>{i.addSelect(o,s)}),i.from(e.target,e.targetName).whereInIds(t).orderBy(r.right,"DESC").getRawMany().then(s=>{let o=[];for(let a of s){let c={};for(let u of Object.keys(r)){let l=a?a[u]:void 0;c[u]=typeof l=="string"?parseInt(l):l}o.push(c)}return o})}async isUniqueRootEntity(e,t){let r=u=>this.queryRunner.connection.driver.escape(u),i=this.getTableName(e.metadata.tablePath),s=[],o=e.metadata.treeParentRelation.joinColumns.map(u=>{let l=r(u.databaseName),f=u.getEntityValue(t);if(f==null)return`${l} IS NULL`;s.push(f);let p=this.queryRunner.connection.driver.createParameter("entity_"+u.databaseName,s.length-1);return`${l} = ${p}`}).join(" AND "),a="count",c=await this.queryRunner.query(`SELECT COUNT(1) AS ${r(a)} FROM ${i} WHERE ${o}`,s,!0);return parseInt(c.records[0][a])===0}getTableName(e){return e.split(".").map(t=>t===""?t:this.queryRunner.connection.driver.escape(t)).join(".")}},zp=class{constructor(e){this.queryRunner=e}async insert(e){let t={};e.metadata.closureJunctionTable.ancestorColumns.forEach(i=>{t[i.databaseName]=e.identifier}),e.metadata.closureJunctionTable.descendantColumns.forEach(i=>{t[i.databaseName]=e.identifier}),await this.queryRunner.manager.createQueryBuilder().insert().into(e.metadata.closureJunctionTable.tablePath).values(t).updateEntity(!1).callListeners(!1).execute();let r=e.metadata.treeParentRelation.getEntityValue(e.entity);if(!r&&e.parentSubject&&e.parentSubject.entity&&(r=e.parentSubject.insertedValueSet?e.parentSubject.insertedValueSet:e.parentSubject.entity),r){let i=f=>this.queryRunner.connection.driver.escape(f),s=this.getTableName(e.metadata.closureJunctionTable.tablePath),o=[],a=e.metadata.closureJunctionTable.ancestorColumns.map(f=>i(f.databaseName)),c=e.metadata.closureJunctionTable.descendantColumns.map(f=>i(f.databaseName)),u=e.metadata.primaryColumns.map(f=>(o.push(f.getEntityValue(e.insertedValueSet?e.insertedValueSet:e.entity)),this.queryRunner.connection.driver.createParameter("child_entity_"+f.databaseName,o.length-1))),l=e.metadata.closureJunctionTable.descendantColumns.map(f=>{let p=i(f.databaseName),g=f.referencedColumn.getEntityValue(r);if(!g)throw new Q_(e.metadata.name);o.push(g);let v=this.queryRunner.connection.driver.createParameter("parent_entity_"+f.referencedColumn.databaseName,o.length-1);return`${p} = ${v}`});await this.queryRunner.query(`INSERT INTO ${s} (${[...a,...c].join(", ")}) SELECT ${a.join(", ")}, ${u.join(", ")} FROM ${s} WHERE ${l.join(" AND ")}`,o)}}async update(e){let t=e.metadata.treeParentRelation.getEntityValue(e.entity);!t&&e.parentSubject&&e.parentSubject.entity&&(t=e.parentSubject.entity);let r=e.databaseEntity;if(!r&&t&&(r=e.metadata.treeChildrenRelation.getEntityValue(t).find(g=>Object.entries(e.identifier).every(([v,E])=>g[v]===E))),r===void 0||t===void 0)return;let i=e.metadata.treeParentRelation.getEntityValue(r),s=e.metadata.getEntityIdMap(i),o=e.metadata.getEntityIdMap(t);if(yt.compareIds(s,o))return;let a=g=>this.queryRunner.connection.driver.escape(g),c=e.metadata.closureJunctionTable,u=c.ancestorColumns.map(g=>a(g.databaseName)),l=c.descendantColumns.map(g=>a(g.databaseName)),f=(g,v)=>{let E=`sub${v}`,D=g.createQueryBuilder().select(l.join(", ")).from(c.tablePath,E);for(let P of c.ancestorColumns)D.andWhere(`${a(E)}.${a(P.databaseName)} = :value_${P.referencedColumn.databaseName}`);return g.createQueryBuilder().select(l.join(", ")).from(`(${D.getQuery()})`,v).setParameters(D.getParameters()).getQuery()},p={};for(let g of e.metadata.primaryColumns)p[`value_${g.databaseName}`]=r[g.databaseName];if(await this.queryRunner.manager.createQueryBuilder().delete().from(c.tablePath).where(g=>`(${l.join(", ")}) IN (${f(g,"descendant")})`).andWhere(g=>`(${u.join(", ")}) NOT IN (${f(g,"ancestor")})`).setParameters(p).execute(),t){let g=[],v=this.getTableName(c.tablePath),E=a("supertree"),D=a("subtree"),P=[...u.map(re=>`${E}.${re}`),...l.map(re=>`${D}.${re}`)],K=e.metadata.closureJunctionTable.ancestorColumns.map(re=>{let he=a(re.databaseName),y=re.referencedColumn.getEntityValue(r);g.push(y);let Te=this.queryRunner.connection.driver.createParameter("entity_"+re.referencedColumn.databaseName,g.length-1);return`${D}.${he} = ${Te}`}),J=e.metadata.closureJunctionTable.descendantColumns.map(re=>{let he=a(re.databaseName),y=re.referencedColumn.getEntityValue(t);if(!y)throw new Q_(e.metadata.name);g.push(y);let Te=this.queryRunner.connection.driver.createParameter("parent_entity_"+re.referencedColumn.databaseName,g.length-1);return`${E}.${he} = ${Te}`});await this.queryRunner.query(`INSERT INTO ${v} (${[...u,...l].join(", ")}) SELECT ${P.join(", ")} FROM ${v} AS ${E}, ${v} AS ${D} WHERE ${[...K,...J].join(" AND ")}`,g)}}async remove(e){if(this.queryRunner.connection.driver.options.type!=="mssql")return;Array.isArray(e)||(e=[e]);let t=c=>this.queryRunner.connection.driver.escape(c),r=e.map(c=>c.identifier),i=e[0].metadata.closureJunctionTable,s=c=>c.map(u=>{let l=r.map(f=>f[u.referencedColumn.databaseName]);return`${t(u.databaseName)} IN (${l.join(", ")})`}).join(" AND "),o=s(i.ancestorColumns),a=s(i.descendantColumns);await this.queryRunner.manager.createQueryBuilder().delete().from(i.tablePath).where(o).orWhere(a).execute()}getTableName(e){return e.split(".").map(t=>t===""?t:this.queryRunner.connection.driver.escape(t)).join(".")}},X_=class{constructor(e){this.queryRunner=e}async insert(e){let t=e.metadata.treeParentRelation.getEntityValue(e.entity);!t&&e.parentSubject&&e.parentSubject.entity&&(t=e.parentSubject.insertedValueSet?e.parentSubject.insertedValueSet:e.parentSubject.entity);let r=e.metadata.getEntityIdMap(t),i="";r&&(i=await this.getEntityPath(e,r));let s=e.metadata.treeParentRelation.joinColumns.map(o=>o.referencedColumn.getEntityValue(e.insertedValueSet)).join("_");await this.queryRunner.manager.createQueryBuilder().update(e.metadata.target).set({[e.metadata.materializedPathColumn.propertyPath]:i+s+"."}).where(e.identifier).execute()}async update(e){let t=e.metadata.treeParentRelation.getEntityValue(e.entity);!t&&e.parentSubject&&e.parentSubject.entity&&(t=e.parentSubject.entity);let r=e.databaseEntity;!r&&t&&(r=e.metadata.treeChildrenRelation.getEntityValue(t).find(f=>Object.entries(e.identifier).every(([p,g])=>f[p]===g)));let i=e.metadata.treeParentRelation.getEntityValue(r),s=e.metadata.getEntityIdMap(i),o=e.metadata.getEntityIdMap(t);if(yt.compareIds(s,o))return;let a="";o&&(a=await this.getEntityPath(e,o));let c="";s&&(c=await this.getEntityPath(e,s)||"");let u=e.metadata.treeParentRelation.joinColumns.map(f=>f.referencedColumn.getEntityValue(r)).join("_"),l=e.metadata.materializedPathColumn.propertyPath;await this.queryRunner.manager.createQueryBuilder().update(e.metadata.target).set({[l]:()=>`REPLACE(${l}, '${c}${u}.', '${a}${u}.')`}).where(`${l} LIKE :path`,{path:`${c}${u}.%`}).execute()}getEntityPath(e,t){return this.queryRunner.manager.createQueryBuilder().select(e.metadata.targetName+"."+e.metadata.materializedPathColumn.propertyPath,"path").from(e.metadata.target,e.metadata.targetName).whereInIds(t).getRawOne().then(r=>r?r.path:"")}},tR=class{constructor(e,t,r){this.hasExecutableOperations=!1,this.insertSubjects=[],this.updateSubjects=[],this.removeSubjects=[],this.softRemoveSubjects=[],this.recoverSubjects=[],this.queryRunner=e,this.allSubjects=t,this.options=r,this.validate(),this.recompute()}async execute(){let e;(!this.options||this.options.listeners!==!1)&&(e=this.broadcastBeforeEventsForAll(),e.promises.length>0&&await Promise.all(e.promises)),e&&e.count>0&&(this.insertSubjects.forEach(t=>t.recompute()),this.updateSubjects.forEach(t=>t.recompute()),this.removeSubjects.forEach(t=>t.recompute()),this.softRemoveSubjects.forEach(t=>t.recompute()),this.recoverSubjects.forEach(t=>t.recompute()),this.recompute()),this.insertSubjects=new J_(this.insertSubjects).sort("insert"),await this.executeInsertOperations(),this.updateSubjects=this.allSubjects.filter(t=>t.mustBeUpdated),await this.executeUpdateOperations(),this.removeSubjects=new J_(this.removeSubjects).sort("delete"),await this.executeRemoveOperations(),this.softRemoveSubjects=this.allSubjects.filter(t=>t.mustBeSoftRemoved),await this.executeSoftRemoveOperations(),this.recoverSubjects=this.allSubjects.filter(t=>t.mustBeRecovered),await this.executeRecoverOperations(),await this.updateSpecialColumnsInPersistedEntities(),(!this.options||this.options.listeners!==!1)&&(e=this.broadcastAfterEventsForAll(),e.promises.length>0&&await Promise.all(e.promises))}validate(){this.allSubjects.forEach(e=>{if(e.mustBeUpdated&&e.mustBeRemoved)throw new jM(e)})}recompute(){new eR().compute(this.allSubjects),this.insertSubjects=this.allSubjects.filter(e=>e.mustBeInserted),this.updateSubjects=this.allSubjects.filter(e=>e.mustBeUpdated),this.removeSubjects=this.allSubjects.filter(e=>e.mustBeRemoved),this.softRemoveSubjects=this.allSubjects.filter(e=>e.mustBeSoftRemoved),this.recoverSubjects=this.allSubjects.filter(e=>e.mustBeRecovered),this.hasExecutableOperations=this.insertSubjects.length>0||this.updateSubjects.length>0||this.removeSubjects.length>0||this.softRemoveSubjects.length>0||this.recoverSubjects.length>0}broadcastBeforeEventsForAll(){let e=new qu;return this.insertSubjects.length&&this.insertSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastBeforeInsertEvent(e,t.metadata,t.entity)),this.updateSubjects.length&&this.updateSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastBeforeUpdateEvent(e,t.metadata,t.entity,t.databaseEntity,t.diffColumns,t.diffRelations)),this.removeSubjects.length&&this.removeSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastBeforeRemoveEvent(e,t.metadata,t.entity,t.databaseEntity)),this.softRemoveSubjects.length&&this.softRemoveSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastBeforeSoftRemoveEvent(e,t.metadata,t.entity,t.databaseEntity)),this.recoverSubjects.length&&this.recoverSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastBeforeRecoverEvent(e,t.metadata,t.entity,t.databaseEntity)),e}broadcastAfterEventsForAll(){let e=new qu;return this.insertSubjects.length&&this.insertSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastAfterInsertEvent(e,t.metadata,t.entity)),this.updateSubjects.length&&this.updateSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastAfterUpdateEvent(e,t.metadata,t.entity,t.databaseEntity,t.diffColumns,t.diffRelations)),this.removeSubjects.length&&this.removeSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastAfterRemoveEvent(e,t.metadata,t.entity,t.databaseEntity)),this.softRemoveSubjects.length&&this.softRemoveSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastAfterSoftRemoveEvent(e,t.metadata,t.entity,t.databaseEntity)),this.recoverSubjects.length&&this.recoverSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastAfterRecoverEvent(e,t.metadata,t.entity,t.databaseEntity)),e}async executeInsertOperations(){let[e,t]=this.groupBulkSubjects(this.insertSubjects,"insert");for(let r of t){let i=e[r],s=[],o=[],a=[];if(this.queryRunner.connection.driver.options.type==="mongodb"?i.forEach(c=>{c.metadata.createDateColumn&&c.entity&&(c.entity[c.metadata.createDateColumn.databaseName]=new Date),c.metadata.updateDateColumn&&c.entity&&(c.entity[c.metadata.updateDateColumn.databaseName]=new Date),c.createValueSetAndPopChangeMap(),o.push(c),s.push(c.entity)}):this.queryRunner.connection.driver.options.type==="oracle"?i.forEach(c=>{a.push(c)}):i.forEach(c=>{c.changeMaps.length===0||c.metadata.treeType||this.queryRunner.connection.driver.options.type==="oracle"||this.queryRunner.connection.driver.options.type==="sap"?a.push(c):(o.push(c),s.push(c.createValueSetAndPopChangeMap()))}),s.length>0){let c=await this.queryRunner.manager.createQueryBuilder().insert().into(i[0].metadata.target).values(s).updateEntity(!(this.options&&this.options.reload===!1)).callListeners(!1).execute();o.forEach((u,l)=>{u.identifier=c.identifiers[l],u.generatedMap=c.generatedMaps[l],u.insertedValueSet=s[l]})}if(a.length>0)for(let c of a)c.insertedValueSet=c.createValueSetAndPopChangeMap(),c.metadata.treeType==="nested-set"&&await new Wp(this.queryRunner).insert(c),await this.queryRunner.manager.createQueryBuilder().insert().into(c.metadata.target).values(c.insertedValueSet).updateEntity(!(this.options&&this.options.reload===!1)).callListeners(!1).execute().then(u=>{c.identifier=u.identifiers[0],c.generatedMap=u.generatedMaps[0]}),c.metadata.treeType==="closure-table"?await new zp(this.queryRunner).insert(c):c.metadata.treeType==="materialized-path"&&await new X_(this.queryRunner).insert(c);i.forEach(c=>{c.generatedMap&&c.metadata.columns.forEach(u=>{let l=u.getEntityValue(c.generatedMap);if(l!=null){let f=this.queryRunner.connection.driver.prepareHydratedValue(l,u);u.setEntityValue(c.generatedMap,f)}})})}}async executeUpdateOperations(){let e=async s=>{if(!s.identifier)throw new kd(s);{let o=s.createValueSetAndPopChangeMap();switch(s.metadata.treeType){case"nested-set":await new Wp(this.queryRunner).update(s);break;case"closure-table":await new zp(this.queryRunner).update(s);break;case"materialized-path":await new X_(this.queryRunner).update(s);break}let a=this.queryRunner.manager.createQueryBuilder().update(s.metadata.target).set(o).updateEntity(!(this.options&&this.options.reload===!1)).callListeners(!1);s.entity?a.whereEntity(s.identifier):a.where(s.identifier);let u=(await a.execute()).generatedMaps[0];u&&(s.metadata.columns.forEach(l=>{let f=l.getEntityValue(u);if(f!=null){let p=this.queryRunner.connection.driver.prepareHydratedValue(f,l);l.setEntityValue(u,p)}}),s.generatedMap||(s.generatedMap={}),Object.assign(s.generatedMap,u))}},t=[],r=[];for(let s of this.updateSubjects)s.metadata.treeType==="nested-set"?t.push(s):r.push(s);let i=new Promise(async(s,o)=>{for(let a of t)try{await e(a)}catch(c){o(c)}s()});await Promise.all([...r.map(e),i])}async executeRemoveOperations(){let[e,t]=this.groupBulkSubjects(this.removeSubjects,"delete");for(let r of t){let i=e[r],s=i.map(o=>{if(!o.identifier)throw new kd(o);return o.identifier});switch(i[0].metadata.treeType){case"nested-set":await new Wp(this.queryRunner).remove(i);break;case"closure-table":await new zp(this.queryRunner).remove(i);break}await this.queryRunner.manager.createQueryBuilder().delete().from(i[0].metadata.target).where(s).callListeners(!1).execute()}}cloneMongoSubjectEntity(e){let t={};if(e.entity)for(let r of e.metadata.columns)yt.mergeDeep(t,r.getEntityValueMap(e.entity));return t}async executeSoftRemoveOperations(){await Promise.all(this.softRemoveSubjects.map(async e=>{if(!e.identifier)throw new kd(e);let t;{let r=this.queryRunner.manager.createQueryBuilder().softDelete().from(e.metadata.target).updateEntity(!(this.options&&this.options.reload===!1)).callListeners(!1);e.entity?r.whereEntity(e.identifier):r.where(e.identifier),t=await r.execute()}e.generatedMap=t.generatedMaps[0],e.generatedMap&&e.metadata.columns.forEach(r=>{let i=r.getEntityValue(e.generatedMap);if(i!=null){let s=this.queryRunner.connection.driver.prepareHydratedValue(i,r);r.setEntityValue(e.generatedMap,s)}})}))}async executeRecoverOperations(){await Promise.all(this.recoverSubjects.map(async e=>{if(!e.identifier)throw new kd(e);let t;{let r=this.queryRunner.manager.createQueryBuilder().restore().from(e.metadata.target).updateEntity(!(this.options&&this.options.reload===!1)).callListeners(!1);e.entity?r.whereEntity(e.identifier):r.where(e.identifier),t=await r.execute()}e.generatedMap=t.generatedMaps[0],e.generatedMap&&e.metadata.columns.forEach(r=>{let i=r.getEntityValue(e.generatedMap);if(i!=null){let s=this.queryRunner.connection.driver.prepareHydratedValue(i,r);r.setEntityValue(e.generatedMap,s)}})}))}updateSpecialColumnsInPersistedEntities(){this.insertSubjects.length&&this.updateSpecialColumnsInInsertedAndUpdatedEntities(this.insertSubjects),this.updateSubjects.length&&this.updateSpecialColumnsInInsertedAndUpdatedEntities(this.updateSubjects),this.softRemoveSubjects.length&&this.updateSpecialColumnsInInsertedAndUpdatedEntities(this.softRemoveSubjects),this.recoverSubjects.length&&this.updateSpecialColumnsInInsertedAndUpdatedEntities(this.recoverSubjects),this.removeSubjects.length&&this.removeSubjects.forEach(e=>{e.entity&&e.metadata.primaryColumns.forEach(t=>{t.setEntityValue(e.entity,void 0)})}),this.allSubjects.forEach(e=>{e.entity&&e.metadata.relationIds.forEach(t=>{t.setValue(e.entity)})})}updateSpecialColumnsInInsertedAndUpdatedEntities(e){e.forEach(t=>{t.entity&&(t.metadata.columns.forEach(r=>{t.metadata.childEntityMetadatas.length>0&&t.metadata.childEntityMetadatas.map(i=>i.target).indexOf(r.target)!==-1||r.isVirtual||(r.isNullable&&r.getEntityValue(t.entity)===void 0&&r.setEntityValue(t.entity,null),t.updatedRelationMaps.length>0&&t.updatedRelationMaps.forEach(i=>{i.relation.joinColumns.forEach(s=>{s.isVirtual!==!0&&s.setEntityValue(t.entity,Ye.isObject(i.value)?s.referencedColumn.getEntityValue(i.value):i.value)})}))}),t.generatedMap&&this.queryRunner.manager.merge(t.metadata.target,t.entity,t.generatedMap))})}groupBulkSubjects(e,t){let r={},i=[],s=e.some(a=>a.metadata.getInsertionReturningColumns().length>0),o=t==="delete"||this.queryRunner.connection.driver.isReturningSqlSupported("insert")||s===!1;return e.forEach((a,c)=>{let u=o||a.metadata.isJunction?a.metadata.name:a.metadata.name+"_"+c;r[u]?r[u].push(a):(r[u]=[a],i.push(u))}),[r,i]}},qs=class{constructor(e){this["@instanceof"]=Symbol.for("Subject"),this.identifier=void 0,this.entityWithFulfilledIds=void 0,this.databaseEntityLoaded=!1,this.changeMaps=[],this.canBeInserted=!1,this.canBeUpdated=!1,this.mustBeRemoved=!1,this.canBeSoftRemoved=!1,this.canBeRecovered=!1,this.updatedRelationMaps=[],this.diffColumns=[],this.diffRelations=[],this.metadata=e.metadata,this.entity=e.entity,this.parentSubject=e.parentSubject,e.canBeInserted!==void 0&&(this.canBeInserted=e.canBeInserted),e.canBeUpdated!==void 0&&(this.canBeUpdated=e.canBeUpdated),e.mustBeRemoved!==void 0&&(this.mustBeRemoved=e.mustBeRemoved),e.canBeSoftRemoved!==void 0&&(this.canBeSoftRemoved=e.canBeSoftRemoved),e.canBeRecovered!==void 0&&(this.canBeRecovered=e.canBeRecovered),e.identifier!==void 0&&(this.identifier=e.identifier),e.changeMaps!==void 0&&this.changeMaps.push(...e.changeMaps),this.recompute()}get mustBeInserted(){return this.canBeInserted&&!this.databaseEntity}get mustBeUpdated(){return this.canBeUpdated&&this.identifier&&(this.databaseEntityLoaded===!1||this.databaseEntityLoaded&&this.databaseEntity)&&this.changeMaps.length>0}get mustBeSoftRemoved(){return this.canBeSoftRemoved&&this.identifier&&(this.databaseEntityLoaded===!1||this.databaseEntityLoaded&&this.databaseEntity)}get mustBeRecovered(){return this.canBeRecovered&&this.identifier&&(this.databaseEntityLoaded===!1||this.databaseEntityLoaded&&this.databaseEntity)}createValueSetAndPopChangeMap(){let e=[],t=this.changeMaps.reduce((r,i)=>{let s=i.value;_e.isSubject(s)&&(s=s.insertedValueSet?s.insertedValueSet:s.entity);let o;if(this.metadata.isJunction&&i.column)o=i.column.createValueMap(i.column.referencedColumn.getEntityValue(s));else if(i.column)o=i.column.createValueMap(s);else if(i.relation)if(Ye.isObject(s)){let a=i.relation.getRelationIdMap(s);if(a===void 0)return e.push(i),this.canBeUpdated=!0,r;o=i.relation.createValueMap(a),this.updatedRelationMaps.push({relation:i.relation,value:a})}else o=i.relation.createValueMap(s),this.updatedRelationMaps.push({relation:i.relation,value:s});return yt.mergeDeep(r,o),r},{});return this.changeMaps=e,t}recompute(){this.entity?(this.entityWithFulfilledIds=Object.assign({},this.entity),this.parentSubject&&this.metadata.primaryColumns.forEach(e=>{if(e.relationMetadata&&e.relationMetadata.inverseEntityMetadata===this.parentSubject.metadata){let t=e.referencedColumn.getEntityValue(this.parentSubject.entity);e.setEntityValue(this.entityWithFulfilledIds,t)}}),this.identifier=this.metadata.getEntityIdMap(this.entityWithFulfilledIds)):this.databaseEntity&&(this.identifier=this.metadata.getEntityIdMap(this.databaseEntity))}},ju=class n{constructor(e){this["@instanceof"]=Symbol.for("EntityMetadata"),this.childEntityMetadatas=[],this.inheritanceTree=[],this.tableType="regular",this.withoutRowid=!1,this.synchronize=!0,this.hasNonNullableRelations=!1,this.isJunction=!1,this.isAlwaysUsingConstructor=!0,this.isClosureJunction=!1,this.hasMultiplePrimaryKeys=!1,this.hasUUIDGeneratedColumns=!1,this.ownColumns=[],this.columns=[],this.ancestorColumns=[],this.descendantColumns=[],this.nonVirtualColumns=[],this.ownerColumns=[],this.inverseColumns=[],this.generatedColumns=[],this.primaryColumns=[],this.ownRelations=[],this.relations=[],this.eagerRelations=[],this.lazyRelations=[],this.oneToOneRelations=[],this.ownerOneToOneRelations=[],this.oneToManyRelations=[],this.manyToOneRelations=[],this.manyToManyRelations=[],this.ownerManyToManyRelations=[],this.relationsWithJoinColumns=[],this.relationIds=[],this.relationCounts=[],this.foreignKeys=[],this.embeddeds=[],this.allEmbeddeds=[],this.ownIndices=[],this.indices=[],this.uniques=[],this.ownUniques=[],this.checks=[],this.exclusions=[],this.ownListeners=[],this.listeners=[],this.afterLoadListeners=[],this.beforeInsertListeners=[],this.afterInsertListeners=[],this.beforeUpdateListeners=[],this.afterUpdateListeners=[],this.beforeRemoveListeners=[],this.beforeSoftRemoveListeners=[],this.beforeRecoverListeners=[],this.afterRemoveListeners=[],this.afterSoftRemoveListeners=[],this.afterRecoverListeners=[],this.connection=e.connection,this.inheritanceTree=e.inheritanceTree||[],this.inheritancePattern=e.inheritancePattern,this.treeType=e.tableTree?e.tableTree.type:void 0,this.treeOptions=e.tableTree?e.tableTree.options:void 0,this.parentClosureEntityMetadata=e.parentClosureEntityMetadata,this.tableMetadataArgs=e.args,this.target=this.tableMetadataArgs.target,this.tableType=this.tableMetadataArgs.type,this.expression=this.tableMetadataArgs.expression,this.withoutRowid=this.tableMetadataArgs.withoutRowid,this.dependsOn=this.tableMetadataArgs.dependsOn}create(e,t){let r=!!(t&&t.pojo===!0),i;return typeof this.target=="function"&&!r?!t?.fromDeserializer||this.isAlwaysUsingConstructor?i=new this.target:i=Object.create(this.target.prototype):i={},this.connection.options.typename&&(i[this.connection.options.typename]=this.targetName),this.lazyRelations.forEach(s=>this.connection.relationLoader.enableLazyLoad(s,i,e)),i}hasId(e){return e?this.primaryColumns.every(t=>{let r=t.getEntityValue(e);return r!=null&&r!==""}):!1}hasAllPrimaryKeys(e){return this.primaryColumns.every(t=>{let r=t.getEntityValue(e);return r!=null})}ensureEntityIdMap(e){if(Ye.isObject(e))return e;if(this.hasMultiplePrimaryKeys)throw new wM(this,e);return this.primaryColumns[0].createValueMap(e)}getEntityIdMap(e){if(e)return n.getValueMap(e,this.primaryColumns,{skipNulls:!0})}getEntityIdMixedMap(e){if(!e)return e;let t=this.getEntityIdMap(e);return this.hasMultiplePrimaryKeys?t:t&&this.primaryColumns[0].getEntityValue(t)}compareEntities(e,t){let r=this.getEntityIdMap(e);if(!r)return!1;let i=this.getEntityIdMap(t);return i?yt.compareIds(r,i):!1}findColumnWithPropertyName(e){return this.columns.find(t=>t.propertyName===e)}findColumnWithDatabaseName(e){return this.columns.find(t=>t.databaseName===e)}hasColumnWithPropertyPath(e){return this.columns.some(r=>r.propertyPath===e)||this.hasRelationWithPropertyPath(e)}findColumnWithPropertyPath(e){let t=this.columns.find(i=>i.propertyPath===e);if(t)return t;let r=this.relations.find(i=>i.propertyPath===e);if(r&&r.joinColumns.length===1)return r.joinColumns[0]}findColumnWithPropertyPathStrict(e){return this.columns.find(t=>t.propertyPath===e)}findColumnsWithPropertyPath(e){let t=this.columns.find(i=>i.propertyPath===e);if(t)return[t];let r=this.findRelationWithPropertyPath(e);return r&&r.joinColumns?r.joinColumns:[]}hasRelationWithPropertyPath(e){return this.relations.some(t=>t.propertyPath===e)}findRelationWithPropertyPath(e){return this.relations.find(t=>t.propertyPath===e)}hasEmbeddedWithPropertyPath(e){return this.allEmbeddeds.some(t=>t.propertyPath===e)}findEmbeddedWithPropertyPath(e){return this.allEmbeddeds.find(t=>t.propertyPath===e)}mapPropertyPathsToColumns(e){return e.map(t=>{let r=this.findColumnWithPropertyPath(t);if(r==null)throw new Do(t,this);return r})}extractRelationValuesFromEntity(e,t){let r=[];return t.forEach(i=>{let s=i.getEntityValue(e);Array.isArray(s)?s.forEach(o=>r.push([i,o,this.getInverseEntityMetadata(o,i)])):s&&r.push([i,s,this.getInverseEntityMetadata(s,i)])}),r}getInverseEntityMetadata(e,t){let r=t.inverseEntityMetadata.childEntityMetadatas.find(i=>i.target===e.constructor);return r||t.inverseEntityMetadata}static createPropertyPath(e,t,r=""){let i=[];return Object.keys(t).forEach(s=>{let o=r?r+"."+s:s;if(e.hasEmbeddedWithPropertyPath(o)){let a=this.createPropertyPath(e,t[s],o);i.push(...a)}else{let a=r?r+"."+s:s;i.push(a)}}),i}static difference(e,t){return e.filter(r=>!t.find(i=>yt.compareIds(r,i)))}static getValueMap(e,t,r){return t.reduce((i,s)=>{let o=s.getEntityValueMap(e,r);if(!(i===void 0||o===null||o===void 0))return yt.mergeDeep(i,o)},{})}build(){let e=this.connection.namingStrategy,t=this.connection.options.entityPrefix,r=this.connection.options.entitySkipConstructor;this.engine=this.tableMetadataArgs.engine,this.database=this.tableMetadataArgs.type==="entity-child"&&this.parentEntityMetadata?this.parentEntityMetadata.database:this.tableMetadataArgs.database,this.tableMetadataArgs.schema?this.schema=this.tableMetadataArgs.schema:this.tableMetadataArgs.type==="entity-child"&&this.parentEntityMetadata?this.schema=this.parentEntityMetadata.schema:this.connection.options?.hasOwnProperty("schema")&&(this.schema=this.connection.options.schema),this.givenTableName=this.tableMetadataArgs.type==="entity-child"&&this.parentEntityMetadata?this.parentEntityMetadata.givenTableName:this.tableMetadataArgs.name,this.synchronize=this.tableMetadataArgs.synchronize!==!1,this.targetName=typeof this.tableMetadataArgs.target=="function"?this.tableMetadataArgs.target.name:this.tableMetadataArgs.target,this.tableMetadataArgs.type==="closure-junction"?this.tableNameWithoutPrefix=e.closureJunctionTableName(this.givenTableName):this.tableMetadataArgs.type==="entity-child"&&this.parentEntityMetadata?this.tableNameWithoutPrefix=e.tableName(this.parentEntityMetadata.targetName,this.parentEntityMetadata.givenTableName):(this.tableNameWithoutPrefix=e.tableName(this.targetName,this.givenTableName),this.tableMetadataArgs.type==="junction"&&this.connection.driver.maxAliasLength&&this.connection.driver.maxAliasLength>0&&this.tableNameWithoutPrefix.length>this.connection.driver.maxAliasLength&&(this.tableNameWithoutPrefix=Dae(this.tableNameWithoutPrefix,{separator:"_",segmentLength:3}))),this.tableName=t?e.prefixTableName(t,this.tableNameWithoutPrefix):this.tableNameWithoutPrefix,this.target=this.target?this.target:this.tableName,this.name=this.targetName?this.targetName:this.tableName,this.expression=this.tableMetadataArgs.expression,this.withoutRowid=this.tableMetadataArgs.withoutRowid===!0,this.tablePath=this.connection.driver.buildTableName(this.tableName,this.schema,this.database),this.orderBy=typeof this.tableMetadataArgs.orderBy=="function"?this.tableMetadataArgs.orderBy(this.propertiesMap):this.tableMetadataArgs.orderBy,r!==void 0&&(this.isAlwaysUsingConstructor=!r),this.isJunction=this.tableMetadataArgs.type==="closure-junction"||this.tableMetadataArgs.type==="junction",this.isClosureJunction=this.tableMetadataArgs.type==="closure-junction"}registerColumn(e){this.ownColumns.indexOf(e)===-1&&(this.ownColumns.push(e),this.columns=this.embeddeds.reduce((t,r)=>t.concat(r.columnsFromTree),this.ownColumns),this.primaryColumns=this.columns.filter(t=>t.isPrimary),this.hasMultiplePrimaryKeys=this.primaryColumns.length>1,this.hasUUIDGeneratedColumns=this.columns.filter(t=>t.isGenerated||t.generationStrategy==="uuid").length>0,this.propertiesMap=this.createPropertiesMap(),this.childEntityMetadatas&&this.childEntityMetadatas.forEach(t=>t.registerColumn(e)))}createPropertiesMap(){let e={};return this.columns.forEach(t=>yt.mergeDeep(e,t.createValueMap(t.propertyPath))),this.relations.forEach(t=>yt.mergeDeep(e,t.createValueMap(t.propertyPath))),e}getInsertionReturningColumns(){return this.columns.filter(e=>e.default!==void 0||e.isGenerated||e.isCreateDate||e.isUpdateDate||e.isDeleteDate||e.isVersion)}},nR=class{constructor(e){this.subjects=e}build(){this.subjects.forEach(e=>{e.metadata.oneToManyRelations.forEach(t=>{t.persistenceEnabled!==!1&&this.buildForSubjectRelation(e,t)})})}buildForSubjectRelation(e,t){let r=[];if(e.databaseEntity){let o=t.getEntityValue(e.databaseEntity);o&&(r=o.map(a=>t.inverseEntityMetadata.getEntityIdMap(a)))}let i=t.getEntityValue(e.entity);if(i===null&&(i=[]),i===void 0)return;let s=[];i.forEach(o=>{let a=t.inverseEntityMetadata.getEntityIdMap(o),c=this.subjects.find(l=>l.entity===o);if(c&&(a=c.identifier),!a){if(!c)return;c.changeMaps.push({relation:t.inverseRelation,value:e});return}r.find(l=>yt.compareIds(a,l))||(c||(c=new qs({metadata:t.inverseEntityMetadata,parentSubject:e,canBeUpdated:!0,identifier:a}),this.subjects.push(c)),c.changeMaps.push({relation:t.inverseRelation,value:e})),s.push(a)}),t.inverseRelation?.orphanedRowAction!=="disable"&&ju.difference(r,s).forEach(o=>{let a=new qs({metadata:t.inverseEntityMetadata,parentSubject:e,identifier:o});!t.inverseRelation||t.inverseRelation.orphanedRowAction==="nullify"?(a.canBeUpdated=!0,a.changeMaps=[{relation:t.inverseRelation,value:null}]):t.inverseRelation.orphanedRowAction==="delete"?a.mustBeRemoved=!0:t.inverseRelation.orphanedRowAction==="soft-delete"&&(a.canBeSoftRemoved=!0),this.subjects.push(a)})}},rR=class{constructor(e){this.subjects=e}build(){this.subjects.forEach(e=>{e.metadata.oneToOneRelations.forEach(t=>{t.isOwning||t.persistenceEnabled===!1||this.buildForSubjectRelation(e,t)})})}buildForSubjectRelation(e,t){let r;e.databaseEntity&&(r=t.getEntityValue(e.databaseEntity));let i=t.getEntityValue(e.entity);if(i===void 0)return;if(i===null){if(r){let c=new qs({metadata:t.inverseEntityMetadata,parentSubject:e,canBeUpdated:!0,identifier:r,changeMaps:[{relation:t.inverseRelation,value:null}]});this.subjects.push(c)}return}let s=t.inverseEntityMetadata.getEntityIdMap(i),o=this.subjects.find(c=>!!c.entity&&c.entity===i);if(o&&(s=o.identifier),!s){if(!o)return;o.changeMaps.push({relation:t.inverseRelation,value:e})}r&&yt.compareIds(s,r)||(o||(o=new qs({metadata:t.inverseEntityMetadata,canBeUpdated:!0,identifier:s}),this.subjects.push(o)),o.changeMaps.push({relation:t.inverseRelation,value:e}))}},eE=class{constructor(e){this.subjects=e}build(){this.subjects.forEach(e=>{e.entity&&e.metadata.manyToManyRelations.forEach(t=>{t.persistenceEnabled!==!1&&this.buildForSubjectRelation(e,t)})})}buildForAllRemoval(e){e.databaseEntity&&e.metadata.manyToManyRelations.forEach(t=>{if(t.persistenceEnabled===!1)return;t.getEntityValue(e.databaseEntity).forEach(i=>{let s=new qs({metadata:t.junctionEntityMetadata,parentSubject:e,mustBeRemoved:!0,identifier:this.buildJunctionIdentifier(e,t,i)});this.subjects.push(s)})})}buildForSubjectRelation(e,t){let r=[];e.databaseEntity&&(r=t.getEntityValue(e.databaseEntity));let i=t.getEntityValue(e.entity);if(i===null&&(i=[]),!Array.isArray(i))return;i.forEach(a=>{let c=t.inverseEntityMetadata.getEntityIdMap(a),u=this.subjects.find(v=>v.entity===a);if(u&&(c=u.identifier),!c&&!u||r.find(v=>yt.compareIds(v,c)))return;let f=t.isOwning?e:u||a,p=t.isOwning?u||a:e,g=new qs({metadata:t.junctionEntityMetadata,parentSubject:e,canBeInserted:!0});this.subjects.push(g),t.junctionEntityMetadata.ownerColumns.forEach(v=>{g.changeMaps.push({column:v,value:f})}),t.junctionEntityMetadata.inverseColumns.forEach(v=>{g.changeMaps.push({column:v,value:p})})});let s=[];i.forEach(a=>{let c=t.inverseEntityMetadata.getEntityIdMap(a),u=this.subjects.find(l=>l.entity===a);u&&(c=u.identifier),c!=null&&s.push(c)}),r.filter(a=>!s.find(c=>yt.compareIds(c,a))).forEach(a=>{let c=new qs({metadata:t.junctionEntityMetadata,parentSubject:e,mustBeRemoved:!0,identifier:this.buildJunctionIdentifier(e,t,a)});this.subjects.push(c)})}buildJunctionIdentifier(e,t,r){let i=t.isOwning?e.entity:r,s=t.isOwning?r:e.entity,o={};return t.junctionEntityMetadata.ownerColumns.forEach(a=>{yt.mergeDeep(o,a.createValueMap(a.referencedColumn.getEntityValue(i)))}),t.junctionEntityMetadata.inverseColumns.forEach(a=>{yt.mergeDeep(o,a.createValueMap(a.referencedColumn.getEntityValue(s)))}),o}},iR=class{constructor(e,t){this.queryRunner=e,this.subjects=t}async load(e){let t=this.groupByEntityTargets().map(async r=>{let i=[],s=[];if(r.subjects.forEach(u=>{u.databaseEntity||!u.identifier||(i.push(u.identifier),s.push(u))}),!i.length)return;let o=[];e==="save"||e==="soft-remove"||e==="recover"?r.subjects.forEach(u=>{u.metadata.relations.forEach(l=>{l.getEntityValue(u.entityWithFulfilledIds)!==void 0&&o.indexOf(l.propertyPath)===-1&&o.push(l.propertyPath)})}):o.push(...r.subjects[0].metadata.manyToManyRelations.map(u=>u.propertyPath));let a={loadEagerRelations:!1,loadRelationIds:{relations:o,disableMixedMap:!0},withDeleted:!0},c=[];this.queryRunner.connection.driver.options.type==="mongodb"||(c=await this.queryRunner.manager.getRepository(r.target).createQueryBuilder().setFindOptions(a).whereInIds(i).getMany()),c.forEach(u=>{this.findByPersistEntityLike(r.target,u).forEach(f=>{f.databaseEntity=u,f.identifier||(f.identifier=f.metadata.hasAllPrimaryKeys(u)?f.metadata.getEntityIdMap(u):void 0)})});for(let u of s)u.databaseEntityLoaded=!0});await Promise.all(t)}findByPersistEntityLike(e,t){return this.subjects.filter(r=>r.entity?r.entity===t?!0:r.metadata.target===e&&r.metadata.compareEntities(r.entityWithFulfilledIds,t):!1)}groupByEntityTargets(){return this.subjects.reduce((e,t)=>{let r=e.find(i=>i.target===t.metadata.target);return r||(r={target:t.metadata.target,subjects:[]},e.push(r)),r.subjects.push(t),e},[])}},sR=class{constructor(e){this.allSubjects=e}build(e,t){e.metadata.extractRelationValuesFromEntity(e.entity,e.metadata.relations).forEach(([r,i,s])=>{if(i==null||!r.isCascadeInsert&&!r.isCascadeUpdate&&!r.isCascadeSoftRemove&&!r.isCascadeRecover||!Ye.isObject(i))return;let o=this.findByPersistEntityLike(s.target,i);if(o){o.canBeInserted===!1&&(o.canBeInserted=r.isCascadeInsert===!0&&t==="save"),o.canBeUpdated===!1&&(o.canBeUpdated=r.isCascadeUpdate===!0&&t==="save"),o.canBeSoftRemoved===!1&&(o.canBeSoftRemoved=r.isCascadeSoftRemove===!0&&t==="soft-remove"),o.canBeRecovered===!1&&(o.canBeRecovered=r.isCascadeRecover===!0&&t==="recover");return}let a=new qs({metadata:s,parentSubject:e,entity:i,canBeInserted:r.isCascadeInsert===!0&&t==="save",canBeUpdated:r.isCascadeUpdate===!0&&t==="save",canBeSoftRemoved:r.isCascadeSoftRemove===!0&&t==="soft-remove",canBeRecovered:r.isCascadeRecover===!0&&t==="recover"});this.allSubjects.push(a),this.build(a,t)})}findByPersistEntityLike(e,t){return this.allSubjects.find(r=>r.entity?r.entity===t?!0:r.metadata.target===e&&r.metadata.compareEntities(r.entityWithFulfilledIds,t):!1)}},qd=class{constructor(e,t,r,i,s,o){this.connection=e,this.queryRunner=t,this.mode=r,this.target=i,this.entity=s,this.options=o}async execute(){if(!this.entity||typeof this.entity!="object")return Promise.reject(new AM(this.mode,this.entity));await Promise.resolve();let e=this.queryRunner||this.connection.createQueryRunner(),t=e.data;this.options&&this.options.data&&(e.data=this.options.data);try{let r=Array.isArray(this.entity)?this.entity:[this.entity],i=this.options&&this.options.chunk&&this.options.chunk>0?yt.chunk(r,this.options.chunk):[r],o=(await Promise.all(i.map(async c=>{let u=[];c.forEach(f=>{let p=this.target?this.target:f.constructor;if(p===Object)throw new CM(this.mode);let g=this.connection.getMetadata(p);if(g.inheritancePattern==="STI"&&g.childEntityMetadatas.length>0){let v=g.childEntityMetadatas.find(E=>f.constructor===E.target);v&&(g=v)}u.push(new qs({metadata:g,entity:f,canBeInserted:this.mode==="save",canBeUpdated:this.mode==="save",mustBeRemoved:this.mode==="remove",canBeSoftRemoved:this.mode==="soft-remove",canBeRecovered:this.mode==="recover"}))});let l=new sR(u);return u.forEach(f=>{l.build(f,this.mode)}),await new iR(e,u).load(this.mode),this.mode==="save"||this.mode==="soft-remove"||this.mode==="recover"?(new nR(u).build(),new rR(u).build(),new eE(u).build()):u.forEach(f=>{f.mustBeRemoved&&new eE(u).buildForAllRemoval(f)}),new tR(e,u,this.options)}))).filter(c=>c.hasExecutableOperations);if(o.length===0)return;let a=!1;try{e.isTransactionActive||(!this.options||this.options.transaction!==!1)&&(a=!0,await e.startTransaction());for(let c of o)await c.execute();a===!0&&await e.commitTransaction()}catch(c){if(a)try{await e.rollbackTransaction()}catch{}throw c}}finally{e.data=t,this.queryRunner||await e.release()}}},tE=class{constructor(e,t){this["@instanceof"]=Symbol.for("EntityManager"),this.repositories=[],this.treeRepositories=[],this.plainObjectToEntityTransformer=new KM,this.connection=e,t&&(this.queryRunner=t,Ye.assign(this.queryRunner,{manager:this}))}async transaction(e,t){let r=typeof e=="string"?e:void 0,i=typeof e=="function"?e:t;if(!i)throw new Q("Transaction method requires callback in second parameter if isolation level is supplied.");if(this.queryRunner&&this.queryRunner.isReleased)throw new G_;let s=this.queryRunner||this.connection.createQueryRunner();try{await s.startTransaction(r);let o=await i(s.manager);return await s.commitTransaction(),o}catch(o){try{await s.rollbackTransaction()}catch{}throw o}finally{this.queryRunner||await s.release()}}async query(e,t){return this.connection.query(e,t,this.queryRunner)}createQueryBuilder(e,t,r){return t?this.connection.createQueryBuilder(e,t,r||this.queryRunner):this.connection.createQueryBuilder(e||r||this.queryRunner)}hasId(e,t){let r=arguments.length===2?e:e.constructor,i=arguments.length===2?t:e;return this.connection.getMetadata(r).hasId(i)}getId(e,t){let r=arguments.length===2?e:e.constructor,i=arguments.length===2?t:e;return this.connection.getMetadata(r).getEntityIdMixedMap(i)}create(e,t){let r=this.connection.getMetadata(e);if(!t)return r.create(this.queryRunner);if(Array.isArray(t))return t.map(s=>this.create(e,s));let i=r.create(this.queryRunner);return this.plainObjectToEntityTransformer.transform(i,t,r,!0),i}merge(e,t,...r){let i=this.connection.getMetadata(e);return r.forEach(s=>this.plainObjectToEntityTransformer.transform(t,s,i)),t}async preload(e,t){let r=this.connection.getMetadata(e),s=await new ZM(this.connection.manager).transform(t,r);if(s)return this.merge(e,s,t)}save(e,t,r){let i=arguments.length>1&&(typeof e=="function"||_e.isEntitySchema(e)||typeof e=="string")?e:void 0,s=i?t:e,o=i?r:t;return _e.isEntitySchema(i)&&(i=i.options.name),Array.isArray(s)&&s.length===0?Promise.resolve(s):new qd(this.connection,this.queryRunner,"save",i,s,o).execute().then(()=>s)}remove(e,t,r){let i=arguments.length>1&&(typeof e=="function"||_e.isEntitySchema(e)||typeof e=="string")?e:void 0,s=i?t:e,o=i?r:t;return Array.isArray(s)&&s.length===0?Promise.resolve(s):new qd(this.connection,this.queryRunner,"remove",i,s,o).execute().then(()=>s)}softRemove(e,t,r){let i=arguments.length>1&&(typeof e=="function"||_e.isEntitySchema(e)||typeof e=="string")?e:void 0,s=i?t:e,o=i?r:t;return _e.isEntitySchema(i)&&(i=i.options.name),Array.isArray(s)&&s.length===0?Promise.resolve(s):new qd(this.connection,this.queryRunner,"soft-remove",i,s,o).execute().then(()=>s)}recover(e,t,r){let i=arguments.length>1&&(typeof e=="function"||_e.isEntitySchema(e)||typeof e=="string")?e:void 0,s=i?t:e,o=i?r:t;return _e.isEntitySchema(i)&&(i=i.options.name),Array.isArray(s)&&s.length===0?Promise.resolve(s):new qd(this.connection,this.queryRunner,"recover",i,s,o).execute().then(()=>s)}async insert(e,t){return this.createQueryBuilder().insert().into(e).values(t).execute()}async upsert(e,t,r){let i=this.connection.getMetadata(e),s;Array.isArray(r)?s={conflictPaths:r}:s=r;let o;Array.isArray(t)?o=t:o=[t];let a=i.mapPropertyPathsToColumns(s.conflictPaths),c=i.columns.filter(u=>!a.includes(u)&&o.some(l=>typeof u.getEntityValue(l)<"u"));return this.createQueryBuilder().insert().into(e).values(o).orUpdate([...a,...c].map(u=>u.databaseName),a.map(u=>u.databaseName),{skipUpdateIfNoValuesChanged:s.skipUpdateIfNoValuesChanged}).execute()}update(e,t,r){return t==null||t===""||Array.isArray(t)&&t.length===0?Promise.reject(new Q("Empty criteria(s) are not allowed for the update method.")):typeof t=="string"||typeof t=="number"||t instanceof Date||Array.isArray(t)?this.createQueryBuilder().update(e).set(r).whereInIds(t).execute():this.createQueryBuilder().update(e).set(r).where(t).execute()}delete(e,t){return t==null||t===""||Array.isArray(t)&&t.length===0?Promise.reject(new Q("Empty criteria(s) are not allowed for the delete method.")):typeof t=="string"||typeof t=="number"||t instanceof Date||Array.isArray(t)?this.createQueryBuilder().delete().from(e).whereInIds(t).execute():this.createQueryBuilder().delete().from(e).where(t).execute()}softDelete(e,t){return t==null||t===""||Array.isArray(t)&&t.length===0?Promise.reject(new Q("Empty criteria(s) are not allowed for the delete method.")):typeof t=="string"||typeof t=="number"||t instanceof Date||Array.isArray(t)?this.createQueryBuilder().softDelete().from(e).whereInIds(t).execute():this.createQueryBuilder().softDelete().from(e).where(t).execute()}restore(e,t){return t==null||t===""||Array.isArray(t)&&t.length===0?Promise.reject(new Q("Empty criteria(s) are not allowed for the delete method.")):typeof t=="string"||typeof t=="number"||t instanceof Date||Array.isArray(t)?this.createQueryBuilder().restore().from(e).whereInIds(t).execute():this.createQueryBuilder().restore().from(e).where(t).execute()}count(e,t){let r=this.connection.getMetadata(e);return this.createQueryBuilder(e,si.extractFindManyOptionsAlias(t)||r.name).setFindOptions(t||{}).getCount()}countBy(e,t){let r=this.connection.getMetadata(e);return this.createQueryBuilder(e,r.name).setFindOptions({where:t}).getCount()}async find(e,t){let r=this.connection.getMetadata(e);return this.createQueryBuilder(e,si.extractFindManyOptionsAlias(t)||r.name).setFindOptions(t||{}).getMany()}async findBy(e,t){let r=this.connection.getMetadata(e);return this.createQueryBuilder(e,r.name).setFindOptions({where:t}).getMany()}findAndCount(e,t){let r=this.connection.getMetadata(e);return this.createQueryBuilder(e,si.extractFindManyOptionsAlias(t)||r.name).setFindOptions(t||{}).getManyAndCount()}findAndCountBy(e,t){let r=this.connection.getMetadata(e);return this.createQueryBuilder(e,r.name).setFindOptions({where:t}).getManyAndCount()}async findByIds(e,t){if(!t.length)return Promise.resolve([]);let r=this.connection.getMetadata(e);return this.createQueryBuilder(e,r.name).andWhereInIds(t).getMany()}async findOne(e,t){let i=this.connection.getMetadata(e).name;if(t&&t.join&&(i=t.join.alias),!t.where)throw new Error("You must provide selection conditions in order to find a single row.");return this.createQueryBuilder(e,i).setFindOptions(We(Z({},t),{take:1})).getOne()}async findOneBy(e,t){let r=this.connection.getMetadata(e);return this.createQueryBuilder(e,r.name).setFindOptions({where:t,take:1}).getOne()}async findOneById(e,t){let r=this.connection.getMetadata(e);return this.createQueryBuilder(e,r.name).setFindOptions({take:1}).whereInIds(r.ensureEntityIdMap(t)).getOne()}async findOneOrFail(e,t){return this.findOne(e,t).then(r=>r===null?Promise.reject(new Kp(e,t)):Promise.resolve(r))}async findOneByOrFail(e,t){return this.findOneBy(e,t).then(r=>r===null?Promise.reject(new Kp(e,t)):Promise.resolve(r))}async clear(e){let t=this.connection.getMetadata(e),r=this.queryRunner||this.connection.createQueryRunner();try{return await r.clearTable(t.tablePath)}finally{this.queryRunner||await r.release()}}async increment(e,t,r,i){let s=this.connection.getMetadata(e),o=s.findColumnWithPropertyPath(r);if(!o)throw new Q(`Column ${r} was not found in ${s.targetName} entity.`);if(isNaN(Number(i)))throw new Q(`Value "${i}" is not a number.`);let a=r.split(".").reduceRight((c,u)=>({[u]:c}),()=>this.connection.driver.escape(o.databaseName)+" + "+i);return this.createQueryBuilder(e,"entity").update(e).set(a).where(t).execute()}async decrement(e,t,r,i){let s=this.connection.getMetadata(e),o=s.findColumnWithPropertyPath(r);if(!o)throw new Q(`Column ${r} was not found in ${s.targetName} entity.`);if(isNaN(Number(i)))throw new Q(`Value "${i}" is not a number.`);let a=r.split(".").reduceRight((c,u)=>({[u]:c}),()=>this.connection.driver.escape(o.databaseName)+" - "+i);return this.createQueryBuilder(e,"entity").update(e).set(a).where(t).execute()}getRepository(e){let t=this.repositories.find(r=>r.target===e);if(t)return t;if(this.connection.driver.options.type!=="mongodb"){let r=new Y_(e,this,this.queryRunner);return this.repositories.push(r),r}}getTreeRepository(e){if(this.connection.driver.treeSupport===!1)throw new DM(this.connection.driver);let t=this.treeRepositories.find(i=>i.target===e);if(t)return t;let r=new QM(e,this,this.queryRunner);return this.treeRepositories.push(r),r}withRepository(e){let t=e.constructor,a=e,{target:r,manager:i,queryRunner:s}=a,o=ff(a,["target","manager","queryRunner"]);return Object.assign(new t(e.target,this),Z({},o))}getCustomRepository(e){let t=wi().entityRepositories.find(s=>s.target===(typeof e=="function"?e:e.constructor));if(!t)throw new U_(e);let r=t.entity?this.connection.getMetadata(t.entity):void 0,i=new t.target(this,r);if(i instanceof XM)i.manager||(i.manager=this);else{if(!r)throw new SM(e);i.manager=this,i.metadata=r}return i}async release(){if(!this.queryRunner)throw new qM;return this.queryRunner.release()}},oR=class extends tE{constructor(e,t){super(e,t),this["@instanceof"]=Symbol.for("SqljsEntityManager"),this.driver=e.driver}async loadDatabase(e){await this.driver.load(e)}async saveDatabase(e){await this.driver.save(e)}exportDatabase(){return this.driver.export()}},aR=class{create(e,t){return e.driver.options.type==="sqljs"?new oR(e,t):new tE(e,t)}},nE=class n{constructor(e){this["@instanceof"]=Symbol.for("View"),e&&(this.database=e.database,this.schema=e.schema,this.name=e.name,this.expression=e.expression,this.materialized=!!e.materialized)}clone(){return new n({database:this.database,schema:this.schema,name:this.name,expression:this.expression,materialized:this.materialized})}static create(e,t){let r={database:e.database,schema:e.schema,name:t.buildTableName(e.tableName,e.schema,e.database),expression:e.expression,materialized:e.tableMetadataArgs.materialized};return new n(r)}},rE=class{static viewMetadataCmp(e,t){return!e||!t?0:e.dependsOn&&(e.dependsOn.has(t.target)||e.dependsOn.has(t.name))?1:t.dependsOn&&(t.dependsOn.has(e.target)||t.dependsOn.has(e.name))?-1:0}},cR=class{constructor(e){this.connection=e,this["@instanceof"]=Symbol.for("RdbmsSchemaBuilder")}async build(){this.queryRunner=this.connection.createQueryRunner(),this.currentDatabase=this.connection.driver.database,this.currentSchema=this.connection.driver.schema;let e=this.connection.driver.options.type!=="cockroachdb"&&this.connection.driver.options.type!=="spanner"&&this.connection.options.migrationsTransactionMode!=="none";await this.queryRunner.beforeMigration(),e&&await this.queryRunner.startTransaction();try{await this.createMetadataTableIfNecessary(this.queryRunner);let t=this.entityToSyncMetadatas.map(r=>this.getTablePath(r));await this.queryRunner.getTables(t),await this.queryRunner.getViews([]),await this.executeSchemaSyncOperationsInProperOrder(),this.connection.queryResultCache&&await this.connection.queryResultCache.synchronize(this.queryRunner),e&&await this.queryRunner.commitTransaction()}catch(t){try{e&&await this.queryRunner.rollbackTransaction()}catch{}throw t}finally{await this.queryRunner.afterMigration(),await this.queryRunner.release()}}async createMetadataTableIfNecessary(e){(this.viewEntityToSyncMetadatas.length>0||this.hasGeneratedColumns())&&await this.createTypeormMetadataTable(e)}async log(){this.queryRunner=this.connection.createQueryRunner();try{let e=this.entityToSyncMetadatas.map(t=>this.getTablePath(t));return await this.queryRunner.getTables(e),await this.queryRunner.getViews([]),this.queryRunner.enableSqlMemory(),await this.executeSchemaSyncOperationsInProperOrder(),this.connection.queryResultCache&&await this.connection.queryResultCache.synchronize(this.queryRunner),this.queryRunner.getMemorySql()}finally{this.queryRunner.disableSqlMemory(),await this.queryRunner.release()}}get entityToSyncMetadatas(){return this.connection.entityMetadatas.filter(e=>e.synchronize&&e.tableType!=="entity-child"&&e.tableType!=="view")}get viewEntityToSyncMetadatas(){return this.connection.entityMetadatas.filter(e=>e.tableType==="view"&&e.synchronize).sort(rE.viewMetadataCmp)}hasGeneratedColumns(){return this.connection.entityMetadatas.some(e=>e.columns.some(t=>t.generatedType))}async executeSchemaSyncOperationsInProperOrder(){await this.dropOldViews(),await this.dropOldForeignKeys(),await this.dropOldIndices(),await this.dropOldChecks(),await this.dropOldExclusions(),await this.dropCompositeUniqueConstraints(),await this.renameColumns(),await this.createNewTables(),await this.dropRemovedColumns(),await this.addNewColumns(),await this.updatePrimaryKeys(),await this.updateExistColumns(),await this.createNewIndices(),await this.createNewChecks(),await this.createNewExclusions(),await this.createCompositeUniqueConstraints(),await this.createForeignKeys(),await this.createViews()}getTablePath(e){let t=this.connection.driver.parseTableName(e);return this.connection.driver.buildTableName(t.tableName,t.schema||this.currentSchema,t.database||this.currentDatabase)}async dropOldForeignKeys(){for(let e of this.entityToSyncMetadatas){let t=this.queryRunner.loadedTables.find(i=>this.getTablePath(i)===this.getTablePath(e));if(!t)continue;let r=t.foreignKeys.filter(i=>{let s=e.foreignKeys.find(o=>i.name===o.name&&this.getTablePath(i)===this.getTablePath(o.referencedEntityMetadata));return!s||s.onDelete&&s.onDelete!==i.onDelete||s.onUpdate&&s.onUpdate!==i.onUpdate});r.length!==0&&(this.connection.logger.logSchemaBuild(`dropping old foreign keys of ${t.name}: ${r.map(i=>i.name).join(", ")}`),await this.queryRunner.dropForeignKeys(t,r))}}async renameTables(){}async renameColumns(){for(let e of this.entityToSyncMetadatas){let t=this.queryRunner.loadedTables.find(o=>this.getTablePath(o)===this.getTablePath(e));if(!t||e.columns.length!==t.columns.length)continue;let r=e.columns.filter(o=>!o.isVirtualProperty).filter(o=>!t.columns.find(a=>a.name===o.databaseName&&a.type===this.connection.driver.normalizeType(o)&&a.isNullable===o.isNullable&&a.isUnique===this.connection.driver.normalizeIsUnique(o)));if(r.length===0||r.length>1)continue;let i=t.columns.filter(o=>!e.columns.find(a=>!a.isVirtualProperty&&a.databaseName===o.name&&this.connection.driver.normalizeType(a)===o.type&&a.isNullable===o.isNullable&&this.connection.driver.normalizeIsUnique(a)===o.isUnique));if(i.length===0||i.length>1)continue;let s=i[0].clone();s.name=r[0].databaseName,this.connection.logger.logSchemaBuild(`renaming column "${i[0].name}" in to "${s.name}"`),await this.queryRunner.renameColumn(t,i[0],s)}}async dropOldIndices(){for(let e of this.entityToSyncMetadatas){let t=this.queryRunner.loadedTables.find(i=>this.getTablePath(i)===this.getTablePath(e));if(!t)continue;let r=t.indices.filter(i=>{let s=e.indices.find(o=>o.name===i.name);return s?s.synchronize===!1?!1:s.isUnique!==i.isUnique||s.isSpatial!==i.isSpatial||this.connection.driver.isFullTextColumnTypeSupported()&&s.isFulltext!==i.isFulltext||s.columns.length!==i.columnNames.length?!0:!s.columns.every(o=>i.columnNames.indexOf(o.databaseName)!==-1):!0}).map(async i=>{this.connection.logger.logSchemaBuild(`dropping an index: "${i.name}" from table ${t.name}`),await this.queryRunner.dropIndex(t,i)});await Promise.all(r)}}async dropOldChecks(){if(!(Ae.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"))for(let e of this.entityToSyncMetadatas){let t=this.queryRunner.loadedTables.find(i=>this.getTablePath(i)===this.getTablePath(e));if(!t)continue;let r=t.checks.filter(i=>!e.checks.find(s=>s.name===i.name));r.length!==0&&(this.connection.logger.logSchemaBuild(`dropping old check constraint: ${r.map(i=>`"${i.name}"`).join(", ")} from table "${t.name}"`),await this.queryRunner.dropCheckConstraints(t,r))}}async dropCompositeUniqueConstraints(){for(let e of this.entityToSyncMetadatas){let t=this.queryRunner.loadedTables.find(i=>this.getTablePath(i)===this.getTablePath(e));if(!t)continue;let r=t.uniques.filter(i=>i.columnNames.length>1&&!e.uniques.find(s=>s.name===i.name));r.length!==0&&(this.connection.logger.logSchemaBuild(`dropping old unique constraint: ${r.map(i=>`"${i.name}"`).join(", ")} from table "${t.name}"`),await this.queryRunner.dropUniqueConstraints(t,r))}}async dropOldExclusions(){if(this.connection.driver.options.type==="postgres")for(let e of this.entityToSyncMetadatas){let t=this.queryRunner.loadedTables.find(i=>this.getTablePath(i)===this.getTablePath(e));if(!t)continue;let r=t.exclusions.filter(i=>!e.exclusions.find(s=>s.name===i.name));r.length!==0&&(this.connection.logger.logSchemaBuild(`dropping old exclusion constraint: ${r.map(i=>`"${i.name}"`).join(", ")} from table "${t.name}"`),await this.queryRunner.dropExclusionConstraints(t,r))}}async createNewTables(){for(let e of this.entityToSyncMetadatas){if(this.queryRunner.loadedTables.find(i=>this.getTablePath(i)===this.getTablePath(e)))continue;this.connection.logger.logSchemaBuild(`creating a new table: ${this.getTablePath(e)}`);let r=la.create(e,this.connection.driver);await this.queryRunner.createTable(r,!1,!1),this.queryRunner.loadedTables.push(r)}}async createViews(){for(let e of this.viewEntityToSyncMetadatas){if(this.queryRunner.loadedViews.find(i=>{let s=typeof i.expression=="string"?i.expression.trim():i.expression(this.connection).getQuery(),o=typeof e.expression=="string"?e.expression.trim():e.expression(this.connection).getQuery();return this.getTablePath(i)===this.getTablePath(e)&&s===o}))continue;this.connection.logger.logSchemaBuild(`creating a new view: ${this.getTablePath(e)}`);let r=nE.create(e,this.connection.driver);await this.queryRunner.createView(r,!0),this.queryRunner.loadedViews.push(r)}}async dropOldViews(){let e=[],t=this.viewEntityToSyncMetadatas,r=new Map;for(let o of this.queryRunner.loadedViews){let a=t.find(c=>this.getTablePath(o)===this.getTablePath(c));a&&r.set(o,a)}for(let o of this.queryRunner.loadedViews){let a=r.get(o);if(!a)continue;let c=typeof o.expression=="string"?o.expression.trim():o.expression(this.connection).getQuery(),u=typeof a.expression=="string"?a.expression.trim():a.expression(this.connection).getQuery();c!==u&&(this.connection.logger.logSchemaBuild(`dropping an old view: ${o.name}`),e.push(o))}let i=o=>{let a=r.get(o),c=[o];if(!a)return c;for(let[u,l]of r.entries())u!==o&&l.dependsOn&&(l.dependsOn.has(a.target)||l.dependsOn.has(a.name))&&(c=c.concat(i(u)));return c},s=new Set(e.map(o=>i(o)).reduce((o,a)=>o.concat(a),[]).sort((o,a)=>rE.viewMetadataCmp(r.get(o),r.get(a))).reverse());for(let o of s)await this.queryRunner.dropView(o);this.queryRunner.loadedViews=this.queryRunner.loadedViews.filter(o=>!s.has(o))}async dropRemovedColumns(){for(let e of this.entityToSyncMetadatas){let t=this.queryRunner.loadedTables.find(i=>this.getTablePath(i)===this.getTablePath(e));if(!t)continue;let r=t.columns.filter(i=>!e.columns.find(s=>s.isVirtualProperty||s.databaseName===i.name));r.length!==0&&(this.connection.logger.logSchemaBuild(`columns dropped in ${t.name}: `+r.map(i=>i.name).join(", ")),await this.queryRunner.dropColumns(t,r))}}async addNewColumns(){for(let e of this.entityToSyncMetadatas){let t=this.queryRunner.loadedTables.find(o=>this.getTablePath(o)===this.getTablePath(e));if(!t)continue;let r=e.columns.filter(o=>!o.isVirtualProperty&&!t.columns.find(a=>a.name===o.databaseName));if(r.length===0)continue;let s=this.metadataColumnsToTableColumnOptions(r).map(o=>new Lu(o));s.length!==0&&(this.connection.logger.logSchemaBuild("new columns added: "+r.map(o=>o.databaseName).join(", ")),await this.queryRunner.addColumns(t,s))}}async updatePrimaryKeys(){for(let e of this.entityToSyncMetadatas){let t=this.queryRunner.loadedTables.find(s=>this.getTablePath(s)===this.getTablePath(e));if(!t)continue;let r=e.columns.filter(s=>s.isPrimary);if(t.columns.filter(s=>s.isPrimary).length!==r.length&&r.length>1){let s=r.map(o=>new Lu(Vd.createTableColumnOptions(o,this.connection.driver)));await this.queryRunner.updatePrimaryKeys(t,s)}}}async updateExistColumns(){for(let e of this.entityToSyncMetadatas){let t=this.queryRunner.loadedTables.find(s=>this.getTablePath(s)===this.getTablePath(e));if(!t)continue;let r=this.connection.driver.findChangedColumns(t.columns,e.columns);if(r.length===0)continue;for(let s of r)await this.dropColumnReferencedForeignKeys(this.getTablePath(e),s.databaseName);for(let s of r)await this.dropColumnCompositeIndices(this.getTablePath(e),s.databaseName);if(!(Ae.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"||this.connection.driver.options.type==="spanner"))for(let s of r)await this.dropColumnCompositeUniques(this.getTablePath(e),s.databaseName);let i=r.map(s=>{let o=t.columns.find(u=>u.name===s.databaseName),a=Vd.createTableColumnOptions(s,this.connection.driver),c=new Lu(a);return{oldColumn:o,newColumn:c}});i.length!==0&&(this.connection.logger.logSchemaBuild(`columns changed in "${t.name}". updating: `+r.map(s=>s.databaseName).join(", ")),await this.queryRunner.changeColumns(t,i))}}async createNewIndices(){for(let e of this.entityToSyncMetadatas){let t=this.queryRunner.loadedTables.find(i=>this.getTablePath(i)===this.getTablePath(e));if(!t)continue;let r=e.indices.filter(i=>!t.indices.find(s=>s.name===i.name)&&i.synchronize===!0).map(i=>fc.create(i));r.length!==0&&(this.connection.logger.logSchemaBuild(`adding new indices ${r.map(i=>`"${i.name}"`).join(", ")} in table "${t.name}"`),await this.queryRunner.createIndices(t,r))}}async createNewChecks(){if(!(Ae.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"))for(let e of this.entityToSyncMetadatas){let t=this.queryRunner.loadedTables.find(i=>this.getTablePath(i)===this.getTablePath(e));if(!t)continue;let r=e.checks.filter(i=>!t.checks.find(s=>s.name===i.name)).map(i=>Qd.create(i));r.length!==0&&(this.connection.logger.logSchemaBuild(`adding new check constraints: ${r.map(i=>`"${i.name}"`).join(", ")} in table "${t.name}"`),await this.queryRunner.createCheckConstraints(t,r))}}async createCompositeUniqueConstraints(){for(let e of this.entityToSyncMetadatas){let t=this.queryRunner.loadedTables.find(i=>this.getTablePath(i)===this.getTablePath(e));if(!t)continue;let r=e.uniques.filter(i=>i.columns.length>1&&!t.uniques.find(s=>s.name===i.name)).map(i=>Bu.create(i));r.length!==0&&(this.connection.logger.logSchemaBuild(`adding new unique constraints: ${r.map(i=>`"${i.name}"`).join(", ")} in table "${t.name}"`),await this.queryRunner.createUniqueConstraints(t,r))}}async createNewExclusions(){if(this.connection.driver.options.type==="postgres")for(let e of this.entityToSyncMetadatas){let t=this.queryRunner.loadedTables.find(i=>this.getTablePath(i)===this.getTablePath(e));if(!t)continue;let r=e.exclusions.filter(i=>!t.exclusions.find(s=>s.name===i.name)).map(i=>Jp.create(i));r.length!==0&&(this.connection.logger.logSchemaBuild(`adding new exclusion constraints: ${r.map(i=>`"${i.name}"`).join(", ")} in table "${t.name}"`),await this.queryRunner.createExclusionConstraints(t,r))}}async createForeignKeys(){for(let e of this.entityToSyncMetadatas){let t=this.queryRunner.loadedTables.find(s=>this.getTablePath(s)===this.getTablePath(e));if(!t)continue;let r=e.foreignKeys.filter(s=>!t.foreignKeys.find(o=>o.name===s.name&&this.getTablePath(o)===this.getTablePath(s.referencedEntityMetadata)));if(r.length===0)continue;let i=r.map(s=>Yp.create(s,this.connection.driver));this.connection.logger.logSchemaBuild(`creating a foreign keys: ${r.map(s=>s.name).join(", ")} on table "${t.name}"`),await this.queryRunner.createForeignKeys(t,i)}}async dropColumnReferencedForeignKeys(e,t){let r=this.queryRunner.loadedTables.find(o=>this.getTablePath(o)===e);if(!r)return;let i=[],s=r.foreignKeys.find(o=>o.columnNames.indexOf(t)!==-1);if(s){let o=r.clone();o.foreignKeys=[s],i.push(o),r.removeForeignKey(s)}for(let o of this.queryRunner.loadedTables){let a=o.foreignKeys.filter(c=>this.getTablePath(c)===e&&c.referencedColumnNames.indexOf(t)!==-1);if(a.length>0){let c=o.clone();c.foreignKeys=a,i.push(c),a.forEach(u=>o.removeForeignKey(u))}}if(i.length>0)for(let o of i)this.connection.logger.logSchemaBuild(`dropping related foreign keys of ${o.name}: ${o.foreignKeys.map(a=>a.name).join(", ")}`),await this.queryRunner.dropForeignKeys(o,o.foreignKeys)}async dropColumnCompositeIndices(e,t){let r=this.queryRunner.loadedTables.find(s=>this.getTablePath(s)===e);if(!r)return;let i=r.indices.filter(s=>s.columnNames.length>1&&s.columnNames.indexOf(t)!==-1);i.length!==0&&(this.connection.logger.logSchemaBuild(`dropping related indices of "${e}"."${t}": ${i.map(s=>s.name).join(", ")}`),await this.queryRunner.dropIndices(r,i))}async dropColumnCompositeUniques(e,t){let r=this.queryRunner.loadedTables.find(s=>this.getTablePath(s)===e);if(!r)return;let i=r.uniques.filter(s=>s.columnNames.length>1&&s.columnNames.indexOf(t)!==-1);i.length!==0&&(this.connection.logger.logSchemaBuild(`dropping related unique constraints of "${e}"."${t}": ${i.map(s=>s.name).join(", ")}`),await this.queryRunner.dropUniqueConstraints(r,i))}metadataColumnsToTableColumnOptions(e){return e.map(t=>Vd.createTableColumnOptions(t,this.connection.driver))}async createTypeormMetadataTable(e){let t=this.currentSchema,r=this.currentDatabase,i=this.connection.driver.buildTableName(this.connection.metadataTableName,t,r),s=this.connection.driver.options.type==="spanner";await e.createTable(new la({database:r,schema:t,name:i,columns:[{name:"type",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataType}),isNullable:!1,isPrimary:s},{name:"database",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataDatabase}),isNullable:!0,isPrimary:s},{name:"schema",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataSchema}),isNullable:!0,isPrimary:s},{name:"table",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataTable}),isNullable:!0,isPrimary:s},{name:"name",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataName}),isNullable:!0,isPrimary:s},{name:"value",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataValue}),isNullable:!0,isPrimary:s}]}),!0)}},Kd=class{constructor(e){this.isReplicated=!1,this.treeSupport=!0,this.transactionSupport="nested",this.supportedDataTypes=["int","integer","tinyint","smallint","mediumint","bigint","unsigned big int","int2","int8","integer","character","varchar","varying character","nchar","native character","nvarchar","text","clob","text","blob","real","double","double precision","float","real","numeric","decimal","boolean","date","time","datetime"],this.supportedUpsertType="on-conflict-do-update",this.withLengthColumnTypes=["character","varchar","varying character","nchar","native character","nvarchar","text","blob","clob"],this.spatialTypes=[],this.withPrecisionColumnTypes=["real","double","double precision","float","real","numeric","decimal","date","time","datetime"],this.withScaleColumnTypes=["real","double","double precision","float","real","numeric","decimal"],this.mappedDataTypes={createDate:"datetime",createDateDefault:"datetime('now')",updateDate:"datetime",updateDateDefault:"datetime('now')",deleteDate:"datetime",deleteDateNullable:!0,version:"integer",treeLevel:"integer",migrationId:"integer",migrationName:"varchar",migrationTimestamp:"bigint",cacheId:"int",cacheIdentifier:"varchar",cacheTime:"bigint",cacheDuration:"int",cacheQuery:"text",cacheResult:"text",metadataType:"varchar",metadataDatabase:"varchar",metadataSchema:"varchar",metadataTable:"varchar",metadataName:"varchar",metadataValue:"text"},this.cteCapabilities={enabled:!0,requiresRecursiveHint:!0},this.attachedDatabases={},this.connection=e,this.options=e.options,this.database=Ae.buildDriverOptions(this.options).database}async connect(){this.databaseConnection=await this.createDatabaseConnection()}afterConnect(){return Promise.resolve()}async disconnect(){return new Promise((e,t)=>{this.queryRunner=void 0,this.databaseConnection.close(r=>r?t(r):e())})}hasAttachedDatabases(){return!!Object.keys(this.attachedDatabases).length}getAttachedDatabaseHandleByRelativePath(e){return this.attachedDatabases?.[e]?.attachHandle}getAttachedDatabasePathRelativeByHandle(e){return Object.values(this.attachedDatabases).find(({attachHandle:t})=>e===t)?.attachFilepathRelative}createSchemaBuilder(){return new cR(this.connection)}preparePersistentValue(e,t){return t.transformer&&(e=lc.transformTo(t.transformer,e)),e==null?e:t.type===Boolean||t.type==="boolean"?e===!0?1:0:t.type==="date"?gn.mixedDateToDateString(e):t.type==="time"?gn.mixedDateToTimeString(e):t.type==="datetime"||t.type===Date?gn.mixedDateToUtcDatetimeString(e):t.type==="simple-array"?gn.simpleArrayToString(e):t.type==="simple-json"?gn.simpleJsonToString(e):t.type==="simple-enum"?gn.simpleEnumToString(e):e}prepareHydratedValue(e,t){return e==null?t.transformer?lc.transformFrom(t.transformer,e):e:(t.type===Boolean||t.type==="boolean"?e=!!e:t.type==="datetime"||t.type===Date?(e&&typeof e=="string"&&(/^\d\d\d\d-\d\d-\d\d \d\d:\d\d/.test(e)&&(e=e.replace(" ","T")),/^\d\d\d\d-\d\d-\d\dT\d\d:\d\d(:\d\d(\.\d\d\d)?)?$/.test(e)&&(e+="Z")),e=gn.normalizeHydratedDate(e)):t.type==="date"?e=gn.mixedDateToDateString(e):t.type==="time"?e=gn.mixedTimeToString(e):t.type==="simple-array"?e=gn.stringToSimpleArray(e):t.type==="simple-json"?e=gn.stringToSimpleJson(e):t.type==="simple-enum"?e=gn.stringToSimpleEnum(e,t):t.type===Number&&(e=isNaN(+e)?e:parseInt(e)),t.transformer&&(e=lc.transformFrom(t.transformer,e)),e)}escapeQueryWithParameters(e,t,r){let i=Object.keys(r).map(s=>typeof r[s]=="boolean"?r[s]===!0?1:0:r[s]instanceof Date?gn.mixedDateToUtcDatetimeString(r[s]):r[s]);return!t||!Object.keys(t).length?[e,i]:(e=e.replace(/:(\.\.\.)?([A-Za-z0-9_.]+)/g,(s,o,a)=>{if(!t.hasOwnProperty(a))return s;let c=t[a];return o?c.map(u=>(i.push(u),this.createParameter(a,i.length-1))).join(", "):typeof c=="function"?c():typeof c=="number"?String(c):c instanceof Date?(i.push(gn.mixedDateToUtcDatetimeString(c)),this.createParameter(a,i.length-1)):(i.push(c),this.createParameter(a,i.length-1))}),[e,i])}escape(e){return'"'+e+'"'}buildTableName(e,t,r){return e}parseTableName(e){let t=this.database,r=void 0;if(_e.isTable(e)||_e.isView(e)){let s=this.parseTableName(e.schema?`"${e.schema}"."${e.name}"`:e.name);return{database:e.database||s.database||t,schema:e.schema||s.schema||r,tableName:s.tableName}}if(_e.isTableForeignKey(e)){let s=this.parseTableName(e.referencedTableName);return{database:e.referencedDatabase||s.database||t,schema:e.referencedSchema||s.schema||r,tableName:s.tableName}}if(_e.isEntityMetadata(e))return{database:e.database||t,schema:e.schema||r,tableName:e.tableName};let i=e.split(".");return i.length===3?{database:i[0]||t,schema:i[1]||r,tableName:i[2]}:i.length===2?{database:this.getAttachedDatabasePathRelativeByHandle(i[0])??t,schema:i[0],tableName:i[1]}:{database:t,schema:r,tableName:e}}normalizeType(e){return e.type===Number||e.type==="int"?"integer":e.type===String?"varchar":e.type===Date?"datetime":e.type===Boolean?"boolean":e.type==="uuid"?"varchar":e.type==="simple-array"||e.type==="simple-json"?"text":e.type==="simple-enum"?"varchar":e.type||""}normalizeDefault(e){let t=e.default;if(typeof t=="number")return""+t;if(typeof t=="boolean")return t?"1":"0";if(typeof t=="function")return t();if(typeof t=="string")return`'${t}'`;if(t!=null)return`${t}`}normalizeIsUnique(e){return e.entityMetadata.uniques.some(t=>t.columns.length===1&&t.columns[0]===e)}getColumnLength(e){return e.length?e.length.toString():""}createFullType(e){let t=e.type;return e.enum?"varchar":(e.length?t+="("+e.length+")":e.precision!==null&&e.precision!==void 0&&e.scale!==null&&e.scale!==void 0?t+="("+e.precision+","+e.scale+")":e.precision!==null&&e.precision!==void 0&&(t+="("+e.precision+")"),e.isArray&&(t+=" array"),t)}obtainMasterConnection(){return Promise.resolve()}obtainSlaveConnection(){return Promise.resolve()}createGeneratedMap(e,t,r,i){let s=e.generatedColumns.reduce((o,a)=>{let c;return a.generationStrategy==="increment"&&t&&(c=t-i+r+1),c?yt.mergeDeep(o,a.createValueMap(c)):o},{});return Object.keys(s).length>0?s:void 0}findChangedColumns(e,t){return t.filter(r=>{let i=e.find(o=>o.name===r.databaseName);return i?i.name!==r.databaseName||i.type!==this.normalizeType(r)||i.length!==r.length||i.precision!==r.precision||i.scale!==r.scale||this.normalizeDefault(r)!==i.default||i.isPrimary!==r.isPrimary||i.isNullable!==r.isNullable||i.generatedType!==r.generatedType||i.asExpression!==r.asExpression||i.isUnique!==this.normalizeIsUnique(r)||r.generationStrategy!=="uuid"&&i.isGenerated!==r.isGenerated:!1})}isReturningSqlSupported(){return!1}isUUIDGenerationSupported(){return!1}isFullTextColumnTypeSupported(){return!1}createParameter(e,t){return"?"}createDatabaseConnection(){throw new Q("Do not use AbstractSqlite directly, it has to be used with one of the sqlite drivers")}loadDependencies(){}},br=class{constructor(e,t){this.query=e,this.parameters=t,this["@instanceof"]=Symbol.for("Query")}},jd=class{constructor(){this.upQueries=[],this.downQueries=[]}},uR=class{constructor(){this.isReleased=!1,this.isTransactionActive=!1,this.data={},this.loadedTables=[],this.loadedViews=[],this.sqlMemoryMode=!1,this.sqlInMemory=new jd,this.transactionDepth=0,this.cachedTablePaths={}}async beforeMigration(){}async afterMigration(){}async getTable(e){return this.loadedTables=await this.loadTables([e]),this.loadedTables.length>0?this.loadedTables[0]:void 0}async getTables(e){return e?(this.loadedTables=await this.loadTables(e),this.loadedTables):await this.loadTables(e)}async getView(e){return this.loadedViews=await this.loadViews([e]),this.loadedViews.length>0?this.loadedViews[0]:void 0}async getViews(e){return this.loadedViews=await this.loadViews(e),this.loadedViews}enableSqlMemory(){this.sqlInMemory=new jd,this.sqlMemoryMode=!0}disableSqlMemory(){this.sqlInMemory=new jd,this.sqlMemoryMode=!1}clearSqlMemory(){this.sqlInMemory=new jd}getMemorySql(){return this.sqlInMemory}async executeMemoryUpSql(){for(let{query:e,parameters:t}of this.sqlInMemory.upQueries)await this.query(e,t)}async executeMemoryDownSql(){for(let{query:e,parameters:t}of this.sqlInMemory.downQueries.reverse())await this.query(e,t)}getReplicationMode(){return this.mode}async getCachedView(e){let t=this.loadedViews.find(i=>i.name===e);if(t)return t;let r=await this.loadViews([e]);if(r.length>0)return this.loadedViews.push(r[0]),r[0];throw new Q(`View "${e}" does not exist.`)}async getCachedTable(e){if(e in this.cachedTablePaths){let r=this.cachedTablePaths[e],i=this.loadedTables.find(s=>this.getTablePath(s)===r);if(i)return i}let t=await this.loadTables([e]);if(t.length>0){let r=this.getTablePath(t[0]),i=this.loadedTables.find(s=>this.getTablePath(s)===r);return i||(this.cachedTablePaths[e]=this.getTablePath(t[0]),this.loadedTables.push(t[0]),t[0])}else throw new Q(`Table "${e}" does not exist.`)}replaceCachedTable(e,t){let r=this.getTablePath(e),i=this.loadedTables.find(s=>this.getTablePath(s)===r);for(let[s,o]of Object.entries(this.cachedTablePaths))o===r&&(this.cachedTablePaths[s]=this.getTablePath(t));i&&(i.database=t.database,i.schema=t.schema,i.name=t.name,i.columns=t.columns,i.indices=t.indices,i.foreignKeys=t.foreignKeys,i.uniques=t.uniques,i.checks=t.checks,i.justCreated=t.justCreated,i.engine=t.engine)}getTablePath(e){let t=this.connection.driver.parseTableName(e);return this.connection.driver.buildTableName(t.tableName,t.schema,t.database)}getTypeormMetadataTableName(){let e;return e=this.connection.driver.options,this.connection.driver.buildTableName(this.connection.metadataTableName,e.schema,e.database)}selectTypeormMetadataSql({database:e,schema:t,table:r,type:i,name:s}){let o=this.connection.createQueryBuilder(),a=o.select().from(this.getTypeormMetadataTableName(),"t").where(`${o.escape("type")} = :type`,{type:i}).andWhere(`${o.escape("name")} = :name`,{name:s});e&&a.andWhere(`${o.escape("database")} = :database`,{database:e}),t&&a.andWhere(`${o.escape("schema")} = :schema`,{schema:t}),r&&a.andWhere(`${o.escape("table")} = :table`,{table:r});let[c,u]=a.getQueryAndParameters();return new br(c,u)}insertTypeormMetadataSql({database:e,schema:t,table:r,type:i,name:s,value:o}){let[a,c]=this.connection.createQueryBuilder().insert().into(this.getTypeormMetadataTableName()).values({database:e,schema:t,table:r,type:i,name:s,value:o}).getQueryAndParameters();return new br(a,c)}deleteTypeormMetadataSql({database:e,schema:t,table:r,type:i,name:s}){let o=this.connection.createQueryBuilder(),a=o.delete().from(this.getTypeormMetadataTableName()).where(`${o.escape("type")} = :type`,{type:i}).andWhere(`${o.escape("name")} = :name`,{name:s});e&&a.andWhere(`${o.escape("database")} = :database`,{database:e}),t&&a.andWhere(`${o.escape("schema")} = :schema`,{schema:t}),r&&a.andWhere(`${o.escape("table")} = :table`,{table:r});let[c,u]=a.getQueryAndParameters();return new br(c,u)}isColumnChanged(e,t,r,i){return e.charset!==t.charset||e.collation!==t.collation||e.precision!==t.precision||e.scale!==t.scale||e.width!==t.width||e.zerofill!==t.zerofill||e.unsigned!==t.unsigned||e.asExpression!==t.asExpression||r&&e.default!==t.default||e.onUpdate!==t.onUpdate||e.isNullable!==t.isNullable||i&&e.comment!==t.comment||!yt.isArraysEqual(e.enum||[],t.enum||[])}isDefaultColumnLength(e,t,r){if(this.connection.hasMetadata(e.name)){let s=this.connection.getMetadata(e.name).findColumnWithDatabaseName(t.name);if(s&&this.connection.driver.getColumnLength(s))return!1}return this.connection.driver.dataTypeDefaults&&this.connection.driver.dataTypeDefaults[t.type]&&this.connection.driver.dataTypeDefaults[t.type].length?this.connection.driver.dataTypeDefaults[t.type].length.toString()===r.toString():!1}isDefaultColumnPrecision(e,t,r){if(this.connection.hasMetadata(e.name)){let s=this.connection.getMetadata(e.name).findColumnWithDatabaseName(t.name);if(s&&s.precision!==null&&s.precision!==void 0)return!1}return this.connection.driver.dataTypeDefaults&&this.connection.driver.dataTypeDefaults[t.type]&&this.connection.driver.dataTypeDefaults[t.type].precision!==null&&this.connection.driver.dataTypeDefaults[t.type].precision!==void 0?this.connection.driver.dataTypeDefaults[t.type].precision===r:!1}isDefaultColumnScale(e,t,r){if(this.connection.hasMetadata(e.name)){let s=this.connection.getMetadata(e.name).findColumnWithDatabaseName(t.name);if(s&&s.scale!==null&&s.scale!==void 0)return!1}return this.connection.driver.dataTypeDefaults&&this.connection.driver.dataTypeDefaults[t.type]&&this.connection.driver.dataTypeDefaults[t.type].scale!==null&&this.connection.driver.dataTypeDefaults[t.type].scale!==void 0?this.connection.driver.dataTypeDefaults[t.type].scale===r:!1}async executeQueries(e,t){if(_e.isQuery(e)&&(e=[e]),_e.isQuery(t)&&(t=[t]),this.sqlInMemory.upQueries.push(...e),this.sqlInMemory.downQueries.push(...t),this.sqlMemoryMode===!0)return Promise.resolve();for(let{query:r,parameters:i}of e)await this.query(r,i)}generateIndexName(e,t){return this.connection.namingStrategy.indexName(e,t.columnNames,t.where)}},Sr=(function(n){return n.VIEW="VIEW",n.MATERIALIZED_VIEW="MATERIALIZED_VIEW",n.GENERATED_COLUMN="GENERATED_COLUMN",n})(Sr||{}),Yd=class extends uR{constructor(){super(),this.transactionPromise=null}connect(){return Promise.resolve(this.driver.databaseConnection)}release(){return this.loadedTables=[],this.clearSqlMemory(),Promise.resolve()}async startTransaction(e){if(this.driver.transactionSupport==="none")throw new Q(`Transactions aren't supported by ${this.connection.driver.options.type}.`);if(this.isTransactionActive&&this.driver.transactionSupport==="simple")throw new xM;if(e&&e!=="READ UNCOMMITTED"&&e!=="SERIALIZABLE")throw new Q("SQLite only supports SERIALIZABLE and READ UNCOMMITTED isolation");this.isTransactionActive=!0;try{await this.broadcaster.broadcast("BeforeTransactionStart")}catch(t){throw this.isTransactionActive=!1,t}this.transactionDepth===0?(e&&(e==="READ UNCOMMITTED"?await this.query("PRAGMA read_uncommitted = true"):await this.query("PRAGMA read_uncommitted = false")),await this.query("BEGIN TRANSACTION")):await this.query(`SAVEPOINT typeorm_${this.transactionDepth}`),this.transactionDepth+=1,await this.broadcaster.broadcast("AfterTransactionStart")}async commitTransaction(){if(!this.isTransactionActive)throw new H_;await this.broadcaster.broadcast("BeforeTransactionCommit"),this.transactionDepth>1?await this.query(`RELEASE SAVEPOINT typeorm_${this.transactionDepth-1}`):(await this.query("COMMIT"),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionCommit")}async rollbackTransaction(){if(!this.isTransactionActive)throw new H_;await this.broadcaster.broadcast("BeforeTransactionRollback"),this.transactionDepth>1?await this.query(`ROLLBACK TO SAVEPOINT typeorm_${this.transactionDepth-1}`):(await this.query("ROLLBACK"),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionRollback")}stream(e,t,r,i){throw new Q("Stream is not supported by sqlite driver.")}async getDatabases(){return Promise.resolve([])}async getSchemas(e){return Promise.resolve([])}async hasDatabase(e){return Promise.resolve(!1)}async getCurrentDatabase(){return Promise.resolve(void 0)}async hasSchema(e){throw new Q("This driver does not support table schemas")}async getCurrentSchema(){return Promise.resolve(void 0)}async hasTable(e){let r=`SELECT * FROM "sqlite_master" WHERE "type" = 'table' AND "name" = '${_e.isTable(e)?e.name:e}'`;return!!(await this.query(r)).length}async hasColumn(e,t){let r=_e.isTable(e)?e.name:e,i=`PRAGMA table_xinfo(${this.escapePath(r)})`;return!!(await this.query(i)).find(o=>o.name===t)}async createDatabase(e,t){return Promise.resolve()}async dropDatabase(e,t){return Promise.resolve()}async createSchema(e,t){return Promise.resolve()}async dropSchema(e,t){return Promise.resolve()}async createTable(e,t=!1,r=!0,i=!0){let s=[],o=[];if(t&&await this.hasTable(e))return Promise.resolve();s.push(this.createTableSql(e,r)),o.push(this.dropTableSql(e)),i&&e.indices.forEach(c=>{c.name||(c.name=this.connection.namingStrategy.indexName(e,c.columnNames,c.where)),s.push(this.createIndexSql(e,c)),o.push(this.dropIndexSql(c))});let a=e.columns.filter(c=>c.generatedType&&c.asExpression);for(let c of a){let u=this.insertTypeormMetadataSql({table:e.name,type:Sr.GENERATED_COLUMN,name:c.name,value:c.asExpression}),l=this.deleteTypeormMetadataSql({table:e.name,type:Sr.GENERATED_COLUMN,name:c.name});s.push(u),o.push(l)}await this.executeQueries(s,o)}async dropTable(e,t,r=!0,i=!0){if(t&&!await this.hasTable(e))return Promise.resolve();let s=r,o=_e.isTable(e)?e:await this.getCachedTable(e),a=[],c=[];i&&o.indices.forEach(l=>{a.push(this.dropIndexSql(l)),c.push(this.createIndexSql(o,l))}),a.push(this.dropTableSql(o,t)),c.push(this.createTableSql(o,s));let u=o.columns.filter(l=>l.generatedType&&l.asExpression);for(let l of u){let f=this.deleteTypeormMetadataSql({table:o.name,type:Sr.GENERATED_COLUMN,name:l.name}),p=this.insertTypeormMetadataSql({table:o.name,type:Sr.GENERATED_COLUMN,name:l.name,value:l.asExpression});a.push(f),c.push(p)}await this.executeQueries(a,c)}async createView(e,t=!1){let r=[],i=[];r.push(this.createViewSql(e)),t&&r.push(this.insertViewDefinitionSql(e)),i.push(this.dropViewSql(e)),t&&i.push(this.deleteViewDefinitionSql(e)),await this.executeQueries(r,i)}async dropView(e){let t=_e.isView(e)?e.name:e,r=await this.getCachedView(t),i=[],s=[];i.push(this.deleteViewDefinitionSql(r)),i.push(this.dropViewSql(r)),s.push(this.insertViewDefinitionSql(r)),s.push(this.createViewSql(r)),await this.executeQueries(i,s)}async renameTable(e,t){let r=_e.isTable(e)?e:await this.getCachedTable(e),i=r.clone();i.name=t;let s=new br(`ALTER TABLE ${this.escapePath(r.name)} RENAME TO ${this.escapePath(t)}`),o=new br(`ALTER TABLE ${this.escapePath(t)} RENAME TO ${this.escapePath(r.name)}`);await this.executeQueries(s,o),i.uniques.forEach(a=>{let c=this.connection.namingStrategy.uniqueConstraintName(r,a.columnNames);a.name===c&&(a.name=this.connection.namingStrategy.uniqueConstraintName(i,a.columnNames))}),i.foreignKeys.forEach(a=>{let c=this.connection.namingStrategy.foreignKeyName(r,a.columnNames,this.getTablePath(a),a.referencedColumnNames);a.name===c&&(a.name=this.connection.namingStrategy.foreignKeyName(i,a.columnNames,this.getTablePath(a),a.referencedColumnNames))}),i.indices.forEach(a=>{let c=this.connection.namingStrategy.indexName(r,a.columnNames,a.where);a.name===c&&(a.name=this.connection.namingStrategy.indexName(i,a.columnNames,a.where))}),r.name=i.name,await this.recreateTable(i,r)}async addColumn(e,t){let r=_e.isTable(e)?e:await this.getCachedTable(e);return this.addColumns(r,[t])}async addColumns(e,t){let r=_e.isTable(e)?e:await this.getCachedTable(e),i=r.clone();t.forEach(s=>i.addColumn(s)),await this.recreateTable(i,r)}async renameColumn(e,t,r){let i=_e.isTable(e)?e:await this.getCachedTable(e),s=_e.isTableColumn(t)?t:i.columns.find(a=>a.name===t);if(!s)throw new Q(`Column "${t}" was not found in the "${i.name}" table.`);let o;return _e.isTableColumn(r)?o=r:(o=s.clone(),o.name=r),this.changeColumn(i,s,o)}async changeColumn(e,t,r){let i=_e.isTable(e)?e:await this.getCachedTable(e),s=_e.isTableColumn(t)?t:i.columns.find(o=>o.name===t);if(!s)throw new Q(`Column "${t}" was not found in the "${i.name}" table.`);await this.changeColumns(i,[{oldColumn:s,newColumn:r}])}async changeColumns(e,t){let r=_e.isTable(e)?e:await this.getCachedTable(e),i=r.clone();t.forEach(s=>{s.newColumn.name!==s.oldColumn.name&&(i.findColumnUniques(s.oldColumn).forEach(a=>{let c=this.connection.namingStrategy.uniqueConstraintName(r,a.columnNames);a.columnNames.splice(a.columnNames.indexOf(s.oldColumn.name),1),a.columnNames.push(s.newColumn.name),a.name===c&&(a.name=this.connection.namingStrategy.uniqueConstraintName(i,a.columnNames))}),i.findColumnForeignKeys(s.oldColumn).forEach(a=>{let c=this.connection.namingStrategy.foreignKeyName(r,a.columnNames,this.getTablePath(a),a.referencedColumnNames);a.columnNames.splice(a.columnNames.indexOf(s.oldColumn.name),1),a.columnNames.push(s.newColumn.name),a.name===c&&(a.name=this.connection.namingStrategy.foreignKeyName(i,a.columnNames,this.getTablePath(a),a.referencedColumnNames))}),i.findColumnIndices(s.oldColumn).forEach(a=>{let c=this.connection.namingStrategy.indexName(r,a.columnNames,a.where);a.columnNames.splice(a.columnNames.indexOf(s.oldColumn.name),1),a.columnNames.push(s.newColumn.name),a.name===c&&(a.name=this.connection.namingStrategy.indexName(i,a.columnNames,a.where))}));let o=i.columns.find(a=>a.name===s.oldColumn.name);o&&(i.columns[i.columns.indexOf(o)]=s.newColumn)}),await this.recreateTable(i,r)}async dropColumn(e,t){let r=_e.isTable(e)?e:await this.getCachedTable(e),i=_e.isTableColumn(t)?t:r.findColumnByName(t);if(!i)throw new Q(`Column "${t}" was not found in table "${r.name}"`);await this.dropColumns(r,[i])}async dropColumns(e,t){let r=_e.isTable(e)?e:await this.getCachedTable(e),i=r.clone();t.forEach(s=>{let o=_e.isTableColumn(s)?s:r.findColumnByName(s);if(!o)throw new Error(`Column "${s}" was not found in table "${r.name}"`);i.removeColumn(o),i.findColumnUniques(o).forEach(a=>i.removeUniqueConstraint(a)),i.findColumnIndices(o).forEach(a=>i.removeIndex(a)),i.findColumnForeignKeys(o).forEach(a=>i.removeForeignKey(a))}),await this.recreateTable(i,r)}async createPrimaryKey(e,t){let r=_e.isTable(e)?e:await this.getCachedTable(e),i=r.clone();i.columns.forEach(s=>{t.find(o=>o===s.name)&&(s.isPrimary=!0)}),await this.recreateTable(i,r),r.columns.forEach(s=>{t.find(o=>o===s.name)&&(s.isPrimary=!0)})}async updatePrimaryKeys(e,t){await Promise.resolve()}async dropPrimaryKey(e){let t=_e.isTable(e)?e:await this.getCachedTable(e),r=t.clone();r.primaryColumns.forEach(i=>{i.isPrimary=!1}),await this.recreateTable(r,t),t.primaryColumns.forEach(i=>{i.isPrimary=!1})}async createUniqueConstraint(e,t){await this.createUniqueConstraints(e,[t])}async createUniqueConstraints(e,t){let r=_e.isTable(e)?e:await this.getCachedTable(e),i=r.clone();t.forEach(s=>i.addUniqueConstraint(s)),await this.recreateTable(i,r)}async dropUniqueConstraint(e,t){let r=_e.isTable(e)?e:await this.getCachedTable(e),i=_e.isTableUnique(t)?t:r.uniques.find(s=>s.name===t);if(!i)throw new Q(`Supplied unique constraint was not found in table ${r.name}`);await this.dropUniqueConstraints(r,[i])}async dropUniqueConstraints(e,t){let r=_e.isTable(e)?e:await this.getCachedTable(e),i=r.clone();t.forEach(s=>i.removeUniqueConstraint(s)),await this.recreateTable(i,r)}async createCheckConstraint(e,t){await this.createCheckConstraints(e,[t])}async createCheckConstraints(e,t){let r=_e.isTable(e)?e:await this.getCachedTable(e),i=r.clone();t.forEach(s=>i.addCheckConstraint(s)),await this.recreateTable(i,r)}async dropCheckConstraint(e,t){let r=_e.isTable(e)?e:await this.getCachedTable(e),i=_e.isTableCheck(t)?t:r.checks.find(s=>s.name===t);if(!i)throw new Q(`Supplied check constraint was not found in table ${r.name}`);await this.dropCheckConstraints(r,[i])}async dropCheckConstraints(e,t){let r=_e.isTable(e)?e:await this.getCachedTable(e),i=r.clone();t.forEach(s=>i.removeCheckConstraint(s)),await this.recreateTable(i,r)}async createExclusionConstraint(e,t){throw new Q("Sqlite does not support exclusion constraints.")}async createExclusionConstraints(e,t){throw new Q("Sqlite does not support exclusion constraints.")}async dropExclusionConstraint(e,t){throw new Q("Sqlite does not support exclusion constraints.")}async dropExclusionConstraints(e,t){throw new Q("Sqlite does not support exclusion constraints.")}async createForeignKey(e,t){await this.createForeignKeys(e,[t])}async createForeignKeys(e,t){let r=_e.isTable(e)?e:await this.getCachedTable(e),i=r.clone();t.forEach(s=>i.addForeignKey(s)),await this.recreateTable(i,r)}async dropForeignKey(e,t){let r=_e.isTable(e)?e:await this.getCachedTable(e),i=_e.isTableForeignKey(t)?t:r.foreignKeys.find(s=>s.name===t);if(!i)throw new Q(`Supplied foreign key was not found in table ${r.name}`);await this.dropForeignKeys(e,[i])}async dropForeignKeys(e,t){let r=_e.isTable(e)?e:await this.getCachedTable(e),i=r.clone();t.forEach(s=>i.removeForeignKey(s)),await this.recreateTable(i,r)}async createIndex(e,t){let r=_e.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.generateIndexName(r,t));let i=this.createIndexSql(r,t),s=this.dropIndexSql(t);await this.executeQueries(i,s),r.addIndex(t)}async createIndices(e,t){let r=t.map(i=>this.createIndex(e,i));await Promise.all(r)}async dropIndex(e,t){let r=_e.isTable(e)?e:await this.getCachedTable(e),i=_e.isTableIndex(t)?t:r.indices.find(a=>a.name===t);if(!i)throw new Q(`Supplied index ${t} was not found in table ${r.name}`);i.name||(i.name=this.generateIndexName(r,i));let s=this.dropIndexSql(i),o=this.createIndexSql(r,i);await this.executeQueries(s,o),r.removeIndex(i)}async dropIndices(e,t){let r=t.map(i=>this.dropIndex(e,i));await Promise.all(r)}async clearTable(e){await this.query(`DELETE FROM ${this.escapePath(e)}`)}async clearDatabase(e){let t;e&&this.driver.getAttachedDatabaseHandleByRelativePath(e)&&(t=this.driver.getAttachedDatabaseHandleByRelativePath(e)),await this.query("PRAGMA foreign_keys = OFF");let r=this.isTransactionActive;r||await this.startTransaction();try{let i=t?`SELECT 'DROP VIEW "${t}"."' || name || '";' as query FROM "${t}"."sqlite_master" WHERE "type" = 'view'`:`SELECT 'DROP VIEW "' || name || '";' as query FROM "sqlite_master" WHERE "type" = 'view'`,s=await this.query(i);await Promise.all(s.map(c=>this.query(c.query)));let o=t?`SELECT 'DROP TABLE "${t}"."' || name || '";' as query FROM "${t}"."sqlite_master" WHERE "type" = 'table' AND "name" != 'sqlite_sequence'`:`SELECT 'DROP TABLE "' || name || '";' as query FROM "sqlite_master" WHERE "type" = 'table' AND "name" != 'sqlite_sequence'`,a=await this.query(o);await Promise.all(a.map(c=>this.query(c.query))),r||await this.commitTransaction()}catch(i){try{r||await this.rollbackTransaction()}catch{}throw i}finally{await this.query("PRAGMA foreign_keys = ON")}}async loadViews(e){if(!await this.hasTable(this.getTypeormMetadataTableName()))return[];e||(e=[]);let r=e.map(o=>"'"+o+"'").join(", "),i=`SELECT "t".* FROM "${this.getTypeormMetadataTableName()}" "t" INNER JOIN "sqlite_master" s ON "s"."name" = "t"."name" AND "s"."type" = 'view' WHERE "t"."type" = '${Sr.VIEW}'`;return r.length>0&&(i+=` AND "t"."name" IN (${r})`),(await this.query(i)).map(o=>{let a=new nE;return a.name=o.name,a.expression=o.value,a})}async loadTableRecords(e,t){let r,[i,s]=this.splitTablePath(e);return i&&this.driver.getAttachedDatabasePathRelativeByHandle(i)&&(r=this.driver.getAttachedDatabasePathRelativeByHandle(i)),await this.query(`SELECT ${r?`'${r}'`:null} as database, ${i?`'${i}'`:null} as schema, * FROM ${i?`"${i}".`:""}${this.escapePath("sqlite_master")} WHERE "type" = '${t}' AND "${t==="table"?"name":"tbl_name"}" IN ('${s}')`)}async loadPragmaRecords(e,t){let[,r]=this.splitTablePath(e);return await this.query(`PRAGMA ${t}("${r}")`)}async loadTables(e){if(e&&e.length===0)return[];let t=[],r;if(e)t=(await Promise.all(e.map(i=>this.loadTableRecords(i,"table")))).reduce((i,s)=>[...i,...s],[]).filter(Boolean),r=(await Promise.all((e??[]).map(i=>this.loadTableRecords(i,"index")))).reduce((i,s)=>[...i,...s],[]).filter(Boolean);else{t.push(...await this.query(`SELECT * FROM "sqlite_master" WHERE "type" = 'table'`));let s=t.map(({name:o})=>`'${o}'`).join(", ");r=await this.query(`SELECT * FROM "sqlite_master" WHERE "type" = 'index' AND "tbl_name" IN (${s})`)}return t.length===0?[]:Promise.all(t.map(async i=>{let s=i.database&&this.driver.getAttachedDatabaseHandleByRelativePath(i.database)?`${this.driver.getAttachedDatabaseHandleByRelativePath(i.database)}.${i.name}`:i.name,o=i.sql,a=o.includes("WITHOUT ROWID"),c=new la({name:s,withoutRowid:a}),[u,l,f]=await Promise.all([this.loadPragmaRecords(s,"table_xinfo"),this.loadPragmaRecords(s,"index_list"),this.loadPragmaRecords(s,"foreign_key_list")]),p,g=i.sql,v=g.toUpperCase().indexOf("AUTOINCREMENT");if(v!==-1){p=g.substr(0,v);let I=p.lastIndexOf(","),ee=p.lastIndexOf("(");I!==-1?(p=p.substr(I),p=p.substr(0,p.lastIndexOf('"')),p=p.substr(p.indexOf('"')+1)):ee!==-1&&(p=p.substr(ee),p=p.substr(0,p.lastIndexOf('"')),p=p.substr(p.indexOf('"')+1))}c.columns=await Promise.all(u.map(async I=>{let ee=new Lu;if(ee.name=I.name,ee.type=I.type.toLowerCase(),ee.default=I.dflt_value!==null&&I.dflt_value!==void 0?I.dflt_value:void 0,ee.isNullable=I.notnull===0,ee.isPrimary=I.pk>0,ee.comment="",ee.isGenerated=p===I.name,ee.isGenerated&&(ee.generationStrategy="increment"),I.hidden===2||I.hidden===3){ee.generatedType=I.hidden===2?"VIRTUAL":"STORED";let pe=await this.selectTypeormMetadataSql({table:c.name,type:Sr.GENERATED_COLUMN,name:ee.name}),Ke=await this.query(pe.query,pe.parameters);Ke[0]&&Ke[0].value?ee.asExpression=Ke[0].value:ee.asExpression=""}if(ee.type==="varchar"){let pe=o.match(new RegExp('"('+ee.name+`)" varchar CHECK\\s*\\(\\s*"\\1"\\s+IN\\s*\\(('[^']+'(?:\\s*,\\s*'[^']+')+)\\s*\\)\\s*\\)`));pe&&(ee.enum=pe[2].substr(1,pe[2].length-2).split("','"))}let de=ee.type.indexOf("(");if(de!==-1){let pe=ee.type,Ke=pe.substr(0,de);if(this.driver.withLengthColumnTypes.find(ce=>ce===Ke)){let ce=parseInt(pe.substring(de+1,pe.length-1));ce&&(ee.length=ce.toString(),ee.type=Ke)}if(this.driver.withPrecisionColumnTypes.find(ce=>ce===Ke)){let ce=new RegExp(`^${Ke}\\((\\d+),?\\s?(\\d+)?\\)`),st=pe.match(ce);st&&st[1]&&(ee.precision=+st[1]),this.driver.withScaleColumnTypes.find(Mt=>Mt===Ke)&&st&&st[2]&&(ee.scale=+st[2]),ee.type=Ke}}return ee}));let E,D=[],P=/CONSTRAINT "([^"]*)" FOREIGN KEY ?\((.*?)\) REFERENCES "([^"]*)"/g;for(;(E=P.exec(o))!==null;)D.push({name:E[1],columns:E[2].substr(1,E[2].length-2).split('", "'),referencedTableName:E[3]});let K=yt.uniq(f,I=>I.id);c.foreignKeys=K.map(I=>{let ee=f.filter(ce=>ce.id===I.id&&ce.table===I.table),de=ee.map(ce=>ce.from),pe=ee.map(ce=>ce.to),Ke=D.find(ce=>ce.referencedTableName===I.table&&ce.columns.every(st=>de.indexOf(st)!==-1));return new Yp({name:Ke.name,columnNames:de,referencedTableName:I.table,referencedColumnNames:pe,onDelete:I.on_delete,onUpdate:I.on_update})});let J,re=[],he=/CONSTRAINT "([^"]*)" UNIQUE ?\((.*?)\)/g;for(;(J=he.exec(o))!==null;)re.push({name:J[1],columns:J[2].substr(1,J[2].length-2).split('", "')});let y=l.filter(I=>I.origin==="u").map(I=>I.name).filter((I,ee,de)=>de.indexOf(I)===ee).map(async I=>{let ee=l.find(ce=>ce.name===I),pe=(await this.query(`PRAGMA index_info("${ee.name}")`)).sort((ce,st)=>parseInt(ce.seqno)-parseInt(st.seqno)).map(ce=>ce.name);if(pe.length===1){let ce=c.columns.find(st=>!!pe.find(Mt=>Mt===st.name));ce&&(ce.isUnique=!0)}let Ke=re.find(ce=>ce.columns.every(st=>pe.indexOf(st)!==-1));return new Bu({name:Ke?Ke.name:this.connection.namingStrategy.uniqueConstraintName(c,pe),columnNames:pe})});c.uniques=await Promise.all(y);let Te,De=/CONSTRAINT "([^"]*)" CHECK ?(\(.*?\))([,]|[)]$)/g;for(;(Te=De.exec(o))!==null;)c.checks.push(new Qd({name:Te[1],expression:Te[2]}));let Ve=l.filter(I=>I.origin==="c").map(I=>I.name).filter((I,ee,de)=>de.indexOf(I)===ee).map(async I=>{let ee=r.find(Wt=>Wt.name===I),de=/WHERE (.*)/.exec(ee.sql),pe=l.find(Wt=>Wt.name===I),ce=(await this.query(`PRAGMA index_info("${pe.name}")`)).sort((Wt,Kn)=>parseInt(Wt.seqno)-parseInt(Kn.seqno)).map(Wt=>Wt.name),st=`${i.database?`${i.database}.`:""}${pe.name}`,Mt=pe.unique==="1"||pe.unique===1;return new fc({table:c,name:st,columnNames:ce,isUnique:Mt,where:de?de[1]:void 0})}),q=await Promise.all(Ve);return c.indices=q.filter(I=>!!I),c}))}createTableSql(e,t,r){let i=e.columns.filter(g=>g.isPrimary),s=i.find(g=>g.isGenerated&&g.generationStrategy==="increment"),o=i.length>1;if(o&&s)throw new Q("Sqlite does not support AUTOINCREMENT on composite primary key");let a=e.columns.map(g=>this.buildCreateColumnSql(g,o)).join(", "),[c]=this.splitTablePath(e.name),u=`CREATE TABLE ${this.escapePath(e.name)} (${a}`,[l,f]=this.splitTablePath(e.name),p=r?`${l?`${l}.`:""}${f.replace(/^temporary_/,"")}`:e.name;if(e.columns.filter(g=>g.isUnique).forEach(g=>{e.uniques.some(E=>E.columnNames.length===1&&E.columnNames[0]===g.name)||e.uniques.push(new Bu({name:this.connection.namingStrategy.uniqueConstraintName(e,[g.name]),columnNames:[g.name]}))}),e.uniques.length>0){let g=e.uniques.map(v=>{let E=v.name?v.name:this.connection.namingStrategy.uniqueConstraintName(p,v.columnNames),D=v.columnNames.map(P=>`"${P}"`).join(", ");return`CONSTRAINT "${E}" UNIQUE (${D})`}).join(", ");u+=`, ${g}`}if(e.checks.length>0){let g=e.checks.map(v=>`CONSTRAINT "${v.name?v.name:this.connection.namingStrategy.checkConstraintName(p,v.expression)}" CHECK (${v.expression})`).join(", ");u+=`, ${g}`}if(e.foreignKeys.length>0&&t){let g=e.foreignKeys.filter(v=>{let[E]=this.splitTablePath(v.referencedTableName);return E===c}).map(v=>{let[,E]=this.splitTablePath(v.referencedTableName),D=v.columnNames.map(J=>`"${J}"`).join(", ");v.name||(v.name=this.connection.namingStrategy.foreignKeyName(p,v.columnNames,this.getTablePath(v),v.referencedColumnNames));let P=v.referencedColumnNames.map(J=>`"${J}"`).join(", "),K=`CONSTRAINT "${v.name}" FOREIGN KEY (${D}) REFERENCES "${E}" (${P})`;return v.onDelete&&(K+=` ON DELETE ${v.onDelete}`),v.onUpdate&&(K+=` ON UPDATE ${v.onUpdate}`),v.deferrable&&(K+=` DEFERRABLE ${v.deferrable}`),K}).join(", ");u+=`, ${g}`}if(i.length>1){let g=i.map(v=>`"${v.name}"`).join(", ");u+=`, PRIMARY KEY (${g})`}return u+=")",e.withoutRowid&&(u+=" WITHOUT ROWID"),new br(u)}dropTableSql(e,t){let r=_e.isTable(e)?e.name:e,i=t?`DROP TABLE IF EXISTS ${this.escapePath(r)}`:`DROP TABLE ${this.escapePath(r)}`;return new br(i)}createViewSql(e){return typeof e.expression=="string"?new br(`CREATE VIEW "${e.name}" AS ${e.expression}`):new br(`CREATE VIEW "${e.name}" AS ${e.expression(this.connection).getQuery()}`)}insertViewDefinitionSql(e){let t=typeof e.expression=="string"?e.expression.trim():e.expression(this.connection).getQuery();return this.insertTypeormMetadataSql({type:Sr.VIEW,name:e.name,value:t})}dropViewSql(e){let t=_e.isView(e)?e.name:e;return new br(`DROP VIEW "${t}"`)}deleteViewDefinitionSql(e){let t=_e.isView(e)?e.name:e;return this.deleteTypeormMetadataSql({type:Sr.VIEW,name:t})}createIndexSql(e,t){let r=t.columnNames.map(o=>`"${o}"`).join(", "),[i,s]=this.splitTablePath(e.name);return new br(`CREATE ${t.isUnique?"UNIQUE ":""}INDEX ${i?`"${i}".`:""}${this.escapePath(t.name)} ON "${s}" (${r}) ${t.where?"WHERE "+t.where:""}`)}dropIndexSql(e){let t=_e.isTableIndex(e)?e.name:e;return new br(`DROP INDEX ${this.escapePath(t)}`)}buildCreateColumnSql(e,t){let r='"'+e.name+'"';return _e.isColumnMetadata(e)?r+=" "+this.driver.normalizeType(e):r+=" "+this.connection.driver.createFullType(e),e.enum&&(r+=' CHECK( "'+e.name+'" IN ('+e.enum.map(i=>"'"+i+"'").join(",")+") )"),e.isPrimary&&!t&&(r+=" PRIMARY KEY"),e.isGenerated===!0&&e.generationStrategy==="increment"&&(r+=" AUTOINCREMENT"),e.collation&&(r+=" COLLATE "+e.collation),e.isNullable!==!0&&(r+=" NOT NULL"),e.asExpression?r+=` AS (${e.asExpression}) ${e.generatedType?e.generatedType:"VIRTUAL"}`:e.default!==void 0&&e.default!==null&&(r+=" DEFAULT ("+e.default+")"),r}async recreateTable(e,t,r=!0){let i=[],s=[];t.indices.forEach(u=>{i.push(this.dropIndexSql(u)),s.push(this.createIndexSql(t,u))});let[o,a]=this.splitTablePath(e.name),[,c]=this.splitTablePath(t.name);if(e.name=a=`${o?`${o}.`:""}temporary_${a}`,i.push(this.createTableSql(e,!0,!0)),s.push(this.dropTableSql(e)),r){let u=e.columns.filter(f=>!f.generatedType).map(f=>`"${f.name}"`),l=t.columns.filter(f=>!f.generatedType).map(f=>`"${f.name}"`);l.length<u.length?u=e.columns.filter(f=>{let p=t.columns.find(g=>g.name===f.name);return p&&p.generatedType?!1:!f.generatedType&&p}).map(f=>`"${f.name}"`):l.length>u.length&&(l=t.columns.filter(f=>!f.generatedType&&e.columns.find(p=>p.name===f.name)).map(f=>`"${f.name}"`)),i.push(new br(`INSERT INTO ${this.escapePath(e.name)}(${u.join(", ")}) SELECT ${l.join(", ")} FROM ${this.escapePath(t.name)}`)),s.push(new br(`INSERT INTO ${this.escapePath(t.name)}(${l.join(", ")}) SELECT ${u.join(", ")} FROM ${this.escapePath(e.name)}`))}i.push(this.dropTableSql(t)),s.push(this.createTableSql(t,!0)),i.push(new br(`ALTER TABLE ${this.escapePath(e.name)} RENAME TO ${this.escapePath(c)}`)),s.push(new br(`ALTER TABLE ${this.escapePath(t.name)} RENAME TO ${this.escapePath(a)}`)),e.name=t.name,e.indices.forEach(u=>{u.name||(u.name=this.connection.namingStrategy.indexName(e,u.columnNames,u.where)),i.push(this.createIndexSql(e,u)),s.push(this.dropIndexSql(u))}),t.columns.filter(u=>{let l=e.columns.find(f=>f.name===u.name);return u.generatedType&&u.asExpression&&(!l||!l.generatedType&&!l.asExpression)}).forEach(u=>{let l=this.deleteTypeormMetadataSql({table:t.name,type:Sr.GENERATED_COLUMN,name:u.name}),f=this.insertTypeormMetadataSql({table:t.name,type:Sr.GENERATED_COLUMN,name:u.name,value:u.asExpression});i.push(l),s.push(f)}),e.columns.filter(u=>u.generatedType&&u.asExpression&&!t.columns.some(l=>l.name===u.name)).forEach(u=>{let l=this.insertTypeormMetadataSql({table:e.name,type:Sr.GENERATED_COLUMN,name:u.name,value:u.asExpression}),f=this.deleteTypeormMetadataSql({table:e.name,type:Sr.GENERATED_COLUMN,name:u.name});i.push(l),s.push(f)}),e.columns.filter(u=>u.generatedType&&u.asExpression).forEach(u=>{let l=t.columns.find(E=>E.name===u.name&&E.generatedType&&u.generatedType&&E.asExpression!==u.asExpression);if(!l)return;let f=this.deleteTypeormMetadataSql({table:t.name,type:Sr.GENERATED_COLUMN,name:l.name}),p=this.insertTypeormMetadataSql({table:e.name,type:Sr.GENERATED_COLUMN,name:u.name,value:u.asExpression});i.push(f),i.push(p);let g=this.insertTypeormMetadataSql({table:e.name,type:Sr.GENERATED_COLUMN,name:l.name,value:l.asExpression}),v=this.deleteTypeormMetadataSql({table:t.name,type:Sr.GENERATED_COLUMN,name:u.name});s.push(g),s.push(v)}),await this.executeQueries(i,s),this.replaceCachedTable(t,e)}splitTablePath(e){return e.indexOf(".")!==-1?e.split("."):[void 0,e]}escapePath(e,t){return(_e.isTable(e)||_e.isView(e)?e.name:e).replace(/^\.+|\.+$/g,"").split(".").map(i=>t?i:`"${i}"`).join(".")}},Jd=class{constructor(e){this.queryRunner=e}async broadcast(e,...t){let r=new qu,i=this[`broadcast${e}Event`];typeof i=="function"&&i.call(this,r,...t),await r.wait()}broadcastBeforeInsertEvent(e,t,r){r&&t.beforeInsertListeners.length&&t.beforeInsertListeners.forEach(i=>{if(i.isAllowed(r)){let s=i.execute(r);s instanceof Promise&&e.promises.push(s),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(i=>{if(this.isAllowedSubscriber(i,t.target)&&i.beforeInsert){let s=i.beforeInsert({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:r,metadata:t});s instanceof Promise&&e.promises.push(s),e.count++}})}broadcastBeforeUpdateEvent(e,t,r,i,s,o){r&&t.beforeUpdateListeners.length&&t.beforeUpdateListeners.forEach(a=>{if(a.isAllowed(r)){let c=a.execute(r);c instanceof Promise&&e.promises.push(c),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(a=>{if(this.isAllowedSubscriber(a,t.target)&&a.beforeUpdate){let c=a.beforeUpdate({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:r,metadata:t,databaseEntity:i,updatedColumns:s||[],updatedRelations:o||[]});c instanceof Promise&&e.promises.push(c),e.count++}})}broadcastBeforeRemoveEvent(e,t,r,i){r&&t.beforeRemoveListeners.length&&t.beforeRemoveListeners.forEach(s=>{if(s.isAllowed(r)){let o=s.execute(r);o instanceof Promise&&e.promises.push(o),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(s=>{if(this.isAllowedSubscriber(s,t.target)&&s.beforeRemove){let o=s.beforeRemove({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:r,metadata:t,databaseEntity:i,entityId:t.getEntityIdMixedMap(i)});o instanceof Promise&&e.promises.push(o),e.count++}})}broadcastBeforeSoftRemoveEvent(e,t,r,i){r&&t.beforeSoftRemoveListeners.length&&t.beforeSoftRemoveListeners.forEach(s=>{if(s.isAllowed(r)){let o=s.execute(r);o instanceof Promise&&e.promises.push(o),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(s=>{if(this.isAllowedSubscriber(s,t.target)&&s.beforeSoftRemove){let o=s.beforeSoftRemove({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:r,metadata:t,databaseEntity:i,entityId:t.getEntityIdMixedMap(i)});o instanceof Promise&&e.promises.push(o),e.count++}})}broadcastBeforeRecoverEvent(e,t,r,i){r&&t.beforeRecoverListeners.length&&t.beforeRecoverListeners.forEach(s=>{if(s.isAllowed(r)){let o=s.execute(r);o instanceof Promise&&e.promises.push(o),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(s=>{if(this.isAllowedSubscriber(s,t.target)&&s.beforeRecover){let o=s.beforeRecover({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:r,metadata:t,databaseEntity:i,entityId:t.getEntityIdMixedMap(i)});o instanceof Promise&&e.promises.push(o),e.count++}})}broadcastAfterInsertEvent(e,t,r){r&&t.afterInsertListeners.length&&t.afterInsertListeners.forEach(i=>{if(i.isAllowed(r)){let s=i.execute(r);s instanceof Promise&&e.promises.push(s),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(i=>{if(this.isAllowedSubscriber(i,t.target)&&i.afterInsert){let s=i.afterInsert({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:r,metadata:t});s instanceof Promise&&e.promises.push(s),e.count++}})}broadcastBeforeTransactionStartEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(t=>{if(t.beforeTransactionStart){let r=t.beforeTransactionStart({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});r instanceof Promise&&e.promises.push(r),e.count++}})}broadcastAfterTransactionStartEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(t=>{if(t.afterTransactionStart){let r=t.afterTransactionStart({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});r instanceof Promise&&e.promises.push(r),e.count++}})}broadcastBeforeTransactionCommitEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(t=>{if(t.beforeTransactionCommit){let r=t.beforeTransactionCommit({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});r instanceof Promise&&e.promises.push(r),e.count++}})}broadcastAfterTransactionCommitEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(t=>{if(t.afterTransactionCommit){let r=t.afterTransactionCommit({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});r instanceof Promise&&e.promises.push(r),e.count++}})}broadcastBeforeTransactionRollbackEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(t=>{if(t.beforeTransactionRollback){let r=t.beforeTransactionRollback({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});r instanceof Promise&&e.promises.push(r),e.count++}})}broadcastAfterTransactionRollbackEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(t=>{if(t.afterTransactionRollback){let r=t.afterTransactionRollback({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});r instanceof Promise&&e.promises.push(r),e.count++}})}broadcastAfterUpdateEvent(e,t,r,i,s,o){r&&t.afterUpdateListeners.length&&t.afterUpdateListeners.forEach(a=>{if(a.isAllowed(r)){let c=a.execute(r);c instanceof Promise&&e.promises.push(c),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(a=>{if(this.isAllowedSubscriber(a,t.target)&&a.afterUpdate){let c=a.afterUpdate({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:r,metadata:t,databaseEntity:i,updatedColumns:s||[],updatedRelations:o||[]});c instanceof Promise&&e.promises.push(c),e.count++}})}broadcastAfterRemoveEvent(e,t,r,i){r&&t.afterRemoveListeners.length&&t.afterRemoveListeners.forEach(s=>{if(s.isAllowed(r)){let o=s.execute(r);o instanceof Promise&&e.promises.push(o),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(s=>{if(this.isAllowedSubscriber(s,t.target)&&s.afterRemove){let o=s.afterRemove({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:r,metadata:t,databaseEntity:i,entityId:t.getEntityIdMixedMap(i)});o instanceof Promise&&e.promises.push(o),e.count++}})}broadcastAfterSoftRemoveEvent(e,t,r,i){r&&t.afterSoftRemoveListeners.length&&t.afterSoftRemoveListeners.forEach(s=>{if(s.isAllowed(r)){let o=s.execute(r);o instanceof Promise&&e.promises.push(o),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(s=>{if(this.isAllowedSubscriber(s,t.target)&&s.afterSoftRemove){let o=s.afterSoftRemove({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:r,metadata:t,databaseEntity:i,entityId:t.getEntityIdMixedMap(i)});o instanceof Promise&&e.promises.push(o),e.count++}})}broadcastAfterRecoverEvent(e,t,r,i){r&&t.afterRecoverListeners.length&&t.afterRecoverListeners.forEach(s=>{if(s.isAllowed(r)){let o=s.execute(r);o instanceof Promise&&e.promises.push(o),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(s=>{if(this.isAllowedSubscriber(s,t.target)&&s.afterRecover){let o=s.afterRecover({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:r,metadata:t,databaseEntity:i,entityId:t.getEntityIdMixedMap(i)});o instanceof Promise&&e.promises.push(o),e.count++}})}broadcastLoadEventsForAll(e,t,r){return this.broadcastLoadEvent(e,t,r)}broadcastLoadEvent(e,t,r){let i=this.queryRunner.connection.subscribers.filter(s=>this.isAllowedSubscriber(s,t.target)&&s.afterLoad);if(t.relations.length||t.afterLoadListeners.length||i.length){let s=r.filter(o=>!(o instanceof Promise));t.relations.length&&t.relations.forEach(o=>{s.forEach(a=>{if(o.isLazy&&!a.hasOwnProperty(o.propertyName))return;let c=o.getEntityValue(a);Ye.isObject(c)&&this.broadcastLoadEvent(e,o.inverseEntityMetadata,Array.isArray(c)?c:[c])})}),t.afterLoadListeners.length&&t.afterLoadListeners.forEach(o=>{s.forEach(a=>{if(o.isAllowed(a)){let c=o.execute(a);c instanceof Promise&&e.promises.push(c),e.count++}})}),i.forEach(o=>{s.forEach(a=>{let c=o.afterLoad(a,{entity:a,metadata:t,connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});c instanceof Promise&&e.promises.push(c),e.count++})})}}isAllowedSubscriber(e,t){return!e.listenTo||!e.listenTo()||e.listenTo()===Object||e.listenTo()===t||e.listenTo().isPrototypeOf(t)}},Zd=class{constructor(){this.records=[]}},lR=class extends Yd{constructor(e){super(),this.driver=e,this.connection=e.connection,this.broadcaster=new Jd(this)}async beforeMigration(){await this.query("PRAGMA foreign_keys = OFF")}async afterMigration(){await this.query("PRAGMA foreign_keys = ON")}async query(e,t,r=!1){if(this.isReleased)throw new Gd;let i=await this.connect();this.driver.connection.logger.logQuery(e,t,this);let s=+new Date;try{let o=await new Promise(async(f,p)=>{i.executeSql(e,t,g=>f(g),g=>p(g))}),a=this.driver.options.maxQueryExecutionTime,u=+new Date-s;a&&u>a&&this.driver.connection.logger.logQuerySlow(u,e,t,this);let l=new Zd;if(e.substr(0,11)==="INSERT INTO")l.raw=o.insertId;else{let f=[];for(let p=0;p<o.rows.length;p++)f.push(o.rows.item(p));l.records=f,l.raw=f}return r?l:l.raw}catch(o){throw this.driver.connection.logger.logQueryError(o,e,t,this),new zd(e,t,o)}}async startTransaction(){throw new Q("Transactions are not supported by the Cordova driver")}async commitTransaction(){throw new Q("Transactions are not supported by the Cordova driver")}async rollbackTransaction(){throw new Q("Transactions are not supported by the Cordova driver")}async clearDatabase(){await this.query("PRAGMA foreign_keys = OFF");try{let t=await this.query(`SELECT 'DROP VIEW "' || name || '";' as query FROM "sqlite_master" WHERE "type" = 'view'`),i=await this.query(`SELECT 'DROP TABLE "' || name || '";' as query FROM "sqlite_master" WHERE "type" = 'table' AND "name" != 'sqlite_sequence'`);await Promise.all(t.map(s=>this.query(s.query))),await Promise.all(i.map(s=>this.query(s.query)))}finally{await this.query("PRAGMA foreign_keys = ON")}}parametrize(e,t=0){return Object.keys(e).map((r,i)=>`"${r}"=?`)}},dR=class extends Kd{constructor(e){if(super(e),this.database=this.options.database,!this.options.database)throw new dc("database");if(!this.options.location)throw new dc("location");this.loadDependencies()}async disconnect(){return this.queryRunner=void 0,new Promise((e,t)=>{this.databaseConnection.close(e,t)})}createQueryRunner(e){return this.queryRunner||(this.queryRunner=new lR(this)),this.queryRunner}async createDatabaseConnection(){let e=Object.assign({},{name:this.options.database,location:this.options.location},this.options.extra||{}),t=await new Promise(r=>{this.sqlite.openDatabase(e,i=>r(i))});return await new Promise((r,i)=>{t.executeSql("PRAGMA foreign_keys = ON",[],()=>r(),s=>i(s))}),t}loadDependencies(){try{let e=this.options.driver||globalThis.sqlitePlugin;this.sqlite=e}catch{throw new Wd("Cordova-SQLite","cordova-sqlite-storage")}}},fR=class extends Yd{constructor(e){super(),this.driver=e,this.connection=e.connection,this.broadcaster=new Jd(this)}async beforeMigration(){await this.query("PRAGMA foreign_keys = OFF")}async afterMigration(){await this.query("PRAGMA foreign_keys = ON")}query(e,t,r=!1){if(this.isReleased)throw new Gd;return new Promise(async(i,s)=>{let o=await this.connect();this.driver.connection.logger.logQuery(e,t,this);let a=+new Date;o.executeSql(e,t,c=>{let u=this.driver.options.maxQueryExecutionTime,f=+new Date-a;u&&f>u&&this.driver.connection.logger.logQuerySlow(f,e,t,this);let p=new Zd;if(e.substr(0,11)==="INSERT INTO"&&(p.raw=c.insertId),c?.hasOwnProperty("rowsAffected")&&(p.affected=c.rowsAffected),c?.hasOwnProperty("rows")){let g=[];for(let v=0;v<c.rows.length;v++)g.push(c.rows.item(v));p.raw=g,p.records=g}i(r?p:p.raw)},c=>{this.driver.connection.logger.logQueryError(c,e,t,this),s(new zd(e,t,c))})})}parametrize(e,t=0){return Object.keys(e).map((r,i)=>`"${r}"=?`)}},hR=class extends Kd{constructor(e){if(super(e),this.database=this.options.database,!this.options.database)throw new dc("database");if(!this.options.location)throw new dc("location");this.loadDependencies()}async disconnect(){return new Promise((e,t)=>{this.queryRunner=void 0,this.databaseConnection.close(e,t)})}createQueryRunner(e){return this.queryRunner||(this.queryRunner=new fR(this)),this.queryRunner}createDatabaseConnection(){return new Promise((e,t)=>{let r=Object.assign({},{name:this.options.database,location:this.options.location},this.options.extra||{});this.sqlite.openDatabase(r,i=>{let s=i;s.executeSql("PRAGMA foreign_keys = ON",[],o=>{e(s)},o=>{t(o)})},i=>{t(i)})})}loadDependencies(){try{let e=this.options.driver||vae();this.sqlite=e}catch{throw new Wd("React-Native","react-native-sqlite-storage")}}},pR=class extends Yd{constructor(e){super(),this.driver=e,this.connection=e.connection,this.broadcaster=new Jd(this)}async beforeMigration(){await this.query("PRAGMA foreign_keys = OFF")}async afterMigration(){await this.query("PRAGMA foreign_keys = ON")}async query(e,t,r=!1){if(this.isReleased)throw new Gd;let i=this.driver.connection;return new Promise(async(s,o)=>{let a=await this.connect(),c=e.substr(0,11)==="INSERT INTO";i.logger.logQuery(e,t,this);let u=(f,p)=>{let g=this.driver.options.maxQueryExecutionTime,E=+new Date-l;g&&E>g&&i.logger.logQuerySlow(E,e,t,this),f&&(i.logger.logQueryError(f,e,t,this),o(new zd(e,t,f)));let D=new Zd;D.raw=p,!c&&Array.isArray(p)&&(D.records=p),s(r?D:D.raw)},l=+new Date;c?a.execSQL(e,t,u):a.all(e,t,u)})}parametrize(e,t=0){return Object.keys(e).map((r,i)=>`"${r}"=?`)}},mR=class extends Kd{constructor(e){if(super(e),this.connection=e,this.options=e.options,this.database=this.options.database,this.driver=this.options.driver,!this.options.database)throw new dc("database");this.loadDependencies()}async disconnect(){return new Promise((e,t)=>{this.queryRunner=void 0,this.databaseConnection.close().then(e).catch(t)})}createQueryRunner(e){return this.queryRunner||(this.queryRunner=new pR(this)),this.queryRunner}normalizeType(e){return e.type===Buffer?"blob":super.normalizeType(e)}createDatabaseConnection(){return new Promise((e,t)=>{let r=Object.assign({},{readOnly:this.options.readOnly,key:this.options.key,multithreading:this.options.multithreading,migrate:this.options.migrate,iosFlags:this.options.iosFlags,androidFlags:this.options.androidFlags},this.options.extra||{});new this.sqlite(this.options.database,r,(i,s)=>{if(i)return t(i);s.resultType(this.sqlite.RESULTSASOBJECT),s.execSQL("PRAGMA foreign_keys = ON",[],(o,a)=>{if(o)return t(o);e(s)})})})}loadDependencies(){if(this.sqlite=this.driver,!this.driver)throw new Wd("Nativescript","nativescript-sqlite")}},gR=class extends Yd{constructor(e){super(),this.isDirty=!1,this.driver=e,this.connection=e.connection,this.broadcaster=new Jd(this)}async beforeMigration(){await this.query("PRAGMA foreign_keys = OFF")}async afterMigration(){await this.query("PRAGMA foreign_keys = ON")}async flush(){this.isDirty&&(await this.driver.autoSave(),this.isDirty=!1)}async release(){return await this.flush(),super.release()}async commitTransaction(){await super.commitTransaction(),this.isTransactionActive||await this.flush()}async query(e,t=[],r=!1){if(this.isReleased)throw new Gd;let i=e.trim().split(" ",1)[0],s=this.driver.databaseConnection;this.driver.connection.logger.logQuery(e,t,this);let o=+new Date,a;try{a=s.prepare(e),t&&(t=t.map(g=>typeof g<"u"?g:null),a.bind(t));let c=this.driver.options.maxQueryExecutionTime,l=+new Date-o;c&&l>c&&this.driver.connection.logger.logQuerySlow(l,e,t,this);let f=[];for(;a.step();)f.push(a.getAsObject());let p=new Zd;return p.affected=s.getRowsModified(),p.records=f,p.raw=f,a.free(),i!=="SELECT"&&(this.isDirty=!0),r?p:p.raw}catch(c){throw a&&a.free(),this.driver.connection.logger.logQueryError(c,e,t,this),new zd(e,t,c)}}},Oqt=globalThis.ENV,xet=500,yR=class extends Kd{constructor(e){super(e),this.databaseArrayFast={},this.debounceSave=k.debounce(async r=>{await this.localForgeInstance.setItem(r,this.databaseArrayFast[r])},xet);let t=globalThis.localforage;if(this.localForgeInstance=t?.createInstance({driver:t.INDEXEDDB,storeName:"taon-typeorm_"+k.kebabCase(globalThis.CURRENT_PROJECT_GENERIC_NAME)}),this.options.autoSave&&!this.options.location&&!this.options.autoSaveCallback)throw new dc("location or autoSaveCallback");this.loadDependencies()}async connect(){this.databaseConnection=await this.createDatabaseConnection()}async disconnect(){this.queryRunner=void 0,this.databaseConnection.close()}createQueryRunner(e){return this.queryRunner||(this.queryRunner=new gR(this)),this.queryRunner}async load(e,t=!0){if(typeof e=="string")if(on.type==="node")if(on.fileExist(e)){let r=on.readFileSync(e);return this.createDatabaseConnectionWithImport(r)}else{if(t)throw new Q(`File ${e} does not exist`);return this.createDatabaseConnectionWithImport()}else{let r=null;if(this.options.useLocalForage)if(this.localForgeInstance){if(k.isUndefined(this.databaseArrayFast[e])){let i=await this.localForgeInstance.getItem(e);this.databaseArrayFast[e]=i}r=this.databaseArrayFast[e]}else throw new Q("localforage is not defined - please import localforage.js into your site");else r=on.getGlobalVariable().localStorage.getItem(e);if(r!=null)return this.createDatabaseConnectionWithImport(this.localForgeInstance?r:JSON.parse(r));if(t)throw new Q(`File ${e} does not exist`);return this.createDatabaseConnectionWithImport()}else return this.createDatabaseConnectionWithImport(e)}async save(e){if(!e&&!this.options.location)throw new Q("No location is set, specify a location parameter or add the location option to your configuration");let t="";if(e?t=e:this.options.location&&(t=this.options.location),on.type!=="node"){let r=this.databaseConnection.export(),i=[].slice.call(r);if(this.options.useLocalForage)if(this.localForgeInstance)this.databaseArrayFast[t]=i,this.debounceSave(t);else throw new Q("localforage is not defined - please import localforage.js into your site");else on.getGlobalVariable().localStorage.setItem(t,JSON.stringify(i))}}async autoSave(){this.options.autoSave&&!this.queryRunner?.isTransactionActive&&(this.options.autoSaveCallback?await this.options.autoSaveCallback(this.export()):await this.save())}export(){return this.databaseConnection.export()}createGeneratedMap(e,t){let r=e.generatedColumns.reduce((i,s)=>{if(s.isPrimary&&s.generationStrategy==="increment"){let o="SELECT last_insert_rowid()";try{let a=this.databaseConnection.exec(o);return this.connection.logger.logQuery(o),yt.mergeDeep(i,s.createValueMap(a[0].values[0][0]))}catch(a){this.connection.logger.logQueryError(a,o,[])}}return i},{});return Object.keys(r).length>0?r:void 0}createDatabaseConnection(){return this.options.location?this.load(this.options.location,!1):this.createDatabaseConnectionWithImport(this.options.database)}async createDatabaseConnectionWithImport(e){let r=typeof this.sqlite.Database=="function"?this.sqlite:await this.sqlite(this.options.sqlJsConfig);return e&&e.length>0?this.databaseConnection=new r.Database(e):this.databaseConnection=new r.Database,this.databaseConnection.exec("PRAGMA foreign_keys = ON"),this.databaseConnection}loadDependencies(){if(on.type==="browser"){let e=this.options.driver||globalThis.SQL;this.sqlite=e}else try{let e=this.options.driver||on.load("sql.js");this.sqlite=e}catch{throw new Wd("sql.js","sql.js")}}},bR=class{create(e){let{type:t}=e.options;switch(t){case"cordova":return new dR(e);case"nativescript":return new mR(e);case"react-native":return new hR(e);case"sqljs":return new yR(e);default:throw new NM(t,["cordova","nativescript","react-native","sqljs"])}}};async function vM(n,e,t=[".js",".mjs",".cjs",".ts",".mts",".cts"]){return[]}var Tet=new class{constructor(){this.instances=[]}get(n){let e=this.instances.find(t=>t.type===n);return e||(e={type:n,object:new n},this.instances.push(e)),e.object}},wae,$_;function Cae(n){if(wae)try{let e=wae.get(n);if(e||!$_||!$_.fallback)return e}catch(e){if(!$_||!$_.fallbackOnErrors)throw e}return Tet.get(n)}var Ei=class{constructor(e){this["@instanceof"]=Symbol.for("ColumnMetadata"),this.length="",this.isPrimary=!1,this.isGenerated=!1,this.isNullable=!1,this.isSelect=!0,this.isInsert=!0,this.isUpdate=!0,this.zerofill=!1,this.unsigned=!1,this.isArray=!1,this.isVirtual=!1,this.isVirtualProperty=!1,this.isDiscriminator=!1,this.isTreeLevel=!1,this.isCreateDate=!1,this.isUpdateDate=!1,this.isDeleteDate=!1,this.isVersion=!1,this.isObjectId=!1,this.isNestedSetLeft=!1,this.isNestedSetRight=!1,this.isMaterializedPath=!1,this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata,this.referencedColumn=e.referencedColumn,e.args.target&&(this.target=e.args.target),e.args.propertyName&&(this.propertyName=e.args.propertyName),e.args.options.name&&(this.givenDatabaseName=e.args.options.name),e.args.options.type&&(this.type=e.args.options.type),e.args.options.length&&(this.length=e.args.options.length?e.args.options.length.toString():""),e.args.options.width&&(this.width=e.args.options.width),e.args.options.charset&&(this.charset=e.args.options.charset),e.args.options.collation&&(this.collation=e.args.options.collation),e.args.options.primary&&(this.isPrimary=e.args.options.primary),e.args.options.default===null&&(this.isNullable=!0),e.args.options.nullable!==void 0&&(this.isNullable=e.args.options.nullable),e.args.options.select!==void 0&&(this.isSelect=e.args.options.select),e.args.options.insert!==void 0&&(this.isInsert=e.args.options.insert),e.args.options.update!==void 0&&(this.isUpdate=e.args.options.update),e.args.options.readonly!==void 0&&(this.isUpdate=!e.args.options.readonly),e.args.options.comment&&(this.comment=e.args.options.comment),e.args.options.default!==void 0&&(this.default=e.args.options.default),e.args.options.onUpdate&&(this.onUpdate=e.args.options.onUpdate),e.args.options.generatedIdentity&&(this.generatedIdentity=e.args.options.generatedIdentity),e.args.options.scale!==null&&e.args.options.scale!==void 0&&(this.scale=e.args.options.scale),e.args.options.zerofill&&(this.zerofill=e.args.options.zerofill,this.unsigned=!0),e.args.options.unsigned&&(this.unsigned=e.args.options.unsigned),e.args.options.precision!==null&&(this.precision=e.args.options.precision),e.args.options.enum&&(Ye.isObject(e.args.options.enum)&&!Array.isArray(e.args.options.enum)?this.enum=Object.keys(e.args.options.enum).filter(t=>isNaN(+t)&&typeof e.args.options.enum[t]!="function").map(t=>e.args.options.enum[t]):this.enum=e.args.options.enum),e.args.options.enumName&&(this.enumName=e.args.options.enumName),e.args.options.primaryKeyConstraintName&&(this.primaryKeyConstraintName=e.args.options.primaryKeyConstraintName),e.args.options.foreignKeyConstraintName&&(this.foreignKeyConstraintName=e.args.options.foreignKeyConstraintName),e.args.options.asExpression&&(this.asExpression=e.args.options.asExpression,this.generatedType=e.args.options.generatedType?e.args.options.generatedType:"VIRTUAL"),e.args.options.hstoreType&&(this.hstoreType=e.args.options.hstoreType),e.args.options.array&&(this.isArray=e.args.options.array),e.args.mode&&(this.isVirtualProperty=e.args.mode==="virtual-property",this.isVirtual=e.args.mode==="virtual",this.isTreeLevel=e.args.mode==="treeLevel",this.isCreateDate=e.args.mode==="createDate",this.isUpdateDate=e.args.mode==="updateDate",this.isDeleteDate=e.args.mode==="deleteDate",this.isVersion=e.args.mode==="version",this.isObjectId=e.args.mode==="objectId"),this.isVirtualProperty&&(this.isInsert=!1,this.isUpdate=!1),e.args.options.transformer&&(this.transformer=e.args.options.transformer),e.args.options.spatialFeatureType&&(this.spatialFeatureType=e.args.options.spatialFeatureType),e.args.options.srid!==void 0&&(this.srid=e.args.options.srid),e.args.options.query&&(this.query=e.args.options.query),this.isTreeLevel&&(this.type=e.connection.driver.mappedDataTypes.treeLevel),this.isCreateDate&&(this.type||(this.type=e.connection.driver.mappedDataTypes.createDate),this.default||(this.default=()=>e.connection.driver.mappedDataTypes.createDateDefault),this.precision===void 0&&e.args.options.precision===void 0&&e.connection.driver.mappedDataTypes.createDatePrecision&&(this.precision=e.connection.driver.mappedDataTypes.createDatePrecision)),this.isUpdateDate&&(this.type||(this.type=e.connection.driver.mappedDataTypes.updateDate),this.default||(this.default=()=>e.connection.driver.mappedDataTypes.updateDateDefault),this.onUpdate||(this.onUpdate=e.connection.driver.mappedDataTypes.updateDateDefault),this.precision===void 0&&e.args.options.precision===void 0&&e.connection.driver.mappedDataTypes.updateDatePrecision&&(this.precision=e.connection.driver.mappedDataTypes.updateDatePrecision)),this.isDeleteDate&&(this.type||(this.type=e.connection.driver.mappedDataTypes.deleteDate),this.isNullable||(this.isNullable=e.connection.driver.mappedDataTypes.deleteDateNullable),this.precision===void 0&&e.args.options.precision===void 0&&e.connection.driver.mappedDataTypes.deleteDatePrecision&&(this.precision=e.connection.driver.mappedDataTypes.deleteDatePrecision)),this.isVersion&&(this.type=e.connection.driver.mappedDataTypes.version),e.closureType&&(this.closureType=e.closureType),e.nestedSetLeft&&(this.isNestedSetLeft=e.nestedSetLeft),e.nestedSetRight&&(this.isNestedSetRight=e.nestedSetRight),e.materializedPath&&(this.isMaterializedPath=e.materializedPath)}createValueMap(e,t=!1){if(this.embeddedMetadata){let r=[...this.embeddedMetadata.parentPropertyNames],i=(s,o)=>{let a=s.shift();return a?(o[a]={},i(s,o[a]),o):((this.generationStrategy==="increment"||this.generationStrategy==="rowid")&&this.type==="bigint"&&e!==null&&(e=String(e)),o[t?this.databaseName:this.propertyName]=e,o)};return i(r,{})}else return(this.generationStrategy==="increment"||this.generationStrategy==="rowid")&&this.type==="bigint"&&e!==null&&(e=String(e)),{[t?this.databaseName:this.propertyName]:e}}getEntityValueMap(e,t){if(this.embeddedMetadata){let i=[...this.embeddedMetadata.parentPropertyNames],s=this.embeddedMetadata.isArray,o=(c,u)=>{if(u===void 0)return{};let l=c.shift();if(l){let f=o(c,u[l]);return Object.keys(f).length>0?{[l]:f}:{}}return s&&Array.isArray(u)?u.map(f=>({[this.propertyName]:f[this.propertyName]})):u[this.propertyName]!==void 0?{[this.propertyName]:u[this.propertyName]}:{}},a=o(i,e);return Object.keys(a).length>0?a:void 0}else if(this.relationMetadata&&!Object.getOwnPropertyDescriptor(e,this.relationMetadata.propertyName)?.get&&e[this.relationMetadata.propertyName]&&Ye.isObject(e[this.relationMetadata.propertyName])){let i=this.relationMetadata.joinColumns.reduce((s,o)=>{let a=o.referencedColumn.getEntityValueMap(e[this.relationMetadata.propertyName]);return a===void 0?s:yt.mergeDeep(s,a)},{});return Object.keys(i).length>0?{[this.propertyName]:i}:void 0}else return e[this.propertyName]!==void 0?{[this.propertyName]:e[this.propertyName]}:void 0}getEntityValue(e,t=!1){if(e==null)return;let r;if(this.embeddedMetadata){let i=[...this.embeddedMetadata.parentPropertyNames],s=this.embeddedMetadata.isArray,o=(c,u)=>{let l=c.shift();return l&&u?o(c,u[l]):u},a=o(i,e);if(a)if(this.relationMetadata&&this.referencedColumn){let c=this.relationMetadata.getEntityValue(a);c&&Ye.isObject(c)&&!_e.isFindOperator(c)?r=this.referencedColumn.getEntityValue(c):a[this.propertyName]&&Ye.isObject(a[this.propertyName])&&!_e.isFindOperator(a[this.propertyName])&&!(a[this.propertyName]instanceof Date)?r=this.referencedColumn.getEntityValue(a[this.propertyName]):r=a[this.propertyName]}else this.referencedColumn?r=this.referencedColumn.getEntityValue(a[this.propertyName]):s&&Array.isArray(a)?r=a.map(c=>c[this.propertyName]):r=a[this.propertyName]}else if(this.relationMetadata&&this.referencedColumn){let i=this.relationMetadata.getEntityValue(e);i&&Ye.isObject(i)&&!_e.isFindOperator(i)&&typeof i!="function"?r=this.referencedColumn.getEntityValue(i):e[this.propertyName]&&Ye.isObject(e[this.propertyName])&&!_e.isFindOperator(e[this.propertyName])&&typeof e[this.propertyName]!="function"&&!(e[this.propertyName]instanceof Date)?r=this.referencedColumn.getEntityValue(e[this.propertyName]):r=e[this.propertyName]}else this.referencedColumn?r=this.referencedColumn.getEntityValue(e[this.propertyName]):r=e[this.propertyName];return t&&this.transformer&&(r=lc.transformTo(this.transformer,r)),r}setEntityValue(e,t){if(this.embeddedMetadata){let r=(i,s)=>{let o=i.shift();return o?(s[o.propertyName]||(s[o.propertyName]=o.create()),r(i,s[o.propertyName]),s):(s[this.propertyName]=t,s)};return r([...this.embeddedMetadata.embeddedMetadataTree],e)}else!this.entityMetadata.isJunction&&this.isVirtual&&this.referencedColumn&&this.referencedColumn.propertyName!==this.propertyName?(this.propertyName in e||(e[this.propertyName]={}),e[this.propertyName][this.referencedColumn.propertyName]=t):e[this.propertyName]=t}compareEntityValue(e,t){let r=this.getEntityValue(e);return Ye.isObject(r)?r.equals(t):r===t}build(e){return this.propertyPath=this.buildPropertyPath(),this.propertyAliasName=this.propertyPath.replace(".","_"),this.databaseName=this.buildDatabaseName(e),this.databasePath=this.buildDatabasePath(),this.databaseNameWithoutPrefixes=e.namingStrategy.columnName(this.propertyName,this.givenDatabaseName,[]),this}buildPropertyPath(){let e="";return this.embeddedMetadata&&this.embeddedMetadata.parentPropertyNames.length&&(e=this.embeddedMetadata.parentPropertyNames.join(".")+"."),e+=this.propertyName,!this.entityMetadata.isJunction&&this.isVirtual&&this.referencedColumn&&this.referencedColumn.propertyName!==this.propertyName&&(e+="."+this.referencedColumn.propertyName),e}buildDatabasePath(){let e="";return this.embeddedMetadata&&this.embeddedMetadata.parentPropertyNames.length&&(e=this.embeddedMetadata.parentPropertyNames.join(".")+"."),e+=this.databaseName,!this.entityMetadata.isJunction&&this.isVirtual&&this.referencedColumn&&this.referencedColumn.databaseName!==this.databaseName&&(e+="."+this.referencedColumn.databaseName),e}buildDatabaseName(e){let t=this.embeddedMetadata?this.embeddedMetadata.parentPrefixes:[];return e.driver.options.type==="mongodb"&&(t=[]),e.namingStrategy.columnName(this.propertyName,this.givenDatabaseName,t)}},Wi=class{constructor(e){this.isUnique=!1,this.isSpatial=!1,this.isFulltext=!1,this.isNullFiltered=!1,this.synchronize=!0,this.columns=[],this.columnNamesWithOrderingMap={},this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata,e.columns&&(this.columns=e.columns),e.args&&(this.target=e.args.target,e.args.synchronize!==null&&e.args.synchronize!==void 0&&(this.synchronize=e.args.synchronize),this.isUnique=!!e.args.unique,this.isSpatial=!!e.args.spatial,this.isFulltext=!!e.args.fulltext,this.isNullFiltered=!!e.args.nullFiltered,this.parser=e.args.parser,this.where=e.args.where,this.isSparse=e.args.sparse,this.isBackground=e.args.background,this.expireAfterSeconds=e.args.expireAfterSeconds,this.givenName=e.args.name,this.givenColumnNames=e.args.columns)}build(e){if(this.synchronize===!1)return this.name=this.givenName,this;let t={};if(this.givenColumnNames){let r=[];if(Array.isArray(this.givenColumnNames))r=this.givenColumnNames.map(i=>this.embeddedMetadata?this.embeddedMetadata.propertyPath+"."+i:i.trim()),r.forEach(i=>t[i]=1);else{let i=this.givenColumnNames(this.entityMetadata.propertiesMap);Array.isArray(i)?(r=i.map(s=>String(s)),r.forEach(s=>t[s]=1)):(r=Object.keys(i).map(s=>String(s)),Object.keys(i).forEach(s=>t[s]=i[s]))}this.columns=r.map(i=>{let s=this.entityMetadata.columns.find(u=>u.propertyPath===i);if(s)return[s];let o=this.entityMetadata.relations.find(u=>u.isWithJoinColumn&&u.propertyName===i);if(o)return o.joinColumns;let a=this.givenName?'"'+this.givenName+'" ':"",c=this.entityMetadata.targetName;throw new Q(`Index ${a}contains column that is missing in the entity (${c}): `+i)}).reduce((i,s)=>i.concat(s))}return this.columnNamesWithOrderingMap=Object.keys(t).reduce((r,i)=>{let s=this.entityMetadata.columns.find(o=>o.propertyPath===i);return s&&(r[s.databasePath]=t[i]),r},{}),this.name=this.givenName?this.givenName:e.indexName(this.entityMetadata.tableName,this.columns.map(r=>r.databaseName),this.where),this}},iE=class{constructor(e){this.isTreeParent=!1,this.isTreeChildren=!1,this.isPrimary=!1,this.isLazy=!1,this.isEager=!1,this.persistenceEnabled=!0,this.isCascadeInsert=!1,this.isCascadeUpdate=!1,this.isCascadeRemove=!1,this.isCascadeSoftRemove=!1,this.isCascadeRecover=!1,this.isNullable=!0,this.createForeignKeyConstraints=!0,this.isOwning=!1,this.isOneToOne=!1,this.isOneToOneOwner=!1,this.isWithJoinColumn=!1,this.isOneToOneNotOwner=!1,this.isOneToMany=!1,this.isManyToOne=!1,this.isManyToMany=!1,this.isManyToManyOwner=!1,this.isManyToManyNotOwner=!1,this.foreignKeys=[],this.joinColumns=[],this.inverseJoinColumns=[],this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata;let t=e.args;this.target=t.target,this.propertyName=t.propertyName,this.relationType=t.relationType,t.inverseSideProperty&&(this.givenInverseSidePropertyFactory=t.inverseSideProperty),this.isLazy=t.isLazy||!1,this.isCascadeInsert=t.options.cascade===!0||Array.isArray(t.options.cascade)&&t.options.cascade.indexOf("insert")!==-1,this.isCascadeUpdate=t.options.cascade===!0||Array.isArray(t.options.cascade)&&t.options.cascade.indexOf("update")!==-1,this.isCascadeRemove=t.options.cascade===!0||Array.isArray(t.options.cascade)&&t.options.cascade.indexOf("remove")!==-1,this.isCascadeSoftRemove=t.options.cascade===!0||Array.isArray(t.options.cascade)&&t.options.cascade.indexOf("soft-remove")!==-1,this.isCascadeRecover=t.options.cascade===!0||Array.isArray(t.options.cascade)&&t.options.cascade.indexOf("recover")!==-1,this.isNullable=!(t.options.nullable===!1||this.isPrimary),this.onDelete=t.options.onDelete,this.onUpdate=t.options.onUpdate,this.deferrable=t.options.deferrable,this.createForeignKeyConstraints=t.options.createForeignKeyConstraints!==!1,this.isEager=t.options.eager||!1,this.persistenceEnabled=t.options.persistence!==!1,this.orphanedRowAction=t.options.orphanedRowAction||"nullify",this.isTreeParent=t.isTreeParent||!1,this.isTreeChildren=t.isTreeChildren||!1,typeof t.type=="function"?this.type=typeof t.type=="function"?t.type():t.type:_e.isEntitySchema(t.type)?this.type=t.type.options.name:Ye.isObject(t.type)&&typeof t.type.name=="string"?this.type=t.type.name:this.type=t.type,this.isOneToOne=this.relationType==="one-to-one",this.isOneToMany=this.relationType==="one-to-many",this.isManyToOne=this.relationType==="many-to-one",this.isManyToMany=this.relationType==="many-to-many",this.isOneToOneNotOwner=!!this.isOneToOne,this.isManyToManyNotOwner=!!this.isManyToMany}getRelationIdMap(e){let r=(this.isOwning?this.joinColumns:this.inverseRelation.joinColumns).map(i=>i.referencedColumn);return ju.getValueMap(e,r)}ensureRelationIdMap(e){if(Ye.isObject(e))return e;let r=(this.isOwning?this.joinColumns:this.inverseRelation.joinColumns).map(i=>i.referencedColumn);if(r.length>1)throw new Q("Cannot create relation id map for a single value because relation contains multiple referenced columns.");return r[0].createValueMap(e)}getEntityValue(e,t=!1){if(e!=null)if(this.embeddedMetadata){let r=[...this.embeddedMetadata.parentPropertyNames],i=(o,a)=>{let c=o.shift();return c?a[c]?i(o,a[c]):void 0:a},s=i(r,e);return this.isLazy?s["__"+this.propertyName+"__"]!==void 0?s["__"+this.propertyName+"__"]:t===!0?s[this.propertyName]:void 0:s?s[this.isLazy?"__"+this.propertyName+"__":this.propertyName]:void 0}else return this.isLazy?e["__"+this.propertyName+"__"]!==void 0?e["__"+this.propertyName+"__"]:t===!0?e[this.propertyName]:void 0:e[this.propertyName]}setEntityValue(e,t){let r=this.isLazy?"__"+this.propertyName+"__":this.propertyName;if(this.embeddedMetadata){let i=(s,o)=>{let a=s.shift();return a?(o[a.propertyName]||(o[a.propertyName]=a.create()),i(s,o[a.propertyName]),o):(o[r]=t,o)};return i([...this.embeddedMetadata.embeddedMetadataTree],e)}else e[r]=t}createValueMap(e){if(this.embeddedMetadata){let t=[...this.embeddedMetadata.parentPropertyNames],r=(i,s)=>{let o=i.shift();return o?(s[o]={},r(i,s[o]),s):(s[this.propertyName]=e,s)};return r(t,{})}else return{[this.propertyName]:e}}build(){this.propertyPath=this.buildPropertyPath()}registerForeignKeys(...e){this.foreignKeys.push(...e)}registerJoinColumns(e=[],t=[]){this.joinColumns=e,this.inverseJoinColumns=t,this.isOwning=this.isManyToOne||(this.isManyToMany||this.isOneToOne)&&this.joinColumns.length>0,this.isOneToOneOwner=this.isOneToOne&&this.isOwning,this.isOneToOneNotOwner=this.isOneToOne&&!this.isOwning,this.isManyToManyOwner=this.isManyToMany&&this.isOwning,this.isManyToManyNotOwner=this.isManyToMany&&!this.isOwning,this.isWithJoinColumn=this.isManyToOne||this.isOneToOneOwner}registerJunctionEntityMetadata(e){this.junctionEntityMetadata=e,this.joinTableName=e.tableName,this.inverseRelation&&(this.inverseRelation.junctionEntityMetadata=e,this.joinTableName=e.tableName)}buildInverseSidePropertyPath(){if(this.givenInverseSidePropertyFactory){let e=this.inverseEntityMetadata.propertiesMap;if(typeof this.givenInverseSidePropertyFactory=="function")return this.givenInverseSidePropertyFactory(e);if(typeof this.givenInverseSidePropertyFactory=="string")return this.givenInverseSidePropertyFactory}else{if(this.isTreeParent&&this.entityMetadata.treeChildrenRelation)return this.entityMetadata.treeChildrenRelation.propertyName;if(this.isTreeChildren&&this.entityMetadata.treeParentRelation)return this.entityMetadata.treeParentRelation.propertyName}return""}buildPropertyPath(){return!this.embeddedMetadata||!this.embeddedMetadata.parentPropertyNames.length?this.propertyName:this.embeddedMetadata.parentPropertyNames.join(".")+"."+this.propertyName}},vR=class{constructor(e){this.columns=[],this.relations=[],this.listeners=[],this.indices=[],this.uniques=[],this.relationIds=[],this.relationCounts=[],this.embeddeds=[],this.isAlwaysUsingConstructor=!0,this.isArray=!1,this.parentPropertyNames=[],this.parentPrefixes=[],this.embeddedMetadataTree=[],this.columnsFromTree=[],this.relationsFromTree=[],this.listenersFromTree=[],this.indicesFromTree=[],this.uniquesFromTree=[],this.relationIdsFromTree=[],this.relationCountsFromTree=[],this.entityMetadata=e.entityMetadata,this.type=e.args.type(),this.propertyName=e.args.propertyName,this.customPrefix=e.args.prefix,this.isArray=e.args.isArray}create(e){return typeof this.type!="function"?{}:!e?.fromDeserializer||this.isAlwaysUsingConstructor?new this.type:Object.create(this.type.prototype)}build(e){return this.embeddeds.forEach(t=>t.build(e)),this.prefix=this.buildPrefix(e),this.parentPropertyNames=this.buildParentPropertyNames(),this.parentPrefixes=this.buildParentPrefixes(),this.propertyPath=this.parentPropertyNames.join("."),this.embeddedMetadataTree=this.buildEmbeddedMetadataTree(),this.columnsFromTree=this.buildColumnsFromTree(),this.relationsFromTree=this.buildRelationsFromTree(),this.listenersFromTree=this.buildListenersFromTree(),this.indicesFromTree=this.buildIndicesFromTree(),this.uniquesFromTree=this.buildUniquesFromTree(),this.relationIdsFromTree=this.buildRelationIdsFromTree(),this.relationCountsFromTree=this.buildRelationCountsFromTree(),e.options.entitySkipConstructor&&(this.isAlwaysUsingConstructor=!e.options.entitySkipConstructor),this}buildPartialPrefix(){if(this.customPrefix===void 0||this.customPrefix===!0)return[this.propertyName];if(this.customPrefix===""||this.customPrefix===!1)return[];if(typeof this.customPrefix=="string")return[this.customPrefix];throw new Q(`Invalid prefix option given for ${this.entityMetadata.targetName}#${this.propertyName}`)}buildPrefix(e){if(e.driver.options.type==="mongodb")return this.propertyName;let t=[];return this.parentEmbeddedMetadata&&t.push(this.parentEmbeddedMetadata.buildPrefix(e)),t.push(...this.buildPartialPrefix()),t.join("_")}buildParentPropertyNames(){return this.parentEmbeddedMetadata?this.parentEmbeddedMetadata.buildParentPropertyNames().concat(this.propertyName):[this.propertyName]}buildParentPrefixes(){return this.parentEmbeddedMetadata?this.parentEmbeddedMetadata.buildParentPrefixes().concat(this.buildPartialPrefix()):this.buildPartialPrefix()}buildEmbeddedMetadataTree(){return this.parentEmbeddedMetadata?this.parentEmbeddedMetadata.buildEmbeddedMetadataTree().concat(this):[this]}buildColumnsFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildColumnsFromTree()),this.columns)}buildRelationsFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildRelationsFromTree()),this.relations)}buildListenersFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildListenersFromTree()),this.listeners)}buildIndicesFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildIndicesFromTree()),this.indices)}buildUniquesFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildUniquesFromTree()),this.uniques)}buildRelationIdsFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildRelationIdsFromTree()),this.relationIds)}buildRelationCountsFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildRelationCountsFromTree()),this.relationCounts)}},sE=class{constructor(e){this.entityMetadata=e.entityMetadata,this.target=e.args.target,this.propertyName=e.args.propertyName,this.relationNameOrFactory=e.args.relation,this.alias=e.args.alias,this.queryBuilderFactory=e.args.queryBuilderFactory}setValue(e){let t=this.relation.getEntityValue(e);if(Array.isArray(t))e[this.propertyName]=t.map(r=>this.relation.inverseEntityMetadata.getEntityIdMixedMap(r)).filter(r=>r!=null);else{let r=this.relation.inverseEntityMetadata.getEntityIdMixedMap(t);r!==void 0&&(e[this.propertyName]=r)}}build(){let e=typeof this.relationNameOrFactory=="function"?this.relationNameOrFactory(this.entityMetadata.propertiesMap):this.relationNameOrFactory,t=this.entityMetadata.findRelationWithPropertyPath(e);if(!t)throw new Q(`Cannot find relation ${e}. Wrong relation specified for @RelationId decorator.`);this.relation=t}},oE=class{constructor(e){this.entityMetadata=e.entityMetadata,this.target=e.args.target,this.propertyName=e.args.propertyName,this.relationNameOrFactory=e.args.relation,this.alias=e.args.alias,this.queryBuilderFactory=e.args.queryBuilderFactory}build(){let e=typeof this.relationNameOrFactory=="function"?this.relationNameOrFactory(this.entityMetadata.propertiesMap):this.relationNameOrFactory,t=this.entityMetadata.findRelationWithPropertyPath(e);if(!t)throw new Q(`Cannot find relation ${e}. Wrong relation specified for @RelationCount decorator.`);this.relation=t}},Bs=(()=>{class n{static{this.AFTER_LOAD="after-load"}static{this.BEFORE_INSERT="before-insert"}static{this.AFTER_INSERT="after-insert"}static{this.BEFORE_UPDATE="before-update"}static{this.AFTER_UPDATE="after-update"}static{this.BEFORE_REMOVE="before-remove"}static{this.AFTER_REMOVE="after-remove"}static{this.BEFORE_SOFT_REMOVE="before-soft-remove"}static{this.AFTER_SOFT_REMOVE="after-soft-remove"}static{this.BEFORE_RECOVER="before-recover"}static{this.AFTER_RECOVER="after-recover"}}return n})(),$u=class{constructor(e){this.columns=[],this.referencedColumns=[],this.columnNames=[],this.referencedColumnNames=[],this.entityMetadata=e.entityMetadata,this.referencedEntityMetadata=e.referencedEntityMetadata,this.columns=e.columns,this.referencedColumns=e.referencedColumns,this.onDelete=e.onDelete||"NO ACTION",this.onUpdate=e.onUpdate||"NO ACTION",this.deferrable=e.deferrable,this.givenName=e.name,e.namingStrategy&&this.build(e.namingStrategy)}build(e){this.columnNames=this.columns.map(t=>t.databaseName),this.referencedColumnNames=this.referencedColumns.map(t=>t.databaseName),this.referencedTablePath=this.referencedEntityMetadata.tablePath,this.name=this.givenName?this.givenName:e.foreignKeyName(this.entityMetadata.tableName,this.columnNames,this.referencedEntityMetadata.tableName,this.referencedColumnNames)}},_R=class{constructor(e){this.connection=e}build(e,t){let r=this.collectReferencedColumns(e,t),i=this.collectInverseReferencedColumns(e,t),s=t.name||this.connection.namingStrategy.joinTableName(e.entityMetadata.tableNameWithoutPrefix,e.inverseEntityMetadata.tableNameWithoutPrefix,e.propertyPath,e.inverseRelation?e.inverseRelation.propertyName:""),o=new ju({connection:this.connection,args:{target:"",name:s,type:"junction",database:t.database||e.entityMetadata.database,schema:t.schema||e.entityMetadata.schema}});o.build();let a=r.map(u=>{let l=t.joinColumns?t.joinColumns.find(p=>(!p.referencedColumnName||p.referencedColumnName===u.propertyName)&&!!p.name):void 0,f=l&&l.name?l.name:this.connection.namingStrategy.joinTableColumnName(e.entityMetadata.tableNameWithoutPrefix,u.propertyName,u.databaseName);return new Ei({connection:this.connection,entityMetadata:o,referencedColumn:u,args:{target:"",mode:"virtual",propertyName:f,options:{name:f,length:!u.length&&(Ae.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql")&&(u.generationStrategy==="uuid"||u.type==="uuid")?"36":u.length,width:u.width,type:u.type,precision:u.precision,scale:u.scale,charset:u.charset,collation:u.collation,zerofill:u.zerofill,unsigned:u.zerofill?!0:u.unsigned,enum:u.enum,enumName:u.enumName,foreignKeyConstraintName:l?.foreignKeyConstraintName,nullable:!1,primary:!0}}})}),c=i.map(u=>{let l=t.inverseJoinColumns?t.inverseJoinColumns.find(p=>(!p.referencedColumnName||p.referencedColumnName===u.propertyName)&&!!p.name):void 0,f=l&&l.name?l.name:this.connection.namingStrategy.joinTableInverseColumnName(e.inverseEntityMetadata.tableNameWithoutPrefix,u.propertyName,u.databaseName);return new Ei({connection:this.connection,entityMetadata:o,referencedColumn:u,args:{target:"",mode:"virtual",propertyName:f,options:{length:!u.length&&(Ae.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql")&&(u.generationStrategy==="uuid"||u.type==="uuid")?"36":u.length,width:u.width,type:u.type,precision:u.precision,scale:u.scale,charset:u.charset,collation:u.collation,zerofill:u.zerofill,unsigned:u.zerofill?!0:u.unsigned,enum:u.enum,enumName:u.enumName,foreignKeyConstraintName:l?.foreignKeyConstraintName,name:f,nullable:!1,primary:!0}}})});return this.changeDuplicatedColumnNames(a,c),o.ownerColumns=a,o.inverseColumns=c,o.ownColumns=[...a,...c],o.ownColumns.forEach(u=>u.relationMetadata=e),o.foreignKeys=e.createForeignKeyConstraints?[new $u({entityMetadata:o,referencedEntityMetadata:e.entityMetadata,columns:a,referencedColumns:r,name:a[0]?.foreignKeyConstraintName,onDelete:this.connection.driver.options.type==="spanner"?"NO ACTION":e.onDelete||"CASCADE",onUpdate:this.connection.driver.options.type==="oracle"||this.connection.driver.options.type==="spanner"?"NO ACTION":e.onUpdate||"CASCADE"}),new $u({entityMetadata:o,referencedEntityMetadata:e.inverseEntityMetadata,columns:c,referencedColumns:i,name:c[0]?.foreignKeyConstraintName,onDelete:this.connection.driver.options.type==="spanner"?"NO ACTION":e.inverseRelation?e.inverseRelation.onDelete:"CASCADE",onUpdate:this.connection.driver.options.type==="oracle"||this.connection.driver.options.type==="spanner"?"NO ACTION":e.inverseRelation?e.inverseRelation.onUpdate:"CASCADE"})]:[],o.ownIndices=[new Wi({entityMetadata:o,columns:a,args:{target:o.target,synchronize:!0}}),new Wi({entityMetadata:o,columns:c,args:{target:o.target,synchronize:!0}})],o}collectReferencedColumns(e,t){let r=t.joinColumns?t.joinColumns.find(i=>!!i.referencedColumnName):!1;return!t.joinColumns||t.joinColumns&&!r?e.entityMetadata.columns.filter(i=>i.isPrimary):t.joinColumns.map(i=>{let s=e.entityMetadata.columns.find(o=>o.propertyName===i.referencedColumnName);if(!s)throw new Q(`Referenced column ${i.referencedColumnName} was not found in entity ${e.entityMetadata.name}`);return s})}collectInverseReferencedColumns(e,t){let r=!!t.inverseJoinColumns,i=r?t.inverseJoinColumns.find(s=>!!s.referencedColumnName):!1;return!r||r&&!i?e.inverseEntityMetadata.primaryColumns:t.inverseJoinColumns.map(s=>{let o=e.inverseEntityMetadata.ownColumns.find(a=>a.propertyName===s.referencedColumnName);if(!o)throw new Q(`Referenced column ${s.referencedColumnName} was not found in entity ${e.inverseEntityMetadata.name}`);return o})}changeDuplicatedColumnNames(e,t){e.forEach(r=>{t.forEach(i=>{if(r.givenDatabaseName===i.givenDatabaseName){let s=this.connection.namingStrategy.joinTableColumnDuplicationPrefix(r.propertyName,1);r.propertyName=s,r.givenDatabaseName=s;let o=this.connection.namingStrategy.joinTableColumnDuplicationPrefix(i.propertyName,2);i.propertyName=o,i.givenDatabaseName=o}})})}},ER=class{constructor(e){this.connection=e}build(e){let t=new ju({parentClosureEntityMetadata:e,connection:this.connection,args:{target:"",name:e.treeOptions&&e.treeOptions.closureTableName?e.treeOptions.closureTableName:e.tableNameWithoutPrefix,type:"closure-junction"}});return t.build(),e.primaryColumns.forEach(r=>{t.ownColumns.push(new Ei({connection:this.connection,entityMetadata:t,closureType:"ancestor",referencedColumn:r,args:{target:"",mode:"virtual",propertyName:e.treeOptions&&e.treeOptions.ancestorColumnName?e.treeOptions.ancestorColumnName(r):r.propertyName+"_ancestor",options:{primary:!0,length:r.length,type:r.type}}})),t.ownColumns.push(new Ei({connection:this.connection,entityMetadata:t,closureType:"descendant",referencedColumn:r,args:{target:"",mode:"virtual",propertyName:e.treeOptions&&e.treeOptions.descendantColumnName?e.treeOptions.descendantColumnName(r):r.propertyName+"_descendant",options:{primary:!0,length:r.length,type:r.type}}}))}),t.ownIndices=[new Wi({entityMetadata:t,columns:[t.ownColumns[0]],args:{target:t.target,synchronize:!0}}),new Wi({entityMetadata:t,columns:[t.ownColumns[1]],args:{target:t.target,synchronize:!0}})],e.treeLevelColumn&&t.ownColumns.push(new Ei({connection:this.connection,entityMetadata:t,args:{target:"",mode:"virtual",propertyName:"level",options:{type:this.connection.driver.mappedDataTypes.treeLevel}}})),t.foreignKeys=[new $u({entityMetadata:t,referencedEntityMetadata:e,columns:[t.ownColumns[0]],referencedColumns:e.primaryColumns,onDelete:this.connection.driver.options.type==="mssql"?"NO ACTION":"CASCADE"}),new $u({entityMetadata:t,referencedEntityMetadata:e,columns:[t.ownColumns[1]],referencedColumns:e.primaryColumns,onDelete:this.connection.driver.options.type==="mssql"?"NO ACTION":"CASCADE"})],t}},Ud=class{constructor(e){this.columns=[],this.columnNamesWithOrderingMap={},this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata,e.columns&&(this.columns=e.columns),e.args&&(this.target=e.args.target,this.givenName=e.args.name,this.givenColumnNames=e.args.columns,this.deferrable=e.args.deferrable)}build(e){let t={};if(this.givenColumnNames){let r=[];if(Array.isArray(this.givenColumnNames))r=this.givenColumnNames.map(i=>this.embeddedMetadata?this.embeddedMetadata.propertyPath+"."+i:i.trim()),r.forEach(i=>t[i]=1);else{let i=this.givenColumnNames(this.entityMetadata.propertiesMap);Array.isArray(i)?(r=i.map(s=>String(s)),r.forEach(s=>t[s]=1)):(r=Object.keys(i).map(s=>String(s)),Object.keys(i).forEach(s=>t[s]=i[s]))}this.columns=r.map(i=>{let s=this.entityMetadata.columns.find(u=>u.propertyPath===i);if(s)return[s];let o=this.entityMetadata.relations.find(u=>u.isWithJoinColumn&&u.propertyName===i);if(o)return o.joinColumns;let a=this.givenName?'"'+this.givenName+'" ':"",c=this.entityMetadata.targetName;throw new Q(`Unique constraint ${a}contains column that is missing in the entity (${c}): `+i)}).reduce((i,s)=>i.concat(s))}return this.columnNamesWithOrderingMap=Object.keys(t).reduce((r,i)=>{let s=this.entityMetadata.columns.find(o=>o.propertyPath===i);return s&&(r[s.databasePath]=t[i]),r},{}),this.name=this.givenName?this.givenName:e.uniqueConstraintName(this.entityMetadata.tableName,this.columns.map(r=>r.databaseName)),this}},wR=class{constructor(e){this.connection=e}build(e,t){let r=this.collectReferencedColumns(e,t),i=this.collectColumns(e,t,r);if(!r.length||!t.createForeignKeyConstraints)return{foreignKey:void 0,columns:i,uniqueConstraint:void 0};let s=new $u({name:e[0]?.foreignKeyConstraintName,entityMetadata:t.entityMetadata,referencedEntityMetadata:t.inverseEntityMetadata,namingStrategy:this.connection.namingStrategy,columns:i,referencedColumns:r,onDelete:t.onDelete,onUpdate:t.onUpdate,deferrable:t.deferrable});if(this.connection.driver.options.type==="oracle"&&i.every(o=>o.isPrimary))return{foreignKey:s,columns:i,uniqueConstraint:void 0};if(r.length>0&&t.isOneToOne){let o=new Ud({entityMetadata:t.entityMetadata,columns:s.columns,args:{name:this.connection.namingStrategy.relationConstraintName(t.entityMetadata.tableName,s.columns.map(a=>a.databaseName)),target:t.entityMetadata.target}});return o.build(this.connection.namingStrategy),{foreignKey:s,columns:i,uniqueConstraint:o}}return{foreignKey:s,columns:i,uniqueConstraint:void 0}}collectReferencedColumns(e,t){let r=e.find(o=>!!o.referencedColumnName),i=e.length===0&&t.isManyToOne,s=e.length>0&&!r;return i||s?t.inverseEntityMetadata.primaryColumns:e.map(o=>{let a=t.inverseEntityMetadata.ownColumns.find(c=>c.propertyName===o.referencedColumnName);if(!a)throw new Q(`Referenced column ${o.referencedColumnName} was not found in entity ${t.inverseEntityMetadata.name}`);return a})}collectColumns(e,t,r){return r.map(i=>{let s=e.find(u=>(!u.referencedColumnName||u.referencedColumnName===i.propertyName)&&!!u.name),o=s?s.name:this.connection.namingStrategy.joinColumnName(t.propertyName,i.propertyName),c=(t.embeddedMetadata?t.embeddedMetadata.columns:t.entityMetadata.ownColumns).find(u=>u.databaseNameWithoutPrefixes===o);return c||(c=new Ei({connection:this.connection,entityMetadata:t.entityMetadata,embeddedMetadata:t.embeddedMetadata,args:{target:"",mode:"virtual",propertyName:t.propertyName,options:{name:o,type:i.type,length:!i.length&&(Ae.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql")&&(i.generationStrategy==="uuid"||i.type==="uuid")?"36":i.length,width:i.width,charset:i.charset,collation:i.collation,precision:i.precision,scale:i.scale,zerofill:i.zerofill,unsigned:i.unsigned,comment:i.comment,enum:i.enum,enumName:i.enumName,primary:t.isPrimary,nullable:t.isNullable}}}),t.entityMetadata.registerColumn(c)),c.referencedColumn=i,c.type=i.type,c.relationMetadata=t,c.build(this.connection),c})}},aE=class{constructor(e){this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata,this.target=e.args.target,this.propertyName=e.args.propertyName,this.type=e.args.type}isAllowed(e){return this.entityMetadata.target===e.constructor||typeof this.entityMetadata.target=="function"&&e.constructor.prototype instanceof this.entityMetadata.target}execute(e){if(!this.embeddedMetadata)return e[this.propertyName]();this.callEntityEmbeddedMethod(e,this.embeddedMetadata.propertyPath.split("."))}callEntityEmbeddedMethod(e,t){let r=t.shift();!r||!e[r]||(t.length===0?Array.isArray(e[r])?e[r].map(i=>i[this.propertyName]()):e[r][this.propertyName]():e[r]&&this.callEntityEmbeddedMethod(e[r],t))}},CR=class{constructor(e){this.entityMetadata=e.entityMetadata,e.args&&(this.target=e.args.target,this.expression=e.args.expression,this.givenName=e.args.name)}build(e){return this.name=this.givenName?this.givenName:e.checkConstraintName(this.entityMetadata.tableName,this.expression),this}},DR=class{constructor(e){this.entityMetadata=e.entityMetadata,e.args&&(this.target=e.args.target,this.expression=e.args.expression,this.givenName=e.args.name)}build(e){return this.name=this.givenName?this.givenName:e.exclusionConstraintName(this.entityMetadata.tableName,this.expression),this}},cE=class{constructor(e,t){this.connection=e,this.metadataArgsStorage=t,this.junctionEntityMetadataBuilder=new _R(e),this.closureJunctionEntityMetadataBuilder=new ER(e),this.relationJoinColumnBuilder=new wR(e)}build(e){let i=(e?this.metadataArgsStorage.filterTables(e):this.metadataArgsStorage.tables).filter(s=>s.type==="regular"||s.type==="closure"||s.type==="entity-child"||s.type==="view").map(s=>this.createEntityMetadata(s));return i.forEach(s=>this.computeParentEntityMetadata(i,s)),i.forEach(s=>{s.childEntityMetadatas=i.filter(o=>typeof s.target=="function"&&typeof o.target=="function"&&$d.isInherited(o.target,s.target))}),i.filter(s=>s.tableType!=="entity-child").forEach(s=>s.build()),i.filter(s=>s.tableType==="entity-child").forEach(s=>s.build()),i.filter(s=>s.tableType!=="entity-child").forEach(s=>this.computeEntityMetadataStep1(i,s)),i.filter(s=>s.tableType==="entity-child").forEach(s=>this.computeEntityMetadataStep1(i,s)),i.forEach(s=>this.computeEntityMetadataStep2(s)),i.forEach(s=>this.computeInverseProperties(s,i)),i.filter(s=>s.tableType!=="entity-child").forEach(s=>{s.relations.filter(o=>o.isOneToOne||o.isManyToOne).forEach(o=>{let a=this.metadataArgsStorage.filterJoinColumns(o.target,o.propertyName),{foreignKey:c,columns:u,uniqueConstraint:l}=this.relationJoinColumnBuilder.build(a,o);if(c&&(o.registerForeignKeys(c),s.foreignKeys.push(c)),u&&o.registerJoinColumns(u),l)if(Ae.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"||this.connection.driver.options.type==="mssql"||this.connection.driver.options.type==="sap"||this.connection.driver.options.type==="spanner"){let f=new Wi({entityMetadata:l.entityMetadata,columns:l.columns,args:{target:l.target,name:l.name,unique:!0,synchronize:!0}});this.connection.driver.options.type==="mssql"&&(f.where=f.columns.map(p=>`${this.connection.driver.escape(p.databaseName)} IS NOT NULL`).join(" AND ")),this.connection.driver.options.type==="spanner"&&(f.isNullFiltered=!0),o.embeddedMetadata?o.embeddedMetadata.indices.push(f):o.entityMetadata.ownIndices.push(f),this.computeEntityMetadataStep2(s)}else o.embeddedMetadata?o.embeddedMetadata.uniques.push(l):o.entityMetadata.ownUniques.push(l),this.computeEntityMetadataStep2(s);if(c&&this.connection.driver.options.type==="cockroachdb"){let f=new Wi({entityMetadata:o.entityMetadata,columns:c.columns,args:{target:o.entityMetadata.target,synchronize:!0}});o.embeddedMetadata?o.embeddedMetadata.indices.push(f):o.entityMetadata.ownIndices.push(f),this.computeEntityMetadataStep2(s)}}),s.relations.filter(o=>o.isManyToMany).forEach(o=>{let a=this.metadataArgsStorage.findJoinTable(o.target,o.propertyName);if(!a)return;let c=this.junctionEntityMetadataBuilder.build(o,a);o.registerForeignKeys(...c.foreignKeys),o.registerJoinColumns(c.ownIndices[0].columns,c.ownIndices[1].columns),o.registerJunctionEntityMetadata(c),this.computeEntityMetadataStep2(c),this.computeInverseProperties(c,i),i.push(c)})}),i.forEach(s=>{s.relationsWithJoinColumns=s.relations.filter(o=>o.isWithJoinColumn),s.hasNonNullableRelations=s.relationsWithJoinColumns.some(o=>!o.isNullable||o.isPrimary)}),i.filter(s=>s.treeType==="closure-table").forEach(s=>{let o=this.closureJunctionEntityMetadataBuilder.build(s);s.closureJunctionTable=o,this.computeEntityMetadataStep2(o),this.computeInverseProperties(o,i),i.push(o)}),i.filter(s=>s.inheritancePattern==="STI"&&s.discriminatorColumn).forEach(s=>this.createKeysForTableInheritance(s)),i.forEach(s=>{s.indices.forEach(o=>o.build(this.connection.namingStrategy))}),i.forEach(s=>{s.uniques.forEach(o=>o.build(this.connection.namingStrategy))}),i.forEach(s=>{s.checks.forEach(o=>o.build(this.connection.namingStrategy))}),i.forEach(s=>{s.exclusions.forEach(o=>o.build(this.connection.namingStrategy))}),i.filter(s=>typeof s.target=="function").forEach(s=>{s.relations.filter(o=>o.isLazy).forEach(o=>{this.connection.relationLoader.enableLazyLoad(o,s.target.prototype)})}),i.forEach(s=>{s.columns.forEach(o=>{let a=this.metadataArgsStorage.findGenerated(o.target,o.propertyName);a&&(o.isGenerated=!0,o.generationStrategy=a.strategy,a.strategy==="uuid"?o.type="uuid":a.strategy==="rowid"?o.type="int":o.type=o.type||Number,o.build(this.connection),this.computeEntityMetadataStep2(s))})}),i}createEntityMetadata(e){let t=typeof e.target=="function"?$d.getInheritanceTree(e.target):[e.target],r=this.metadataArgsStorage.findInheritanceType(e.target),i=this.metadataArgsStorage.findTree(e.target),s;return(r&&r.pattern==="STI"||e.type==="entity-child")&&(s=this.metadataArgsStorage.filterSingleTableChildren(e.target).map(o=>o.target).filter(o=>typeof o=="function"),t.push(...s)),new ju({connection:this.connection,args:e,inheritanceTree:t,tableTree:i,inheritancePattern:r?r.pattern:void 0})}computeParentEntityMetadata(e,t){t.tableType==="entity-child"&&(t.parentEntityMetadata=e.find(r=>r.inheritanceTree.indexOf(t.target)!==-1&&r.inheritancePattern==="STI"))}computeEntityMetadataStep1(e,t){let r=this.metadataArgsStorage.findInheritanceType(t.target),i=this.metadataArgsStorage.findDiscriminatorValue(t.target);if(typeof i<"u"?t.discriminatorValue=i.value:t.discriminatorValue=t.target.name,t.embeddeds=this.createEmbeddedsRecursively(t,this.metadataArgsStorage.filterEmbeddeds(t.inheritanceTree)).map(o=>(t.inheritancePattern==="STI"&&(o.columns=o.columns.map(a=>(a.isNullable=!0,a))),o)),t.ownColumns=this.metadataArgsStorage.filterColumns(t.inheritanceTree).map(o=>{if(t.tableType==="entity-child")return t.parentEntityMetadata.ownColumns.find(u=>u.propertyName===o.propertyName);let a=new Ei({connection:this.connection,entityMetadata:t,args:o});return e.find(u=>u.tableType==="entity-child"&&u.target===o.target)&&(a.isNullable=!0),a}),r&&r.column){let o=r.column&&r.column.name?r.column.name:"type",a=t.ownColumns.find(c=>c.propertyName===o);a?a.isDiscriminator=!0:(a=new Ei({connection:this.connection,entityMetadata:t,args:{target:t.target,mode:"virtual",propertyName:o,options:r.column||{name:o,type:"varchar",nullable:!1}}}),a.isVirtual=!0,a.isDiscriminator=!0,t.ownColumns.push(a))}if(t.tableType==="entity-child"){let o=t.parentEntityMetadata.ownColumns.find(a=>a.isDiscriminator);o&&!t.ownColumns.find(a=>a===o)&&t.ownColumns.push(o)}let{namingStrategy:s}=this.connection;if(t.treeType==="materialized-path")t.ownColumns.push(new Ei({connection:this.connection,entityMetadata:t,materializedPath:!0,args:{target:t.target,mode:"virtual",propertyName:"mpath",options:{name:s.materializedPathColumnName,type:String,nullable:!0,default:""}}}));else if(t.treeType==="nested-set"){let{left:o,right:a}=s.nestedSetColumnNames;t.ownColumns.push(new Ei({connection:this.connection,entityMetadata:t,nestedSetLeft:!0,args:{target:t.target,mode:"virtual",propertyName:o,options:{name:o,type:Number,nullable:!1,default:1}}})),t.ownColumns.push(new Ei({connection:this.connection,entityMetadata:t,nestedSetRight:!0,args:{target:t.target,mode:"virtual",propertyName:a,options:{name:a,type:Number,nullable:!1,default:2}}}))}if(t.ownRelations=this.metadataArgsStorage.filterRelations(t.inheritanceTree).map(o=>{if(t.tableType==="entity-child"){let a=t.parentEntityMetadata.ownRelations.find(u=>u.propertyName===o.propertyName),c=typeof o.type=="function"?o.type():o.type;if(a.type!==c){let u=Object.create(a);return u.type=c,u}return a}return new iE({entityMetadata:t,args:o})}),t.relationIds=this.metadataArgsStorage.filterRelationIds(t.inheritanceTree).map(o=>t.tableType==="entity-child"?t.parentEntityMetadata.relationIds.find(a=>a.propertyName===o.propertyName):new sE({entityMetadata:t,args:o})),t.relationCounts=this.metadataArgsStorage.filterRelationCounts(t.inheritanceTree).map(o=>t.tableType==="entity-child"?t.parentEntityMetadata.relationCounts.find(a=>a.propertyName===o.propertyName):new oE({entityMetadata:t,args:o})),t.ownListeners=this.metadataArgsStorage.filterListeners(t.inheritanceTree).map(o=>new aE({entityMetadata:t,args:o})),t.checks=this.metadataArgsStorage.filterChecks(t.inheritanceTree).map(o=>new CR({entityMetadata:t,args:o})),this.connection.driver.options.type==="postgres"&&(t.exclusions=this.metadataArgsStorage.filterExclusions(t.inheritanceTree).map(o=>new DR({entityMetadata:t,args:o}))),this.connection.driver.options.type==="cockroachdb"){t.ownIndices=this.metadataArgsStorage.filterIndices(t.inheritanceTree).filter(a=>!a.unique).map(a=>new Wi({entityMetadata:t,args:a}));let o=this.metadataArgsStorage.filterIndices(t.inheritanceTree).filter(a=>a.unique).map(a=>new Ud({entityMetadata:t,args:{target:a.target,name:a.name,columns:a.columns}}));t.ownUniques.push(...o)}else t.ownIndices=this.metadataArgsStorage.filterIndices(t.inheritanceTree).map(o=>new Wi({entityMetadata:t,args:o}));if(Ae.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"||this.connection.driver.options.type==="sap"||this.connection.driver.options.type==="spanner"){let o=this.metadataArgsStorage.filterUniques(t.inheritanceTree).map(a=>new Wi({entityMetadata:t,args:{target:a.target,name:a.name,columns:a.columns,unique:!0,synchronize:!0}}));t.ownIndices.push(...o)}else{let o=this.metadataArgsStorage.filterUniques(t.inheritanceTree).map(a=>new Ud({entityMetadata:t,args:a}));t.ownUniques.push(...o)}}createEmbeddedsRecursively(e,t){return t.map(r=>{let i=new vR({entityMetadata:e,args:r}),s=typeof i.type=="function"?$d.getInheritanceTree(i.type):[i.type];return i.columns=this.metadataArgsStorage.filterColumns(s).map(o=>new Ei({connection:this.connection,entityMetadata:e,embeddedMetadata:i,args:o})),i.relations=this.metadataArgsStorage.filterRelations(s).map(o=>new iE({entityMetadata:e,embeddedMetadata:i,args:o})),i.listeners=this.metadataArgsStorage.filterListeners(s).map(o=>new aE({entityMetadata:e,embeddedMetadata:i,args:o})),i.indices=this.metadataArgsStorage.filterIndices(s).map(o=>new Wi({entityMetadata:e,embeddedMetadata:i,args:o})),i.uniques=this.metadataArgsStorage.filterUniques(s).map(o=>new Ud({entityMetadata:e,embeddedMetadata:i,args:o})),i.relationIds=this.metadataArgsStorage.filterRelationIds(s).map(o=>new sE({entityMetadata:e,args:o})),i.relationCounts=this.metadataArgsStorage.filterRelationCounts(s).map(o=>new oE({entityMetadata:e,args:o})),i.embeddeds=this.createEmbeddedsRecursively(e,this.metadataArgsStorage.filterEmbeddeds(s)),i.embeddeds.forEach(o=>o.parentEmbeddedMetadata=i),e.allEmbeddeds.push(i),i})}computeEntityMetadataStep2(e){e.embeddeds.forEach(t=>t.build(this.connection)),e.embeddeds.forEach(t=>{t.columnsFromTree.forEach(r=>r.build(this.connection)),t.relationsFromTree.forEach(r=>r.build())}),e.ownColumns.forEach(t=>t.build(this.connection)),e.ownRelations.forEach(t=>t.build()),e.relations=e.embeddeds.reduce((t,r)=>t.concat(r.relationsFromTree),e.ownRelations),e.eagerRelations=e.relations.filter(t=>t.isEager),e.lazyRelations=e.relations.filter(t=>t.isLazy),e.oneToOneRelations=e.relations.filter(t=>t.isOneToOne),e.oneToManyRelations=e.relations.filter(t=>t.isOneToMany),e.manyToOneRelations=e.relations.filter(t=>t.isManyToOne),e.manyToManyRelations=e.relations.filter(t=>t.isManyToMany),e.ownerOneToOneRelations=e.relations.filter(t=>t.isOneToOneOwner),e.ownerManyToManyRelations=e.relations.filter(t=>t.isManyToManyOwner),e.treeParentRelation=e.relations.find(t=>t.isTreeParent),e.treeChildrenRelation=e.relations.find(t=>t.isTreeChildren),e.columns=e.embeddeds.reduce((t,r)=>t.concat(r.columnsFromTree),e.ownColumns),e.listeners=e.embeddeds.reduce((t,r)=>t.concat(r.listenersFromTree),e.ownListeners),e.afterLoadListeners=e.listeners.filter(t=>t.type===Bs.AFTER_LOAD),e.afterInsertListeners=e.listeners.filter(t=>t.type===Bs.AFTER_INSERT),e.afterUpdateListeners=e.listeners.filter(t=>t.type===Bs.AFTER_UPDATE),e.afterRemoveListeners=e.listeners.filter(t=>t.type===Bs.AFTER_REMOVE),e.afterSoftRemoveListeners=e.listeners.filter(t=>t.type===Bs.AFTER_SOFT_REMOVE),e.afterRecoverListeners=e.listeners.filter(t=>t.type===Bs.AFTER_RECOVER),e.beforeInsertListeners=e.listeners.filter(t=>t.type===Bs.BEFORE_INSERT),e.beforeUpdateListeners=e.listeners.filter(t=>t.type===Bs.BEFORE_UPDATE),e.beforeRemoveListeners=e.listeners.filter(t=>t.type===Bs.BEFORE_REMOVE),e.beforeSoftRemoveListeners=e.listeners.filter(t=>t.type===Bs.BEFORE_SOFT_REMOVE),e.beforeRecoverListeners=e.listeners.filter(t=>t.type===Bs.BEFORE_RECOVER),e.indices=e.embeddeds.reduce((t,r)=>t.concat(r.indicesFromTree),e.ownIndices),e.uniques=e.embeddeds.reduce((t,r)=>t.concat(r.uniquesFromTree),e.ownUniques),e.primaryColumns=e.columns.filter(t=>t.isPrimary),e.nonVirtualColumns=e.columns.filter(t=>!t.isVirtual),e.ancestorColumns=e.columns.filter(t=>t.closureType==="ancestor"),e.descendantColumns=e.columns.filter(t=>t.closureType==="descendant"),e.hasMultiplePrimaryKeys=e.primaryColumns.length>1,e.generatedColumns=e.columns.filter(t=>t.isGenerated||t.isObjectId),e.hasUUIDGeneratedColumns=e.columns.filter(t=>t.isGenerated||t.generationStrategy==="uuid").length>0,e.createDateColumn=e.columns.find(t=>t.isCreateDate),e.updateDateColumn=e.columns.find(t=>t.isUpdateDate),e.deleteDateColumn=e.columns.find(t=>t.isDeleteDate),e.versionColumn=e.columns.find(t=>t.isVersion),e.discriminatorColumn=e.columns.find(t=>t.isDiscriminator),e.treeLevelColumn=e.columns.find(t=>t.isTreeLevel),e.nestedSetLeftColumn=e.columns.find(t=>t.isNestedSetLeft),e.nestedSetRightColumn=e.columns.find(t=>t.isNestedSetRight),e.materializedPathColumn=e.columns.find(t=>t.isMaterializedPath),e.objectIdColumn=e.columns.find(t=>t.isObjectId),e.foreignKeys.forEach(t=>t.build(this.connection.namingStrategy)),e.propertiesMap=e.createPropertiesMap(),e.relationIds.forEach(t=>t.build()),e.relationCounts.forEach(t=>t.build()),e.embeddeds.forEach(t=>{t.relationIdsFromTree.forEach(r=>r.build()),t.relationCountsFromTree.forEach(r=>r.build())})}computeInverseProperties(e,t){e.relations.forEach(r=>{let i=t.find(s=>s.target===r.type||typeof r.type=="string"&&(s.targetName===r.type||s.givenTableName===r.type));if(!i)throw new Q("Entity metadata for "+e.name+"#"+r.propertyPath+" was not found. Check if you specified a correct entity object and if it's connected in the connection options.");r.inverseEntityMetadata=i,r.inverseSidePropertyPath=r.buildInverseSidePropertyPath(),r.inverseRelation=i.relations.find(s=>s.propertyPath===r.inverseSidePropertyPath)})}createKeysForTableInheritance(e){e.indices.push(new Wi({entityMetadata:e,columns:[e.discriminatorColumn],args:{target:e.target,unique:!1}}))}},xR=class n extends Q{static createEntitySchemaIsRequiredException(e){return new n(`EntitySchema is required for ${e} embedded field`)}static createTargetIsRequired(e){return new n(`Target field is required for ${e} embedded EntitySchema`)}constructor(e){super(e)}},TR=class{transform(e){let t=new V_;return e.forEach(r=>{let i=r.options,s={target:i.target||i.name,name:i.tableName,database:i.database,schema:i.schema,type:i.type||"regular",orderBy:i.orderBy,synchronize:i.synchronize,withoutRowid:!!i.withoutRowid,expression:i.expression};t.tables.push(s),this.transformColumnsRecursive(i,t)}),t}transformColumnsRecursive(e,t){Object.keys(e.columns).forEach(r=>{let s=e.columns[r],o="regular";s.createDate&&(o="createDate"),s.updateDate&&(o="updateDate"),s.deleteDate&&(o="deleteDate"),s.version&&(o="version"),s.treeChildrenCount&&(o="treeChildrenCount"),s.treeLevel&&(o="treeLevel"),s.objectId&&(o="objectId");let a={target:e.target||e.name,mode:o,propertyName:r,options:{type:s.type,name:s.objectId?"_id":s.name,primaryKeyConstraintName:s.primaryKeyConstraintName,length:s.length,width:s.width,nullable:s.nullable,readonly:s.readonly,update:s.update,select:s.select,insert:s.insert,primary:s.primary,unique:s.unique,comment:s.comment,default:s.default,onUpdate:s.onUpdate,precision:s.precision,scale:s.scale,zerofill:s.zerofill,unsigned:s.unsigned,charset:s.charset,collation:s.collation,enum:s.enum,enumName:s.enumName,asExpression:s.asExpression,generatedType:s.generatedType,hstoreType:s.hstoreType,array:s.array,transformer:s.transformer,spatialFeatureType:s.spatialFeatureType,srid:s.srid}};if(t.columns.push(a),s.generated){let c={target:e.target||e.name,propertyName:r,strategy:typeof s.generated=="string"?s.generated:"increment"};t.generations.push(c)}s.unique&&t.uniques.push({target:e.target||e.name,columns:[r]})}),e.relations&&Object.keys(e.relations).forEach(r=>{let i=e.relations[r],s={target:e.target||e.name,propertyName:r,relationType:i.type,isLazy:i.lazy||!1,type:i.target,inverseSideProperty:i.inverseSide,isTreeParent:i.treeParent,isTreeChildren:i.treeChildren,options:{eager:i.eager||!1,cascade:i.cascade,nullable:i.nullable,onDelete:i.onDelete,onUpdate:i.onUpdate,deferrable:i.deferrable,createForeignKeyConstraints:i.createForeignKeyConstraints,persistence:i.persistence,orphanedRowAction:i.orphanedRowAction}};if(t.relations.push(s),i.joinColumn)if(typeof i.joinColumn=="boolean"){let o={target:e.target||e.name,propertyName:r};t.joinColumns.push(o)}else{let o=Array.isArray(i.joinColumn)?i.joinColumn:[i.joinColumn];for(let a of o){let c={target:e.target||e.name,propertyName:r,name:a.name,referencedColumnName:a.referencedColumnName,foreignKeyConstraintName:a.foreignKeyConstraintName};t.joinColumns.push(c)}}if(i.joinTable)if(typeof i.joinTable=="boolean"){let o={target:e.target||e.name,propertyName:r};t.joinTables.push(o)}else{let o={target:e.target||e.name,propertyName:r,name:i.joinTable.name,database:i.joinTable.database,schema:i.joinTable.schema,joinColumns:i.joinTable.joinColumn?[i.joinTable.joinColumn]:i.joinTable.joinColumns,inverseJoinColumns:i.joinTable.inverseJoinColumn?[i.joinTable.inverseJoinColumn]:i.joinTable.inverseJoinColumns};t.joinTables.push(o)}}),e.relationIds&&Object.keys(e.relationIds).forEach(r=>{let i=e.relationIds[r],s={propertyName:r,relation:i.relationName,target:e.target||e.name,alias:i.alias,queryBuilderFactory:i.queryBuilderFactory};t.relationIds.push(s)}),e.indices&&e.indices.forEach(r=>{let i={target:e.target||e.name,name:r.name,unique:r.unique===!0,spatial:r.spatial===!0,fulltext:r.fulltext===!0,nullFiltered:r.nullFiltered===!0,parser:r.parser,synchronize:r.synchronize!==!1,where:r.where,sparse:r.sparse,columns:r.columns};t.indices.push(i)}),e.uniques&&e.uniques.forEach(r=>{let i={target:e.target||e.name,name:r.name,columns:r.columns,deferrable:r.deferrable};t.uniques.push(i)}),e.checks&&e.checks.forEach(r=>{let i={target:e.target||e.name,name:r.name,expression:r.expression};t.checks.push(i)}),e.exclusions&&e.exclusions.forEach(r=>{let i={target:e.target||e.name,name:r.name,expression:r.expression};t.exclusions.push(i)}),e.embeddeds&&Object.keys(e.embeddeds).forEach(r=>{let i=e.embeddeds[r];if(!i.schema)throw xR.createEntitySchemaIsRequiredException(r);let s=i.schema.options;t.embeddeds.push({target:e.target||e.name,propertyName:r,isArray:i.array===!0,prefix:i.prefix!==void 0?i.prefix:void 0,type:()=>s?.target||s.name}),this.transformColumnsRecursive(s,t)})}},AR=class{constructor(e){this.connection=e}async buildMigrations(e){let[t,r]=yt.splitClassesAndStrings(e);return[...t,...await vM(this.connection.logger,r)].map(s=>Cae(s))}async buildSubscribers(e){let[t,r]=yt.splitClassesAndStrings(e||[]),i=[...t,...await vM(this.connection.logger,r)];return wi().filterSubscribers(i).map(s=>Cae(s.target))}async buildEntityMetadatas(e){let[t,r]=yt.splitClassesAndStrings(e||[]),i=t.filter(l=>!_e.isEntitySchema(l)),s=t.filter(l=>_e.isEntitySchema(l)),o=[...i,...await vM(this.connection.logger,r)];o.forEach(l=>{_e.isEntitySchema(l)&&s.push(l)});let a=new cE(this.connection,wi()).build(o),c=new TR().transform(s),u=new cE(this.connection,c).build();return[...a,...u]}},SR=class{constructor(e,t,r,i,s){this.expressionMap=e,this.driver=t,this.rawRelationIdResults=r,this.rawRelationCountResults=i,this.queryRunner=s}transform(e,t){let r=this.group(e,t),i=[];return r.forEach(s=>{let o=this.transformRawResultsGroup(s,t);o!==void 0&&!Object.values(o).every(a=>a===null)&&i.push(o)}),i}group(e,t){let r=new Map,i=[];return t.metadata.tableType==="view"?i.push(...t.metadata.columns.map(s=>Ae.buildAlias(this.driver,t.name,s.databaseName))):i.push(...t.metadata.primaryColumns.map(s=>Ae.buildAlias(this.driver,t.name,s.databaseName))),e.forEach(s=>{let o=i.map(c=>{let u=s[c];return Ye.isObject(u)?JSON.stringify(u):u}).join("_"),a=r.get(o);a?a.push(s):r.set(o,[s])}),r}transformRawResultsGroup(e,t){let r=t.metadata;if(r.discriminatorColumn){let l=e.map(p=>p[Ae.buildAlias(this.driver,t.name,t.metadata.discriminatorColumn.databaseName)]),f=r.childEntityMetadatas.find(p=>typeof l.find(g=>g===p.discriminatorValue)<"u");f&&(r=f)}let i=r.create(this.queryRunner,{fromDeserializer:!0,pojo:this.expressionMap.options.indexOf("create-pojo")!==-1}),s=this.transformColumns(e,t,i,r),o=this.transformJoins(e,i,t,r),a=this.transformRelationIds(e,t,i,r),c=this.transformRelationCounts(e,t,i);if(s||r.primaryColumns.filter(l=>l.isVirtual===!1).length===0&&(o||a||c))return i}transformColumns(e,t,r,i){let s=!1;return i.columns.forEach(o=>{if(i.childEntityMetadatas.length>0&&i.childEntityMetadatas.findIndex(c=>c.target===o.target)!==-1)return;let a=e[0][Ae.buildAlias(this.driver,t.name,o.databaseName)];a===void 0||o.isVirtual||this.expressionMap.selects.find(c=>c.selection===t.name||c.selection===t.name+"."+o.propertyPath)&&(o.setEntityValue(r,this.driver.prepareHydratedValue(a,o)),a!==null&&(s=!0))}),s}transformJoins(e,t,r,i){let s=!1;return this.expressionMap.joinAttributes.forEach(o=>{if(!o.metadata||!o.isSelected||o.relation&&!i.relations.find(c=>c===o.relation))return;if(o.mapToProperty){if(o.mapToPropertyParentAlias!==r.name)return}else if(!o.relation||o.parentAlias!==r.name||o.relationPropertyPath!==o.relation.propertyPath)return;let a=this.transform(e,o.alias);a=o.isMany?a:a[0],a=!o.isMany&&a===void 0?null:a,a!==void 0&&(o.mapToPropertyPropertyName?t[o.mapToPropertyPropertyName]=a:o.relation.setEntityValue(t,a),s=!0)}),s}transformRelationIds(e,t,r,i){let s=!1;return this.rawRelationIdResults.forEach((o,a)=>{if(o.relationIdAttribute.parentAlias!==t.name)return;let c=o.relationIdAttribute.relation,u=this.createValueMapFromJoinColumns(c,o.relationIdAttribute.parentAlias,e);if(u==null)return;this.prepareDataForTransformRelationIds();let l=this.hashEntityIds(c,u),f=this.relationIdMaps[a][l]||[],p=o.relationIdAttribute.mapToPropertyPropertyPath.split("."),g=(v,E,D)=>{let P=v.shift();if(P&&v.length===0)return E[P]=D,E;if(P&&v.length>0)g(v,E[P],D);else return E};c.isOneToOne||c.isManyToOne?f[0]!==void 0&&(g(p,r,f[0]),s=!0):(g(p,r,f),s=s||f.length>0)}),s}transformRelationCounts(e,t,r){let i=!1;return this.rawRelationCountResults.filter(s=>s.relationCountAttribute.parentAlias===t.name).forEach(s=>{let o=s.relationCountAttribute.relation,a;o.isOneToMany?a=o.inverseRelation.joinColumns[0].referencedColumn.databaseName:a=o.isOwning?o.joinColumns[0].referencedColumn.databaseName:o.inverseRelation.joinColumns[0].referencedColumn.databaseName;let c=e[0][Ae.buildAlias(this.driver,t.name,a)];c!=null&&(r[s.relationCountAttribute.mapToPropertyPropertyName]=0,s.results.filter(u=>u.parentId===c).forEach(u=>{r[s.relationCountAttribute.mapToPropertyPropertyName]=parseInt(u.cnt),i=!0}))}),i}createValueMapFromJoinColumns(e,t,r){let i;return e.isManyToOne||e.isOneToOneOwner?i=e.entityMetadata.primaryColumns.map(s=>s):e.isOneToMany||e.isOneToOneNotOwner?i=e.inverseRelation.joinColumns.map(s=>s):e.isOwning?i=e.joinColumns.map(s=>s):i=e.inverseRelation.inverseJoinColumns.map(s=>s),i.reduce((s,o)=>(r.forEach(a=>{e.isManyToOne||e.isOneToOneOwner?s[o.databaseName]=this.driver.prepareHydratedValue(a[Ae.buildAlias(this.driver,t,o.databaseName)],o):s[o.databaseName]=this.driver.prepareHydratedValue(a[Ae.buildAlias(this.driver,t,o.referencedColumn.databaseName)],o)}),s),{})}extractEntityPrimaryIds(e,t){let r;return e.isManyToOne||e.isOneToOneOwner?r=e.entityMetadata.primaryColumns.map(i=>i):e.isOneToMany||e.isOneToOneNotOwner?r=e.inverseRelation.joinColumns.map(i=>i):e.isOwning?r=e.joinColumns.map(i=>i):r=e.inverseRelation.inverseJoinColumns.map(i=>i),r.reduce((i,s)=>(i[s.databaseName]=t[s.databaseName],i),{})}prepareDataForTransformRelationIds(){this.relationIdMaps||(this.relationIdMaps=this.rawRelationIdResults.map(e=>{let t=e.relationIdAttribute.relation,r;return t.isManyToOne||t.isOneToOneOwner?r=t.joinColumns:t.isOneToMany||t.isOneToOneNotOwner?r=t.inverseEntityMetadata.primaryColumns:t.isOwning?r=t.inverseJoinColumns:r=t.inverseRelation.joinColumns,e.results.reduce((i,s)=>{let o=r.reduce((a,c)=>{let u=s[c.databaseName];return t.isOneToMany||t.isOneToOneNotOwner?(c.isVirtual&&c.referencedColumn&&c.referencedColumn.propertyName!==c.propertyName&&(u=c.referencedColumn.createValueMap(u)),yt.mergeDeep(a,c.createValueMap(u))):(!c.isPrimary&&c.referencedColumn.referencedColumn&&(u=c.referencedColumn.referencedColumn.createValueMap(u)),yt.mergeDeep(a,c.referencedColumn.createValueMap(u)))},{});if(r.length===1&&!e.relationIdAttribute.disableMixedMap&&(t.isOneToMany||t.isOneToOneNotOwner?o=r[0].getEntityValue(o):o=r[0].referencedColumn.getEntityValue(o)),o!==void 0){let a=this.hashEntityIds(t,s);i[a]?i[a].push(o):i[a]=[o]}return i},{})}))}hashEntityIds(e,t){let r=this.extractEntityPrimaryIds(e,t);return JSON.stringify(r)}},ls=class{static isAliasProperty(e){if(typeof e!="string"||e.indexOf(".")===-1)return!1;let[t,r]=e.split(".");return!(!t||!r||e.indexOf("(")!==-1||e.indexOf(")")!==-1)}},uE=class{constructor(e,t,r){this.connection=e,this.queryExpressionMap=t,this.isSelectedEvaluated=!1,this.relationEvaluated=!1,Ye.assign(this,r||{})}get isMany(){return this.isMappingMany!==void 0?this.isMappingMany:this.relation?this.relation.isManyToMany||this.relation.isOneToMany:!1}get isSelected(){if(!this.isSelectedEvaluated){let e=()=>{for(let t of this.queryExpressionMap.selects)if(t.selection===this.alias.name||this.metadata&&this.metadata.columns.find(r=>t.selection===this.alias.name+"."+r.propertyPath))return!0;return!1};this.isSelectedCache=e(),this.isSelectedEvaluated=!0}return this.isSelectedCache}get tablePath(){return this.metadata?this.metadata.tablePath:this.entityOrProperty}get parentAlias(){if(ls.isAliasProperty(this.entityOrProperty))return this.entityOrProperty.substr(0,this.entityOrProperty.indexOf("."))}get relationPropertyPath(){if(ls.isAliasProperty(this.entityOrProperty))return this.entityOrProperty.substr(this.entityOrProperty.indexOf(".")+1)}get relation(){if(!this.relationEvaluated){let e=()=>{if(!ls.isAliasProperty(this.entityOrProperty))return;let t=this.queryExpressionMap.findAliasByName(this.parentAlias),r=t.metadata.findRelationWithPropertyPath(this.relationPropertyPath);if(r||t.metadata.parentEntityMetadata&&(r=t.metadata.parentEntityMetadata.findRelationWithPropertyPath(this.relationPropertyPath),r))return r;throw new Q(`Relation with property path ${this.relationPropertyPath} in entity was not found.`)};this.relationCache=e.bind(this)(),this.relationEvaluated=!0}return this.relationCache}get metadata(){if(this.relation)return this.relation.inverseEntityMetadata;if(this.connection.hasMetadata(this.entityOrProperty))return this.connection.getMetadata(this.entityOrProperty)}get junctionAlias(){if(!this.relation)throw new Q("Cannot get junction table for join without relation.");return this.relation.isOwning?Ae.buildAlias(this.connection.driver,this.parentAlias,this.alias.name):Ae.buildAlias(this.connection.driver,this.alias.name,this.parentAlias)}get mapToPropertyParentAlias(){if(this.mapToProperty)return this.mapToProperty.split(".")[0]}get mapToPropertyPropertyName(){if(this.mapToProperty)return this.mapToProperty.split(".")[1]}},Zp=class{constructor(e,t){this.queryExpressionMap=e,this.disableMixedMap=!1,Ye.assign(this,t||{})}get joinInverseSideMetadata(){return this.relation.inverseEntityMetadata}get parentAlias(){if(!ls.isAliasProperty(this.relationName))throw new Q("Given value must be a string representation of alias property");return this.relationName.substr(0,this.relationName.indexOf("."))}get relationPropertyPath(){if(!ls.isAliasProperty(this.relationName))throw new Q("Given value must be a string representation of alias property");return this.relationName.substr(this.relationName.indexOf(".")+1)}get relation(){if(!ls.isAliasProperty(this.relationName))throw new Q("Given value must be a string representation of alias property");let t=this.queryExpressionMap.findAliasByName(this.parentAlias).metadata.findRelationWithPropertyPath(this.relationPropertyPath);if(!t)throw new Q(`Relation with property path ${this.relationPropertyPath} in entity was not found.`);return t}get junctionAlias(){let[e,t]=this.relationName.split(".");return e+"_"+t+"_rid"}get junctionMetadata(){return this.relation.junctionEntityMetadata}get mapToPropertyParentAlias(){return this.mapToProperty.substr(0,this.mapToProperty.indexOf("."))}get mapToPropertyPropertyPath(){return this.mapToProperty.substr(this.mapToProperty.indexOf(".")+1)}},Xp=class{constructor(e,t){this.expressionMap=e,Ye.assign(this,t||{})}get joinInverseSideMetadata(){return this.relation.inverseEntityMetadata}get parentAlias(){if(!ls.isAliasProperty(this.relationName))throw new Q("Given value must be a string representation of alias property");return this.relationName.split(".")[0]}get relationProperty(){if(!ls.isAliasProperty(this.relationName))throw new Q("Given value is a string representation of alias property");return this.relationName.split(".")[1]}get junctionAlias(){let[e,t]=this.relationName.split(".");return e+"_"+t+"_rc"}get relation(){if(!ls.isAliasProperty(this.relationName))throw new Q("Given value is a string representation of alias property");let[e,t]=this.relationName.split("."),i=this.expressionMap.findAliasByName(e).metadata.findRelationWithPropertyPath(t);if(!i)throw new Q(`Relation with property path ${t} in entity was not found.`);return i}get metadata(){if(!ls.isAliasProperty(this.relationName))throw new Q("Given value is a string representation of alias property");let e=this.relationName.split(".")[0];return this.expressionMap.findAliasByName(e).metadata}get mapToPropertyPropertyName(){return this.mapToProperty.split(".")[1]}},Aet=class{constructor(e,t,r){this.connection=e,this.queryRunner=t,this.relationIdAttributes=r}async load(e){let t=this.relationIdAttributes.map(async r=>{if(r.relation.isManyToOne||r.relation.isOneToOneOwner){if(r.queryBuilderFactory)throw new Q("Additional condition can not be used with ManyToOne or OneToOne owner relations.");let i={},s=e.map(o=>{let a={},c=[];r.relation.joinColumns.forEach(l=>{a[l.databaseName]=this.connection.driver.prepareHydratedValue(o[Ae.buildAlias(this.connection.driver,r.parentAlias,l.databaseName)],l.referencedColumn);let f=`${l.databaseName}:${a[l.databaseName]}`;c.indexOf(f)===-1&&c.push(f)}),r.relation.entityMetadata.primaryColumns.forEach(l=>{a[l.databaseName]=this.connection.driver.prepareHydratedValue(o[Ae.buildAlias(this.connection.driver,r.parentAlias,l.databaseName)],l);let f=`${l.databaseName}:${a[l.databaseName]}`;c.indexOf(f)===-1&&c.push(f)}),c.sort();let u=c.join("::");return i[u]?null:(i[u]=!0,a)}).filter(o=>o);return{relationIdAttribute:r,results:s}}else if(r.relation.isOneToMany||r.relation.isOneToOneNotOwner){let i=r.relation,s=i.isOwning?i.joinColumns:i.inverseRelation.joinColumns,o=i.inverseEntityMetadata.target,a=i.inverseEntityMetadata.tableName,c=r.alias||a,u={},l={},f=e.map((E,D)=>{let P=[],K={},J=s.map(he=>{let y=he.databaseName+D,Te=E[Ae.buildAlias(this.connection.driver,r.parentAlias,he.referencedColumn.databaseName)],De=`${c}:${he.propertyPath}:${Te}`;return P.indexOf(De)!==-1?"":(P.push(De),K[y]=Te,c+"."+he.propertyPath+" = :"+y)}).filter(he=>he).join(" AND ");P.sort();let re=P.join("::");return u[re]?"":(u[re]=!0,Object.assign(l,K),J)}).filter(E=>E).map(E=>"("+E+")").join(" OR ");if(!f)return{relationIdAttribute:r,results:[]};let p=this.connection.createQueryBuilder(this.queryRunner);yt.uniq([...s,...i.inverseRelation.entityMetadata.primaryColumns],E=>E.propertyPath).forEach(E=>{p.addSelect(c+"."+E.propertyPath,E.databaseName)}),p.from(o,c).where("("+f+")").setParameters(l),r.queryBuilderFactory&&r.queryBuilderFactory(p);let v=await p.getRawMany();return v.forEach(E=>{s.forEach(D=>{E[D.databaseName]=this.connection.driver.prepareHydratedValue(E[D.databaseName],D.referencedColumn)}),i.inverseRelation.entityMetadata.primaryColumns.forEach(D=>{E[D.databaseName]=this.connection.driver.prepareHydratedValue(E[D.databaseName],D)})}),{relationIdAttribute:r,results:v}}else{let i=r.relation,s=i.isOwning?i.joinColumns:i.inverseRelation.inverseJoinColumns,o=i.isOwning?i.inverseJoinColumns:i.inverseRelation.joinColumns,a=r.junctionAlias,c=r.joinInverseSideMetadata.tableName,u=r.alias||c,l=i.isOwning?i.junctionEntityMetadata.tableName:i.inverseRelation.junctionEntityMetadata.tableName,f=e.map(J=>s.reduce((re,he)=>(re[he.propertyPath]=J[Ae.buildAlias(this.connection.driver,r.parentAlias,he.referencedColumn.databaseName)],re),{}));if(f.length===0)return{relationIdAttribute:r,results:[]};let p={},g={},v=f.map((J,re)=>{let he=[],y={},Te=Object.keys(J).map(Ve=>{let q=Ve+re,I=J[Ve],ee=`${a}:${Ve}:${I}`;return he.indexOf(ee)!==-1?"":(he.push(ee),y[q]=I,a+"."+Ve+" = :"+q)}).filter(Ve=>Ve).join(" AND ");he.sort();let De=he.join("::");return g[De]?"":(g[De]=!0,Object.assign(p,y),Te)}).filter(J=>J),E=o.map(J=>a+"."+J.propertyPath+" = "+u+"."+J.referencedColumn.propertyPath).join(" AND "),D=v.map(J=>"("+J+" AND "+E+")").join(" OR "),P=this.connection.createQueryBuilder(this.queryRunner);o.forEach(J=>{P.addSelect(a+"."+J.propertyPath,J.databaseName).addOrderBy(a+"."+J.propertyPath)}),s.forEach(J=>{P.addSelect(a+"."+J.propertyPath,J.databaseName).addOrderBy(a+"."+J.propertyPath)}),P.from(c,u).innerJoin(l,a,D).setParameters(p),r.queryBuilderFactory&&r.queryBuilderFactory(P);let K=await P.getRawMany();return K.forEach(J=>{[...s,...o].forEach(re=>{J[re.databaseName]=this.connection.driver.prepareHydratedValue(J[re.databaseName],re.referencedColumn)})}),{relationIdAttribute:r,results:K}}});return Promise.all(t)}},IR=class{constructor(e){this.expressionMap=e}transform(){this.expressionMap.mainAlias&&this.expressionMap.mainAlias.metadata.relationIds.forEach(e=>{let t=this.metadataToAttribute(this.expressionMap.mainAlias.name,e);this.expressionMap.relationIdAttributes.push(t)}),this.expressionMap.joinAttributes.forEach(e=>{!e.metadata||e.metadata.isJunction||e.metadata.relationIds.forEach(t=>{let r=this.metadataToAttribute(e.alias.name,t);this.expressionMap.relationIdAttributes.push(r)})})}metadataToAttribute(e,t){return new Zp(this.expressionMap,{relationName:e+"."+t.relation.propertyName,mapToProperty:e+"."+t.propertyName,alias:t.alias,queryBuilderFactory:t.queryBuilderFactory})}},MR=class{constructor(e,t,r){this.connection=e,this.queryRunner=t,this.relationCountAttributes=r}async load(e){let t=(i,s,o)=>o.indexOf(i)===s,r=this.relationCountAttributes.map(async i=>{if(i.relation.isOneToMany){let s=i.relation,o=s.inverseRelation,a=o.joinColumns[0].referencedColumn.propertyName,c=s.inverseEntityMetadata.target,u=s.inverseEntityMetadata.tableName,l=i.alias||u,f=o.propertyName,p=e.map(v=>v[i.parentAlias+"_"+a]).filter(v=>!!v);if(p=p.filter(t),p.length===0)return{relationCountAttribute:i,results:[]};let g=this.connection.createQueryBuilder(this.queryRunner);return g.select(l+"."+f,"parentId").addSelect("COUNT(*)","cnt").from(c,l).where(l+"."+f+" IN (:...ids)").addGroupBy(l+"."+f).setParameter("ids",p),i.queryBuilderFactory&&i.queryBuilderFactory(g),{relationCountAttribute:i,results:await g.getRawMany()}}else{let s,o,a,c;i.relation.isOwning?(s=i.relation.joinColumns[0].referencedColumn.databaseName,o=i.relation.inverseJoinColumns[0].referencedColumn.databaseName,a=i.relation.junctionEntityMetadata.columns[0],c=i.relation.junctionEntityMetadata.columns[1]):(s=i.relation.inverseRelation.inverseJoinColumns[0].referencedColumn.databaseName,o=i.relation.inverseRelation.joinColumns[0].referencedColumn.databaseName,a=i.relation.junctionEntityMetadata.columns[1],c=i.relation.junctionEntityMetadata.columns[0]);let u=e.map(D=>D[i.parentAlias+"_"+s]).filter(D=>!!D);if(u=u.filter(t),u.length===0)return{relationCountAttribute:i,results:[]};let l=i.junctionAlias,f=i.joinInverseSideMetadata.tableName,p=i.alias||f,g=i.relation.junctionEntityMetadata.tableName,v=l+"."+a.propertyName+" IN ("+u.map(D=>isNaN(D)?"'"+D+"'":D)+") AND "+l+"."+c.propertyName+" = "+p+"."+o,E=this.connection.createQueryBuilder(this.queryRunner);return E.select(l+"."+a.propertyName,"parentId").addSelect("COUNT("+E.escape(p)+"."+E.escape(o)+")","cnt").from(f,p).innerJoin(g,l,v).addGroupBy(l+"."+a.propertyName),i.queryBuilderFactory&&i.queryBuilderFactory(E),{relationCountAttribute:i,results:await E.getRawMany()}}});return Promise.all(r)}},RR=class{constructor(e){this.expressionMap=e}transform(){this.expressionMap.mainAlias&&this.expressionMap.mainAlias.metadata.relationCounts.forEach(e=>{let t=this.metadataToAttribute(this.expressionMap.mainAlias.name,e);this.expressionMap.relationCountAttributes.push(t)}),this.expressionMap.joinAttributes.forEach(e=>{!e.metadata||e.metadata.isJunction||e.metadata.relationCounts.forEach(t=>{let r=this.metadataToAttribute(e.alias.name,t);this.expressionMap.relationCountAttributes.push(r)})})}metadataToAttribute(e,t){return new Xp(this.expressionMap,{relationName:e+"."+t.relation.propertyName,mapToProperty:e+"."+t.propertyName,alias:t.alias,queryBuilderFactory:t.queryBuilderFactory})}},lE=class{constructor(e){Ye.assign(this,e||{})}get target(){return this.metadata.target}get hasMetadata(){return!!this._metadata}set metadata(e){this._metadata=e}get metadata(){if(!this._metadata)throw new Q(`Cannot get entity metadata for the given alias "${this.name}"`);return this._metadata}},NR=class n{constructor(e){this.connection=e,this.relationLoadStrategy="join",this.queryEntity=!1,this.aliases=[],this.queryType="select",this.selects=[],this.maxExecutionTime=0,this.selectDistinct=!1,this.selectDistinctOn=[],this.extraReturningColumns=[],this.onConflict="",this.onIgnore=!1,this.joinAttributes=[],this.relationIdAttributes=[],this.relationCountAttributes=[],this.wheres=[],this.havings=[],this.orderBys={},this.groupBys=[],this.withDeleted=!1,this.parameters={},this.disableEscaping=!0,this.enableRelationIdValues=!1,this.extraAppendedAndWhereCondition="",this.subQuery=!1,this.aliasNamePrefixingEnabled=!0,this.cache=!1,this.options=[],this.insertColumns=[],this.whereEntities=[],this.updateEntity=!0,this.callListeners=!0,this.useTransaction=!1,this.nativeParameters={},this.locallyGenerated={},this.commonTableExpressions=[],e.options.relationLoadStrategy&&(this.relationLoadStrategy=e.options.relationLoadStrategy)}get allOrderBys(){if(!Object.keys(this.orderBys).length&&this.mainAlias.hasMetadata&&this.options.indexOf("disable-global-order")===-1){let e=this.mainAlias.metadata.orderBy||{};return Object.keys(e).reduce((t,r)=>(t[this.mainAlias.name+"."+r]=e[r],t),{})}return this.orderBys}setMainAlias(e){return this.mainAlias=e,e}createAlias(e){let t=e.name;!t&&e.tablePath&&(t=e.tablePath),!t&&typeof e.target=="function"&&(t=e.target.name),!t&&typeof e.target=="string"&&(t=e.target);let r=new lE;return r.type=e.type,t&&(r.name=t),e.metadata&&(r.metadata=e.metadata),e.target&&!r.hasMetadata&&(r.metadata=this.connection.getMetadata(e.target)),e.tablePath&&(r.tablePath=e.tablePath),e.subQuery&&(r.subQuery=e.subQuery),this.aliases.push(r),r}findAliasByName(e){let t=this.aliases.find(r=>r.name===e);if(!t)throw new Q(`"${e}" alias was not found. Maybe you forgot to join it?`);return t}findColumnByAliasExpression(e){let[t,r]=e.split(".");return this.findAliasByName(t).metadata.findColumnWithPropertyName(r)}get relationMetadata(){if(!this.mainAlias)throw new Q("Entity to work with is not specified!");let e=this.mainAlias.metadata.findRelationWithPropertyPath(this.relationPropertyPath);if(!e)throw new Q(`Relation ${this.relationPropertyPath} was not found in entity ${this.mainAlias.name}`);return e}clone(){let e=new n(this.connection);return e.queryType=this.queryType,e.selects=this.selects.map(t=>t),e.maxExecutionTime=this.maxExecutionTime,e.selectDistinct=this.selectDistinct,e.selectDistinctOn=this.selectDistinctOn,this.aliases.forEach(t=>e.aliases.push(new lE(t))),e.relationLoadStrategy=this.relationLoadStrategy,e.mainAlias=this.mainAlias,e.valuesSet=this.valuesSet,e.returning=this.returning,e.onConflict=this.onConflict,e.onIgnore=this.onIgnore,e.onUpdate=this.onUpdate,e.joinAttributes=this.joinAttributes.map(t=>new uE(this.connection,this,t)),e.relationIdAttributes=this.relationIdAttributes.map(t=>new Zp(this,t)),e.relationCountAttributes=this.relationCountAttributes.map(t=>new Xp(this,t)),e.wheres=this.wheres.map(t=>Z({},t)),e.havings=this.havings.map(t=>Z({},t)),e.orderBys=Object.assign({},this.orderBys),e.groupBys=this.groupBys.map(t=>t),e.limit=this.limit,e.offset=this.offset,e.skip=this.skip,e.take=this.take,e.lockMode=this.lockMode,e.onLocked=this.onLocked,e.lockVersion=this.lockVersion,e.lockTables=this.lockTables,e.withDeleted=this.withDeleted,e.parameters=Object.assign({},this.parameters),e.disableEscaping=this.disableEscaping,e.enableRelationIdValues=this.enableRelationIdValues,e.extraAppendedAndWhereCondition=this.extraAppendedAndWhereCondition,e.subQuery=this.subQuery,e.aliasNamePrefixingEnabled=this.aliasNamePrefixingEnabled,e.cache=this.cache,e.cacheId=this.cacheId,e.cacheDuration=this.cacheDuration,e.relationPropertyPath=this.relationPropertyPath,e.of=this.of,e.insertColumns=this.insertColumns,e.whereEntities=this.whereEntities,e.updateEntity=this.updateEntity,e.callListeners=this.callListeners,e.useTransaction=this.useTransaction,e.nativeParameters=Object.assign({},this.nativeParameters),e.comment=this.comment,e.commonTableExpressions=this.commonTableExpressions.map(t=>({alias:t.alias,queryBuilder:typeof t.queryBuilder=="string"?t.queryBuilder:t.queryBuilder.clone(),options:t.options})),e}},dE=class{constructor(e){this["@instanceof"]=Symbol.for("Brackets"),this.whereFactory=e}},fE=class{constructor(e,t,r=!0,i=!1,s,o){this["@instanceof"]=Symbol.for("FindOperator"),this._type=e,this._value=t,this._useParameter=r,this._multipleParameters=i,this._getSql=s,this._objectLiteralParameters=o}get useParameter(){return _e.isFindOperator(this._value)?this._value.useParameter:this._useParameter}get multipleParameters(){return _e.isFindOperator(this._value)?this._value.multipleParameters:this._multipleParameters}get type(){return this._type}get value(){return _e.isFindOperator(this._value)?this._value.value:this._value}get objectLiteralParameters(){return _e.isFindOperator(this._value)?this._value.objectLiteralParameters:this._objectLiteralParameters}get child(){if(_e.isFindOperator(this._value))return this._value}get getSql(){return _e.isFindOperator(this._value)?this._value.getSql:this._getSql}};function Iet(n){return new fE("in",n,!0,!0)}var Met=/[.*+\-?^${}()|[\]\\]/g,Ret=n=>n.replace(Met,"\\$&"),hc=class{constructor(e,t){this["@instanceof"]=Symbol.for("QueryBuilder"),this.parameterIndex=0,_e.isQueryBuilder(e)?(this.connection=e.connection,this.queryRunner=e.queryRunner,this.expressionMap=e.expressionMap.clone()):(this.connection=e,this.queryRunner=t,this.expressionMap=new NR(this.connection))}get alias(){if(!this.expressionMap.mainAlias)throw new Q("Main alias is not set");return this.expressionMap.mainAlias.name}select(e,t){this.expressionMap.queryType="select",Array.isArray(e)?this.expressionMap.selects=e.map(i=>({selection:i})):e&&(this.expressionMap.selects=[{selection:e,aliasName:t}]);let r=tt.getBy("SelectQueryBuilder");return _e.isSelectQueryBuilder(this)?this:new r(this)}insert(){this.expressionMap.queryType="insert";let e=tt.getBy("InsertQueryBuilder");return _e.isInsertQueryBuilder(this)?this:new e(this)}update(e,t){let r=t||e;if(e=_e.isEntitySchema(e)?e.options.name:e,typeof e=="function"||typeof e=="string"){let s=this.createFromAlias(e);this.expressionMap.setMainAlias(s)}this.expressionMap.queryType="update",this.expressionMap.valuesSet=r;let i=tt.getBy("UpdateQueryBuilder");return _e.isUpdateQueryBuilder(this)?this:new i(this)}delete(){this.expressionMap.queryType="delete";let e=tt.getBy("DeleteQueryBuilder");return _e.isDeleteQueryBuilder(this)?this:new e(this)}softDelete(){this.expressionMap.queryType="soft-delete";let e=tt.getBy("SoftDeleteQueryBuilder");return _e.isSoftDeleteQueryBuilder(this)?this:new e(this)}restore(){this.expressionMap.queryType="restore";let e=tt.getBy("SoftDeleteQueryBuilder");return _e.isSoftDeleteQueryBuilder(this)?this:new e(this)}relation(e,t){let r=arguments.length===2?e:void 0,i=arguments.length===2?t:e;if(this.expressionMap.queryType="relation",this.expressionMap.relationPropertyPath=i,r){let o=this.createFromAlias(r);this.expressionMap.setMainAlias(o)}let s=tt.getBy("RelationQueryBuilder");return _e.isRelationQueryBuilder(this)?this:new s(this)}hasRelation(e,t){let r=this.connection.getMetadata(e);return(Array.isArray(t)?t:[t]).every(s=>!!r.findRelationWithPropertyPath(s))}hasParameter(e){return this.parentQueryBuilder?.hasParameter(e)||e in this.expressionMap.parameters}setParameter(e,t){if(typeof t=="function")throw new Q(`Function parameter isn't supported in the parameters. Please check "${e}" parameter.`);if(!e.match(/^([A-Za-z0-9_.]+)$/))throw new Q("QueryBuilder parameter keys may only contain numbers, letters, underscores, or periods.");return this.parentQueryBuilder&&this.parentQueryBuilder.setParameter(e,t),this.expressionMap.parameters[e]=t,this}setParameters(e){for(let[t,r]of Object.entries(e))this.setParameter(t,r);return this}createParameter(e){let t;do t=`orm_param_${this.parameterIndex++}`;while(this.hasParameter(t));return this.setParameter(t,e),`:${t}`}setNativeParameters(e){return this.parentQueryBuilder&&this.parentQueryBuilder.setNativeParameters(e),Object.keys(e).forEach(t=>{this.expressionMap.nativeParameters[t]=e[t]}),this}getParameters(){let e=Object.assign({},this.expressionMap.parameters);if(this.expressionMap.mainAlias&&this.expressionMap.mainAlias.hasMetadata){let t=this.expressionMap.mainAlias.metadata;if(t.discriminatorColumn&&t.parentEntityMetadata){let r=t.childEntityMetadatas.filter(i=>i.discriminatorColumn).map(i=>i.discriminatorValue);r.push(t.discriminatorValue),e.discriminatorColumnValues=r}}return e}printSql(){let[e,t]=this.getQueryAndParameters();return this.connection.logger.logQuery(e,t),this}getSql(){return this.getQueryAndParameters()[0]}getQueryAndParameters(){let e=this.getQuery(),t=this.getParameters();return this.connection.driver.escapeQueryWithParameters(e,t,this.expressionMap.nativeParameters)}async execute(){let[e,t]=this.getQueryAndParameters(),r=this.obtainQueryRunner();try{return await r.query(e,t)}finally{r!==this.queryRunner&&await r.release()}}createQueryBuilder(){return new this.constructor(this.connection,this.queryRunner)}clone(){return new this.constructor(this)}comment(e){return this.expressionMap.comment=e,this}disableEscaping(){return this.expressionMap.disableEscaping=!1,this}escape(e){return this.expressionMap.disableEscaping?this.connection.driver.escape(e):e}setQueryRunner(e){return this.queryRunner=e,this}callListeners(e){return this.expressionMap.callListeners=e,this}useTransaction(e){return this.expressionMap.useTransaction=e,this}addCommonTableExpression(e,t,r){return this.expressionMap.commonTableExpressions.push({queryBuilder:e,alias:t,options:r||{}}),this}getTableName(e){return e.split(".").map(t=>t===""?t:this.escape(t)).join(".")}getMainTableName(){if(!this.expressionMap.mainAlias)throw new Q('Entity where values should be inserted is not specified. Call "qb.into(entity)" method to specify it.');return this.expressionMap.mainAlias.hasMetadata?this.expressionMap.mainAlias.metadata.tablePath:this.expressionMap.mainAlias.tablePath}createFromAlias(e,t){if(this.connection.hasMetadata(e)){let r=this.connection.getMetadata(e);return this.expressionMap.createAlias({type:"from",name:t,metadata:this.connection.getMetadata(e),tablePath:r.tablePath})}else{if(typeof e=="string"){let s=e.substr(0,1)==="("&&e.substr(-1)===")";return this.expressionMap.createAlias({type:"from",name:t,tablePath:s?void 0:e,subQuery:s?e:void 0})}let r=e(this.subQuery());this.setParameters(r.getParameters());let i=r.getQuery();return this.expressionMap.createAlias({type:"from",name:t,subQuery:i})}}replacePropertyNames(e){for(let t of this.expressionMap.aliases){if(!t.hasMetadata)continue;let r=this.expressionMap.aliasNamePrefixingEnabled?`${t.name}.`:"",i=this.expressionMap.aliasNamePrefixingEnabled?`${this.escape(t.name)}.`:"",s={};for(let o of t.metadata.relations)o.joinColumns.length>0&&(s[o.propertyPath]=o.joinColumns[0].databaseName);for(let o of t.metadata.relations)for(let a of[...o.joinColumns,...o.inverseJoinColumns]){let c=`${o.propertyPath}.${a.referencedColumn.propertyPath}`;s[c]=a.databaseName}for(let o of t.metadata.columns)s[o.databaseName]=o.databaseName;for(let o of t.metadata.columns)s[o.propertyName]=o.databaseName;for(let o of t.metadata.columns)s[o.propertyPath]=o.databaseName;e=e.replace(new RegExp(`([ =(]|^.{0})${Ret(r)}([^ =(),]+)(?=[ =),]|.{0}$)`,"gm"),(o,a,c)=>s[c]?`${a}${i}${this.escape(s[c])}`:o)}return e}createComment(){return this.expressionMap.comment?`/* ${this.expressionMap.comment.replace("*/","")} */ `:""}createWhereExpression(){let e=[],t=this.createWhereClausesExpression(this.expressionMap.wheres);if(t.length>0&&t!=="1=1"&&e.push(this.replacePropertyNames(t)),this.expressionMap.mainAlias.hasMetadata){let r=this.expressionMap.mainAlias.metadata;if(this.expressionMap.queryType==="select"&&!this.expressionMap.withDeleted&&r.deleteDateColumn){let i=this.expressionMap.aliasNamePrefixingEnabled?this.expressionMap.mainAlias.name+"."+r.deleteDateColumn.propertyName:r.deleteDateColumn.propertyName,s=`${this.replacePropertyNames(i)} IS NULL`;e.push(s)}if(r.discriminatorColumn&&r.parentEntityMetadata){let i=this.expressionMap.aliasNamePrefixingEnabled?this.expressionMap.mainAlias.name+"."+r.discriminatorColumn.databaseName:r.discriminatorColumn.databaseName,s=`${this.replacePropertyNames(i)} IN (:...discriminatorColumnValues)`;e.push(s)}}if(this.expressionMap.extraAppendedAndWhereCondition){let r=this.replacePropertyNames(this.expressionMap.extraAppendedAndWhereCondition);e.push(r)}return e.length?e.length===1?` WHERE ${e[0]}`:` WHERE ( ${e.join(" ) AND ( ")} )`:""}createReturningExpression(e){let t=this.getReturningColumns(),r=this.connection.driver;return typeof this.expressionMap.returning!="string"&&this.expressionMap.extraReturningColumns.length>0&&r.isReturningSqlSupported(e)&&t.push(...this.expressionMap.extraReturningColumns.filter(i=>t.indexOf(i)===-1)),t.length?t.map(s=>{let o=this.escape(s.databaseName);return r.options.type==="mssql"?this.expressionMap.queryType==="insert"||this.expressionMap.queryType==="update"||this.expressionMap.queryType==="soft-delete"||this.expressionMap.queryType==="restore"?"INSERTED."+o:this.escape(this.getMainTableName())+"."+o:o}).join(", "):typeof this.expressionMap.returning=="string"?this.expressionMap.returning:""}getReturningColumns(){let e=[];return Array.isArray(this.expressionMap.returning)&&this.expressionMap.returning.forEach(t=>{this.expressionMap.mainAlias.hasMetadata&&e.push(...this.expressionMap.mainAlias.metadata.findColumnsWithPropertyPath(t))}),e}createWhereClausesExpression(e){return e.map((t,r)=>{let i=this.createWhereConditionExpression(t.condition);switch(t.type){case"and":return(r>0?"AND ":"")+i;case"or":return(r>0?"OR ":"")+i}return i}).join(" ").trim()}createWhereConditionExpression(e,t=!1){if(typeof e=="string")return e;if(Array.isArray(e))return e.length===0?"1=1":e.length===1&&!t?this.createWhereClausesExpression(e):"("+this.createWhereClausesExpression(e)+")";let{driver:r}=this.connection;switch(e.operator){case"lessThan":return`${e.parameters[0]} < ${e.parameters[1]}`;case"lessThanOrEqual":return`${e.parameters[0]} <= ${e.parameters[1]}`;case"arrayContains":return`${e.parameters[0]} @> ${e.parameters[1]}`;case"arrayContainedBy":return`${e.parameters[0]} <@ ${e.parameters[1]}`;case"arrayOverlap":return`${e.parameters[0]} && ${e.parameters[1]}`;case"moreThan":return`${e.parameters[0]} > ${e.parameters[1]}`;case"moreThanOrEqual":return`${e.parameters[0]} >= ${e.parameters[1]}`;case"notEqual":return`${e.parameters[0]} != ${e.parameters[1]}`;case"equal":return`${e.parameters[0]} = ${e.parameters[1]}`;case"ilike":return r.options.type==="postgres"||r.options.type==="cockroachdb"?`${e.parameters[0]} ILIKE ${e.parameters[1]}`:`UPPER(${e.parameters[0]}) LIKE UPPER(${e.parameters[1]})`;case"like":return`${e.parameters[0]} LIKE ${e.parameters[1]}`;case"between":return`${e.parameters[0]} BETWEEN ${e.parameters[1]} AND ${e.parameters[2]}`;case"in":return e.parameters.length<=1?"0=1":`${e.parameters[0]} IN (${e.parameters.slice(1).join(", ")})`;case"any":return`${e.parameters[0]} = ANY(${e.parameters[1]})`;case"isNull":return`${e.parameters[0]} IS NULL`;case"not":return`NOT(${this.createWhereConditionExpression(e.condition)})`;case"brackets":return`${this.createWhereConditionExpression(e.condition,!0)}`}throw new TypeError(`Unsupported FindOperator ${fE.constructor.name}`)}createCteExpression(){if(!this.hasCommonTableExpressions())return"";let e=this.connection.driver.cteCapabilities.requiresRecursiveHint;return"WITH "+this.expressionMap.commonTableExpressions.map(r=>{let i=typeof r.queryBuilder=="string"?r.queryBuilder:r.queryBuilder.getQuery();if(typeof r.queryBuilder!="string"){if(r.queryBuilder.hasCommonTableExpressions())throw new Q(`Nested CTEs aren't supported (CTE: ${r.alias})`);if(!this.connection.driver.cteCapabilities.writable&&!_e.isSelectQueryBuilder(r.queryBuilder))throw new Q(`Only select queries are supported in CTEs in ${this.connection.options.type} (CTE: ${r.alias})`);this.setParameters(r.queryBuilder.getParameters())}let s=this.escape(r.alias);if(r.options.columnNames){let c=r.options.columnNames.map(u=>this.escape(u));if(_e.isSelectQueryBuilder(r.queryBuilder)&&r.queryBuilder.expressionMap.selects.length&&r.options.columnNames.length!==r.queryBuilder.expressionMap.selects.length)throw new Q(`cte.options.columnNames length (${r.options.columnNames.length}) doesn't match subquery select list length ${r.queryBuilder.expressionMap.selects.length} (CTE: ${r.alias})`);s+=`(${c.join(", ")})`}let o=r.options.recursive&&e?"RECURSIVE":"",a=r.options.materialized&&this.connection.driver.cteCapabilities.materializedHint?"MATERIALIZED":"";return[o,s,a,"AS",`(${i})`].filter(Boolean).join(" ")}).join(", ")+" "}getWhereInIdsCondition(e){let t=this.expressionMap.mainAlias.metadata,r=(Array.isArray(e)?e:[e]).map(i=>t.ensureEntityIdMap(i));if(!t.hasMultiplePrimaryKeys){let i=t.primaryColumns[0];if(!i.transformer&&!i.relationMetadata&&!i.embeddedMetadata)return{[i.propertyName]:Iet(r.map(s=>i.getEntityValue(s,!1)))}}return new dE(i=>{for(let s of r)i.orWhere(new dE(o=>o.where(s)))})}findColumnsForPropertyPath(e){let t=this.expressionMap.mainAlias,r=[],i=e.split(".");for(;i.length>1;){let a=i[0];if(!t?.hasMetadata)break;if(t.metadata.hasEmbeddedWithPropertyPath(a)){i.unshift(`${i.shift()}.${i.shift()}`);continue}if(t.metadata.hasRelationWithPropertyPath(a)){let c=this.expressionMap.joinAttributes.find(u=>u.relationPropertyPath===a);if(!c?.alias){let u=r.length>0?`${r.join(".")}.${a}`:a;throw new Error(`Cannot find alias for relation at ${u}`)}t=c.alias,r.push(...a.split(".")),i.shift();continue}break}if(!t)throw new Error(`Cannot find alias for property ${e}`);let s=i.join("."),o=t.metadata.findColumnsWithPropertyPath(s);if(!o.length)throw new Do(e,t.metadata);return[t,r,o]}createPropertyPath(e,t,r=""){let i=[];for(let s of Object.keys(t)){let o=r?`${r}.${s}`:s;if(t[s]===null||typeof t[s]!="object"||_e.isFindOperator(t[s])){i.push(o);continue}if(e.hasEmbeddedWithPropertyPath(o)){let a=this.createPropertyPath(e,t[s],o);i.push(...a);continue}if(e.hasRelationWithPropertyPath(o)){let a=e.findRelationWithPropertyPath(o);if(a.relationType==="one-to-one"||a.relationType==="many-to-one"){let f=a.joinColumns.map(g=>g.referencedColumn).filter(g=>!!g);if(f.length>0&&f.every(g=>g.getEntityValue(t[s],!1))){i.push(o);continue}}if(a.relationType==="one-to-many"||a.relationType==="many-to-many")throw new Error(`Cannot query across ${a.relationType} for property ${o}`);let c=a.inverseEntityMetadata.primaryColumns;if(c.length>0&&c.every(f=>f.getEntityValue(t[s],!1))){let f=c.map(p=>`${o}.${p.propertyPath}`);i.push(...f);continue}let l=this.createPropertyPath(a.inverseEntityMetadata,t[s]).map(f=>`${o}.${f}`);i.push(...l);continue}i.push(o)}return i}*getPredicates(e){if(this.expressionMap.mainAlias.hasMetadata){let t=this.createPropertyPath(this.expressionMap.mainAlias.metadata,e);for(let r of t){let[i,s,o]=this.findColumnsForPropertyPath(r);for(let a of o){let c=e;for(let f of s){if(!c||!(f in c)){c={};break}c=c[f]}let u=this.expressionMap.aliasNamePrefixingEnabled?`${i.name}.${a.propertyPath}`:a.propertyPath,l=a.getEntityValue(c,!0);yield[u,l]}}}else for(let t of Object.keys(e)){let r=e[t];yield[this.expressionMap.aliasNamePrefixingEnabled?`${this.alias}.${t}`:t,r]}}getWherePredicateCondition(e,t){if(_e.isFindOperator(t)){let r=[];if(t.useParameter)if(t.objectLiteralParameters)this.setParameters(t.objectLiteralParameters);else if(t.multipleParameters)for(let i of t.value)r.push(this.createParameter(i));else r.push(this.createParameter(t.value));return t.type==="raw"?t.getSql?t.getSql(e):{operator:"equal",parameters:[e,t.value]}:t.type==="not"?t.child?{operator:t.type,condition:this.getWherePredicateCondition(e,t.child)}:{operator:"notEqual",parameters:[e,...r]}:{operator:t.type,parameters:[e,...r]}}else return{operator:"equal",parameters:[e,this.createParameter(t)]}}getWhereCondition(e){if(typeof e=="string")return e;if(_e.isBrackets(e)){let i=this.createQueryBuilder();return i.parentQueryBuilder=this,i.expressionMap.mainAlias=this.expressionMap.mainAlias,i.expressionMap.aliasNamePrefixingEnabled=this.expressionMap.aliasNamePrefixingEnabled,i.expressionMap.parameters=this.expressionMap.parameters,i.expressionMap.nativeParameters=this.expressionMap.nativeParameters,i.expressionMap.wheres=[],e.whereFactory(i),{operator:_e.isNotBrackets(e)?"not":"brackets",condition:i.expressionMap.wheres}}if(typeof e=="function")return e(this);let t=Array.isArray(e)?e:[e],r=[];for(let i of t){let s=[];for(let[o,a]of this.getPredicates(i))s.push({type:"and",condition:this.getWherePredicateCondition(o,a)});r.push({type:"or",condition:s})}return r.length===1?r[0].condition:r}obtainQueryRunner(){return this.queryRunner||this.connection.createQueryRunner()}hasCommonTableExpressions(){return this.expressionMap.commonTableExpressions.length>0}},OR,Gp=OR=class extends hc{constructor(){super(...arguments),this["@instanceof"]=Symbol.for("SelectQueryBuilder"),this.findOptions={},this.selects=[],this.joins=[],this.conditions="",this.orderBys=[],this.relationMetadatas=[]}getQuery(){let e=this.createComment();return e+=this.createCteExpression(),e+=this.createSelectExpression(),e+=this.createJoinExpression(),e+=this.createWhereExpression(),e+=this.createGroupByExpression(),e+=this.createHavingExpression(),e+=this.createOrderByExpression(),e+=this.createLimitOffsetExpression(),e+=this.createLockExpression(),e=e.trim(),this.expressionMap.subQuery&&(e="("+e+")"),e}setFindOptions(e){return this.findOptions=e,this.applyFindOptions(),this}subQuery(){let e=this.createQueryBuilder();return e.expressionMap.subQuery=!0,e.parentQueryBuilder=this,e}select(e,t){if(this.expressionMap.queryType="select",Array.isArray(e))this.expressionMap.selects=e.map(r=>({selection:r}));else if(typeof e=="function"){let r=e(this.subQuery());this.setParameters(r.getParameters()),this.expressionMap.selects.push({selection:r.getQuery(),aliasName:t})}else e&&(this.expressionMap.selects=[{selection:e,aliasName:t}]);return this}addSelect(e,t){if(!e)return this;if(Array.isArray(e))this.expressionMap.selects=this.expressionMap.selects.concat(e.map(r=>({selection:r})));else if(typeof e=="function"){let r=e(this.subQuery());this.setParameters(r.getParameters()),this.expressionMap.selects.push({selection:r.getQuery(),aliasName:t})}else e&&this.expressionMap.selects.push({selection:e,aliasName:t});return this}maxExecutionTime(e){return this.expressionMap.maxExecutionTime=e,this}distinct(e=!0){return this.expressionMap.selectDistinct=e,this}distinctOn(e){return this.expressionMap.selectDistinctOn=e,this}from(e,t){let r=this.createFromAlias(e,t);return this.expressionMap.setMainAlias(r),this}addFrom(e,t){let r=this.createFromAlias(e,t);return this.expressionMap.mainAlias||this.expressionMap.setMainAlias(r),this}innerJoin(e,t,r,i){return this.join("INNER",e,t,r,i),this}leftJoin(e,t,r,i){return this.join("LEFT",e,t,r,i),this}innerJoinAndSelect(e,t,r,i){return this.addSelect(t),this.innerJoin(e,t,r,i),this}leftJoinAndSelect(e,t,r,i){return this.addSelect(t),this.leftJoin(e,t,r,i),this}innerJoinAndMapMany(e,t,r,i,s){return this.addSelect(r),this.join("INNER",t,r,i,s,e,!0),this}innerJoinAndMapOne(e,t,r,i,s){return this.addSelect(r),this.join("INNER",t,r,i,s,e,!1),this}leftJoinAndMapMany(e,t,r,i,s){return this.addSelect(r),this.join("LEFT",t,r,i,s,e,!0),this}leftJoinAndMapOne(e,t,r,i,s){return this.addSelect(r),this.join("LEFT",t,r,i,s,e,!1),this}loadRelationIdAndMap(e,t,r,i){let s=new Zp(this.expressionMap);return s.mapToProperty=e,s.relationName=t,typeof r=="string"&&(s.alias=r),typeof r=="object"&&r.disableMixedMap&&(s.disableMixedMap=!0),s.queryBuilderFactory=i,this.expressionMap.relationIdAttributes.push(s),s.relation.junctionEntityMetadata&&this.expressionMap.createAlias({type:"other",name:s.junctionAlias,metadata:s.relation.junctionEntityMetadata}),this}loadRelationCountAndMap(e,t,r,i){let s=new Xp(this.expressionMap);return s.mapToProperty=e,s.relationName=t,s.alias=r,s.queryBuilderFactory=i,this.expressionMap.relationCountAttributes.push(s),this.expressionMap.createAlias({type:"other",name:s.junctionAlias}),s.relation.junctionEntityMetadata&&this.expressionMap.createAlias({type:"other",name:s.junctionAlias,metadata:s.relation.junctionEntityMetadata}),this}loadAllRelationIds(e){return this.expressionMap.mainAlias.metadata.relations.forEach(t=>{e!==void 0&&e.relations!==void 0&&e.relations.indexOf(t.propertyPath)===-1||this.loadRelationIdAndMap(this.expressionMap.mainAlias.name+"."+t.propertyPath,this.expressionMap.mainAlias.name+"."+t.propertyPath,e)}),this}where(e,t){this.expressionMap.wheres=[];let r=this.getWhereCondition(e);return r&&(this.expressionMap.wheres=[{type:"simple",condition:r}]),t&&this.setParameters(t),this}andWhere(e,t){return this.expressionMap.wheres.push({type:"and",condition:this.getWhereCondition(e)}),t&&this.setParameters(t),this}orWhere(e,t){return this.expressionMap.wheres.push({type:"or",condition:this.getWhereCondition(e)}),t&&this.setParameters(t),this}whereInIds(e){return this.where(this.getWhereInIdsCondition(e))}andWhereInIds(e){return this.andWhere(this.getWhereInIdsCondition(e))}orWhereInIds(e){return this.orWhere(this.getWhereInIdsCondition(e))}having(e,t){return this.expressionMap.havings.push({type:"simple",condition:e}),t&&this.setParameters(t),this}andHaving(e,t){return this.expressionMap.havings.push({type:"and",condition:e}),t&&this.setParameters(t),this}orHaving(e,t){return this.expressionMap.havings.push({type:"or",condition:e}),t&&this.setParameters(t),this}groupBy(e){return e?this.expressionMap.groupBys=[e]:this.expressionMap.groupBys=[],this}addGroupBy(e){return this.expressionMap.groupBys.push(e),this}orderBy(e,t="ASC",r){if(t!==void 0&&t!=="ASC"&&t!=="DESC")throw new Q('SelectQueryBuilder.addOrderBy "order" can accept only "ASC" and "DESC" values.');if(r!==void 0&&r!=="NULLS FIRST"&&r!=="NULLS LAST")throw new Q('SelectQueryBuilder.addOrderBy "nulls" can accept only "NULLS FIRST" and "NULLS LAST" values.');return e?typeof e=="object"?this.expressionMap.orderBys=e:r?this.expressionMap.orderBys={[e]:{order:t,nulls:r}}:this.expressionMap.orderBys={[e]:t}:this.expressionMap.orderBys={},this}addOrderBy(e,t="ASC",r){if(t!==void 0&&t!=="ASC"&&t!=="DESC")throw new Q('SelectQueryBuilder.addOrderBy "order" can accept only "ASC" and "DESC" values.');if(r!==void 0&&r!=="NULLS FIRST"&&r!=="NULLS LAST")throw new Q('SelectQueryBuilder.addOrderBy "nulls" can accept only "NULLS FIRST" and "NULLS LAST" values.');return r?this.expressionMap.orderBys[e]={order:t,nulls:r}:this.expressionMap.orderBys[e]=t,this}limit(e){if(this.expressionMap.limit=this.normalizeNumber(e),this.expressionMap.limit!==void 0&&isNaN(this.expressionMap.limit))throw new Q('Provided "limit" value is not a number. Please provide a numeric value.');return this}offset(e){if(this.expressionMap.offset=this.normalizeNumber(e),this.expressionMap.offset!==void 0&&isNaN(this.expressionMap.offset))throw new Q('Provided "offset" value is not a number. Please provide a numeric value.');return this}take(e){if(this.expressionMap.take=this.normalizeNumber(e),this.expressionMap.take!==void 0&&isNaN(this.expressionMap.take))throw new Q('Provided "take" value is not a number. Please provide a numeric value.');return this}skip(e){if(this.expressionMap.skip=this.normalizeNumber(e),this.expressionMap.skip!==void 0&&isNaN(this.expressionMap.skip))throw new Q('Provided "skip" value is not a number. Please provide a numeric value.');return this}useIndex(e){return this.expressionMap.useIndex=e,this}setLock(e,t,r){return this.expressionMap.lockMode=e,this.expressionMap.lockVersion=t,this.expressionMap.lockTables=r,this}setOnLocked(e){return this.expressionMap.onLocked=e,this}withDeleted(){return this.expressionMap.withDeleted=!0,this}async getRawOne(){return(await this.getRawMany())[0]}async getRawMany(){if(this.expressionMap.lockMode==="optimistic")throw new Ld;this.expressionMap.queryEntity=!1;let e=this.obtainQueryRunner(),t=!1;try{this.expressionMap.useTransaction===!0&&e.isTransactionActive===!1&&(await e.startTransaction(),t=!0);let r=await this.loadRawResults(e);return t&&await e.commitTransaction(),r}catch(r){if(t)try{await e.rollbackTransaction()}catch{}throw r}finally{e!==this.queryRunner&&await e.release()}}async getRawAndEntities(){let e=this.obtainQueryRunner(),t=!1;try{this.expressionMap.useTransaction===!0&&e.isTransactionActive===!1&&(await e.startTransaction(),t=!0),this.expressionMap.queryEntity=!0;let r=await this.executeEntitiesAndRawResults(e);return t&&await e.commitTransaction(),r}catch(r){if(t)try{await e.rollbackTransaction()}catch{}throw r}finally{e!==this.queryRunner&&await e.release()}}async getOne(){let t=(await this.getRawAndEntities()).entities[0];if(t&&this.expressionMap.lockMode==="optimistic"&&this.expressionMap.lockVersion){let r=this.expressionMap.mainAlias.metadata;if(this.expressionMap.lockVersion instanceof Date){let i=r.updateDateColumn.getEntityValue(t);if(i.getTime()!==this.expressionMap.lockVersion.getTime())throw new W_(r.name,this.expressionMap.lockVersion,i)}else{let i=r.versionColumn.getEntityValue(t);if(i!==this.expressionMap.lockVersion)throw new W_(r.name,this.expressionMap.lockVersion,i)}}return t===void 0?null:t}async getOneOrFail(){let e=await this.getOne();if(!e)throw new Kp(this.expressionMap.mainAlias.target,this);return e}async getMany(){if(this.expressionMap.lockMode==="optimistic")throw new Ld;return(await this.getRawAndEntities()).entities}async getCount(){if(this.expressionMap.lockMode==="optimistic")throw new Ld;let e=this.obtainQueryRunner(),t=!1;try{this.expressionMap.useTransaction===!0&&e.isTransactionActive===!1&&(await e.startTransaction(),t=!0),this.expressionMap.queryEntity=!1;let r=await this.executeCountQuery(e);return t&&await e.commitTransaction(),r}catch(r){if(t)try{await e.rollbackTransaction()}catch{}throw r}finally{e!==this.queryRunner&&await e.release()}}async getManyAndCount(){if(this.expressionMap.lockMode==="optimistic")throw new Ld;let e=this.obtainQueryRunner(),t=!1;try{this.expressionMap.useTransaction===!0&&e.isTransactionActive===!1&&(await e.startTransaction(),t=!0),this.expressionMap.queryEntity=!0;let r=await this.executeEntitiesAndRawResults(e);this.expressionMap.queryEntity=!1;let i=this.expressionMap.cacheId;this.expressionMap.cacheId=i&&`${i}-count`;let s=await this.executeCountQuery(e),o=[r.entities,s];return t&&await e.commitTransaction(),o}catch(r){if(t)try{await e.rollbackTransaction()}catch{}throw r}finally{e!==this.queryRunner&&await e.release()}}cache(e,t){return typeof e=="boolean"?this.expressionMap.cache=e:typeof e=="number"?(this.expressionMap.cache=!0,this.expressionMap.cacheDuration=e):(typeof e=="string"||typeof e=="number")&&(this.expressionMap.cache=!0,this.expressionMap.cacheId=e),t&&(this.expressionMap.cacheDuration=t),this}setOption(e){return this.expressionMap.options.push(e),this}join(e,t,r,i,s,o,a){this.setParameters(s||{});let c=new uE(this.connection,this.expressionMap);if(c.direction=e,c.mapToProperty=o,c.isMappingMany=a,c.entityOrProperty=t,c.condition=i||void 0,this.expressionMap.joinAttributes.push(c),c.metadata){if(c.metadata.deleteDateColumn&&!this.expressionMap.withDeleted){let u=`${r}.${c.metadata.deleteDateColumn.propertyName} IS NULL`;c.condition=c.condition?` ${c.condition} AND ${u}`:`${u}`}c.alias=this.expressionMap.createAlias({type:"join",name:r,metadata:c.metadata}),c.relation&&c.relation.junctionEntityMetadata&&this.expressionMap.createAlias({type:"join",name:c.junctionAlias,metadata:c.relation.junctionEntityMetadata})}else{let u="";if(typeof t=="function"){let f=t(this.subQuery());this.setParameters(f.getParameters()),u=f.getQuery()}else u=t;let l=typeof t=="function"||t.substr(0,1)==="("&&t.substr(-1)===")";c.alias=this.expressionMap.createAlias({type:"join",name:r,tablePath:l===!1?t:void 0,subQuery:l===!0?u:void 0})}}createSelectExpression(){if(!this.expressionMap.mainAlias)throw new Q("Cannot build query because main alias is not set (call qb#from method)");let e=[],t=[];if(this.expressionMap.mainAlias.hasMetadata){let a=this.expressionMap.mainAlias.metadata;e.push(...this.buildEscapedEntityColumnSelects(this.expressionMap.mainAlias.name,a)),t.push(...this.findEntityColumnSelects(this.expressionMap.mainAlias.name,a))}this.expressionMap.joinAttributes.forEach(a=>{if(a.metadata)e.push(...this.buildEscapedEntityColumnSelects(a.alias.name,a.metadata)),t.push(...this.findEntityColumnSelects(a.alias.name,a.metadata));else if(this.expressionMap.selects.some(u=>u.selection===a.alias.name)){e.push({selection:this.escape(a.alias.name)+".*"});let u=this.expressionMap.selects.find(l=>l.selection===a.alias.name);t.push(u)}}),this.expressionMap.selects.filter(a=>t.indexOf(a)===-1).forEach(a=>e.push({selection:this.replacePropertyNames(a.selection),aliasName:a.aliasName})),e.length===0&&e.push({selection:"*"});let r="";this.expressionMap.useIndex&&Ae.isMySQLFamily(this.connection.driver)&&(r=` USE INDEX (${this.expressionMap.useIndex})`);let i=this.expressionMap.aliases.filter(a=>a.type==="from"&&(a.tablePath||a.subQuery)).map(a=>a.subQuery?a.subQuery+" "+this.escape(a.name):this.getTableName(a.tablePath)+" "+this.escape(a.name)),s=this.createSelectDistinctExpression(),o=e.map(a=>a.selection+(a.aliasName?" AS "+this.escape(a.aliasName):"")).join(", ");return s+o+" FROM "+i.join(", ")+this.createTableLockExpression()+r}createSelectDistinctExpression(){let{selectDistinct:e,selectDistinctOn:t,maxExecutionTime:r}=this.expressionMap,{driver:i}=this.connection,s="SELECT ";return r>0&&Ae.isMySQLFamily(i)&&(s+=`/*+ MAX_EXECUTION_TIME(${this.expressionMap.maxExecutionTime}) */ `),Ae.isPostgresFamily(i)&&t.length>0?s=`SELECT DISTINCT ON (${t.map(a=>this.replacePropertyNames(a)).join(", ")}) `:e&&(s="SELECT DISTINCT "),s}createJoinExpression(){return this.expressionMap.joinAttributes.map(t=>{let r=t.relation,i=t.tablePath,s=t.alias.name,o=t.condition?" AND ("+t.condition+")":"",a=t.parentAlias;if(!a||!r){let c=t.alias.subQuery?t.alias.subQuery:this.getTableName(i);return" "+t.direction+" JOIN "+c+" "+this.escape(s)+this.createTableLockExpression()+(t.condition?" ON "+this.replacePropertyNames(t.condition):"")}if(r.isManyToOne||r.isOneToOneOwner){let c=r.joinColumns.map(u=>s+"."+u.referencedColumn.propertyPath+"="+a+"."+r.propertyPath+"."+u.referencedColumn.propertyPath).join(" AND ");return" "+t.direction+" JOIN "+this.getTableName(i)+" "+this.escape(s)+this.createTableLockExpression()+" ON "+this.replacePropertyNames(c+o)}else if(r.isOneToMany||r.isOneToOneNotOwner){let c=r.inverseRelation.joinColumns.map(u=>(r.inverseEntityMetadata.tableType==="entity-child"&&r.inverseEntityMetadata.discriminatorColumn&&(o+=" AND "+s+"."+r.inverseEntityMetadata.discriminatorColumn.databaseName+"='"+r.inverseEntityMetadata.discriminatorValue+"'"),s+"."+r.inverseRelation.propertyPath+"."+u.referencedColumn.propertyPath+"="+a+"."+u.referencedColumn.propertyPath)).join(" AND ");return" "+t.direction+" JOIN "+this.getTableName(i)+" "+this.escape(s)+this.createTableLockExpression()+" ON "+this.replacePropertyNames(c+o)}else{let c=r.junctionEntityMetadata.tablePath,u=t.junctionAlias,l="",f="";return r.isOwning?(l=r.joinColumns.map(p=>u+"."+p.propertyPath+"="+a+"."+p.referencedColumn.propertyPath).join(" AND "),f=r.inverseJoinColumns.map(p=>s+"."+p.referencedColumn.propertyPath+"="+u+"."+p.propertyPath).join(" AND ")):(l=r.inverseRelation.inverseJoinColumns.map(p=>u+"."+p.propertyPath+"="+a+"."+p.referencedColumn.propertyPath).join(" AND "),f=r.inverseRelation.joinColumns.map(p=>s+"."+p.referencedColumn.propertyPath+"="+u+"."+p.propertyPath).join(" AND "))," "+t.direction+" JOIN "+this.getTableName(c)+" "+this.escape(u)+this.createTableLockExpression()+" ON "+this.replacePropertyNames(l)+" "+t.direction+" JOIN "+this.getTableName(i)+" "+this.escape(s)+this.createTableLockExpression()+" ON "+this.replacePropertyNames(f+o)}}).join(" ")}createGroupByExpression(){return!this.expressionMap.groupBys||!this.expressionMap.groupBys.length?"":" GROUP BY "+this.replacePropertyNames(this.expressionMap.groupBys.join(", "))}createOrderByExpression(){let e=this.expressionMap.allOrderBys;return Object.keys(e).length>0?" ORDER BY "+Object.keys(e).map(t=>typeof e[t]=="string"?this.replacePropertyNames(t)+" "+e[t]:this.replacePropertyNames(t)+" "+e[t].order+" "+e[t].nulls).join(", "):""}createLimitOffsetExpression(){let e=this.expressionMap.offset,t=this.expressionMap.limit;if(!e&&!t&&this.expressionMap.joinAttributes.length===0&&(e=this.expressionMap.skip,t=this.expressionMap.take),this.connection.driver.options.type==="mssql"){let r="";if((t||e)&&Object.keys(this.expressionMap.allOrderBys).length<=0&&(r=" ORDER BY (SELECT NULL)"),t&&e)return r+" OFFSET "+e+" ROWS FETCH NEXT "+t+" ROWS ONLY";if(t)return r+" OFFSET 0 ROWS FETCH NEXT "+t+" ROWS ONLY";if(e)return r+" OFFSET "+e+" ROWS"}else if(Ae.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"||this.connection.driver.options.type==="sap"||this.connection.driver.options.type==="spanner"){if(t&&e)return" LIMIT "+t+" OFFSET "+e;if(t)return" LIMIT "+t;if(e)throw new VM}else if(Ae.isSQLiteFamily(this.connection.driver)){if(t&&e)return" LIMIT "+t+" OFFSET "+e;if(t)return" LIMIT "+t;if(e)return" LIMIT -1 OFFSET "+e}else if(this.connection.driver.options.type==="oracle"){if(t&&e)return" OFFSET "+e+" ROWS FETCH NEXT "+t+" ROWS ONLY";if(t)return" FETCH NEXT "+t+" ROWS ONLY";if(e)return" OFFSET "+e+" ROWS"}else{if(t&&e)return" LIMIT "+t+" OFFSET "+e;if(t)return" LIMIT "+t;if(e)return" OFFSET "+e}return""}createTableLockExpression(){if(this.connection.driver.options.type==="mssql")switch(this.expressionMap.lockMode){case"pessimistic_read":return" WITH (HOLDLOCK, ROWLOCK)";case"pessimistic_write":return" WITH (UPDLOCK, ROWLOCK)";case"dirty_read":return" WITH (NOLOCK)"}return""}createLockExpression(){let e=this.connection.driver,t="";if(this.expressionMap.lockTables){if(!(Ae.isPostgresFamily(e)||e.options.type==="cockroachdb"))throw new Q("Lock tables not supported in selected driver");if(this.expressionMap.lockTables.length<1)throw new Q("lockTables cannot be an empty array");t=" OF "+this.expressionMap.lockTables.join(", ")}let r="";switch(this.expressionMap.onLocked==="nowait"?r=" NOWAIT":this.expressionMap.onLocked==="skip_locked"&&(r=" SKIP LOCKED"),this.expressionMap.lockMode){case"pessimistic_read":if(e.options.type==="mysql"||e.options.type==="aurora-mysql")return Ae.isReleaseVersionOrGreater(e,"8.0.0")?" FOR SHARE"+t+r:" LOCK IN SHARE MODE";if(e.options.type==="mariadb")return" LOCK IN SHARE MODE";if(Ae.isPostgresFamily(e))return" FOR SHARE"+t+r;if(e.options.type==="oracle")return" FOR UPDATE";if(e.options.type==="mssql")return"";throw new uc;case"pessimistic_write":if(Ae.isMySQLFamily(e)||e.options.type==="aurora-mysql"||e.options.type==="oracle")return" FOR UPDATE"+r;if(Ae.isPostgresFamily(e)||e.options.type==="cockroachdb")return" FOR UPDATE"+t+r;if(e.options.type==="mssql")return"";throw new uc;case"pessimistic_partial_write":if(Ae.isPostgresFamily(e))return" FOR UPDATE"+t+" SKIP LOCKED";if(Ae.isMySQLFamily(e))return" FOR UPDATE SKIP LOCKED";throw new uc;case"pessimistic_write_or_fail":if(Ae.isPostgresFamily(e)||e.options.type==="cockroachdb")return" FOR UPDATE"+t+" NOWAIT";if(Ae.isMySQLFamily(e))return" FOR UPDATE NOWAIT";throw new uc;case"for_no_key_update":if(Ae.isPostgresFamily(e)||e.options.type==="cockroachdb")return" FOR NO KEY UPDATE"+t+r;throw new uc;case"for_key_share":if(Ae.isPostgresFamily(e))return" FOR KEY SHARE"+t+r;throw new uc;default:return""}}createHavingExpression(){if(!this.expressionMap.havings||!this.expressionMap.havings.length)return"";let e=this.expressionMap.havings.map((t,r)=>{switch(t.type){case"and":return(r>0?"AND ":"")+this.replacePropertyNames(t.condition);case"or":return(r>0?"OR ":"")+this.replacePropertyNames(t.condition);default:return this.replacePropertyNames(t.condition)}}).join(" ");return e.length?" HAVING "+e:""}buildEscapedEntityColumnSelects(e,t){let r=this.expressionMap.selects.some(u=>u.selection===e),i=[];if(r&&i.push(...t.columns.filter(u=>u.isSelect===!0)),i.push(...t.columns.filter(u=>this.expressionMap.selects.some(l=>l.selection===e+"."+u.propertyPath))),i.length===0)return[];let s=this.expressionMap.queryEntity?t.primaryColumns.filter(u=>i.indexOf(u)===-1):[],o=[...i,...s],a=[],c=this.escape(e);return o.forEach(u=>{let l=c+"."+this.escape(u.databaseName);u.isVirtualProperty&&u.query&&(l=`(${u.query(c)})`),this.connection.driver.spatialTypes.indexOf(u.type);let f=this.expressionMap.selects.filter(p=>p.selection===e+"."+u.propertyPath);f.length?f.forEach(p=>{a.push({selection:l,aliasName:p.aliasName?p.aliasName:Ae.buildAlias(this.connection.driver,e,u.databaseName),virtual:p.virtual})}):a.push({selection:l,aliasName:Ae.buildAlias(this.connection.driver,e,u.databaseName),virtual:r})}),a}findEntityColumnSelects(e,t){let r=this.expressionMap.selects.find(i=>i.selection===e);return r?[r]:this.expressionMap.selects.filter(i=>t.columns.some(s=>i.selection===e+"."+s.propertyPath))}computeCountExpression(){let e=this.expressionMap.mainAlias.name,r=this.expressionMap.mainAlias.metadata.primaryColumns,i=this.escape(e);if(this.expressionMap.joinAttributes.length===0&&this.expressionMap.relationIdAttributes.length===0&&this.expressionMap.relationCountAttributes.length===0)return"COUNT(1)";if(this.connection.driver.options.type==="cockroachdb"||Ae.isPostgresFamily(this.connection.driver))return"COUNT(DISTINCT("+r.map(s=>`${i}.${this.escape(s.databaseName)}`).join(", ")+"))";if(Ae.isMySQLFamily(this.connection.driver))return"COUNT(DISTINCT "+r.map(s=>`${i}.${this.escape(s.databaseName)}`).join(", ")+")";if(this.connection.driver.options.type==="mssql"){let s=r.map(o=>`${i}.${this.escape(o.databaseName)}`).join(", '|;|', ");return r.length===1?`COUNT(DISTINCT(${s}))`:`COUNT(DISTINCT(CONCAT(${s})))`}return this.connection.driver.options.type==="spanner"?r.length===1?`COUNT(DISTINCT(${i}.${this.escape(r[0].databaseName)}))`:`COUNT(DISTINCT(CONCAT(${r.map(o=>`CAST(${i}.${this.escape(o.databaseName)} AS STRING)`).join(", '|;|', ")})))`:"COUNT(DISTINCT("+r.map(s=>`${i}.${this.escape(s.databaseName)}`).join(" || '|;|' || ")+"))"}async executeCountQuery(e){let t=this.computeCountExpression(),r=await this.clone().orderBy().groupBy().offset(void 0).limit(void 0).skip(void 0).take(void 0).select(t,"cnt").setOption("disable-global-order").loadRawResults(e);return!r||!r[0]||!r[0].cnt?0:parseInt(r[0].cnt)}applyFindOptions(){if(this.expressionMap.mainAlias.metadata){if(this.findOptions.relationLoadStrategy&&(this.expressionMap.relationLoadStrategy=this.findOptions.relationLoadStrategy),this.findOptions.comment&&this.comment(this.findOptions.comment),this.findOptions.withDeleted&&this.withDeleted(),this.findOptions.select){let e=Array.isArray(this.findOptions.select)?yt.propertyPathsToTruthyObject(this.findOptions.select):this.findOptions.select;this.buildSelect(e,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name)}if(this.selects.length&&this.select(this.selects),this.selects=[],this.findOptions.relations){let e=Array.isArray(this.findOptions.relations)?yt.propertyPathsToTruthyObject(this.findOptions.relations):this.findOptions.relations;this.buildRelations(e,typeof this.findOptions.select=="object"?this.findOptions.select:void 0,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name),this.findOptions.loadEagerRelations!==!1&&this.expressionMap.relationLoadStrategy==="join"&&this.buildEagerRelations(e,typeof this.findOptions.select=="object"?this.findOptions.select:void 0,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name)}if(this.selects.length&&this.addSelect(this.selects),this.findOptions.where&&(this.conditions=this.buildWhere(this.findOptions.where,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name),this.conditions.length&&this.andWhere(this.conditions.substr(0,1)!=="("?"("+this.conditions+")":this.conditions)),this.findOptions.order&&this.buildOrder(this.findOptions.order,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name),this.joins.length&&this.joins.forEach(e=>{e.select&&!e.selection?e.type==="inner"?this.innerJoinAndSelect(`${e.parentAlias}.${e.relationMetadata.propertyPath}`,e.alias):this.leftJoinAndSelect(`${e.parentAlias}.${e.relationMetadata.propertyPath}`,e.alias):e.type==="inner"?this.innerJoin(`${e.parentAlias}.${e.relationMetadata.propertyPath}`,e.alias):this.leftJoin(`${e.parentAlias}.${e.relationMetadata.propertyPath}`,e.alias)}),this.findOptions.skip!==void 0&&this.skip(this.findOptions.skip),this.findOptions.take!==void 0&&this.take(this.findOptions.take),typeof this.findOptions.cache=="number"?this.cache(this.findOptions.cache):typeof this.findOptions.cache=="boolean"?this.cache(this.findOptions.cache):typeof this.findOptions.cache=="object"&&this.cache(this.findOptions.cache.id,this.findOptions.cache.milliseconds),this.findOptions.join&&(this.findOptions.join.leftJoin&&Object.keys(this.findOptions.join.leftJoin).forEach(e=>{this.leftJoin(this.findOptions.join.leftJoin[e],e)}),this.findOptions.join.innerJoin&&Object.keys(this.findOptions.join.innerJoin).forEach(e=>{this.innerJoin(this.findOptions.join.innerJoin[e],e)}),this.findOptions.join.leftJoinAndSelect&&Object.keys(this.findOptions.join.leftJoinAndSelect).forEach(e=>{this.leftJoinAndSelect(this.findOptions.join.leftJoinAndSelect[e],e)}),this.findOptions.join.innerJoinAndSelect&&Object.keys(this.findOptions.join.innerJoinAndSelect).forEach(e=>{this.innerJoinAndSelect(this.findOptions.join.innerJoinAndSelect[e],e)})),this.findOptions.lock){if(this.findOptions.lock.mode==="optimistic")this.setLock(this.findOptions.lock.mode,this.findOptions.lock.version);else if(this.findOptions.lock.mode==="pessimistic_read"||this.findOptions.lock.mode==="pessimistic_write"||this.findOptions.lock.mode==="dirty_read"||this.findOptions.lock.mode==="pessimistic_partial_write"||this.findOptions.lock.mode==="pessimistic_write_or_fail"||this.findOptions.lock.mode==="for_no_key_update"||this.findOptions.lock.mode==="for_key_share"){let e=this.findOptions.lock.tables?this.findOptions.lock.tables.map(t=>{let r=this.expressionMap.aliases.find(i=>i.metadata.tableNameWithoutPrefix===t);if(!r)throw new Q(`"${t}" is not part of this query`);return this.escape(r.name)}):void 0;this.setLock(this.findOptions.lock.mode,void 0,e),this.findOptions.lock.onLocked&&this.setOnLocked(this.findOptions.lock.onLocked)}}this.findOptions.loadRelationIds===!0?this.loadAllRelationIds():typeof this.findOptions.loadRelationIds=="object"&&this.loadAllRelationIds(this.findOptions.loadRelationIds),this.findOptions.loadEagerRelations!==!1&&si.joinEagerRelations(this,this.expressionMap.mainAlias.name,this.expressionMap.mainAlias.metadata),this.findOptions.transaction===!0&&(this.expressionMap.useTransaction=!0)}}async executeEntitiesAndRawResults(e){if(!this.expressionMap.mainAlias)throw new Q('Alias is not set. Use "from" method to set an alias.');if((this.expressionMap.lockMode==="pessimistic_read"||this.expressionMap.lockMode==="pessimistic_write"||this.expressionMap.lockMode==="pessimistic_partial_write"||this.expressionMap.lockMode==="pessimistic_write_or_fail"||this.expressionMap.lockMode==="for_no_key_update"||this.expressionMap.lockMode==="for_key_share")&&!e.isTransactionActive)throw new kM;if(this.expressionMap.lockMode==="optimistic"){let c=this.expressionMap.mainAlias.metadata;if(!c.versionColumn&&!c.updateDateColumn)throw new OM(c.name)}let t=new Aet(this.connection,e,this.expressionMap.relationIdAttributes),r=new MR(this.connection,e,this.expressionMap.relationCountAttributes);new IR(this.expressionMap).transform(),new RR(this.expressionMap).transform();let o=[],a=[];if((this.expressionMap.skip||this.expressionMap.take)&&this.expressionMap.joinAttributes.length>0){let[c,u]=this.createOrderByCombinedWithSelectExpression("distinctAlias"),l=this.expressionMap.mainAlias.metadata,f=this.expressionMap.mainAlias.name,p=l.primaryColumns.map(g=>{let v=this.escape("distinctAlias"),E=this.escape(Ae.buildAlias(this.connection.driver,f,g.databaseName));u[E]||(u[E]="ASC");let D=Ae.buildAlias(this.connection.driver,"ids_"+f,g.databaseName);return`${v}.${E} AS ${this.escape(D)}`});if(o=await new OR(this.connection,e).select(`DISTINCT ${p.join(", ")}`).addSelect(c).from(`(${this.clone().orderBy().getQuery()})`,"distinctAlias").offset(this.expressionMap.skip).limit(this.expressionMap.take).orderBy(u).cache(this.expressionMap.cache?this.expressionMap.cache:this.expressionMap.cacheId,this.expressionMap.cacheDuration).setParameters(this.getParameters()).setNativeParameters(this.expressionMap.nativeParameters).getRawMany(),o.length>0){let g="",v={};if(l.hasMultiplePrimaryKeys)g=o.map((E,D)=>l.primaryColumns.map(P=>{let K=`orm_distinct_ids_${D}_${P.databaseName}`;return v[K]=E[`ids_${f}_${P.databaseName}`],`${f}.${P.propertyPath}=:${K}`}).join(" AND ")).join(" OR ");else{let E=Ae.buildAlias(this.connection.driver,"ids_"+f,l.primaryColumns[0].databaseName),D=o.map(K=>K[E]);D.every(K=>typeof K=="number")?g=`${f}.${l.primaryColumns[0].propertyPath} IN (${D.join(", ")})`:(v.orm_distinct_ids=D,g=f+"."+l.primaryColumns[0].propertyPath+" IN (:...orm_distinct_ids)")}o=await this.clone().mergeExpressionMap({extraAppendedAndWhereCondition:g}).setParameters(v).loadRawResults(e)}}else o=await this.loadRawResults(e);if(o.length>0){let c=await t.load(o),u=await r.load(o);a=new SR(this.expressionMap,this.connection.driver,c,u,this.queryRunner).transform(o,this.expressionMap.mainAlias),this.expressionMap.callListeners===!0&&this.expressionMap.mainAlias.hasMetadata&&await e.broadcaster.broadcast("Load",this.expressionMap.mainAlias.metadata,a)}return this.expressionMap.relationLoadStrategy==="query"&&await Promise.all(this.relationMetadatas.map(async c=>{let u=c.inverseEntityMetadata.target,l=c.inverseEntityMetadata.targetName,f=Array.isArray(this.findOptions.select)?yt.propertyPathsToTruthyObject(this.findOptions.select):this.findOptions.select,p=Array.isArray(this.findOptions.relations)?yt.propertyPathsToTruthyObject(this.findOptions.relations):this.findOptions.relations,g=this.createQueryBuilder().select(l).from(u,l).setFindOptions({select:f?yt.deepValue(f,c.propertyPath):void 0,order:this.findOptions.order?yt.deepValue(this.findOptions.order,c.propertyPath):void 0,relations:p?yt.deepValue(p,c.propertyPath):void 0,withDeleted:this.findOptions.withDeleted,relationLoadStrategy:this.findOptions.relationLoadStrategy});if(a.length>0){let v=await this.connection.relationIdLoader.loadManyToManyRelationIdsAndGroup(c,a,void 0,g);a.forEach(E=>{let D=v.find(P=>P.entity===E);if(D){let P=D.related===void 0?null:D.related;c.setEntityValue(E,P)}})}})),{raw:o,entities:a}}createOrderByCombinedWithSelectExpression(e){let t=this.expressionMap.allOrderBys,r=Object.keys(t).map(s=>{if(s.indexOf(".")!==-1){let o=s.split("."),a=o[0],c=o.slice(1).join("."),l=this.expressionMap.findAliasByName(a).metadata.findColumnWithPropertyPath(c);return this.escape(e)+"."+this.escape(Ae.buildAlias(this.connection.driver,a,l.databaseName))}else return this.expressionMap.selects.find(o=>o.selection===s||o.aliasName===s)?this.escape(e)+"."+s:""}).join(", "),i={};return Object.keys(t).forEach(s=>{if(s.indexOf(".")!==-1){let o=s.split("."),a=o[0],c=o.slice(1).join("."),l=this.expressionMap.findAliasByName(a).metadata.findColumnWithPropertyPath(c);i[this.escape(e)+"."+this.escape(Ae.buildAlias(this.connection.driver,a,l.databaseName))]=t[s]}else this.expressionMap.selects.find(o=>o.selection===s||o.aliasName===s)?i[this.escape(e)+"."+s]=t[s]:i[s]=t[s]}),[r,i]}async loadRawResults(e){let[t,r]=this.getQueryAndParameters(),i=t+" -- PARAMETERS: "+JSON.stringify(r),s=typeof this.connection.options.cache=="object"?this.connection.options.cache:{},o,a=!1;if(this.connection.queryResultCache&&(this.expressionMap.cache||s.alwaysEnabled))try{if(o=await this.connection.queryResultCache.getFromCache({identifier:this.expressionMap.cacheId,query:i,duration:this.expressionMap.cacheDuration||s.duration||1e3},e),o&&!this.connection.queryResultCache.isExpired(o))return JSON.parse(o.result)}catch(u){if(!s.ignoreErrors)throw u;a=!0}let c=await e.query(t,r,!0);if(!a&&this.connection.queryResultCache&&(this.expressionMap.cache||s.alwaysEnabled))try{await this.connection.queryResultCache.storeInCache({identifier:this.expressionMap.cacheId,query:i,time:new Date().getTime(),duration:this.expressionMap.cacheDuration||s.duration||1e3,result:JSON.stringify(c.records)},o,e)}catch(u){if(!s.ignoreErrors)throw u}return c.records}mergeExpressionMap(e){return Ye.assign(this.expressionMap,e),this}normalizeNumber(e){return typeof e=="number"||e===void 0||e===null?e:Number(e)}obtainQueryRunner(){return this.queryRunner||this.connection.createQueryRunner("slave")}buildSelect(e,t,r,i){for(let s in e){if(e[s]===void 0||e[s]===!1)continue;let o=i?i+"."+s:s,a=t.findColumnWithPropertyPathStrict(o),c=t.findEmbeddedWithPropertyPath(o),u=t.findRelationWithPropertyPath(o);if(!c&&!a&&!u)throw new Do(o,t);a?this.selects.push(r+"."+o):c&&this.buildSelect(e[s],t,r,o)}}buildRelations(e,t,r,i,s){e&&Object.keys(e).forEach(o=>{let a=e[o],c=s?s+"."+o:o,u=r.findEmbeddedWithPropertyPath(c),l=r.findRelationWithPropertyPath(c);if(!u&&!l)throw new Do(c,r);if(u)this.buildRelations(a,typeof t=="object"?yt.deepValue(t,u.propertyPath):void 0,r,i,c);else if(l){let f=i+"_"+c.replace(".","_");f=Ae.buildAlias(this.connection.driver,{joiner:"__"},i,f),(a===!0||typeof a=="object")&&(this.expressionMap.relationLoadStrategy==="query"?this.relationMetadatas.push(l):(this.joins.push({type:"left",select:!0,selection:t&&typeof t[o]=="object"?t[o]:void 0,alias:f,parentAlias:i,relationMetadata:l}),t&&typeof t[o]=="object"&&this.buildSelect(t[o],l.inverseEntityMetadata,f))),typeof a=="object"&&this.expressionMap.relationLoadStrategy==="join"&&this.buildRelations(a,typeof t=="object"?yt.deepValue(t,l.propertyPath):void 0,l.inverseEntityMetadata,f,void 0)}})}buildEagerRelations(e,t,r,i,s){e&&Object.keys(e).forEach(o=>{let a=e[o],c=s?s+"."+o:o,u=r.findEmbeddedWithPropertyPath(c),l=r.findRelationWithPropertyPath(c);if(!u&&!l)throw new Do(c,r);if(u)this.buildEagerRelations(a,typeof t=="object"?yt.deepValue(t,u.propertyPath):void 0,r,i,c);else if(l){let f=i+"_"+c.replace(".","_");f=Ae.buildAlias(this.connection.driver,{joiner:"__"},i,f),(a===!0||typeof a=="object")&&l.inverseEntityMetadata.eagerRelations.forEach(p=>{let g=f+"_"+p.propertyPath.replace(".","_");g=Ae.buildAlias(this.connection.driver,{joiner:"__"},f,g),this.joins.find(E=>E.alias===g)||this.joins.push({type:"left",select:!0,alias:g,parentAlias:f,selection:void 0,relationMetadata:p}),t&&typeof t[o]=="object"&&this.buildSelect(t[o],l.inverseEntityMetadata,f)}),typeof a=="object"&&this.buildEagerRelations(a,typeof t=="object"?yt.deepValue(t,l.propertyPath):void 0,l.inverseEntityMetadata,f,void 0)}})}buildOrder(e,t,r,i){for(let s in e){if(e[s]===void 0)continue;let o=i?i+"."+s:s,a=t.findColumnWithPropertyPathStrict(o),c=t.findEmbeddedWithPropertyPath(o),u=t.findRelationWithPropertyPath(o);if(!c&&!a&&!u)throw new Do(o,t);if(a){let l=typeof e[s]=="object"?e[s].direction:e[s];l=l==="DESC"||l==="desc"||l===-1?"DESC":"ASC";let f=typeof e[s]=="object"?e[s].nulls:void 0;f=f?.toLowerCase()==="first"?"NULLS FIRST":f?.toLowerCase()==="last"?"NULLS LAST":void 0;let p=`${r}.${o}`;if(a.isVirtualProperty&&a.query){let g=this.expressionMap.selects.find(v=>v.selection===p);g?(p=Ae.buildAlias(this.connection.driver,r,a.databaseName),g.aliasName=p):p=`(${a.query(r)})`}this.addOrderBy(p,l,f)}else if(c)this.buildOrder(e[s],t,r,o);else if(u){let l=r+"_"+o.replace(".","_");l=Ae.buildAlias(this.connection.driver,{joiner:"__"},r,l),this.joins.find(p=>p.alias===l)||this.joins.push({type:"left",select:!1,alias:l,parentAlias:r,selection:void 0,relationMetadata:u}),this.buildOrder(e[s],u.inverseEntityMetadata,l)}}}buildWhere(e,t,r,i){let s="";if(Array.isArray(e))s="("+e.map(o=>this.buildWhere(o,t,r,i)).filter(o=>!!o).map(o=>"("+o+")").join(" OR ")+")";else{let o=[];for(let a in e){if(e[a]===void 0||e[a]===null)continue;let c=i?i+"."+a:a,u=t.findColumnWithPropertyPathStrict(c),l=t.findEmbeddedWithPropertyPath(c),f=t.findRelationWithPropertyPath(c);if(!l&&!u&&!f)throw new Do(c,t);if(u){let p=`${r}.${c}`;u.isVirtualProperty&&u.query&&(p=`(${u.query(r)})`);let g=e[a];_e.isEqualOperator(e[a])&&(g=e[a].value),u.transformer&&(g=lc.transformTo(u.transformer,g)),o.push(this.createWhereConditionExpression(this.getWherePredicateCondition(p,g)))}else if(l){let p=this.buildWhere(e[a],t,r,c);p&&o.push(p)}else if(f){if(typeof e[a]=="object"&&Object.keys(e[a]).every(g=>e[a][g]===void 0))continue;if(_e.isFindOperator(e[a]))if(e[a].type==="moreThan"||e[a].type==="lessThan"){let p=e[a].type==="moreThan"?">":"<",g=this.subQuery();if(f.isManyToManyOwner)g.select("COUNT(*)").from(f.joinTableName,f.joinTableName).where(f.joinColumns.map(v=>`${f.joinTableName}.${v.propertyName} = ${r}.${v.referencedColumn.propertyName}`).join(" AND "));else if(f.isManyToManyNotOwner)g.select("COUNT(*)").from(f.inverseRelation.joinTableName,f.inverseRelation.joinTableName).where(f.inverseRelation.inverseJoinColumns.map(v=>`${f.inverseRelation.joinTableName}.${v.propertyName} = ${r}.${v.referencedColumn.propertyName}`).join(" AND "));else if(f.isOneToMany)g.select("COUNT(*)").from(f.inverseEntityMetadata.target,f.inverseEntityMetadata.tableName).where(f.inverseRelation.joinColumns.map(v=>`${f.inverseEntityMetadata.tableName}.${v.propertyName} = ${r}.${v.referencedColumn.propertyName}`).join(" AND "));else throw new Error("This relation isn't supported by given find operator");this.andWhere(g.getSql()+" "+p+" "+parseInt(e[a].value))}else if(f.isManyToOne||f.isOneToOne&&f.isOneToOneOwner){let p=`${r}.${c}`;o.push(this.createWhereConditionExpression(this.getWherePredicateCondition(p,e[a])))}else throw new Error("This relation isn't supported by given find operator");else{let p=r+"_"+f.propertyPath.replace(".","_");p=Ae.buildAlias(this.connection.driver,{joiner:"__"},r,p);let g=this.joins.find(E=>E.alias===p);g?g.type==="left"&&(g.type="inner"):this.joins.push({type:"inner",select:!1,selection:void 0,alias:p,parentAlias:r,relationMetadata:f});let v=this.buildWhere(e[a],f.inverseEntityMetadata,p);v&&o.push(v)}}}s=o.join(" AND ")}return s}};Gp=OR=Ct([tt.NAME("SelectQueryBuilder")],Gp);var hE=class{constructor(){this.generatedMaps=[]}static from(e){let t=new this;return t.raw=e.records,t.affected=e.affected,t}},em=class{constructor(e,t){this.queryRunner=e,this.expressionMap=t}async update(e,t){let r=this.expressionMap.mainAlias.metadata;await Promise.all(t.map(async(i,s)=>{if(this.queryRunner.connection.driver.isReturningSqlSupported("update")){this.queryRunner.connection.driver.options.type==="oracle"&&Array.isArray(e.raw)&&this.expressionMap.extraReturningColumns.length>0&&(e.raw=e.raw.reduce((c,u,l)=>(c[this.expressionMap.extraReturningColumns[l].databaseName]=u[0],c),{}));let o=Array.isArray(e.raw)?e.raw[s]:e.raw,a=this.queryRunner.connection.driver.createGeneratedMap(r,o);a&&(this.queryRunner.manager.merge(r.target,i,a),e.generatedMaps.push(a))}else{let o=this.expressionMap.extraReturningColumns;if(o.length>0){let a=this.expressionMap.mainAlias.metadata.getEntityIdMap(i);if(!a)throw new Q("Cannot update entity because entity id is not set in the entity.");let c=await this.queryRunner.manager.createQueryBuilder().select(r.primaryColumns.map(u=>r.targetName+"."+u.propertyPath)).addSelect(o.map(u=>r.targetName+"."+u.propertyPath)).from(r.target,r.targetName).where(a).withDeleted().setOption("create-pojo").getOne();c&&(this.queryRunner.manager.merge(r.target,i,c),e.generatedMaps.push(c))}}}))}async insert(e,t){let r=this.expressionMap.mainAlias.metadata,i=r.getInsertionReturningColumns(),s=this.queryRunner.connection.driver.isReturningSqlSupported("insert");i=i.filter(a=>a.isGenerated?s===!0:!0);let o=t.map((a,c)=>{this.queryRunner.connection.driver.options.type==="oracle"&&Array.isArray(e.raw)&&this.expressionMap.extraReturningColumns.length>0&&(e.raw=e.raw.reduce((f,p,g)=>(f[this.expressionMap.extraReturningColumns[g].databaseName]=p[0],f),{}));let u=Array.isArray(e.raw)?e.raw[c]:e.raw,l=this.queryRunner.connection.driver.createGeneratedMap(r,u,c,t.length)||{};return c in this.expressionMap.locallyGenerated&&this.queryRunner.manager.merge(r.target,l,this.expressionMap.locallyGenerated[c]),this.queryRunner.manager.merge(r.target,a,l),l});if(i.length>0&&!this.queryRunner.connection.driver.isReturningSqlSupported("insert")){let a=t.map(u=>{let l=r.getEntityIdMap(u);if(!l)throw new Q("Cannot update entity because entity id is not set in the entity.");return l}),c=await this.queryRunner.manager.createQueryBuilder().select(r.primaryColumns.map(u=>r.targetName+"."+u.propertyPath)).addSelect(i.map(u=>r.targetName+"."+u.propertyPath)).from(r.target,r.targetName).where(a).setOption("create-pojo").getMany();t.forEach((u,l)=>{this.queryRunner.manager.merge(r.target,o[l],c[l]),this.queryRunner.manager.merge(r.target,u,c[l])})}t.forEach((a,c)=>{let u=r.getEntityIdMap(a);e.identifiers.push(u),e.generatedMaps.push(o[c])})}getUpdationReturningColumns(){return this.expressionMap.mainAlias.metadata.columns.filter(e=>e.isUpdateDate||e.isVersion)}getSoftDeletionReturningColumns(){return this.expressionMap.mainAlias.metadata.columns.filter(e=>e.isUpdateDate||e.isVersion||e.isDeleteDate)}},Net=(()=>{let n=class extends hc{constructor(t,r){super(t,r),this["@instanceof"]=Symbol.for("UpdateQueryBuilder"),this.expressionMap.aliasNamePrefixingEnabled=!1}getQuery(){let t=this.createComment();return t+=this.createCteExpression(),t+=this.createUpdateExpression(),t+=this.createOrderByExpression(),t+=this.createLimitExpression(),t.trim()}async execute(){let t=this.obtainQueryRunner(),r=!1;try{this.expressionMap.useTransaction===!0&&t.isTransactionActive===!1&&(await t.startTransaction(),r=!0),this.expressionMap.callListeners===!0&&this.expressionMap.mainAlias.hasMetadata&&await t.broadcaster.broadcast("BeforeUpdate",this.expressionMap.mainAlias.metadata,this.expressionMap.valuesSet);let i=null,s=null,o=new em(t,this.expressionMap),a=[];if(Array.isArray(this.expressionMap.returning)&&this.expressionMap.mainAlias.hasMetadata)for(let g of this.expressionMap.returning)a.push(...this.expressionMap.mainAlias.metadata.findColumnsWithPropertyPath(g));this.expressionMap.updateEntity===!0&&this.expressionMap.mainAlias.hasMetadata&&this.expressionMap.whereEntities.length>0&&(this.expressionMap.extraReturningColumns=o.getUpdationReturningColumns(),a.push(...this.expressionMap.extraReturningColumns.filter(g=>!a.includes(g))));let[c,u]=this.getQueryAndParameters(),l=[i,c,s],f=await t.query(l.filter(g=>g!=null).join(`;

`),u,!0),p=hE.from(f);return this.expressionMap.updateEntity===!0&&this.expressionMap.mainAlias.hasMetadata&&this.expressionMap.whereEntities.length>0&&await o.update(p,this.expressionMap.whereEntities),this.expressionMap.callListeners===!0&&this.expressionMap.mainAlias.hasMetadata&&await t.broadcaster.broadcast("AfterUpdate",this.expressionMap.mainAlias.metadata,this.expressionMap.valuesSet),r&&await t.commitTransaction(),p}catch(i){if(r)try{await t.rollbackTransaction()}catch{}throw i}finally{t!==this.queryRunner&&await t.release()}}set(t){return this.expressionMap.valuesSet=t,this}where(t,r){this.expressionMap.wheres=[];let i=this.getWhereCondition(t);return i&&(this.expressionMap.wheres=[{type:"simple",condition:i}]),r&&this.setParameters(r),this}andWhere(t,r){return this.expressionMap.wheres.push({type:"and",condition:this.getWhereCondition(t)}),r&&this.setParameters(r),this}orWhere(t,r){return this.expressionMap.wheres.push({type:"or",condition:this.getWhereCondition(t)}),r&&this.setParameters(r),this}whereInIds(t){return this.where(this.getWhereInIdsCondition(t))}andWhereInIds(t){return this.andWhere(this.getWhereInIdsCondition(t))}orWhereInIds(t){return this.orWhere(this.getWhereInIdsCondition(t))}output(t){return this.returning(t)}returning(t){if(!this.connection.driver.isReturningSqlSupported("update"))throw new Hd;return this.expressionMap.returning=t,this}orderBy(t,r="ASC",i){return t?typeof t=="object"?this.expressionMap.orderBys=t:i?this.expressionMap.orderBys={[t]:{order:r,nulls:i}}:this.expressionMap.orderBys={[t]:r}:this.expressionMap.orderBys={},this}addOrderBy(t,r="ASC",i){return i?this.expressionMap.orderBys[t]={order:r,nulls:i}:this.expressionMap.orderBys[t]=r,this}limit(t){return this.expressionMap.limit=t,this}whereEntity(t){if(!this.expressionMap.mainAlias.hasMetadata)throw new Q(".whereEntity method can only be used on queries which update real entity table.");this.expressionMap.wheres=[];let r=Array.isArray(t)?t:[t];return r.forEach(i=>{let s=this.expressionMap.mainAlias.metadata.getEntityIdMap(i);if(!s)throw new Q("Provided entity does not have ids set, cannot perform operation.");this.orWhereInIds(s)}),this.expressionMap.whereEntities=r,this}updateEntity(t){return this.expressionMap.updateEntity=t,this}createUpdateExpression(){let t=this.getValueSet(),r=this.expressionMap.mainAlias.hasMetadata?this.expressionMap.mainAlias.metadata:void 0,i={};for(let u in t)t.hasOwnProperty(u)&&t[u]!==void 0&&(i[u]=t[u]);let s=[],o=[];if(r?(this.createPropertyPath(r,i).forEach(u=>{let l=r.findColumnsWithPropertyPath(u);if(l.length<=0)throw new Do(u,r);l.forEach(f=>{if(!f.isUpdate||o.includes(f))return;o.push(f);let p=f.getEntityValue(i);if(f.referencedColumn&&typeof p=="object"&&!(p instanceof Date)&&p!==null?p=f.referencedColumn.getEntityValue(p):typeof p!="function"&&(p=this.connection.driver.preparePersistentValue(p,f)),typeof p=="function")s.push(this.escape(f.databaseName)+" = "+p());else if((this.connection.driver.options.type==="sap"||this.connection.driver.options.type==="spanner")&&p===null)s.push(this.escape(f.databaseName)+" = NULL");else{let g=this.createParameter(p),v=null;this.connection.driver.options.type==="mssql"&&this.connection.driver.spatialTypes.indexOf(f.type)!==-1?v=f.type+"::STGeomFromText("+g+", "+(f.srid||"0")+")":v=g,s.push(this.escape(f.databaseName)+" = "+v)}})}),(s.length>0||Object.keys(i).length===0)&&(r.versionColumn&&o.indexOf(r.versionColumn)===-1&&s.push(this.escape(r.versionColumn.databaseName)+" = "+this.escape(r.versionColumn.databaseName)+" + 1"),r.updateDateColumn&&o.indexOf(r.updateDateColumn)===-1&&s.push(this.escape(r.updateDateColumn.databaseName)+" = CURRENT_TIMESTAMP"))):Object.keys(i).map(u=>{let l=i[u];if(typeof l=="function")s.push(this.escape(u)+" = "+l());else if((this.connection.driver.options.type==="sap"||this.connection.driver.options.type==="spanner")&&l===null)s.push(this.escape(u)+" = NULL");else{let f=this.createParameter(l);s.push(this.escape(u)+" = "+f)}}),s.length<=0)throw new Qp;let a=this.createWhereExpression(),c=this.createReturningExpression("update");return c===""?`UPDATE ${this.getTableName(this.getMainTableName())} SET ${s.join(", ")}${a}`:this.connection.driver.options.type==="mssql"?`UPDATE ${this.getTableName(this.getMainTableName())} SET ${s.join(", ")} OUTPUT ${c}${a}`:`UPDATE ${this.getTableName(this.getMainTableName())} SET ${s.join(", ")}${a} RETURNING ${c}`}createOrderByExpression(){let t=this.expressionMap.orderBys;return Object.keys(t).length>0?" ORDER BY "+Object.keys(t).map(r=>typeof t[r]=="string"?this.replacePropertyNames(r)+" "+t[r]:this.replacePropertyNames(r)+" "+t[r].order+" "+t[r].nulls).join(", "):""}createLimitExpression(){let t=this.expressionMap.limit;if(t){if(Ae.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql")return" LIMIT "+t;throw new z_}return""}getValueSet(){if(typeof this.expressionMap.valuesSet=="object")return this.expressionMap.valuesSet;throw new Qp}};return n=Ct([tt.NAME("UpdateQueryBuilder"),Qe("design:paramtypes",[Object,Object])],n),n})(),PR=class{static from(e){let t=new this;return t.raw=e.records,t.affected=e.affected,t}},Oet=(()=>{let n=class extends hc{constructor(t,r){super(t,r),this["@instanceof"]=Symbol.for("DeleteQueryBuilder"),this.expressionMap.aliasNamePrefixingEnabled=!1}getQuery(){let t=this.createComment();return t+=this.createCteExpression(),t+=this.createDeleteExpression(),t.trim()}async execute(){let[t,r]=this.getQueryAndParameters(),i=this.obtainQueryRunner(),s=!1;try{this.expressionMap.useTransaction===!0&&i.isTransactionActive===!1&&(await i.startTransaction(),s=!0),this.expressionMap.callListeners===!0&&this.expressionMap.mainAlias.hasMetadata&&await i.broadcaster.broadcast("BeforeRemove",this.expressionMap.mainAlias.metadata);let o=await i.query(t,r,!0),a=PR.from(o);return this.expressionMap.callListeners===!0&&this.expressionMap.mainAlias.hasMetadata&&await i.broadcaster.broadcast("AfterRemove",this.expressionMap.mainAlias.metadata),s&&await i.commitTransaction(),a}catch(o){if(s)try{await i.rollbackTransaction()}catch{}throw o}finally{i!==this.queryRunner&&await i.release()}}from(t,r){t=_e.isEntitySchema(t)?t.options.name:t;let i=this.createFromAlias(t,r);return this.expressionMap.setMainAlias(i),this}where(t,r){this.expressionMap.wheres=[];let i=this.getWhereCondition(t);return i&&(this.expressionMap.wheres=[{type:"simple",condition:i}]),r&&this.setParameters(r),this}andWhere(t,r){return this.expressionMap.wheres.push({type:"and",condition:this.getWhereCondition(t)}),r&&this.setParameters(r),this}orWhere(t,r){return this.expressionMap.wheres.push({type:"or",condition:this.getWhereCondition(t)}),r&&this.setParameters(r),this}whereInIds(t){return this.where(this.getWhereInIdsCondition(t))}andWhereInIds(t){return this.andWhere(this.getWhereInIdsCondition(t))}orWhereInIds(t){return this.orWhere(this.getWhereInIdsCondition(t))}output(t){return this.returning(t)}returning(t){if(!this.connection.driver.isReturningSqlSupported("delete"))throw new Hd;return this.expressionMap.returning=t,this}createDeleteExpression(){let t=this.getTableName(this.getMainTableName()),r=this.createWhereExpression(),i=this.createReturningExpression("delete");return i===""?`DELETE FROM ${t}${r}`:this.connection.driver.options.type==="mssql"?`DELETE FROM ${t} OUTPUT ${i}${r}`:`DELETE FROM ${t}${r} RETURNING ${i}`}};return n=Ct([tt.NAME("DeleteQueryBuilder"),Qe("design:paramtypes",[Object,Object])],n),n})(),Pet=(()=>{let n=class extends hc{constructor(t,r){super(t,r),this["@instanceof"]=Symbol.for("SoftDeleteQueryBuilder"),this.expressionMap.aliasNamePrefixingEnabled=!1}getQuery(){let t=this.createUpdateExpression();return t+=this.createCteExpression(),t+=this.createOrderByExpression(),t+=this.createLimitExpression(),t.trim()}async execute(){let t=this.obtainQueryRunner(),r=!1;try{this.expressionMap.useTransaction===!0&&t.isTransactionActive===!1&&(await t.startTransaction(),r=!0),this.expressionMap.callListeners===!0&&this.expressionMap.mainAlias.hasMetadata&&(this.expressionMap.queryType==="soft-delete"?await t.broadcaster.broadcast("BeforeSoftRemove",this.expressionMap.mainAlias.metadata):this.expressionMap.queryType==="restore"&&await t.broadcaster.broadcast("BeforeRecover",this.expressionMap.mainAlias.metadata));let i=new em(t,this.expressionMap);this.expressionMap.updateEntity===!0&&this.expressionMap.mainAlias.hasMetadata&&this.expressionMap.whereEntities.length>0&&(this.expressionMap.extraReturningColumns=i.getSoftDeletionReturningColumns());let[s,o]=this.getQueryAndParameters(),a=await t.query(s,o,!0),c=hE.from(a);return this.expressionMap.updateEntity===!0&&this.expressionMap.mainAlias.hasMetadata&&this.expressionMap.whereEntities.length>0&&await i.update(c,this.expressionMap.whereEntities),this.expressionMap.callListeners===!0&&this.expressionMap.mainAlias.hasMetadata&&(this.expressionMap.queryType==="soft-delete"?await t.broadcaster.broadcast("AfterSoftRemove",this.expressionMap.mainAlias.metadata):this.expressionMap.queryType==="restore"&&await t.broadcaster.broadcast("AfterRecover",this.expressionMap.mainAlias.metadata)),r&&await t.commitTransaction(),c}catch(i){if(r)try{await t.rollbackTransaction()}catch{}throw i}finally{t!==this.queryRunner&&await t.release()}}from(t,r){t=_e.isEntitySchema(t)?t.options.name:t;let i=this.createFromAlias(t,r);return this.expressionMap.setMainAlias(i),this}where(t,r){this.expressionMap.wheres=[];let i=this.getWhereCondition(t);return i&&(this.expressionMap.wheres=[{type:"simple",condition:i}]),r&&this.setParameters(r),this}andWhere(t,r){return this.expressionMap.wheres.push({type:"and",condition:this.getWhereCondition(t)}),r&&this.setParameters(r),this}orWhere(t,r){return this.expressionMap.wheres.push({type:"or",condition:this.getWhereCondition(t)}),r&&this.setParameters(r),this}whereInIds(t){return this.where(this.getWhereInIdsCondition(t))}andWhereInIds(t){return this.andWhere(this.getWhereInIdsCondition(t))}orWhereInIds(t){return this.orWhere(this.getWhereInIdsCondition(t))}output(t){return this.returning(t)}returning(t){if(!this.connection.driver.isReturningSqlSupported("update"))throw new Hd;return this.expressionMap.returning=t,this}orderBy(t,r="ASC",i){return t?typeof t=="object"?this.expressionMap.orderBys=t:i?this.expressionMap.orderBys={[t]:{order:r,nulls:i}}:this.expressionMap.orderBys={[t]:r}:this.expressionMap.orderBys={},this}addOrderBy(t,r="ASC",i){return i?this.expressionMap.orderBys[t]={order:r,nulls:i}:this.expressionMap.orderBys[t]=r,this}limit(t){return this.expressionMap.limit=t,this}whereEntity(t){if(!this.expressionMap.mainAlias.hasMetadata)throw new Q(".whereEntity method can only be used on queries which update real entity table.");this.expressionMap.wheres=[];let r=Array.isArray(t)?t:[t];return r.forEach(i=>{let s=this.expressionMap.mainAlias.metadata.getEntityIdMap(i);if(!s)throw new Q("Provided entity does not have ids set, cannot perform operation.");this.orWhereInIds(s)}),this.expressionMap.whereEntities=r,this}updateEntity(t){return this.expressionMap.updateEntity=t,this}createUpdateExpression(){let t=this.expressionMap.mainAlias.hasMetadata?this.expressionMap.mainAlias.metadata:void 0;if(!t)throw new Q(`Cannot get entity metadata for the given alias "${this.expressionMap.mainAlias}"`);if(!t.deleteDateColumn)throw new IM(t);let r=[];switch(this.expressionMap.queryType){case"soft-delete":r.push(this.escape(t.deleteDateColumn.databaseName)+" = CURRENT_TIMESTAMP");break;case"restore":r.push(this.escape(t.deleteDateColumn.databaseName)+" = NULL");break;default:throw new Q('The queryType must be "soft-delete" or "restore"')}if(t.versionColumn&&r.push(this.escape(t.versionColumn.databaseName)+" = "+this.escape(t.versionColumn.databaseName)+" + 1"),t.updateDateColumn&&r.push(this.escape(t.updateDateColumn.databaseName)+" = CURRENT_TIMESTAMP"),r.length<=0)throw new Qp;let i=this.createWhereExpression(),s=this.createReturningExpression("update");return s===""?`UPDATE ${this.getTableName(this.getMainTableName())} SET ${r.join(", ")}${i}`:this.connection.driver.options.type==="mssql"?`UPDATE ${this.getTableName(this.getMainTableName())} SET ${r.join(", ")} OUTPUT ${s}${i}`:`UPDATE ${this.getTableName(this.getMainTableName())} SET ${r.join(", ")}${i} RETURNING ${s}`}createOrderByExpression(){let t=this.expressionMap.orderBys;return Object.keys(t).length>0?" ORDER BY "+Object.keys(t).map(r=>typeof t[r]=="string"?this.replacePropertyNames(r)+" "+t[r]:this.replacePropertyNames(r)+" "+t[r].order+" "+t[r].nulls).join(", "):""}createLimitExpression(){let t=this.expressionMap.limit;if(t){if(Ae.isMySQLFamily(this.connection.driver))return" LIMIT "+t;throw new z_}return""}};return n=Ct([tt.NAME("SoftDeleteQueryBuilder"),Qe("design:paramtypes",[Object,Object])],n),n})(),pE=class{constructor(){this.identifiers=[],this.generatedMaps=[]}static from(e){let t=new this;return t.raw=e.raw,t}},Fet=(()=>{let n=class extends hc{constructor(){super(...arguments),this["@instanceof"]=Symbol.for("InsertQueryBuilder")}getQuery(){let t=this.createComment();return t+=this.createCteExpression(),t+=this.createInsertExpression(),t.trim()}async execute(){let t=this.getValueSets();if(t.length===0)return new pE;let r=this.obtainQueryRunner(),i=!1;try{if(this.expressionMap.useTransaction===!0&&r.isTransactionActive===!1&&(await r.startTransaction(),i=!0),this.expressionMap.callListeners===!0&&this.expressionMap.mainAlias.hasMetadata){let E=new qu;t.forEach(D=>{r.broadcaster.broadcastBeforeInsertEvent(E,this.expressionMap.mainAlias.metadata,D)}),await E.wait()}let s=null,o=null,a=new em(r,this.expressionMap),c=[];if(Array.isArray(this.expressionMap.returning)&&this.expressionMap.mainAlias.hasMetadata)for(let E of this.expressionMap.returning)c.push(...this.expressionMap.mainAlias.metadata.findColumnsWithPropertyPath(E));this.expressionMap.updateEntity===!0&&this.expressionMap.mainAlias.hasMetadata&&(t.length>1&&this.connection.driver.options.type==="oracle"||(this.expressionMap.extraReturningColumns=this.expressionMap.mainAlias.metadata.getInsertionReturningColumns()),c.push(...this.expressionMap.extraReturningColumns.filter(E=>!c.includes(E)))),c.length>0&&this.connection.driver.options.type==="mssql"&&(s={}.buildTableVariableDeclaration("@OutputTable",c),o="SELECT * FROM @OutputTable");let[u,l]=this.getQueryAndParameters(),p=[s,u,o].filter(E=>E!=null).join(`;

`),g=await r.query(p,l,!0),v=pE.from(g);if(this.expressionMap.updateEntity===!0&&this.expressionMap.mainAlias.hasMetadata&&await a.insert(v,t),this.expressionMap.callListeners===!0&&this.expressionMap.mainAlias.hasMetadata){let E=new qu;t.forEach(D=>{r.broadcaster.broadcastAfterInsertEvent(E,this.expressionMap.mainAlias.metadata,D)}),await E.wait()}return i&&await r.commitTransaction(),v}catch(s){if(i)try{await r.rollbackTransaction()}catch{}throw s}finally{r!==this.queryRunner&&await r.release()}}into(t,r){t=_e.isEntitySchema(t)?t.options.name:t;let i=this.createFromAlias(t);return this.expressionMap.setMainAlias(i),this.expressionMap.insertColumns=r||[],this}values(t){return this.expressionMap.valuesSet=t,this}output(t){return this.returning(t)}returning(t){if(!this.connection.driver.isReturningSqlSupported("insert"))throw new Hd;return this.expressionMap.returning=t,this}updateEntity(t){return this.expressionMap.updateEntity=t,this}onConflict(t){return this.expressionMap.onConflict=t,this}orIgnore(t=!0){return this.expressionMap.onIgnore=!!t,this}orUpdate(t,r,i){return Array.isArray(t)?(this.expressionMap.onUpdate={overwrite:t,conflict:r,skipUpdateIfNoValuesChanged:i?.skipUpdateIfNoValuesChanged},this):(this.expressionMap.onUpdate={conflict:t?.conflict_target,columns:t?.columns,overwrite:t?.overwrite,skipUpdateIfNoValuesChanged:i?.skipUpdateIfNoValuesChanged},this)}createInsertExpression(){let t=this.getTableName(this.getMainTableName()),r=this.createValuesExpression(),i=this.connection.driver.options.type==="oracle"&&this.getValueSets().length>1?null:this.createReturningExpression("insert"),s=this.createColumnNamesExpression(),o="INSERT ";if((Ae.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql")&&(o+=`${this.expressionMap.onIgnore?" IGNORE ":""}`),o+=`INTO ${t}`,this.alias!==this.getMainTableName()&&Ae.isPostgresFamily(this.connection.driver)&&(o+=` AS "${this.alias}"`),s?o+=`(${s})`:!r&&(Ae.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql")&&(o+="()"),i&&this.connection.driver.options.type==="mssql"&&(o+=` OUTPUT ${i}`),r?this.connection.driver.options.type==="oracle"&&this.getValueSets().length>1?o+=` ${r}`:o+=` VALUES ${r}`:Ae.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"?o+=" VALUES ()":o+=" DEFAULT VALUES",this.connection.driver.supportedUpsertType==="on-conflict-do-update"){if(this.expressionMap.onIgnore)o+=" ON CONFLICT DO NOTHING ";else if(this.expressionMap.onConflict)o+=` ON CONFLICT ${this.expressionMap.onConflict} `;else if(this.expressionMap.onUpdate){let{overwrite:a,columns:c,conflict:u,skipUpdateIfNoValuesChanged:l}=this.expressionMap.onUpdate,f="ON CONFLICT";Array.isArray(u)?f+=` ( ${u.map(p=>this.escape(p)).join(", ")} )`:u&&(f+=` ON CONSTRAINT ${this.escape(u)}`),Array.isArray(a)?(o+=` ${f} DO UPDATE SET `,o+=a?.map(p=>`${this.escape(p)} = EXCLUDED.${this.escape(p)}`).join(", "),o+=" "):c&&(o+=` ${f} DO UPDATE SET `,o+=c.map(p=>`${this.escape(p)} = :${p}`).join(", "),o+=" "),Array.isArray(a)&&l&&Ae.isPostgresFamily(this.connection.driver)&&(o+=" WHERE (",o+=a.map(p=>`${t}.${this.escape(p)} IS DISTINCT FROM EXCLUDED.${this.escape(p)}`).join(" OR "),o+=") ")}}else if(this.connection.driver.supportedUpsertType==="on-duplicate-key-update"){if(this.expressionMap.onUpdate){let{overwrite:a,columns:c}=this.expressionMap.onUpdate;Array.isArray(a)?(o+=" ON DUPLICATE KEY UPDATE ",o+=a.map(u=>`${this.escape(u)} = VALUES(${this.escape(u)})`).join(", "),o+=" "):Array.isArray(c)&&(o+=" ON DUPLICATE KEY UPDATE ",o+=c.map(u=>`${this.escape(u)} = :${u}`).join(", "),o+=" ")}}else if(this.expressionMap.onUpdate)throw new Q("onUpdate is not supported by the current database driver");return i&&(Ae.isPostgresFamily(this.connection.driver)||this.connection.driver.options.type==="oracle"||this.connection.driver.options.type==="cockroachdb"||Ae.isMySQLFamily(this.connection.driver))&&(o+=` RETURNING ${i}`),this.connection.driver.options.type==="mssql"&&this.expressionMap.mainAlias.hasMetadata&&this.expressionMap.mainAlias.metadata.columns.filter(a=>this.expressionMap.insertColumns.length>0?this.expressionMap.insertColumns.indexOf(a.propertyPath)!==-1:a.isInsert).some(a=>this.isOverridingAutoIncrementBehavior(a))&&(o=`SET IDENTITY_INSERT ${t} ON; ${o}; SET IDENTITY_INSERT ${t} OFF`),o}getInsertedColumns(){return this.expressionMap.mainAlias.hasMetadata?this.expressionMap.mainAlias.metadata.columns.filter(t=>this.expressionMap.insertColumns.length?this.expressionMap.insertColumns.indexOf(t.propertyPath)!==-1:!(!t.isInsert||t.isGenerated&&t.generationStrategy==="increment"&&this.connection.driver.options.type!=="spanner"&&this.connection.driver.options.type!=="oracle"&&!Ae.isSQLiteFamily(this.connection.driver)&&!Ae.isMySQLFamily(this.connection.driver)&&this.connection.driver.options.type!=="aurora-mysql"&&!(this.connection.driver.options.type==="mssql"&&this.isOverridingAutoIncrementBehavior(t)))):[]}createColumnNamesExpression(){let t=this.getInsertedColumns();if(t.length>0)return t.map(r=>this.escape(r.databaseName)).join(", ");if(!this.expressionMap.mainAlias.hasMetadata&&!this.expressionMap.insertColumns.length){let r=this.getValueSets();if(r.length===1)return Object.keys(r[0]).map(i=>this.escape(i)).join(", ")}return this.expressionMap.insertColumns.map(r=>this.escape(r)).join(", ")}createValuesExpression(){let t=this.getValueSets(),r=this.getInsertedColumns();if(r.length>0){let i="";return t.forEach((s,o)=>{r.forEach((a,c)=>{c===0&&(this.connection.driver.options.type==="oracle"&&t.length>1||this.connection.driver.options.type==="sap"&&t.length>1?i+=" SELECT ":i+="(");let u=a.getEntityValue(s);if(typeof u!="function"&&(u=this.connection.driver.preparePersistentValue(u,a)),a.isVersion&&u===void 0)i+="1";else if(a.isDiscriminator)i+=this.createParameter(this.expressionMap.mainAlias.metadata.discriminatorValue);else if(a.isGenerated&&a.generationStrategy==="uuid"&&!this.connection.driver.isUUIDGenerationSupported()&&u===void 0)u=L_(),i+=this.createParameter(u),o in this.expressionMap.locallyGenerated||(this.expressionMap.locallyGenerated[o]={}),a.setEntityValue(this.expressionMap.locallyGenerated[o],u);else if(u===void 0)this.connection.driver.options.type==="oracle"&&t.length>1||Ae.isSQLiteFamily(this.connection.driver)||this.connection.driver.options.type==="sap"||this.connection.driver.options.type==="spanner"?a.default!==void 0&&a.default!==null?i+=this.connection.driver.normalizeDefault(a):i+="NULL":i+="DEFAULT";else if(u===null&&this.connection.driver.options.type==="spanner")i+="NULL";else if(typeof u=="function")i+=u();else{let l=this.createParameter(u);Ae.isPostgresFamily(this.connection.driver)&&this.connection.driver.spatialTypes.indexOf(a.type)!==-1?a.srid!=null?i+=`ST_SetSRID(ST_GeomFromGeoJSON(${l}), ${a.srid})::${a.type}`:i+=`ST_GeomFromGeoJSON(${l})::${a.type}`:this.connection.driver.options.type==="mssql"&&this.connection.driver.spatialTypes.indexOf(a.type)!==-1?i+=a.type+"::STGeomFromText("+l+", "+(a.srid||"0")+")":i+=l}c===r.length-1?o===t.length-1?this.connection.driver.options.type==="oracle"&&t.length>1?i+=" FROM DUAL ":this.connection.driver.options.type==="sap"&&t.length>1?i+=" FROM dummy ":i+=")":this.connection.driver.options.type==="oracle"&&t.length>1?i+=" FROM DUAL UNION ALL ":this.connection.driver.options.type==="sap"&&t.length>1?i+=" FROM dummy UNION ALL ":i+="), ":i+=", "})}),i==="()"?"":i}else{let i="";return t.forEach((s,o)=>{Object.keys(s).forEach((c,u)=>{u===0&&(i+="(");let l=s[c];typeof l=="function"?i+=l():l===void 0?this.connection.driver.options.type==="oracle"&&t.length>1||Ae.isSQLiteFamily(this.connection.driver)||this.connection.driver.options.type==="sap"||this.connection.driver.options.type==="spanner"?i+="NULL":i+="DEFAULT":l===null&&this.connection.driver.options.type==="spanner"||(i+=this.createParameter(l)),u===Object.keys(s).length-1?o===t.length-1?i+=")":i+="), ":i+=", "})}),i==="()"?"":i}}getValueSets(){if(Array.isArray(this.expressionMap.valuesSet))return this.expressionMap.valuesSet;if(Ye.isObject(this.expressionMap.valuesSet))return[this.expressionMap.valuesSet];throw new PM}isOverridingAutoIncrementBehavior(t){return t.isPrimary&&t.isGenerated&&t.generationStrategy==="increment"&&this.getValueSets().some(r=>t.getEntityValue(r)!==void 0&&t.getEntityValue(r)!==null)}};return n=Ct([tt.NAME("InsertQueryBuilder")],n),n})(),mE=class{constructor(e,t){this.queryBuilder=e,this.expressionMap=t}async update(e){let t=this.expressionMap.relationMetadata;if(t.isManyToOne||t.isOneToOneOwner){let r=t.joinColumns.reduce((i,s)=>{let o=Ye.isObject(e)?s.referencedColumn.getEntityValue(e):e;return s.setEntityValue(i,o),i},{});if(!this.expressionMap.of||Array.isArray(this.expressionMap.of)&&!this.expressionMap.of.length)return;await this.queryBuilder.createQueryBuilder().update(t.entityMetadata.target).set(r).whereInIds(this.expressionMap.of).execute()}else if((t.isOneToOneNotOwner||t.isOneToMany)&&e===null){let r={};t.inverseRelation.joinColumns.forEach(c=>{r[c.propertyName]=null});let i=Array.isArray(this.expressionMap.of)?this.expressionMap.of:[this.expressionMap.of],s={},o=[];i.forEach((c,u)=>{t.inverseRelation.joinColumns.map((l,f)=>{let p="joinColumn_"+u+"_"+f;s[p]=Ye.isObject(c)?l.referencedColumn.getEntityValue(c):c,o.push(`${l.propertyPath} = :${p}`)})});let a=o.map(c=>"("+c+")").join(" OR ");if(!a)return;await this.queryBuilder.createQueryBuilder().update(t.inverseEntityMetadata.target).set(r).where(a).setParameters(s).execute()}else if(t.isOneToOneNotOwner||t.isOneToMany){if(Array.isArray(this.expressionMap.of))throw new Q("You cannot update relations of multiple entities with the same related object. Provide a single entity into .of method.");let r=this.expressionMap.of,i=t.inverseRelation.joinColumns.reduce((s,o)=>{let a=Ye.isObject(r)?o.referencedColumn.getEntityValue(r):r;return o.setEntityValue(s,a),s},{});if(!e||Array.isArray(e)&&!e.length)return;await this.queryBuilder.createQueryBuilder().update(t.inverseEntityMetadata.target).set(i).whereInIds(e).execute()}else{let r=t.junctionEntityMetadata,i=Array.isArray(this.expressionMap.of)?this.expressionMap.of:[this.expressionMap.of],s=Array.isArray(e)?e:[e],o=t.isManyToManyOwner?i:s,a=t.isManyToManyOwner?s:i,c=[];if(o.forEach(u=>{a.forEach(l=>{let f={};r.ownerColumns.forEach(p=>{f[p.databaseName]=Ye.isObject(u)?p.referencedColumn.getEntityValue(u):u}),r.inverseColumns.forEach(p=>{f[p.databaseName]=Ye.isObject(l)?p.referencedColumn.getEntityValue(l):l}),c.push(f)})}),!c.length)return;this.queryBuilder.connection.driver.options.type==="oracle"||this.queryBuilder.connection.driver.options.type==="sap"?await Promise.all(c.map(u=>this.queryBuilder.createQueryBuilder().insert().into(r.tableName).values(u).execute())):await this.queryBuilder.createQueryBuilder().insert().into(r.tableName).values(c).execute()}}},FR=class{constructor(e,t){this.queryBuilder=e,this.expressionMap=t}async remove(e){let t=this.expressionMap.relationMetadata;if(t.isOneToMany){let r=Array.isArray(this.expressionMap.of)?this.expressionMap.of:[this.expressionMap.of],i=Array.isArray(e)?e:[e],s={};t.inverseRelation.joinColumns.forEach(u=>{s[u.propertyName]=null});let o={},a=[];r.forEach((u,l)=>{a.push(...i.map((f,p)=>[...t.inverseRelation.joinColumns.map((g,v)=>{let E="joinColumn_"+l+"_"+p+"_"+v;return o[E]=Ye.isObject(u)?g.referencedColumn.getEntityValue(u):u,`${g.propertyPath} = :${E}`}),...t.inverseRelation.entityMetadata.primaryColumns.map((g,v)=>{let E="primaryColumn_"+p+"_"+p+"_"+v;return o[E]=Ye.isObject(f)?g.getEntityValue(f):f,`${g.propertyPath} = :${E}`})].join(" AND ")))});let c=a.map(u=>"("+u+")").join(" OR ");if(!c)return;await this.queryBuilder.createQueryBuilder().update(t.inverseEntityMetadata.target).set(s).where(c).setParameters(o).execute()}else{let r=t.junctionEntityMetadata,i=Array.isArray(this.expressionMap.of)?this.expressionMap.of:[this.expressionMap.of],s=Array.isArray(e)?e:[e],o=t.isManyToManyOwner?i:s,a=t.isManyToManyOwner?s:i,c={},u=[];o.forEach((f,p)=>{u.push(...a.map((g,v)=>[...r.ownerColumns.map((E,D)=>{let P="firstValue_"+p+"_"+v+"_"+D;return c[P]=Ye.isObject(f)?E.referencedColumn.getEntityValue(f):f,`${E.databaseName} = :${P}`}),...r.inverseColumns.map((E,D)=>{let P="secondValue_"+p+"_"+v+"_"+D;return c[P]=Ye.isObject(g)?E.referencedColumn.getEntityValue(g):g,`${E.databaseName} = :${P}`})].join(" AND ")))});let l=u.map(f=>"("+f+")").join(" OR ");await this.queryBuilder.createQueryBuilder().delete().from(r.tableName).where(l).setParameters(c).execute()}}},ket=(()=>{let n=class extends hc{constructor(){super(...arguments),this["@instanceof"]=Symbol.for("RelationQueryBuilder")}getQuery(){return""}of(t){return this.expressionMap.of=t,this}async set(t){let r=this.expressionMap.relationMetadata;if(!this.expressionMap.of)throw new Q("Entity whose relation needs to be set is not set. Use .of method to define whose relation you want to set.");if(r.isManyToMany||r.isOneToMany)throw new Q(`Set operation is only supported for many-to-one and one-to-one relations. However given "${r.propertyPath}" has ${r.relationType} relation. Use .add() method instead.`);if(r.joinColumns&&r.joinColumns.length>1&&(!Ye.isObject(t)||Object.keys(t).length<r.joinColumns.length))throw new Q('Value to be set into the relation must be a map of relation ids, for example: .set({ firstName: "...", lastName: "..." })');return new mE(this,this.expressionMap).update(t)}async add(t){if(Array.isArray(t)&&t.length===0)return;let r=this.expressionMap.relationMetadata;if(!this.expressionMap.of)throw new Q("Entity whose relation needs to be set is not set. Use .of method to define whose relation you want to set.");if(r.isManyToOne||r.isOneToOne)throw new Q(`Add operation is only supported for many-to-many and one-to-many relations. However given "${r.propertyPath}" has ${r.relationType} relation. Use .set() method instead.`);if(r.joinColumns&&r.joinColumns.length>1&&(!Ye.isObject(t)||Object.keys(t).length<r.joinColumns.length))throw new Q('Value to be set into the relation must be a map of relation ids, for example: .set({ firstName: "...", lastName: "..." })');return new mE(this,this.expressionMap).update(t)}async remove(t){if(Array.isArray(t)&&t.length===0)return;let r=this.expressionMap.relationMetadata;if(!this.expressionMap.of)throw new Q("Entity whose relation needs to be set is not set. Use .of method to define whose relation you want to set.");if(r.isManyToOne||r.isOneToOne)throw new Q(`Add operation is only supported for many-to-many and one-to-many relations. However given "${r.propertyPath}" has ${r.relationType} relation. Use .set(null) method instead.`);return new FR(this,this.expressionMap).remove(t)}async addAndRemove(t,r){await this.remove(r),await this.add(t)}async loadOne(){return this.loadMany().then(t=>t[0])}async loadMany(){let t=this.expressionMap.of;if(!Ye.isObject(t)){let r=this.expressionMap.mainAlias.metadata;if(r.hasMultiplePrimaryKeys)throw new Q("Cannot load entity because only one primary key was specified, however entity contains multiple primary keys");t=r.primaryColumns[0].createValueMap(t)}return this.connection.relationLoader.load(this.expressionMap.relationMetadata,t,this.queryRunner)}};return n=Ct([tt.NAME("RelationQueryBuilder")],n),n})(),kR=class{constructor(e){this.options=e}logQuery(e,t,r){if(this.options==="all"||this.options===!0||Array.isArray(this.options)&&this.options.indexOf("query")!==-1){let i=e+(t&&t.length?" -- PARAMETERS: "+this.stringifyParams(t):"");console.log("query: "+i)}}logQueryError(e,t,r,i){if(this.options==="all"||this.options===!0||Array.isArray(this.options)&&this.options.indexOf("error")!==-1){let s=t+(r&&r.length?" -- PARAMETERS: "+this.stringifyParams(r):"");console.log("query failed: "+s),console.log("error:",e)}}logQuerySlow(e,t,r,i){let s=t+(r&&r.length?" -- PARAMETERS: "+this.stringifyParams(r):"");console.log("query is slow: "+s),console.log("execution time: "+e)}logSchemaBuild(e,t){(this.options==="all"||Array.isArray(this.options)&&this.options.indexOf("schema")!==-1)&&console.log(e)}logMigration(e,t){console.log(e)}log(e,t,r){switch(e){case"log":(this.options==="all"||Array.isArray(this.options)&&this.options.indexOf("log")!==-1)&&console.log(t);break;case"info":(this.options==="all"||Array.isArray(this.options)&&this.options.indexOf("info")!==-1)&&console.info(t);break;case"warn":(this.options==="all"||Array.isArray(this.options)&&this.options.indexOf("warn")!==-1)&&console.warn(t);break}}stringifyParams(e){try{return JSON.stringify(e)}catch{return e}}},gE=class{constructor(e){this.options=e}logQuery(e,t,r){if(this.options==="all"||this.options===!0||Array.isArray(this.options)&&this.options.indexOf("query")!==-1){let i=e+(t&&t.length?" -- PARAMETERS: "+this.stringifyParams(t):"");on.logInfo("query:",on.highlightSql(i))}}logQueryError(e,t,r,i){if(this.options==="all"||this.options===!0||Array.isArray(this.options)&&this.options.indexOf("error")!==-1){let s=t+(r&&r.length?" -- PARAMETERS: "+this.stringifyParams(r):"");on.logError("query failed:",on.highlightSql(s)),on.logError("error:",e)}}logQuerySlow(e,t,r,i){let s=t+(r&&r.length?" -- PARAMETERS: "+this.stringifyParams(r):"");on.logWarn("query is slow:",on.highlightSql(s)),on.logWarn("execution time:",e)}logSchemaBuild(e,t){(this.options==="all"||Array.isArray(this.options)&&this.options.indexOf("schema")!==-1)&&on.log(e)}logMigration(e,t){on.log(e)}log(e,t,r){switch(e){case"log":(this.options==="all"||Array.isArray(this.options)&&this.options.indexOf("log")!==-1)&&on.log(t);break;case"info":(this.options==="all"||Array.isArray(this.options)&&this.options.indexOf("info")!==-1)&&on.logInfo("INFO:",t);break;case"warn":(this.options==="all"||Array.isArray(this.options)&&this.options.indexOf("warn")!==-1)&&console.warn(on.warn(t));break}}stringifyParams(e){try{return JSON.stringify(e)}catch{return e}}},LR=class{constructor(){this.debugQueryLog=(0,ua.default)("typeorm:query:log"),this.debugQueryError=(0,ua.default)("typeorm:query:error"),this.debugQuerySlow=(0,ua.default)("typeorm:query:slow"),this.debugSchemaBuild=(0,ua.default)("typeorm:schema"),this.debugMigration=(0,ua.default)("typeorm:migration"),this.debugLog=(0,ua.default)("typeorm:log"),this.debugInfo=(0,ua.default)("typeorm:info"),this.debugWarn=(0,ua.default)("typeorm:warn")}logQuery(e,t,r){this.debugQueryLog.enabled&&(this.debugQueryLog(on.highlightSql(e)+";"),t&&t.length&&this.debugQueryLog("parameters:",t))}logQueryError(e,t,r,i){this.debugQueryError.enabled&&(this.debugQueryError(on.highlightSql(t)+";"),r&&r.length&&this.debugQueryError("parameters:",r),this.debugQueryError("error: ",e))}logQuerySlow(e,t,r,i){this.debugQuerySlow.enabled&&(this.debugQuerySlow(on.highlightSql(t)+";"),r&&r.length&&this.debugQuerySlow("parameters:",r),this.debugQuerySlow("execution time:",e))}logSchemaBuild(e,t){this.debugSchemaBuild.enabled&&this.debugSchemaBuild(e)}logMigration(e,t){this.debugMigration.enabled&&this.debugMigration(e)}log(e,t,r){switch(e){case"log":this.debugLog.enabled&&this.debugLog(t);break;case"info":this.debugInfo.enabled&&this.debugInfo(t);break;case"warn":this.debugWarn.enabled&&this.debugWarn(t);break}}},yE=class{create(e,t){if(Ye.isObject(e))return e;if(e)switch(e){case"simple-console":return new kR(t);case"file":return;case"advanced-console":return new gE(t);case"debug":return new LR}return new gE(t)}},BR=class{constructor(e,t){this.connection=e,this.clientType=t,this.redis=this.loadRedis()}async connect(){let e=this.connection.options.cache;if(this.clientType==="redis")this.client=this.redis.createClient(We(Z({},e?.options),{legacyMode:!0})),typeof this.connection.options.cache=="object"&&this.connection.options.cache.ignoreErrors&&this.client.on("error",t=>{this.connection.logger.log("warn",t)}),"connect"in this.client&&await this.client.connect();else if(this.clientType==="ioredis")e&&e.port?e.options?this.client=new this.redis(e.port,e.options):this.client=new this.redis(e.port):e&&e.options?this.client=new this.redis(e.options):this.client=new this.redis;else if(this.clientType==="ioredis/cluster")if(e&&e.options&&Array.isArray(e.options))this.client=new this.redis.Cluster(e.options);else if(e&&e.options&&e.options.startupNodes)this.client=new this.redis.Cluster(e.options.startupNodes,e.options.options);else throw new Q(`options.startupNodes required for ${this.clientType}.`)}async disconnect(){return new Promise((e,t)=>{this.client.quit((r,i)=>{if(r)return t(r);e(),this.client=void 0})})}async synchronize(e){}getFromCache(e,t){return new Promise((r,i)=>{e.identifier?this.client.get(e.identifier,(s,o)=>{if(s)return i(s);r(JSON.parse(o))}):e.query?this.client.get(e.query,(s,o)=>{if(s)return i(s);r(JSON.parse(o))}):r(void 0)})}isExpired(e){return e.time+e.duration<new Date().getTime()}async storeInCache(e,t,r){return new Promise((i,s)=>{e.identifier?this.client.set(e.identifier,JSON.stringify(e),"PX",e.duration,(o,a)=>{if(o)return s(o);i()}):e.query&&this.client.set(e.query,JSON.stringify(e),"PX",e.duration,(o,a)=>{if(o)return s(o);i()})})}async clear(e){return new Promise((t,r)=>{this.client.flushdb((i,s)=>{if(i)return r(i);t()})})}async remove(e,t){await Promise.all(e.map(r=>this.deleteKey(r)))}deleteKey(e){return new Promise((t,r)=>{this.client.del(e,(i,s)=>{if(i)return r(i);t()})})}loadRedis(){try{return this.clientType==="ioredis/cluster"?on.load("ioredis"):on.load(this.clientType)}catch{throw new Q(`Cannot use cache because ${this.clientType} is not installed. Please run "npm i ${this.clientType} --save".`)}}},qR=class{constructor(e){this.connection=e;let{schema:t}=this.connection.driver.options,r=this.connection.driver.database,s=(typeof this.connection.options.cache=="object"?this.connection.options.cache:{}).tableName||"query-result-cache";this.queryResultCacheDatabase=r,this.queryResultCacheSchema=t,this.queryResultCacheTable=this.connection.driver.buildTableName(s,t,r)}async connect(){}async disconnect(){}async synchronize(e){e=this.getQueryRunner(e);let t=this.connection.driver;await e.hasTable(this.queryResultCacheTable)||await e.createTable(new la({database:this.queryResultCacheDatabase,schema:this.queryResultCacheSchema,name:this.queryResultCacheTable,columns:[{name:"id",isPrimary:!0,isNullable:!1,type:t.normalizeType({type:t.mappedDataTypes.cacheId}),generationStrategy:t.options.type==="spanner"?"uuid":"increment",isGenerated:!0},{name:"identifier",type:t.normalizeType({type:t.mappedDataTypes.cacheIdentifier}),isNullable:!0},{name:"time",type:t.normalizeType({type:t.mappedDataTypes.cacheTime}),isPrimary:!1,isNullable:!1},{name:"duration",type:t.normalizeType({type:t.mappedDataTypes.cacheDuration}),isPrimary:!1,isNullable:!1},{name:"query",type:t.normalizeType({type:t.mappedDataTypes.cacheQuery}),isPrimary:!1,isNullable:!1},{name:"result",type:t.normalizeType({type:t.mappedDataTypes.cacheResult}),isNullable:!1}]}))}getFromCache(e,t){t=this.getQueryRunner(t);let r=this.connection.createQueryBuilder(t).select().from(this.queryResultCacheTable,"cache");return e.identifier?r.where(`${r.escape("cache")}.${r.escape("identifier")} = :identifier`).setParameters({identifier:e.identifier}).getRawOne():e.query?this.connection.driver.options.type==="oracle"?r.where(`dbms_lob.compare(${r.escape("cache")}.${r.escape("query")}, :query) = 0`,{query:e.query}).getRawOne():r.where(`${r.escape("cache")}.${r.escape("query")} = :query`).setParameters({query:e.query}).getRawOne():Promise.resolve(void 0)}isExpired(e){let t=typeof e.duration=="string"?parseInt(e.duration):e.duration;return(typeof e.time=="string"?parseInt(e.time):e.time)+t<new Date().getTime()}async storeInCache(e,t,r){let i=r===void 0||r?.getReplicationMode()==="slave";(r===void 0||i)&&(r=this.connection.createQueryRunner("master"));let s=e;if(this.connection.driver.options.type,t&&t.identifier){let o=r.manager.createQueryBuilder().update(this.queryResultCacheTable).set(s);o.where(`${o.escape("identifier")} = :condition`,{condition:s.identifier}),await o.execute()}else if(t&&t.query){let o=r.manager.createQueryBuilder().update(this.queryResultCacheTable).set(s);this.connection.driver.options.type==="oracle"?o.where('dbms_lob.compare("query", :condition) = 0',{condition:s.query}):o.where(`${o.escape("query")} = :condition`,{condition:s.query}),await o.execute()}else this.connection.driver.options.type==="spanner"&&!s.id&&(s.id=L_()),await r.manager.createQueryBuilder().insert().into(this.queryResultCacheTable).values(s).execute();i&&await r.release()}async clear(e){return this.getQueryRunner(e).clearTable(this.queryResultCacheTable)}async remove(e,t){let r=t||this.getQueryRunner();await Promise.all(e.map(i=>{let s=r.manager.createQueryBuilder();return s.delete().from(this.queryResultCacheTable).where(`${s.escape("identifier")} = :identifier`,{identifier:i}).execute()})),t||await r.release()}getQueryRunner(e){return e||this.connection.createQueryRunner()}},bE=class{constructor(e){this.connection=e}create(){if(!this.connection.options.cache)throw new Q("To use cache you need to enable it in connection options by setting cache: true or providing some caching options. Example: { host: ..., username: ..., cache: true }");let e=this.connection.options.cache;return e.provider&&typeof e.provider=="function"?e.provider(this.connection):e.type==="redis"||e.type==="ioredis"||e.type==="ioredis/cluster"?new BR(this.connection,e.type):new qR(this.connection)}},jR=class{constructor(e){this.connection=e}load(e,t,r,i){return r&&r.isReleased&&(r=void 0),e.isManyToOne||e.isOneToOneOwner?this.loadManyToOneOrOneToOneOwner(e,t,r,i):e.isOneToMany||e.isOneToOneNotOwner?this.loadOneToManyOrOneToOneNotOwner(e,t,r,i):e.isManyToManyOwner?this.loadManyToManyOwner(e,t,r,i):this.loadManyToManyNotOwner(e,t,r,i)}loadManyToOneOrOneToOneOwner(e,t,r,i){let s=Array.isArray(t)?t:[t],o=e.entityMetadata.name,a=i||this.connection.createQueryBuilder(r).select(e.propertyName).from(e.type,e.propertyName),c=a.expressionMap.mainAlias.name,u=e.entityMetadata.primaryColumns,f=(e.isOwning?e.joinColumns:e.inverseRelation.joinColumns).map(p=>`${e.entityMetadata.name}.${p.propertyName} = ${c}.${p.referencedColumn.propertyName}`).join(" AND ");if(a.innerJoin(e.entityMetadata.target,o,f),u.length===1)a.where(`${o}.${u[0].propertyPath} IN (:...${o+"_"+u[0].propertyName})`),a.setParameter(o+"_"+u[0].propertyName,s.map(p=>u[0].getEntityValue(p,!0)));else{let p=s.map((g,v)=>u.map((E,D)=>{let P=o+"_entity_"+v+"_"+D;return a.setParameter(P,E.getEntityValue(g,!0)),o+"."+E.propertyPath+" = :"+P}).join(" AND ")).map(g=>"("+g+")").join(" OR ");a.where(p)}return si.joinEagerRelations(a,a.alias,a.expressionMap.mainAlias.metadata),a.getMany()}loadOneToManyOrOneToOneNotOwner(e,t,r,i){let s=Array.isArray(t)?t:[t],o=e.inverseRelation.joinColumns,a=i||this.connection.createQueryBuilder(r).select(e.propertyName).from(e.inverseRelation.entityMetadata.target,e.propertyName),c=a.expressionMap.mainAlias.name;if(o.length===1)a.where(`${c}.${o[0].propertyPath} IN (:...${c+"_"+o[0].propertyName})`),a.setParameter(c+"_"+o[0].propertyName,s.map(u=>o[0].referencedColumn.getEntityValue(u,!0)));else{let u=s.map((l,f)=>o.map((p,g)=>{let v=c+"_entity_"+f+"_"+g;return a.setParameter(v,p.referencedColumn.getEntityValue(l,!0)),c+"."+p.propertyPath+" = :"+v}).join(" AND ")).map(l=>"("+l+")").join(" OR ");a.where(u)}return si.joinEagerRelations(a,a.alias,a.expressionMap.mainAlias.metadata),a.getMany()}loadManyToManyOwner(e,t,r,i){let s=Array.isArray(t)?t:[t],o=e.joinColumns.reduce((p,g)=>(p[g.propertyName]=s.map(v=>g.referencedColumn.getEntityValue(v,!0)),p),{}),a=i||this.connection.createQueryBuilder(r).select(e.propertyName).from(e.type,e.propertyName),c=a.expressionMap.mainAlias.name,u=e.junctionEntityMetadata.tableName,l=e.joinColumns.map(p=>`${u}.${p.propertyName} IN (:...${p.propertyName})`),f=e.inverseJoinColumns.map(p=>`${u}.${p.propertyName}=${c}.${p.referencedColumn.propertyName}`);return a.innerJoin(u,u,[...l,...f].join(" AND ")).setParameters(o),si.joinEagerRelations(a,a.alias,a.expressionMap.mainAlias.metadata),a.getMany()}loadManyToManyNotOwner(e,t,r,i){let s=Array.isArray(t)?t:[t],o=i||this.connection.createQueryBuilder(r).select(e.propertyName).from(e.type,e.propertyName),a=o.expressionMap.mainAlias.name,c=e.junctionEntityMetadata.tableName,u=e.inverseRelation.joinColumns.map(p=>`${c}.${p.propertyName} = ${a}.${p.referencedColumn.propertyName}`),l=e.inverseRelation.inverseJoinColumns.map(p=>`${c}.${p.propertyName} IN (:...${p.propertyName})`),f=e.inverseRelation.inverseJoinColumns.reduce((p,g)=>(p[g.propertyName]=s.map(v=>g.referencedColumn.getEntityValue(v,!0)),p),{});return o.innerJoin(c,c,[...u,...l].join(" AND ")).setParameters(f),si.joinEagerRelations(o,o.alias,o.expressionMap.mainAlias.metadata),o.getMany()}enableLazyLoad(e,t,r){let i=this,s="__"+e.propertyName+"__",o="__promise_"+e.propertyName+"__",a="__has_"+e.propertyName+"__",c=(l,f)=>(l[s]=f,l[a]=!0,delete l[o],f),u=(l,f)=>(delete l[a],delete l[s],l[o]=f,f.then(p=>l[o]===f?c(l,p):p),f);Object.defineProperty(t,e.propertyName,{get:function(){if(this[a]===!0||this[s]!==void 0)return Promise.resolve(this[s]);if(this[o])return this[o];let l=i.load(e,this,r).then(f=>e.isOneToOne||e.isManyToOne?f.length===0?null:f[0]:f);return u(this,l)},set:function(l){l instanceof Promise?u(this,l):c(this,l)},configurable:!0})}},$R=class{constructor(e){this.connection=e}load(e,t,r){let i=Array.isArray(t)?t:[t],s=Array.isArray(r)?r:r?[r]:void 0;return e.isManyToMany?this.loadForManyToMany(e,i,s):e.isManyToOne||e.isOneToOneOwner?this.loadForManyToOneAndOneToOneOwner(e,i,s):this.loadForOneToManyAndOneToOneNotOwner(e,i,s)}async loadManyToManyRelationIdsAndGroup(e,t,r,i){let s=e.isManyToMany||e.isOneToMany,o=Array.isArray(t)?t:[t];if(!r&&(r=await this.connection.relationLoader.load(e,t,void 0,i),!r.length))return o.map(f=>({entity:f,related:s?[]:void 0}));let a=await this.load(e,t,r),c=Array.isArray(r)?r:[r],u=[],l=[];return e.isManyToManyOwner?(u=e.junctionEntityMetadata.inverseColumns.map(f=>f.referencedColumn),l=e.junctionEntityMetadata.ownerColumns.map(f=>f.referencedColumn)):e.isManyToManyNotOwner?(u=e.junctionEntityMetadata.ownerColumns.map(f=>f.referencedColumn),l=e.junctionEntityMetadata.inverseColumns.map(f=>f.referencedColumn)):e.isManyToOne||e.isOneToOneOwner?(u=e.joinColumns.map(f=>f.referencedColumn),l=e.entityMetadata.primaryColumns):(e.isOneToMany||e.isOneToOneNotOwner)&&(u=e.inverseRelation.entityMetadata.primaryColumns,l=e.inverseRelation.joinColumns.map(f=>f.referencedColumn)),o.map(f=>{let p={entity:f,related:s?[]:void 0},g=a.filter(v=>l.every(E=>E.compareEntityValue(f,v[E.entityMetadata.name+"_"+E.propertyAliasName])));return g.length&&c.forEach(v=>{g.forEach(E=>{u.every(P=>P.compareEntityValue(v,E[Ae.buildAlias(this.connection.driver,P.entityMetadata.name+"_"+e.propertyPath.replace(".","_")+"_"+P.propertyPath.replace(".","_"))]))&&(s?p.related.push(v):p.related=v)})}),p})}loadForManyToMany(e,t,r){let i=e.junctionEntityMetadata,s=i.name,o=e.isOwning?i.ownerColumns:i.inverseColumns,a=e.isOwning?i.inverseColumns:i.ownerColumns,c=this.connection.createQueryBuilder();o.forEach(p=>{let g=Ae.buildAlias(this.connection.driver,p.referencedColumn.entityMetadata.name+"_"+p.referencedColumn.propertyPath.replace(".","_"));c.addSelect(s+"."+p.propertyPath,g)}),a.forEach(p=>{let g=Ae.buildAlias(this.connection.driver,p.referencedColumn.entityMetadata.name+"_"+e.propertyPath.replace(".","_")+"_"+p.referencedColumn.propertyPath.replace(".","_"));c.addSelect(s+"."+p.propertyPath,g)});let u="";if(o.length===1){let p=t.map(v=>o[0].referencedColumn.getEntityValue(v));p.every(v=>typeof v=="number")?u=`${s}.${o[0].propertyPath} IN (${p.join(", ")})`:(c.setParameter("values1",p),u=s+"."+o[0].propertyPath+" IN (:...values1)")}else u="("+t.map((p,g)=>o.map(v=>{let E="entity1_"+g+"_"+v.propertyName;return c.setParameter(E,v.referencedColumn.getEntityValue(p)),s+"."+v.propertyPath+" = :"+E}).join(" AND ")).map(p=>"("+p+")").join(" OR ")+")";let l="";if(r)if(a.length===1){let p=r.map(v=>a[0].referencedColumn.getEntityValue(v));p.every(v=>typeof v=="number")?l=`${s}.${a[0].propertyPath} IN (${p.join(", ")})`:(c.setParameter("values2",p),l=s+"."+a[0].propertyPath+" IN (:...values2)")}else l="("+r.map((p,g)=>a.map(v=>{let E="entity2_"+g+"_"+v.propertyName;return c.setParameter(E,v.referencedColumn.getEntityValue(p)),s+"."+v.propertyPath+" = :"+E}).join(" AND ")).map(p=>"("+p+")").join(" OR ")+")";let f=[u,l].filter(p=>p.length>0).join(" AND ");return c.from(i.target,s).where(f).getRawMany()}loadForManyToOneAndOneToOneOwner(e,t,r){let i=e.entityMetadata.targetName,s=e.joinColumns.every(c=>!!e.entityMetadata.nonVirtualColumns.find(u=>u===c));if(r&&s){let c=[];if(t.forEach(u=>{let l={};e.entityMetadata.primaryColumns.forEach(f=>{let p=f.entityMetadata.name+"_"+f.propertyPath.replace(".","_");l[p]=f.getEntityValue(u)}),r.forEach(f=>{e.joinColumns.forEach(p=>{let g=p.getEntityValue(u),v=p.referencedColumn.getEntityValue(f);if(!(g===void 0||v===void 0)&&g===v){let E=p.referencedColumn.entityMetadata.name+"_"+e.propertyPath.replace(".","_")+"_"+p.referencedColumn.propertyPath.replace(".","_");l[E]=v}})}),Object.keys(l).length===e.entityMetadata.primaryColumns.length+e.joinColumns.length&&c.push(l)}),c.length===t.length)return Promise.resolve(c)}let o=this.connection.createQueryBuilder();e.entityMetadata.primaryColumns.forEach(c=>{let u=Ae.buildAlias(this.connection.driver,c.entityMetadata.name+"_"+c.propertyPath.replace(".","_"));o.addSelect(i+"."+c.propertyPath,u)}),e.joinColumns.forEach(c=>{let u=Ae.buildAlias(this.connection.driver,c.referencedColumn.entityMetadata.name+"_"+e.propertyPath.replace(".","_")+"_"+c.referencedColumn.propertyPath.replace(".","_"));o.addSelect(i+"."+c.propertyPath,u)});let a="";if(e.entityMetadata.primaryColumns.length===1){let c=t.map(l=>e.entityMetadata.primaryColumns[0].getEntityValue(l));c.every(l=>typeof l=="number")?a=`${i}.${e.entityMetadata.primaryColumns[0].propertyPath} IN (${c.join(", ")})`:(o.setParameter("values",c),a=i+"."+e.entityMetadata.primaryColumns[0].propertyPath+" IN (:...values)")}else a=t.map((c,u)=>e.entityMetadata.primaryColumns.map((l,f)=>{let p="entity"+u+"_"+f;return o.setParameter(p,l.getEntityValue(c)),i+"."+l.propertyPath+" = :"+p}).join(" AND ")).map(c=>"("+c+")").join(" OR ");return o.from(e.entityMetadata.target,i).where(a).getRawMany()}loadForOneToManyAndOneToOneNotOwner(e,t,r){if(e=e.inverseRelation,e.entityMetadata.primaryColumns.length===e.joinColumns.length&&e.entityMetadata.primaryColumns.every(c=>e.joinColumns.indexOf(c)!==-1))return Promise.resolve(t.map(c=>{let u={};return e.joinColumns.forEach(function(l){let f=l.referencedColumn.getEntityValue(c),p=l.referencedColumn.entityMetadata.name+"_"+l.referencedColumn.propertyPath.replace(".","_"),g=l.entityMetadata.name+"_"+e.inverseRelation.propertyPath.replace(".","_")+"_"+l.propertyPath.replace(".","_");u[p]=f,u[g]=f}),u}));let i=e.entityMetadata.targetName,s=this.connection.createQueryBuilder();e.entityMetadata.primaryColumns.forEach(a=>{let c=Ae.buildAlias(this.connection.driver,a.entityMetadata.name+"_"+e.inverseRelation.propertyPath.replace(".","_")+"_"+a.propertyPath.replace(".","_"));s.addSelect(i+"."+a.propertyPath,c)}),e.joinColumns.forEach(a=>{let c=Ae.buildAlias(this.connection.driver,a.referencedColumn.entityMetadata.name+"_"+a.referencedColumn.propertyPath.replace(".","_"));s.addSelect(i+"."+a.propertyPath,c)});let o="";if(e.joinColumns.length===1){let a=t.map(u=>e.joinColumns[0].referencedColumn.getEntityValue(u));a.every(u=>typeof u=="number")?o=`${i}.${e.joinColumns[0].propertyPath} IN (${a.join(", ")})`:(s.setParameter("values",a),o=i+"."+e.joinColumns[0].propertyPath+" IN (:...values)")}else o=t.map((a,c)=>e.joinColumns.map((u,l)=>{let f="entity"+c+"_"+l;return s.setParameter(f,u.referencedColumn.getEntityValue(a)),i+"."+u.propertyPath+" = :"+f}).join(" AND ")).map(a=>"("+a+")").join(" OR ");return s.from(e.entityMetadata.target,i).where(o).getRawMany()}},vE=class{constructor(e){this["@instanceof"]=Symbol.for("DataSource"),this.SelectQueryBuilder=Gp,this.UpdateQueryBuilder=Net,this.DeleteQueryBuilder=Oet,this.SoftDeleteQueryBuilder=Pet,this.InsertQueryBuilder=Fet,this.RelationQueryBuilder=ket,this.migrations=[],this.subscribers=[],this.entityMetadatas=[],this.name=e.name||"default",this.options=e,this.logger=new yE().create(this.options.logger,this.options.logging),this.driver=new bR().create(this),this.manager=this.createEntityManager(),this.namingStrategy=e.namingStrategy||new HM,this.metadataTableName=e.metadataTableName||"typeorm_metadata",this.queryResultCache=e.cache?new bE(this).create():void 0,this.relationLoader=new jR(this),this.relationIdLoader=new $R(this),this.isInitialized=!1}get isConnected(){return this.isInitialized}get sqljsManager(){if(!_e.isSqljsEntityManager(this.manager))throw new Q("SqljsEntityManager is only available for Sqljs databases.");return this.manager}setOptions(e){return Object.assign(this.options,e),(e.logger||e.logging)&&(this.logger=new yE().create(e.logger||this.options.logger,e.logging||this.options.logging)),e.namingStrategy&&(this.namingStrategy=e.namingStrategy),e.cache&&(this.queryResultCache=new bE(this).create()),this}async initialize(){if(this.isInitialized)throw new EM(this.name);await this.driver.connect(),this.queryResultCache&&await this.queryResultCache.connect(),Ye.assign(this,{isInitialized:!0});try{await this.buildMetadatas(),await this.driver.afterConnect(),this.options.dropSchema&&await this.dropDatabase(),this.options.migrationsRun&&await this.runMigrations({transaction:this.options.migrationsTransactionMode}),this.options.synchronize&&await this.synchronize()}catch(e){throw await this.close(),e}return this}async connect(){return this.initialize()}async destroy(){if(!this.isInitialized)throw new ku(this.name);await this.driver.disconnect(),this.queryResultCache&&await this.queryResultCache.disconnect(),Ye.assign(this,{isInitialized:!1})}async close(){return this.destroy()}async synchronize(e=!1){if(!this.isInitialized)throw new ku(this.name);e&&await this.dropDatabase(),await this.driver.createSchemaBuilder().build()}async dropDatabase(){let e=this.createQueryRunner();try{if(this.driver.options.type==="mssql"||Ae.isMySQLFamily(this.driver)||this.driver.options.type==="aurora-mysql"||Ae.isSQLiteFamily(this.driver)){let t=[];if(this.entityMetadatas.forEach(r=>{r.database&&t.indexOf(r.database)===-1&&t.push(r.database)}),t.length===0&&this.driver.database&&t.push(this.driver.database),t.length===0)await e.clearDatabase();else for(let r of t)await e.clearDatabase(r)}else await e.clearDatabase()}finally{await e.release()}}async runMigrations(e){if(!this.isInitialized)throw new ku(this.name);let t=new Hp(this);return t.transaction=e&&e.transaction||"all",t.fake=e&&e.fake||!1,await t.executePendingMigrations()}async undoLastMigration(e){if(!this.isInitialized)throw new ku(this.name);let t=new Hp(this);t.transaction=e&&e.transaction||"all",t.fake=e&&e.fake||!1,await t.undoLastMigration()}async showMigrations(){if(!this.isInitialized)throw new ku(this.name);return await new Hp(this).showMigrations()}hasMetadata(e){return!!this.findMetadata(e)}getMetadata(e){let t=this.findMetadata(e);if(t=t||this.findMetadata(e[VR]),!t)throw new TM(e);return t}getRepository(e){return this.manager.getRepository(e)}getTreeRepository(e){return this.manager.getTreeRepository(e)}getCustomRepository(e){return this.manager.getCustomRepository(e)}async transaction(e,t){return this.manager.transaction(e,t)}async query(e,t,r){if(r&&r.isReleased)throw new G_;let i=r||this.createQueryRunner();try{return await i.query(e,t)}finally{r||await i.release()}}createQueryBuilder(e,t,r){if(t){t=Ae.buildAlias(this.driver,t);let i=this.getMetadata(e);return new Gp(this,r).select(t).from(i.target,t)}else return new Gp(this,e)}createQueryRunner(e="master"){let t=this.driver.createQueryRunner(e),r=this.createEntityManager(t);return Object.assign(t,{manager:r}),t}getManyToManyMetadata(e,t){let r=this.getMetadata(e).findRelationWithPropertyPath(t);if(!r)throw new Q(`Relation "${t}" was not found in ${e} entity.`);if(!r.isManyToMany)throw new Q(`Relation "${e}#${t}" does not have a many-to-many relationship.You can use this method only on many-to-many relations.`);return r.junctionEntityMetadata}createEntityManager(e){return new aR().create(this,e)}findMetadata(e){return this.entityMetadatas.find(t=>t.target===e?!0:_e.isEntitySchema(e)?t.name===e.options.name:typeof e=="string"?e.indexOf(".")!==-1?t.tablePath===e:t.name===e||t.tableName===e:Ye.isObject(e)&&typeof e.name=="string"?e.name.indexOf(".")!==-1?t.tablePath===e.name:t.name===e.name||t.tableName===e.name:!1)}async buildMetadatas(){let e=new AR(this),t=new GM,r=Ye.mixedListToArray(this.options.subscribers||[]),i=await e.buildSubscribers(r);Ye.assign(this,{subscribers:i});let s=Ye.mixedListToArray(this.options.entities||[]),o=await e.buildEntityMetadatas(s);Ye.assign(this,{entityMetadatas:o});let a=Ye.mixedListToArray(this.options.migrations||[]),c=await e.buildMigrations(a);Ye.assign(this,{migrations:c}),t.validateMany(this.entityMetadatas.filter(u=>u.tableType!=="view"),this.driver);for(let u of o)_e.isBaseEntityConstructor(u.target)&&u.target.useDataSource(this)}};function wi(){let n=on.getGlobalVariable();return n.typeormMetadataArgsStorage||(n.typeormMetadataArgsStorage=new V_),n.typeormMetadataArgsStorage}function _E(n,e){return function(t,r){let i;typeof n=="string"||typeof n=="function"?i=n:n&&(e=n,i=n.type),e||(e={});let s=Reflect&&Reflect.getMetadata?Reflect.getMetadata("design:type",t,r):void 0;if(!i&&s&&(i=s),!e.type&&i&&(e.type=i),e.type==="hstore"&&!e.hstoreType&&(e.hstoreType=s===Object?"object":"string"),typeof n=="function")wi().embeddeds.push({target:t.constructor,propertyName:r,isArray:s===Array||e.array===!0,prefix:e.prefix!==void 0?e.prefix:void 0,type:n});else{if(!e.type)throw new $M(t,r);e.unique===!0&&wi().uniques.push({target:t.constructor,columns:[r]}),wi().columns.push({target:t.constructor,propertyName:r,mode:"regular",options:e}),e.generated&&wi().generations.push({target:t.constructor,propertyName:r,strategy:typeof e.generated=="string"?e.generated:"increment"})}}}function xae(n){return function(e,t){wi().columns.push({target:e.constructor,propertyName:t,mode:"createDate",options:n||{}})}}function Tae(n,e){let t={},r;return n?(typeof n=="string"&&(r=n),Ye.isObject(n)&&(r="increment",Object.assign(t,n))):r="increment",Ye.isObject(e)&&Object.assign(t,e),function(i,s){t.type||(r==="increment"||r==="identity"?t.type=Number:r==="uuid"?t.type="uuid":r==="rowid"&&(t.type="int")),t.primary=!0,wi().columns.push({target:i.constructor,propertyName:s,mode:"regular",options:t}),wi().generations.push({target:i.constructor,propertyName:s,strategy:r})}}function Aae(n){return function(e,t){wi().columns.push({target:e.constructor,propertyName:t,mode:"version",options:n||{}})}}function Sae(){return function(n){wi().entitySubscribers.push({target:n})}}function tm(n,e){let t=(Ye.isObject(n)?n:e)||{},r=typeof n=="string"?n:t.name;return function(i){wi().tables.push({target:i,name:r,type:"regular",orderBy:t.orderBy?t.orderBy:void 0,engine:t.engine?t.engine:void 0,database:t.database?t.database:void 0,schema:t.schema?t.schema:void 0,synchronize:t.synchronize,withoutRowid:t.withoutRowid})}}var fce=R(NI(),1);var js=Object.create(null);js.open="0";js.close="1";js.ping="2";js.pong="3";js.message="4";js.upgrade="5";js.noop="6";var nm=Object.create(null);Object.keys(js).forEach(n=>{nm[js[n]]=n});var rm={type:"error",data:"parser error"};var Rae=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Nae=typeof ArrayBuffer=="function",Oae=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,im=({type:n,data:e},t,r)=>Rae&&e instanceof Blob?t?r(e):Iae(e,r):Nae&&(e instanceof ArrayBuffer||Oae(e))?t?r(e):Iae(new Blob([e]),r):r(js[n]+(e||"")),Iae=(n,e)=>{let t=new FileReader;return t.onload=function(){let r=t.result.split(",")[1];e("b"+(r||""))},t.readAsDataURL(n)};function Mae(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}var UR;function Pae(n,e){if(Rae&&n.data instanceof Blob)return n.data.arrayBuffer().then(Mae).then(e);if(Nae&&(n.data instanceof ArrayBuffer||Oae(n.data)))return e(Mae(n.data));im(n,!1,t=>{UR||(UR=new TextEncoder),e(UR.encode(t))})}var Fae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sm=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<Fae.length;n++)sm[Fae.charCodeAt(n)]=n;var kae=n=>{let e=n.length*.75,t=n.length,r,i=0,s,o,a,c;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);let u=new ArrayBuffer(e),l=new Uint8Array(u);for(r=0;r<t;r+=4)s=sm[n.charCodeAt(r)],o=sm[n.charCodeAt(r+1)],a=sm[n.charCodeAt(r+2)],c=sm[n.charCodeAt(r+3)],l[i++]=s<<2|o>>4,l[i++]=(o&15)<<4|a>>2,l[i++]=(a&3)<<6|c&63;return u};var Let=typeof ArrayBuffer=="function",om=(n,e)=>{if(typeof n!="string")return{type:"message",data:Lae(n,e)};let t=n.charAt(0);return t==="b"?{type:"message",data:Bet(n.substring(1),e)}:nm[t]?n.length>1?{type:nm[t],data:n.substring(1)}:{type:nm[t]}:rm},Bet=(n,e)=>{if(Let){let t=kae(n);return Lae(t,e)}else return{base64:!0,data:n}},Lae=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}};var Bae="",qae=(n,e)=>{let t=n.length,r=new Array(t),i=0;n.forEach((s,o)=>{im(s,!1,a=>{r[o]=a,++i===t&&e(r.join(Bae))})})},jae=(n,e)=>{let t=n.split(Bae),r=[];for(let i=0;i<t.length;i++){let s=om(t[i],e);if(r.push(s),s.type==="error")break}return r};function $ae(){return new TransformStream({transform(n,e){Pae(n,t=>{let r=t.length,i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);let s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{i=new Uint8Array(9);let s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}n.data&&typeof n.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}var HR;function EE(n){return n.reduce((e,t)=>e+t.length,0)}function wE(n,e){if(n[0].length===e)return n.shift();let t=new Uint8Array(e),r=0;for(let i=0;i<e;i++)t[i]=n[0][r++],r===n[0].length&&(n.shift(),r=0);return n.length&&r<n[0].length&&(n[0]=n[0].slice(r)),t}function Vae(n,e){HR||(HR=new TextDecoder);let t=[],r=0,i=-1,s=!1;return new TransformStream({transform(o,a){for(t.push(o);;){if(r===0){if(EE(t)<1)break;let c=wE(t,1);s=(c[0]&128)===128,i=c[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(EE(t)<2)break;let c=wE(t,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(EE(t)<8)break;let c=wE(t,8),u=new DataView(c.buffer,c.byteOffset,c.length),l=u.getUint32(0);if(l>Math.pow(2,21)-1){a.enqueue(rm);break}i=l*Math.pow(2,32)+u.getUint32(4),r=3}else{if(EE(t)<i)break;let c=wE(t,i);a.enqueue(om(s?c:HR.decode(c),e)),r=0}if(i===0||i>n){a.enqueue(rm);break}}}})}var WR=4;function yn(n){if(n)return qet(n)}function qet(n){for(var e in yn.prototype)n[e]=yn.prototype[e];return n}yn.prototype.on=yn.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};yn.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};yn.prototype.off=yn.prototype.removeListener=yn.prototype.removeAllListeners=yn.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if(r=t[i],r===e||r.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+n],this};yn.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){t=t.slice(0);for(var r=0,i=t.length;r<i;++r)t[r].apply(this,e)}return this};yn.prototype.emitReserved=yn.prototype.emit;yn.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};yn.prototype.hasListeners=function(n){return!!this.listeners(n).length};var jr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function CE(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}var jet=jr.setTimeout,$et=jr.clearTimeout;function da(n,e){e.useNativeTimers?(n.setTimeoutFn=jet.bind(jr),n.clearTimeoutFn=$et.bind(jr)):(n.setTimeoutFn=jr.setTimeout.bind(jr),n.clearTimeoutFn=jr.clearTimeout.bind(jr))}var Vet=1.33;function Uae(n){return typeof n=="string"?Uet(n):Math.ceil((n.byteLength||n.size)*Vet)}function Uet(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}function Hae(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function Wae(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let s=t[r].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}var DE=class extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}},fa=class extends yn{constructor(e){super(),this.writable=!1,da(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,r){return super.emitReserved("error",new DE(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let t=om(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let t=Hae(e);return t.length?"?"+t:""}};var Kae="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),zR=64,Het={},zae=0,xE=0,Gae;function Qae(n){let e="";do e=Kae[n%zR]+e,n=Math.floor(n/zR);while(n>0);return e}function TE(){let n=Qae(+new Date);return n!==Gae?(zae=0,Gae=n):n+"."+Qae(zae++)}for(;xE<zR;xE++)Het[Kae[xE]]=xE;var Yae=!1;try{Yae=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var Jae=Yae;function GR(n){let e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Jae))return new XMLHttpRequest}catch{}if(!e)try{return new jr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Wet(){}var zet=(function(){return new GR({xdomain:!1}).responseType!=null})(),SE=class extends fa{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){let r=location.protocol==="https:",i=location.port;i||(i=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port}let t=e&&e.forceBase64;this.supportsBinary=zet&&!t,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";let t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};jae(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){let e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,qae(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=TE()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new AE(this.uri(),e)}doWrite(e,t){let r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}},AE=(()=>{class n extends yn{constructor(t,r){super(),da(this,r),this.opts=r,this.method=r.method||"GET",this.uri=t,this.data=r.data!==void 0?r.data:null,this.create()}create(){var t;let r=CE(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this.opts.xd;let i=this.xhr=new GR(r);try{i.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&i.setRequestHeader(s,this.opts.extraHeaders[s])}}catch{}if(this.method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=()=>{var s;i.readyState===3&&((s=this.opts.cookieJar)===null||s===void 0||s.parseCookies(i)),i.readyState===4&&(i.status===200||i.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof i.status=="number"?i.status:0)},0))},i.send(this.data)}catch(s){this.setTimeoutFn(()=>{this.onError(s)},0);return}typeof document<"u"&&(this.index=n.requestsCount++,n.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Wet,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this.index],this.xhr=null}}onLoad(){let t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}return n.requestsCount=0,n.requests={},n})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Zae);else if(typeof addEventListener=="function"){let n="onpagehide"in jr?"pagehide":"unload";addEventListener(n,Zae,!1)}}function Zae(){for(let n in AE.requests)AE.requests.hasOwnProperty(n)&&AE.requests[n].abort()}var Vu=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),am=jr.WebSocket||jr.MozWebSocket,IE=!0,Xae="arraybuffer";var ece=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",ME=class extends fa{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let e=this.uri(),t=this.opts.protocols,r=ece?{}:CE(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=IE&&!ece?t?new am(e,t):new am(e):new am(e,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;im(r,this.supportsBinary,s=>{let o={};IE||(r.options&&(o.compress=r.options.compress),this.opts.perMessageDeflate&&(typeof s=="string"?Buffer.byteLength(s):s.length)<this.opts.perMessageDeflate.threshold&&(o.compress=!1));try{IE?this.ws.send(s):this.ws.send(s,o)}catch{}i&&Vu(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=TE()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!am}};var RE=class extends fa{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{let t=Vae(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),i=$ae();i.readable.pipeTo(e.writable),this.writer=i.writable.getWriter();let s=()=>{r.read().then(({done:a,value:c})=>{a||(this.onPacket(c),s())}).catch(a=>{})};s();let o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],i=t===e.length-1;this.writer.write(r).then(()=>{i&&Vu(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}};var QR={websocket:ME,webtransport:RE,polling:SE};var Get=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Qet=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Xd(n){if(n.length>2e3)throw"URI too long";let e=n,t=n.indexOf("["),r=n.indexOf("]");t!=-1&&r!=-1&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=Get.exec(n||""),s={},o=14;for(;o--;)s[Qet[o]]=i[o]||"";return t!=-1&&r!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=Ket(s,s.path),s.queryKey=Yet(s,s.query),s}function Ket(n,e){let t=/\/{2,9}/g,r=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Yet(n,e){let t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(t[i]=s)}),t}var NE=(()=>{class n extends yn{constructor(t,r={}){super(),this.binaryType=Xae,this.writeBuffer=[],t&&typeof t=="object"&&(r=t,t=null),t?(t=Xd(t),r.hostname=t.host,r.secure=t.protocol==="https"||t.protocol==="wss",r.port=t.port,t.query&&(r.query=t.query)):r.host&&(r.hostname=Xd(r.host).host),da(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Wae(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){let r=Object.assign({},this.opts.query);r.EIO=WR,r.transport=t,this.id&&(r.sid=this.id);let i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new QR[t](i)}open(){let t;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(t){let r=this.createTransport(t),i=!1;n.priorWebsocketSuccess=!1;let s=()=>{i||(r.send([{type:"ping",data:"probe"}]),r.once("packet",p=>{if(!i)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;n.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(f(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{let g=new Error("probe error");g.transport=r.name,this.emitReserved("upgradeError",g)}}))};function o(){i||(i=!0,f(),r.close(),r=null)}let a=p=>{let g=new Error("probe error: "+p);g.transport=r.name,o(),this.emitReserved("upgradeError",g)};function c(){a("transport closed")}function u(){a("socket closed")}function l(p){r&&p.name!==r.name&&o()}let f=()=>{r.removeListener("open",s),r.removeListener("error",a),r.removeListener("close",c),this.off("close",u),this.off("upgrading",l)};r.once("open",s),r.once("error",a),r.once("close",c),this.once("close",u),this.once("upgrading",l),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{i||r.open()},200):r.open()}onOpen(){if(this.readyState="open",n.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0,r=this.upgrades.length;for(;t<r;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":let r=new Error("server error");r.code=t.data,this.onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){let s=this.writeBuffer[i].data;if(s&&(r+=Uae(s)),i>0&&r>this.maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}write(t,r,i){return this.sendPacket("message",t,r,i),this}send(t,r,i){return this.sendPacket("message",t,r,i),this}sendPacket(t,r,i,s){if(typeof r=="function"&&(s=r,r=void 0),typeof i=="function"&&(s=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;let o={type:t,data:r,options:i};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),s&&this.once("flush",s),this.flush()}close(){let t=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}onError(t){n.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,r){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){let r=[],i=0,s=t.length;for(;i<s;i++)~this.transports.indexOf(t[i])&&r.push(t[i]);return r}}return n.protocol=WR,n})();var Xjt=NE.protocol;function tce(n,e="",t){let r=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),r=Xd(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";let s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+e,r.href=r.protocol+"://"+s+(t&&t.port===r.port?"":":"+r.port),r}var eN={};UN(eN,{Decoder:()=>ZR,Encoder:()=>JR,PacketType:()=>It,isPacketValid:()=>stt,protocol:()=>oce});var Jet=typeof ArrayBuffer=="function",Zet=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,nce=Object.prototype.toString,Xet=typeof Blob=="function"||typeof Blob<"u"&&nce.call(Blob)==="[object BlobConstructor]",ett=typeof File=="function"||typeof File<"u"&&nce.call(File)==="[object FileConstructor]";function um(n){return Jet&&(n instanceof ArrayBuffer||Zet(n))||Xet&&n instanceof Blob||ett&&n instanceof File}function cm(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(cm(n[t]))return!0;return!1}if(um(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return cm(n.toJSON(),!0);for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&cm(n[t]))return!0;return!1}function rce(n){let e=[],t=n.data,r=n;return r.data=KR(t,e),r.attachments=e.length,{packet:r,buffers:e}}function KR(n,e){if(!n)return n;if(um(n)){let t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){let t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=KR(n[r],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){let t={};for(let r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=KR(n[r],e));return t}return n}function ice(n,e){return n.data=YR(n.data,e),delete n.attachments,n}function YR(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=YR(n[t],e);else if(typeof n=="object")for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=YR(n[t],e));return n}var sce=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],oce=5,It=(function(n){return n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",n})(It||{}),JR=class{constructor(e){this.replacer=e}encode(e){return(e.type===It.EVENT||e.type===It.ACK)&&cm(e)?this.encodeAsBinary({type:e.type===It.EVENT?It.BINARY_EVENT:It.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===It.BINARY_EVENT||e.type===It.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){let t=rce(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}},ZR=class n extends yn{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);let r=t.type===It.BINARY_EVENT;r||t.type===It.BINARY_ACK?(t.type=r?It.EVENT:It.ACK,this.reconstructor=new XR(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(um(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0,r={type:Number(e.charAt(0))};if(It[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===It.BINARY_EVENT||r.type===It.BINARY_ACK){let s=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);let o=e.substring(s,t);if(o!=Number(o)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(t+1)==="/"){let s=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););r.nsp=e.substring(s,t)}else r.nsp="/";let i=e.charAt(t+1);if(i!==""&&Number(i)==i){let s=t+1;for(;++t;){let o=e.charAt(t);if(o==null||Number(o)!=o){--t;break}if(t===e.length)break}r.id=Number(e.substring(s,t+1))}if(e.charAt(++t)){let s=this.tryParse(e.substr(t));if(n.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case It.CONNECT:return OE(t);case It.DISCONNECT:return t===void 0;case It.CONNECT_ERROR:return typeof t=="string"||OE(t);case It.EVENT:case It.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&sce.indexOf(t[0])===-1);case It.ACK:case It.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},XR=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let t=ice(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function ttt(n){return typeof n=="string"}var ntt=Number.isInteger||function(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n};function rtt(n){return n===void 0||ntt(n)}function OE(n){return Object.prototype.toString.call(n)==="[object Object]"}function itt(n,e){switch(n){case It.CONNECT:return e===void 0||OE(e);case It.DISCONNECT:return e===void 0;case It.EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&sce.indexOf(e[0])===-1);case It.ACK:return Array.isArray(e);case It.CONNECT_ERROR:return typeof e=="string"||OE(e);default:return!1}}function stt(n){return ttt(n.nsp)&&rtt(n.id)&&itt(n.type,n.data)}function zi(n,e,t){return n.on(e,t),function(){n.off(e,t)}}var ott=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),ef=class extends yn{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[zi(e,"open",this.onopen.bind(this)),zi(e,"packet",this.onpacket.bind(this)),zi(e,"error",this.onerror.bind(this)),zi(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(ott.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let r={type:It.EVENT,data:t};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){let o=this.ids++,a=t.pop();this._registerAckCallback(o,a),r.id=o}let i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(e,t){var r;let i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=t;return}let s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);t.call(this,new Error("operation has timed out"))},i),o=(...a)=>{this.io.clearTimeoutFn(s),t.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...t){return new Promise((r,i)=>{let s=(o,a)=>o?i(o):r(a);s.withError=!0,t.push(s),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());let r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:It.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){let r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case It.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case It.EVENT:case It.BINARY_EVENT:this.onevent(e);break;case It.ACK:case It.BINARY_ACK:this.onack(e);break;case It.DISCONNECT:this.ondisconnect();break;case It.CONNECT_ERROR:this.destroy();let r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){let t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let t=this,r=!1;return function(...i){r||(r=!0,t.packet({type:It.ACK,id:e,data:i}))}}onack(e){let t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:It.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let r of t)r.apply(this,e.data)}}};function Uu(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}Uu.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=(Math.floor(e*10)&1)==0?n-t:n+t}return Math.min(n,this.max)|0};Uu.prototype.reset=function(){this.attempts=0};Uu.prototype.setMin=function(n){this.ms=n};Uu.prototype.setMax=function(n){this.max=n};Uu.prototype.setJitter=function(n){this.jitter=n};var tf=class extends yn{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,da(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Uu({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;let i=t.parser||eN;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new NE(this.uri,this.opts);let t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let i=zi(t,"open",function(){r.onopen(),e&&e()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=zi(t,"error",s);if(this._timeout!==!1){let a=this._timeout,c=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),t.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(zi(e,"ping",this.onping.bind(this)),zi(e,"data",this.ondata.bind(this)),zi(e,"error",this.onerror.bind(this)),zi(e,"close",this.onclose.bind(this)),zi(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){Vu(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new ef(this,e,t),this.nsps[e]=r),r}_destroy(e){let t=Object.keys(this.nsps);for(let r of t)if(this.nsps[r].active)return;this._close()}_packet(e){let t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();this._reconnecting=!0;let r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}};var lm={};function dm(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};let t=tce(n,e.path||"/socket.io"),r=t.source,i=t.id,s=t.path,o=lm[i]&&s in lm[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o,c;return a?c=new tf(r,e):(lm[i]||(lm[i]=new tf(r,e)),c=lm[i]),t.query&&!e.query&&(e.query=t.queryKey),c.socket(t.path,e)}Object.assign(dm,{Manager:tf,Socket:ef,io:dm,connect:dm});var hm=class{},nf=class n extends hm{constructor(e,t,r){super(),this._parenthesis=!1,this._negation=!1,this._sibling=e,this._child=t,this._chainType=r}$(){return this._parenthesis=!0,this}not(){return this._negation=!0,this}and(e){return new n(this,e,"and")}or(e){return new n(this,e,"or")}},rf=class extends hm{constructor(e,t,...r){super(),this._column=e,this._type=t,this._values=r}and(e){return new nf(this,e,"and")}or(e){return new nf(this,e,"or")}},PE=class{constructor(e,t,r=[]){this._table=e,this._name=t,this._modifiers=r}as(e){return new this.constructor(this._table,this._name,this._modifiers.concat({name:"as",params:e}))}isNull(){return new rf(this,"is-null")}isNotNull(){return new rf(this,"is-not-null")}},FE=class{constructor(e,t){this._column=e,this._direction=t}nullsFirst(){return this._nullsPosition="FIRST",this}nullsLast(){return this._nullsPosition="LAST",this}},nN=class extends hm{constructor(e,t,r){super(),this._column=e,this._type=t,this._otherColumn=r}and(e){return new nf(this,e,"and")}or(e){return new nf(this,e,"or")}},rN=class extends PE{constructor(e,t,r=[]){super(e,t,r)}asc(){return new FE(this,"ASC")}desc(){return new FE(this,"DESC")}eq(e){return e instanceof PE?new nN(this,"eq",e):new rf(this,"eq",e)}ne(e){return new rf(this,"ne",e)}};var fm=class{constructor(e,t){this._queryProcessor=e,this._tables=t,this._distinct=!1,this._conditions=[],this._groupBy=[],this._having=[],this._orderings=[],this._columns=[]}offset(e){return this._offset=e,this}limit(e){return this._limit=e,this}distinct(){return this._distinct=!0,this}where(...e){return this._conditions=e,this}groupBy(...e){return this._groupBy=e,this}having(...e){return this._having=e,this}orderBy(...e){return this._orderings=e,this}select(...e){return this._columns=e,this._action="select",this._queryProcessor(this)}},iN=class{constructor(e,t,r){this._queryProcessor=e,this._table=t,this._conditions=r,this._columns=[]}update(e){return this._entity=e,this._action="update",this._queryProcessor(this)}delete(){return this._action="delete",this._queryProcessor(this)}count(){return this._columns=[this._table.$all.count()],this._action="select",this._queryProcessor(this).then(e=>e[0])}},sN=class{constructor(e,t){this._queryProcessor=e,this._table=t,this._columns=[]}where(...e){return new iN(this._queryProcessor,this._table,e)}insert(e){return this._entity=e,this._action="insert",this._queryProcessor(this)}deleteAll(){return this._action="delete",this._queryProcessor(this)}updateAll(e){return this._entity=e,this._action="update",this._queryProcessor(this)}countAll(){return this._columns=[this._table.$all.count()],this._action="select",this._queryProcessor(this).then(e=>e[0])}delete(e){return this._whereId(e).delete().then(t=>t>0)}update(e,t){return this._whereId(e).update(t).then(r=>r>0)}get(e){let t=this._whereId(e);return this._queryProcessor(Z({_action:"select"},t)).then(r=>r[0])}_whereId(e){let t=this._table.$id;return t instanceof rN?this.where(t.eq(e)):this.where(...Object.keys(t).map(r=>this._table[r].eq(e[r])))}},oN=class{constructor(e){this._queryProcessor=e}from(e,t,r){return r!=null?new fm(this._queryProcessor,[e,t,r]):t!=null?new fm(this._queryProcessor,[e,t]):new fm(this._queryProcessor,[e])}table(e){return new sN(this._queryProcessor,e)}};function tN(n){let e=Number(n);if(Number.isNaN(e))throw new Error("Invalid number parameter in SQL query: "+n);return e}function att(n){if(typeof n=="boolean")return n;if(n instanceof Boolean)return n.valueOf();if(n==="true")return!0;if(n==="false")return!1;throw new Error("Invalid boolean parameter in SQL query: "+n)}function ctt(n){if(n instanceof Date)return n;if(typeof n=="number"||n instanceof Number)return new Date(n);if(typeof n=="string"||n instanceof String){if(Number.isNaN(Date.parse(String(n))))throw new Error("Invalid date parameter in SQL query: "+n);return new Date(n)}throw new Error("Invalid date parameter in SQL query: "+n)}function utt(n){if(typeof n=="string")return n;if(n instanceof String)return n.valueOf();throw new Error("Invalid string parameter in SQL query: "+n)}function ace(n,e,t){return r;function r(q){if(q._action==="select")return l(q);if(q._action==="delete")return i(q);if(q._action==="update")return s(q);if(q._action==="insert")return a(q);throw new Error("Unknown query type:"+q._action)}function i(q){let I="DELETE FROM "+v(q._table);return I+=f(q._conditions),I}function s(q){let I="UPDATE "+v(q._table)+" SET ";return I+=o(q._table,q._entity),I+=f(q._conditions),I}function o(q,I){return Object.keys(I).sort().map(ee=>{let de=I[ee],pe=q[ee];return P(pe)+" = "+De(pe,de)}).join(", ")}function a(q){let I=Array.isArray(q._entity)?q._entity:[q._entity],ee=I.reduce((Ke,ce)=>(Object.keys(ce).forEach(st=>Ke.add(st)),Ke),new Set),de=Array.from(ee).sort(),pe="INSERT INTO "+v(q._table)+" ";return pe+="("+de.map(Ke=>P(q._table[Ke])).join(", ")+")",pe+=e.lineBreak+"VALUES ",pe+=I.map(Ke=>u(q._table,Ke,de)).map(Ke=>"("+Ke+")").join(", "),pe+=c(q),pe}function c(q){return t==="pg"&&q._action==="insert"&&!Array.isArray(q._entity)&&q._table.$id&&q._table.$id._table&&q._table.$id._name?" RETURNING "+P(q._table.$id):""}function u(q,I,ee){return ee.map(de=>{let pe=I[de],Ke=q[de];return De(Ke,pe)}).join(", ")}function l(q){let I="SELECT ";return q._distinct&&(I+="DISTINCT "),q._columns==null||q._columns.length===0?I+="*":I+=q._columns.map(ee=>E(ee)).join(", "),I+=e.lineBreak+"FROM ",q._tables?I+=q._tables.map(ee=>ee._parent?p(ee):v(ee)).join(", "):I+=v(q._table),I+=f(q._conditions),q._groupBy&&q._groupBy.length>0&&(I+=e.lineBreak+"GROUP BY ",I+=q._groupBy.map(ee=>E(ee)).join(", ")),I+=f(q._having,"HAVING"),q._orderings&&q._orderings.length>0&&(I+=e.lineBreak+"ORDER BY ",I+=q._orderings.map(ee=>g(ee)).join(", ")),q._limit!=null&&(I+=e.lineBreak+"LIMIT "+tN(q._limit)),q._offset!=null&&(I+=e.lineBreak+"OFFSET "+tN(q._offset)),I}function f(q,I="WHERE"){let ee="";return q&&q.length>0&&(ee+=e.lineBreak+I+" ",K(q),ee+=q.map(de=>re(de,!0)).join(" AND ")),ee}function p(q){let I=[];for(;q;)I.push(q),q=q._parent;let ee=I[I.length-1],de=v(ee);for(let pe=I.length-2;pe>=0;pe-=2){let Ke=I[pe]._table,ce=I[pe]._modifier,st=I[pe-1]._condition,Mt=E(st._otherColumn);de+=" "+ce.toUpperCase()+" JOIN "+v(Ke)+" ON "+he(st,Mt)}return de}function g(q){if(q._column){let I=E(q._column);return q._nullsPosition!=null&&(I+=" IS NULL "+(q._nullsPosition==="FIRST"?"DESC":"ASC")+", "+I),q._direction==="ASC"&&(I+=" ASC"),q._direction==="DESC"&&(I+=" DESC"),I}else return E(q)}function v(q){return e.nameEscape+q._$name+e.nameEscape}function E(q){let I="";return q._name==="*"&&q._modifiers.length>0&&q._modifiers[0].name==="count"||(I+=v(q._table)+"."),I+=P(q),D(I,q)}function D(q,I){return I._modifiers&&I._modifiers.forEach(ee=>{let de=ee.name;de==="lower"?q="LOWER("+q+")":de==="upper"?q="UPPER("+q+")":de==="count"?q="COUNT("+q+")":de==="sum"?q="SUM("+q+")":de==="avg"?q="AVG("+q+")":de==="min"?q="MIN("+q+")":de==="max"?q="MAX("+q+")":de==="as"&&(q=q+" AS "+e.nameEscape+ee.params+e.nameEscape)}),q+""}function P(q){if(q._name==="*")return q._name;let I=typeof q._name=="string"?q._name:q._name.name;return e.nameEscape+I+e.nameEscape}function K(q){q.forEach(I=>{q.length>1&&I._sibling&&(I._parenthesis=!0),J(I)})}function J(q){q._sibling&&J(q._sibling),!q._sibling&&!q._child&&(q.__param=Te(q)),q._child&&J(q._child)}function re(q,I=!1){if(!q._sibling&&!q._child)return he(q,q.__param);let ee="";return q._child&&(ee+=re(q._child)),q._sibling&&(ee=re(q._sibling,I)+" "+q._chainType.toUpperCase()+" "+ee),(q._parenthesis||(!I||q._negation)&&q._child)&&(ee="( "+ee+" )"),q._negation&&(ee="NOT "+ee),ee}function he(q,I){let ee=E(q._column);return ee+=y(q,I),ee}function y(q,I){switch(q._type){case"eq":return" = "+I;case"ne":return" <> "+I;case"lt":return" < "+I;case"gt":return" > "+I;case"lte":return" <= "+I;case"gte":return" >= "+I;case"is-null":return" IS NULL";case"is-not-null":return" IS NOT NULL";case"like":return" LIKE "+I;case"not-like":return" NOT LIKE "+I;case"in":return" IN ("+I+")";case"not-in":return" NOT IN ("+I+")";case"between":return" BETWEEN "+I;case"not-between":return" NOT BETWEEN "+I;default:return""}}function Te(q){let I="";if(q._otherColumn)I=E(q._otherColumn);else{let ee=de=>De(q._column,de);q._type==="in"||q._type==="not-in"?I=q._values.map(de=>ee(de)).join(", "):q._type==="between"||q._type==="not-between"?I=ee(q._values[0])+" AND "+ee(q._values[1]):q._type!=="is-null"&&q._type!=="is-not-null"&&(I=ee(q._values[0]))}return I}function De(q,I){return I==null?"NULL":n(Ve(q._type,I))}function Ve(q,I){return q==="number"?tN(I):q==="boolean"?att(I):q==="date"?ctt(I):q==="string"?utt(I):I}}function ltt(n){return n==null?"NULL":typeof n=="string"||n instanceof String?`'${String(n)}'`:typeof n=="boolean"||n instanceof Boolean?String(n).toUpperCase():n instanceof Date?`'${n.toISOString()}'`:typeof n=="number"||n instanceof Number?String(n):`'${JSON.stringify(n)}'`}function dtt(n){return typeof n=="object"&&!(n==null||n instanceof String||n instanceof Number||n instanceof Boolean||n instanceof Date)?JSON.stringify(n):n}var ftt=n=>"$"+n,htt=n=>"?";function ptt(n,e,t){return e.push(dtt(n)),t(e.length)}function mtt(n,e,t){let r=[],i=t==="mysql"?htt:ftt;return{sql:ace(o=>ptt(o,r,i),e,t)(n),params:r}}function gtt(n,e,t){return ace(r=>ltt(r),e,t)(n)}var N2t=P_.create("query processor"),ytt={lineBreaks:!1,parameterized:!0,logging:!0,identifierQuote:'"'};function btt(n,e={},t="pg"){let r=Object.assign({},ytt,e),i={lineBreak:r.lineBreaks?`
`:" ",nameEscape:e.identifierQuote||(t==="mysql"?"`":'"')};return s=>{if(r.parameterized){let{sql:o,params:a}=mtt(s,i,t);return n.query(o,a)}else{let o=gtt(s,i,t);return n.query(o,void 0)}}}var kE=class extends oN{constructor(e,t={}){super(btt(e,t,"mysql"))}};var vtt;vtt=new Ee("TAON_CONTEXT");var _tt;_tt=new Ee("CURRENT_HOST_BACKEND_PORT");var Ett;Ett=new Ee("CURRENT_HOST_URL");var LE="api";var wtt="databases";var je;(function(n){n.DatabasesFolder=wtt;let e;(function(i){i.ENTITY="ENTITY",i.CONTROLLER="CONTROLLER",i.REPOSITORY="REPOSITORY",i.PROVIDER="PROVIDER",i.SUBSCRIBER="SUBSCRIBER",i.MIGRATION="MIGRATION",i.MIDDLEWARE="MIDDLEWARE"})(e=n.ClassType||(n.ClassType={})),n.ClassTypeKey={[e.ENTITY]:"entities",[e.CONTROLLER]:"controllers",[e.REPOSITORY]:"repositories",[e.PROVIDER]:"providers",[e.SUBSCRIBER]:"subscribers",[e.MIGRATION]:"migrations",[e.MIDDLEWARE]:"middlewares"};class t{}n.DatabaseConfigTypeOrm=t;class r extends t{static from(s){return k.merge(new r,s)}get databaseConfigTypeORM(){let s=k.cloneDeep(this);return s.recreateMode&&(s.recreateMode==="DROP_DB+MIGRATIONS"?(s.synchronize=!0,s.dropSchema=!0):s.recreateMode==="PRESERVE_DATA+MIGRATIONS"&&(s.synchronize=!1,s.dropSchema=!1)),delete s.recreateMode,s}}n.DatabaseConfig=r})(je||(je={}));var Ctt=n=>{let e=n||{};e.methods=e.methods||{};for(let t in e.methods)if(e.methods.hasOwnProperty(t)){e.methods[t]=e.methods[t]||{};let r=e.methods[t].parameters||{};e.methods[t].parameters=r||{};for(let i in r)r.hasOwnProperty(i)&&(r[i]=r[i]||{})}return e},cN=class{constructor(){this.KEYroomSubscribe="roomSubscribe",this.KEYroomUnsubscribe="roomUnsubscribe"}NAMESPACE(e){return`${e}-taonRealtimeNsp`}TABLE_CHANGE(e,t){return`${e}:listentablename${t}`}ROOM_NAME_CUSTOM(e,t){return`${e}:CustomRoomEvent${t}`}ROOM_SUBSCRIBE_CUSTOM(e){return`${e}:${this.KEYroomSubscribe}CustomRoomEvent`}ROOM_UNSUBSCRIBE_CUSTOM(e){return`${e}:${this.KEYroomUnsubscribe}CustomRoomEvent`}ROOM_NAME_UPDATE_ENTITY(e,t,r){return`${e}:room${k.camelCase(t)}${r}`.toLowerCase()}ROOM_SUBSCRIBE_ENTITY_UPDATE_EVENTS(e){return`${e}:${this.KEYroomSubscribe}EntityEvents`}ROOM_UNSUBSCRIBE_ENTITY_UPDATE_EVENTS(e){return`${e}:${this.KEYroomUnsubscribe}EntityEvents`}ROOM_NAME_UPDATE_ENTITY_PROPERTY(e,t,r,i){return`${e}:room${k.camelCase(t)}${k.camelCase(r)}${i}`.toLowerCase()}ROOM_SUBSCRIBE_ENTITY_PROPERTY_UPDATE_EVENTS(e){return`${e}:${this.KEYroomSubscribe}EntityPropertyEvents`}ROOM_UNSUBSCRIBE_ENTITY_PROPERTY_UPDATE_EVENTS(e){return`${e}:${this.KEYroomUnsubscribe}EntityPropertyEvents`}},me;(function(n){n.ctxInClassOrClassObj=Symbol(),n.classNameStaticProperty=wn.ClassNameStaticProperty,n.fullClassNameStaticProperty="$$fullclassName$$",n.orignalClass=VR,n.orignalClassClonesObj="$$originalClassClonesObj$$",n.classMethodsNames="$$classMethodsNames$$",n.REALTIME=new cN,n.metadata={className:"class:realname",options:{controller:"controller:options",entity:"entity:options",repository:"repository:options",provider:"provider:options",subscriber:"subscriber:options",migration:"migration:options"}},n.old={HAS_TABLE_IN_DB:Symbol(),MDC_KEY:"modeldataconfig",WEBSQL_REST_PROGRESS_FUN:Symbol(),WEBSQL_REST_PROGRESS_FUN_START:Symbol(),WEBSQL_REST_PROGRESS_FUN_DONE:Symbol(),WEBSQL_REST_PROGRESS_TIMEOUT:Symbol(),X_TOTAL_COUNT:"x-total-count",CIRCURAL_OBJECTS_MAP_BODY:"circuralmapbody",CIRCURAL_OBJECTS_MAP_QUERY_PARAM:"circuralmapbody",MAPPING_CONFIG_HEADER:"mappingheader",MAPPING_CONFIG_HEADER_BODY_PARAMS:"mhbodyparams",MAPPING_CONFIG_HEADER_QUERY_PARAMS:"mhqueryparams",ENDPOINT_META_CONFIG:"ng2_rest_endpoint_config",CLASS_DECORATOR_CONTEXT:"$$ng2_rest_class_context",SOCKET_MSG:"socketmessageng2rest",ANGULAR:{INPUT_NAMES:Symbol()},ERROR_MESSAGES:{CLASS_NAME_MATCH:'Please check if your "class name" matches  @Controller( className ) or @Entity( className )'}}})(me||(me={}));var xN=(function(n){return n.classNameVlidation=(e,t)=>(setTimeout(()=>{if(k.isUndefined(e))throw`[Taon]
      Please provide "className" property for each Controller and Entity:

          @Taon.Controller({ className: 'MyExampleCtrl'  })
          class MyExampleCtrl {
            ...
          }

          @Taon.Entity({ className: 'MyExampleEntity'  })
          class MyExampleEntity {
            ...
          }

    Notice that minified javascript code does not preserve
    Functions/Classes names -this is only solution to preserve classes names.

        `}),k.isUndefined(e)?t.name:e),n.checkIfMethodsWithReponseTYpeAlowed=(e,t)=>{let r="text or JSON";if(t.responseType)for(let i=0;i<e.length;i++){let s=e[i];if(s.path===t.path&&s.responseType!==t.responseType)throw new Error(`
  [taon] you can have 2 methods with same path but differetn reponseType-s

          ${s.methodName}( ... path: ${s.path} )  -> responseType: ${s.responseType||r}
          ${t.methodName}( ... path: ${t.path} ) -> responseType: ${t.responseType}

    Please change path name on of the methods.

        `)}},n.validateClassFunctions=(e,t,r,i)=>{if(k.isArray(e)&&e.filter(s=>!k.isFunction(s)).length>0)throw console.error("controllers",e),`

  Incorect value for property "controllers" inside Taon.Init(...)

  `;if(k.isArray(t)&&t.filter(s=>!k.isFunction(s)).length>0)throw console.error("entites",t),`

  Incorect value for property "entities" inside Taon.Init(...)

  `},n.preventUndefinedModel=(e,t)=>{if(k.isUndefined(e))throw`Bad update by id, config, id: ${t}`},n})(xN||{}),ke;(function(n){n.getClassFnFromObject=t=>{if(k.isUndefined(t)||k.isNull(t))return;if(t.constructor)return t.constructor;let r=Object.getPrototypeOf(t);return r&&r.constructor&&r.constructor.name!=="Object"?r.constructor:void 0},n.getName=t=>{if(t instanceof FormData)return"FormData";if(!t)throw console.error("OBJECT OR CLASS",t),new Error("Cannot get name from this object or class.");return(t[me.classNameStaticProperty]?t[me.classNameStaticProperty]:t?.constructor[me.classNameStaticProperty])||(k.isFunction(t)?tt.getName(t):void 0)},n.getOrginalClass=t=>{let r=t[me.orignalClass];return r?n.getOrginalClass(r):t},n.getFullInternalName=t=>{if(!t)throw new Error(`Cannot get name from: ${t}`);return(t[me.fullClassNameStaticProperty]?t[me.fullClassNameStaticProperty]:t?.constructor[me.fullClassNameStaticProperty])||void 0},n.getUniqueKey=t=>{let r=k.isFunction(t)?t:t.constructor;return Reflect.getMetadata(me.metadata.options.entity,r).uniqueKeyProp},n.isContextClassObject=t=>{if(!k.isObject(t)||k.isArray(t)||k.isRegExp(t)||k.isBuffer(t)||k.isArrayBuffer(t))return!1;if(k.isDate(t))return!0;let r=n.getName(t);return k.isString(r)&&r!=="Object"},n.setName=(t,r)=>{xN.classNameVlidation(r,t),t[me.classNameStaticProperty]=r},n.hasParentClassWithName=(t,r,i=[])=>{if(!t)return!1;i.push(t);let s=Object.getPrototypeOf(t);return k.isFunction(s)&&n.getName(s)===r?!0:n.hasParentClassWithName(s,r,i)};let e=["length","name","arguments","caller","constructor","apply","bind","call","toString","__defineGetter__","__defineSetter__","hasOwnProperty","__lookupGetter__","__lookupSetter__","isPrototypeOf","propertyIsEnumerable","valueOf","__proto__","toLocaleString"];n.asyncHandler=t=>(r,i,s)=>{Promise.resolve(t(r,i,s)).catch(s)},n.getMethodsNames=(t,r=[])=>{if(!t)return ic.uniqArray(r);let i=k.isFunction(t),s=i?t:Object.getPrototypeOf(t),o=i?t?.prototype:t,a=Object.getPrototypeOf(o||{});return k.uniq([...Object.getOwnPropertyNames(o||{}),...Object.getOwnPropertyNames(a||{}),...Object.keys(o||{}),...Object.keys(a||{})]).filter(u=>!!u&&!e.includes(u)).filter(u=>typeof o[u]=="function").forEach(u=>r.push(u)),!s||!s.constructor||s?.constructor?.name==="Object"?ic.uniqArray(r):n.getMethodsNames(Object.getPrototypeOf(s),r)},n.getControllerConfigs=(t,r=[],i)=>{if(!k.isFunction(t))throw`[typescript-class-helper][getControllerConfigs] Cannot get class config from: ${t}`;let s,o=Object.getPrototypeOf(t),a=o?n.getName(o):void 0,c=k.isFunction(o)&&a!=="";return s=Ctt(n.getClassConfig(t)),r.push(s),c?n.getControllerConfigs(o,r,t):r},n.ensureClassConfig=t=>{let r=Reflect.getOwnMetadata(me.metadata.options.controller,t);if(!r){r={methods:{}};let i=Object.getPrototypeOf(t);if(i&&i!==Function.prototype){let s=Reflect.getMetadata(me.metadata.options.controller,i);if(s){let o={};for(let[a,c]of Object.entries(s.methods))o[a]=We(Z({},c),{parameters:Z({},c.parameters)});r=We(Z({},s),{methods:o})}}Reflect.defineMetadata(me.metadata.options.controller,r,t)}return r},n.ensureMethodConfig=(t,r)=>{let i=n.ensureClassConfig(t.constructor),s=i.methods[r?.toString()];return s||(s={methodName:r?.toString(),parameters:{}},i.methods[r?.toString()]=s),s},n.getClassConfig=t=>Reflect.getMetadata(me.metadata.options.controller,t)})(ke||(ke={}));var uN=class{constructor(e){this.ctx=e,this.DEFAULT_MIGRATION_TABLE_NAME="TAON_MIGRATION_META",this.MIGRATION_STATUS_COMPLETED="completed",this.MIGRATION_STATUS_PENDING="pending",this.table=new la({name:this.DEFAULT_MIGRATION_TABLE_NAME,columns:[{name:"id",type:"integer",isPrimary:!0,isGenerated:!0,generationStrategy:"increment"},{name:"name",type:"varchar",length:"255",isUnique:!0,isNullable:!1},{name:"context",type:"varchar",length:"255",isNullable:!1},{name:"applied_at",type:"timestamp",default:"CURRENT_TIMESTAMP",isNullable:!0},{name:"status",type:"varchar",length:"50",default:`'${this.MIGRATION_STATUS_COMPLETED}'`,isNullable:!1}]})}async ensureMigrationTableExists(){if(this.ctx.isRemoteHost||!this.ctx.connection)return;let e=this.ctx.connection.createQueryRunner();if(await e.connect(),await e.startTransaction(),await e.hasTable(this.DEFAULT_MIGRATION_TABLE_NAME)){this.ctx.logMigrations&&console.log(`Table ${this.DEFAULT_MIGRATION_TABLE_NAME} already exists.`),await e.commitTransaction(),await e.release();return}try{await e.createTable(this.table),await e.createIndex(this.DEFAULT_MIGRATION_TABLE_NAME,new fc({name:"IDX_NAME",columnNames:["name"]})),await e.commitTransaction()}catch(r){this.ctx.logMigrations&&console.error("Transaction failed [ensureMigrationTableExists], rolling back:",r),await e.rollbackTransaction()}finally{await e.release()}}async logSelectALl(e,t){console.log(e,(await t.query(`SELECT * FROM ${this.DEFAULT_MIGRATION_TABLE_NAME} WHERE context = $1`,[this.ctx.contextName])).map(r=>r.name))}async revertMigrationToTimestamp(e){if(this.ctx.isRemoteHost||!this.ctx.connection)return;M_.isValidTimestamp(e)||Le.throwError(`Invalid timestamp provided for migration revert: ${e}`);let r=this.ctx.getClassFunByArr(je.ClassType.MIGRATION).reverse().map(s=>Number(M_.getTimestampFromClassName(ke.getName(s)))<=e?null:this.ctx.getInstanceBy(s)).filter(s=>!!s).map(s=>s).filter(s=>s.isReadyToRun()),i=this.ctx.connection.createQueryRunner();await i.connect();try{await i.startTransaction();let o=(await i.query(`SELECT name FROM ${this.DEFAULT_MIGRATION_TABLE_NAME}
         WHERE status = $1 AND context = $2`,[this.MIGRATION_STATUS_COMPLETED,this.ctx.contextName])).map(a=>a.name);for(let a of r){let c=ke.getName(a);if(!o.includes(c)){this.ctx.logMigrations&&console.warn(`Skipping migration not marked as applied: ${c}`);continue}this.ctx.logMigrations&&console.log(`Reverting migration: ${c} , context: ${this.ctx.contextName}`),await a.down(i),await i.query(`DELETE FROM ${this.DEFAULT_MIGRATION_TABLE_NAME} WHERE name = $1`,[c])}await i.commitTransaction(),this.ctx.logMigrations&&console.log(`Migrations successfully reverted to the specified timestamp ${e} .`)}catch(s){this.ctx.logMigrations&&console.error("Transaction failed, rolling back:",s),await i.rollbackTransaction()}finally{await i.release()}}async clearMigrationTable(){if(this.ctx.isRemoteHost||!this.ctx.connection)return;let e=this.ctx.connection.createQueryRunner();await e.connect(),await e.startTransaction();try{await e.clearTable(this.DEFAULT_MIGRATION_TABLE_NAME),await e.commitTransaction()}catch(t){this.ctx.logMigrations&&console.error("Transaction failed, rolling back:",t),await e.rollbackTransaction()}finally{await e.release()}}async markAllMigrationsAsApplied(){if(this.ctx.isRemoteHost||!this.ctx.connection)return;let t=this.ctx.getClassFunByArr(je.ClassType.MIGRATION).map(i=>this.ctx.getInstanceBy(i)).map(i=>i).filter(i=>i.isReadyToRun()),r=this.ctx.connection.createQueryRunner();await r.connect();try{await r.startTransaction();let s=(await r.query(`SELECT name FROM ${this.DEFAULT_MIGRATION_TABLE_NAME}`)).map(o=>o.name);for(let o of t){let a=ke.getName(o);if(s.includes(a)){this.ctx.logMigrations&&console.log(`Skipping already applied migration: ${a}`);continue}this.ctx.logMigrations&&console.log(`Marking migration as applied: ${a}`),await r.query(`INSERT INTO ${this.DEFAULT_MIGRATION_TABLE_NAME} (name, status, context, applied_at) VALUES ($1, $2, $3, CURRENT_TIMESTAMP)`,[a,this.MIGRATION_STATUS_COMPLETED,o.ctx.contextName])}await r.query(`UPDATE ${this.DEFAULT_MIGRATION_TABLE_NAME}
         SET status = $1, applied_at = CURRENT_TIMESTAMP
         WHERE status = $2`,[this.MIGRATION_STATUS_COMPLETED,this.MIGRATION_STATUS_PENDING]),await r.commitTransaction(),this.ctx.logMigrations&&console.log("All migrations marked as applied.")}catch(i){this.ctx.logMigrations&&console.error("Failed to mark all migrations as applied, rolling back:",i),await r.rollbackTransaction()}finally{await r.release()}}async runAllNotCompletedMigrations(){if(this.ctx.isRemoteHost||!this.ctx.connection)return;let t=this.ctx.getClassFunByArr(je.ClassType.MIGRATION).map(i=>this.ctx.getInstanceBy(i)).map(i=>i).filter(i=>i.isReadyToRun()),r=this.ctx.connection.createQueryRunner();await r.connect();try{await r.startTransaction();let i=await r.query(`SELECT name, status FROM ${this.DEFAULT_MIGRATION_TABLE_NAME} WHERE context = $1`,[this.ctx.contextName]),s=i.filter(o=>o.status===this.MIGRATION_STATUS_PENDING);for(let o of s){let a=t.find(c=>ke.getName(c)===o.name);if(!a){this.ctx.logMigrations&&console.warn(`Pending migration ${o.name} not found in loaded migrations.`);continue}this.ctx.logMigrations&&console.log(`Completing pending migration: ${o.name}`),await a.up(r),await r.query(`UPDATE ${this.DEFAULT_MIGRATION_TABLE_NAME}
           SET status = $1, applied_at = CURRENT_TIMESTAMP
           WHERE name = $2`,[this.MIGRATION_STATUS_COMPLETED,o.name])}for(let o of t){let a=ke.getName(o);if(i.some(c=>c.name===a)){this.ctx.logMigrations&&console.log(`Skipping already applied migration: ${a}`);continue}this.ctx.logMigrations&&console.log(`Applying new migration: ${a}`),await r.query(`INSERT INTO ${this.DEFAULT_MIGRATION_TABLE_NAME} (name, status, context, applied_at) VALUES ($1, $2, $3, NULL)`,[a,this.MIGRATION_STATUS_PENDING,this.ctx.contextName]);try{await o.up(r),await r.query(`UPDATE ${this.DEFAULT_MIGRATION_TABLE_NAME} SET status = '${this.MIGRATION_STATUS_COMPLETED}', applied_at = CURRENT_TIMESTAMP WHERE name = $1`,[a])}catch(c){throw this.ctx.logMigrations&&console.error(`Failed to apply migration: ${a}`,c),await r.query(`DELETE FROM ${this.DEFAULT_MIGRATION_TABLE_NAME} WHERE name = $1`,[a]),c}}await r.commitTransaction()}catch(i){this.ctx.logMigrations&&console.error("Transaction failed, rolling back:",i),await r.rollbackTransaction()}finally{await r.release()}}},lN=class n{static{this.instances=new Map}static resolve(e){if(n.instances.has(e))return n.instances.get(e);let t=[],r=new e(...t);return n.instances.set(e,r),r}static inject(e){return new Proxy({},{get:(t,r)=>{let i=n.instances.get(e)||n.resolve(e);return typeof i[r]=="function"?i[r].bind(i):i[r]},set:(t,r,i)=>{let s=n.instances.get(e)||n.resolve(e);return s[r]=i,!0}})}},hce=(n,e)=>{let{req:t,res:r}=e||{};return new Promise(async(i,s)=>{if(typeof n=="function"){let o=n;try{let a=await o(t,r);i(a)}catch(a){s(a)}}else s(`[taon] Not recognized type of response ${n}`)})},ha=(function(n){return n.fillUpTo=(e,t)=>k.times(t,r=>e.charAt(r)?e.charAt(r):" ").join(""),n.isGoodPath=e=>e&&typeof e=="string"&&e.trim()!=="",n.firstStringOrElemFromArray=e=>Array.isArray(e)?k.first(e):e,n.tryTransformParam=e=>{if(typeof e=="string"){let t=Number(e);if(!isNaN(t))return t;let r=e.trim().toLowerCase();if(r==="true")return!0;if(r==="false")return!1;try{return fce.parse(e)}catch{return e}}return e},n.getExpressPath=(e,t)=>typeof t=="string"?`${e.calculatedPath}${t}`.replace(/\/$/,""):`${e.calculatedPath}${t.path}`.replace(/\/$/,""),n.defaultType=e=>{if(typeof e=="string")return"";if(typeof e=="boolean")return!1;if(Array.isArray(e))return{};if(typeof e=="object")return{}},n.parseJSONwithStringJSONs=(e,t=!1)=>{if(!k.isObject(e))return t&&console.error(`
        parseJSONwithStringJSONs(...)
        Parameter should be a object, but is ${typeof e}
        `,e),e;let r=k.cloneDeep(e);return Object.keys(r).forEach(i=>{let s=!1;try{let o=JSON.parse(r[i]);r[i]=o,s=!0}catch{s=!1}s&&(r[i]=n.parseJSONwithStringJSONs(r[i],!1))}),r},n.isPlainFileOrFolder=e=>/^([a-zA-Z]|\-|\_|\@|\#|\$|\!|\^|\&|\*|\(|\))+$/.test(e),n.ipcKeyNameResponse=(e,t,r)=>["response",ke.getName(e),t.methodName,t.type,r].join("--"),n.ipcKeyNameRequest=(e,t,r)=>["request",ke.getName(e),t.methodName,t.type,r].join("--"),n.websqlMocks=e=>({request:{},response:{status(i){return{send(s){}}},setHeader(i,s){e[i]=s}}}),n})(ha||{}),dN=class{constructor(e){this.options=e,this.isListening=!1,this.observers=[]}startListenIfNotStarted(e){if(this.options.core.ctx.disabledRealtime){console.warn("[Taon][startListenIfNotStarted] sockets are disabled");return}if(!e){console.warn("[Taon][startListenIfNotStarted] invalid socket connection");return}if(!this.isListening){if(this.isListening=!0,this.options.customEvent){let t=me.REALTIME.ROOM_SUBSCRIBE_CUSTOM(this.options.core.ctx.contextName);e.emit(t,this.options.roomName)}else if(k.isString(this.options.property)){let t=me.REALTIME.ROOM_SUBSCRIBE_ENTITY_PROPERTY_UPDATE_EVENTS(this.options.core.ctx.contextName);e.emit(t,this.options.roomName)}else{let t=me.REALTIME.ROOM_SUBSCRIBE_ENTITY_UPDATE_EVENTS(this.options.core.ctx.contextName);e.emit(t,this.options.roomName)}e.on(this.options.roomName,t=>{this.update(t)})}}add(e){this.observers.push(e)}remove(e){if(this.observers=this.observers.filter(t=>t!==e),this.observers.length===0){this.isListening=!1;let{core:t,customEvent:r,roomName:i,property:s}=this.options,o=t.socketFE;r?o.emit(me.REALTIME.ROOM_UNSUBSCRIBE_CUSTOM(this.options.core.ctx.contextName),i):k.isString(s)?o.emit(me.REALTIME.ROOM_UNSUBSCRIBE_ENTITY_PROPERTY_UPDATE_EVENTS(this.options.core.ctx.contextName),i):o.emit(me.REALTIME.ROOM_UNSUBSCRIBE_ENTITY_UPDATE_EVENTS(this.options.core.ctx.contextName),i)}}update(e){this.observers.forEach(t=>{t.closed||t.next(e)})}},BE=class{constructor(e){this.core=e,this.subsManagers={},this.core=e,e.ctx.disabledRealtime||this.init()}init(){let e={global:this.core.pathFor(),realtime:this.core.pathFor(me.REALTIME.NAMESPACE(this.core.ctx.contextName))};this.core.ctx.config.frontendHost&&this.core.ctx.config.frontendHost!==""&&this.core.ctx.isRunningInsideDocker?(this.core.ctx.logRealtime&&Le.logInfo(`[${this.core.ctx.contextName}] USING FRONTEND HOST ${this.core.ctx.config.frontendHost} FOR REALTIME`),e.global=new URL(`${this.core.ctx.frontendHostUri.origin}${e.global.pathname}`),e.realtime=new URL(`${this.core.ctx.frontendHostUri.origin}${e.realtime.pathname}`)):this.core.ctx.logRealtime&&Le.logInfo(`[${this.core.ctx.contextName}] Not using frontend host for realtime`),this.core.ctx.logRealtime&&console.info("[CLIENT] NAMESPACE GLOBAL ",e.global.href+` host: ${this.core.ctx.host}`),this.core.ctx.logRealtime&&console.info("[CLIENT] NAMESPACE REALTIME",e.realtime.href+` host: ${this.core.ctx.host}`),this.core.conectSocketFE=this.core.strategy.ioClient(e.global.origin,{path:e.global.pathname}),this.core.conectSocketFE.on&&this.core.conectSocketFE.on("connect",()=>{this.core.ctx.logRealtime&&console.info(`[CLIENT] connected to GLOBAL namespace ${e.global.pathname} of host: ${this.core.ctx.host}`)}),this.core.socketFE=this.core.strategy.ioClient(e.realtime.origin,{path:e.realtime.pathname}),this.core.socketFE.on&&this.core.socketFE.on("connect",()=>{this.core.ctx.logRealtime&&console.info(`[CLIENT] connected to REALTIME namespace ${e.realtime.pathname} host: ${this.core.ctx.host}`)})}listenChangesEntity(e,t){if(t=t||{},k.isObject(e)){let o=e;e=ke.getClassFnFromObject(e);let a=ke.getUniqueKey(e);a&&(t.idOrUniqValue=o[a])}let{property:r,customEvent:i}=t,s=!i&&ke.getName(e);if(k.isString(r)&&r.trim()==="")throw new Error(`[Taon][listenChangesEntity.. incorrect property '' for ${s}`);return new it(o=>{if(this.core.ctx.disabledRealtime)return console.error(`[Taon][realtime rxjs] remove taon config flag:

        ...
        disabledRealtime: true
        ...

to use socket realtime connection;
        `),()=>{};let a;i?a=me.REALTIME.ROOM_NAME_CUSTOM(this.core.ctx.contextName,i):a=k.isString(r)?me.REALTIME.ROOM_NAME_UPDATE_ENTITY_PROPERTY(this.core.ctx.contextName,s,r,t.idOrUniqValue):me.REALTIME.ROOM_NAME_UPDATE_ENTITY(this.core.ctx.contextName,s,t.idOrUniqValue);let c={core:this.core,property:r,roomName:a,customEvent:i},u=this.getUniqueIdentifierForConnection(c);this.subsManagers[u]||(this.subsManagers[u]=new dN(c));let l=this.subsManagers[u];return l.add(o),l.startListenIfNotStarted(this.core.socketFE),()=>{l.remove(o)}})}listenChangesEntityTable(e){let t=ke.getName(e);return this.listenChangesEntity(e,{customEvent:me.REALTIME.TABLE_CHANGE(this.core.ctx.contextName,t)})}listenChangesCustomEvent(e){return this.listenChangesEntity(void 0,{customEvent:e})}triggerCustomEvent(e,t){this.core.socketFE.emit(e,t)}getUniqueIdentifierForConnection(e){let t=new URL(e.core.ctx.host);return`${e.core.ctx.contextNameForCommunication}:${t.origin}|${e.roomName}|${e.property}|${e.customEvent}`}},qE=class{constructor(e){this.core=e,this.core=e,!(e.ctx.disabledRealtime||this.core.ctx.isRemoteHost)&&this.init()}init(){this.core.ctx.config.frontendHost||console.warn(`[Taon][Realtime]

      Frontend host is not defined
      REALTIME COMMUNICATION WILL NOT WORK

      provide "frontendHost" property in your taon config

      `);let e=this.core.pathFor(),t=this.core.pathFor(me.REALTIME.NAMESPACE(this.core.ctx.contextName)),r={origin:this.core.ctx.frontendHostUri.origin,methods:this.core.allHttpMethods};this.core.connectSocketBE=this.core.strategy.ioServer(gt.isWebSQL?this.core.ctx.uriOrigin:this.core.ctx.serverTcpUdp,{path:e.pathname,cors:r},this.core.ctx),this.core.ctx.logRealtime&&console.info(`[backend] CREATE GLOBAL NAMESPACE: '${this.core.connectSocketBE.path()}' , path: '${e.pathname}'`),this.core.connectSocketBE.on("connection",i=>{this.core.ctx.logRealtime&&console.info(`[backend] client connected to namespace "${e.pathname}",  host: ${this.core.ctx.host}`)}),this.core.socketBE=this.core.strategy.ioServer(gt.isWebSQL||gt.isElectron?this.core.ctx.uriOrigin:this.core.ctx.serverTcpUdp,{path:t.pathname,cors:r},this.core.ctx),this.core.ctx.logRealtime&&console.info(`[backend] CREATE REALTIME NAMESPACE: '${this.core.socketBE.path()}' , path: '${t.pathname}' `),this.core.socketBE.on("connection",i=>{this.core.ctx.logRealtime&&console.info(`[backend] client connected to namespace "${t.pathname}",  host: ${this.core.ctx.host}`),i.on(me.REALTIME.ROOM_SUBSCRIBE_CUSTOM(this.core.ctx.contextName),s=>{this.core.ctx.logRealtime&&console.info(`Joining room ${s} in namespace  REALTIME host: ${this.core.ctx.contextName}/${this.core.ctx.host}`),i.join(s)}),i.on(me.REALTIME.ROOM_SUBSCRIBE_ENTITY_UPDATE_EVENTS(this.core.ctx.contextName),s=>{this.core.ctx.logRealtime&&console.info(`[backend] Joining room ${s} in namespace  REALTIME host: ${this.core.ctx.contextName}/${this.core.ctx.host}`),i.join(s)}),i.on(me.REALTIME.ROOM_SUBSCRIBE_ENTITY_PROPERTY_UPDATE_EVENTS(this.core.ctx.contextName),s=>{this.core.ctx.logRealtime&&console.info(`[backend] Joining room ${s} in namespace REALTIME  host: ${this.core.ctx.contextName}/${this.core.ctx.host}`),i.join(s)}),i.on(me.REALTIME.ROOM_UNSUBSCRIBE_CUSTOM(this.core.ctx.contextName),s=>{this.core.ctx.logRealtime&&console.info(`[backend] Leaving room ${s} in namespace  REALTIME host: ${this.core.ctx.contextName}/${this.core.ctx.host}`),i.leave(s)}),i.on(me.REALTIME.ROOM_UNSUBSCRIBE_ENTITY_UPDATE_EVENTS(this.core.ctx.contextName),s=>{this.core.ctx.logRealtime&&console.info(`[backend] Leaving room ${s} in namespace REALTIME  host: ${this.core.ctx.contextName}/${this.core.ctx.host}`),i.leave(s)}),i.on(me.REALTIME.ROOM_UNSUBSCRIBE_ENTITY_PROPERTY_UPDATE_EVENTS(this.core.ctx.contextName),s=>{this.core.ctx.logRealtime&&console.info(`[backend] Leaving room ${s} in namespace REALTIME  host: ${this.core.ctx.contextName}/${this.core.ctx.host}`),i.leave(s)})})}triggerChanges(e,t,r,i,s){let o;if(!(this.core.ctx.disabledRealtime||this.core.ctx.isRemoteHost)){if(i)o=me.REALTIME.ROOM_NAME_CUSTOM(this.core.ctx.contextName,i);else{let a=e,c=!k.isFunction(e)&&k.isObject(e);c&&(a=ke.getClassFnFromObject(e));let u=ke.getUniqueKey(a);if(c&&(r=e[u]),!r){Le.error(`[Taon][Realtime] Entity without iD ! ${ke.getName(a)} `,!0,!0);return}o=k.isString(t)?me.REALTIME.ROOM_NAME_UPDATE_ENTITY_PROPERTY(this.core.ctx.contextName,ke.getName(a),t,r):me.REALTIME.ROOM_NAME_UPDATE_ENTITY(this.core.ctx.contextName,ke.getName(a),r)}this.core.socketBE.in(o).emit(o,i?s:"")}}triggerEntityChanges(e,t){if(this.core.ctx.disabledRealtime){let r=ke.getName(e);console.warn(`[Taon][TriggerEntityChanges] Entity "${r}' is not realtime`);return}this.triggerChanges(e,void 0,t)}triggerEntityPropertyChanges(e,t,r){if(this.core.ctx.disabledRealtime){let i=ke.getName(e);console.warn(`[Taon][TriggerEntityPropertyChanges][property=${t}] Entity "${i}' is not realtime`);return}k.isArray(t)?t.forEach(i=>{this.triggerChanges(e,i,r)}):this.triggerChanges(e,t,r)}triggerEntityTableChanges(e){let t=ke.getName(e);if(this.core.ctx.disabledRealtime){console.warn(`[Taon][TriggerEntityTableChanges] Entity "${t}' is not realtime`);return}this.triggerChanges(e,void 0,void 0,me.REALTIME.TABLE_CHANGE(this.core.ctx.contextName,t))}triggerCustomEvent(e,t){this.triggerChanges(void 0,void 0,void 0,e,t)}listenChangesCustomEvent(e){let t=new Ge;return this.core.socketBE.on("connection",r=>{r.on(e,(i,...s)=>{t.next(i)})}),t.asObservable()}},mm=class{constructor(e){this.ctx=e}get ioClient(){throw new Error("Not implemented")}ioServer(e,t){throw new Error("Not implemented")}},fN=class n{static{this.serverByContextName=new Map}static from(e){return n.serverByContextName.has(e)||n.serverByContextName.set(e,new n(e)),n.serverByContextName.get(e)}constructor(e){this.contextName=e,this.namespacesByName=new Map,n.serverByContextName.set(e,this)}of(e){return this.namespacesByName.has(e)||this.namespacesByName.set(e,new hN(e,this)),this.namespacesByName.get(e)}},hN=class{constructor(e,t){this.name=e,this.server=t,this.electronClients=new Set,this.roomsByRoomName={},this.namespaceEventHandlers={}}on(e,t){}off(e,t){}emit(e,...t){}to(e){let t=this.roomsByRoomName[e];return new jE(t,this.name,!0)}in(e){let t=this.roomsByRoomName[e];return new jE(t,this.name,!1)}join(e,t){this.roomsByRoomName[t]||(this.roomsByRoomName[t]=new Set),this.roomsByRoomName[t].add(e)}leave(e,t){this.roomsByRoomName[t]&&(this.roomsByRoomName[t].delete(e),this.roomsByRoomName[t].size===0&&delete this.roomsByRoomName[t])}path(){return this.name}get nsp(){let e=this;return{get name(){return e.name}}}},jE=class{constructor(e,t,r=!1,i=null){this.electronClients=e,this.name=t,this.includeSender=r,this.sender=i}emit(e,...t){let r=`(${this.name}) "${e}"`;this.electronClients?.forEach(i=>{i.send(r,...t)})}},pN=class{get name(){return this.namespaceName}constructor(e){this.namespaceName=e,this.socketEventHandlers={},this.ipcRenderer=window.require("electron").ipcRenderer}on(e,t){this.socketEventHandlers[e]||(this.socketEventHandlers[e]=new Set),this.socketEventHandlers[e].add(t);let r=`(${this.name}) "${e}"`;if(this.ipcRenderer.on(r,(i,s)=>{t(s)}),e==="connect"){let i=`(${this.name}) "connection"`;this.ipcRenderer.send(i,this.name)}}off(e,t){if(!this.socketEventHandlers[e])return;t?this.socketEventHandlers[e].delete(t):delete this.socketEventHandlers[e];let r=`(${this.name}) "${e}"`;this.ipcRenderer.removeListener(r,i=>{t(i)})}emit(e,...t){let r=`(${this.name}) "${e}"`;this.ipcRenderer.send(r,...t)}},mN=class extends mm{toString(){return"ipc"}constructor(e){super(e),this.ctx=e}ioServer(e,t){let r=t?.path||"/";return fN.from(this.ctx.contextName).of(r)}get ioClient(){return(t,r)=>{let i=r?.path||"/";return new pN(i)}}},$E=class n{static{this.serverByUrl=new Map}static from(e){return n.serverByUrl.has(e)||n.serverByUrl.set(e,new n(e)),n.serverByUrl.get(e)}get allServers(){return Array.from(n.serverByUrl.values())}constructor(e){this.url=e,this.namespacesByName=new Map,n.serverByUrl.set(e,this)}of(e){return this.namespacesByName.has(e)||this.namespacesByName.set(e,new gN(e,this)),this.namespacesByName.get(e)}path(){return this.url}},gN=class{constructor(e,t){this.name=e,this.server=t,this.allSocketsForNamespace=new Set,this.socketByRoomName={},this.namespaceEventHandlers={}}on(e,t){this.namespaceEventHandlers[e]||(this.namespaceEventHandlers[e]=new Set),this.namespaceEventHandlers[e].has(t)||this.namespaceEventHandlers[e].add(t),e==="connection"&&setTimeout(()=>{this.emit("connection",this)})}emit(e,...t){this.allSocketsForNamespace?.forEach(r=>{r.emit(e,...t)})}connect(e){this.allSocketsForNamespace.add(e),e.namespaceInstance=this}to(e){let t=this.socketByRoomName[e];return new VE(t,!0)}in(e){let t=this.socketByRoomName[e];return new VE(t,!1)}joinRoom(e,t){this.socketByRoomName[e]||(this.socketByRoomName[e]=new Set),this.socketByRoomName[e].add(t)}leaveRoom(e,t){this.socketByRoomName[e]&&this.socketByRoomName[e].delete(t)}get nsp(){let e=this;return{get name(){return e.name}}}path(){return this.name}},VE=class{constructor(e,t=!1,r=null){this.sockets=e,this.includeSender=t,this.sender=r}emit(e,...t){this.sockets?.forEach(r=>{(this.includeSender||r!==this.sender)&&r.emit(e,...t)})}},yN=class{get id(){return this.nsp.name}constructor(e,t){this.url=e,this.socketEventHandlers={};let[r,i]=[e,t.path||"/"],s=i||"/";$E.from(e).of(s).connect(this)}get nsp(){let e=this;return{get name(){return e.namespaceInstance?.name}}}path(){return this.namespaceInstance?.name}on(e,t){this.socketEventHandlers[e]||(this.socketEventHandlers[e]=new Set),this.socketEventHandlers[e].add(t),e==="connect"&&setTimeout(()=>{this.emit("connect")})}emit(e,...t){if(e=e||"",e.includes(`:${me.REALTIME.KEYroomSubscribe}`)){let r=t[0];this.join(r)}else if(e.includes(`:${me.REALTIME.KEYroomUnsubscribe}`)){let r=t[0];this.leave(r)}else if(this.namespaceInstance){let r=this.namespaceInstance.namespaceEventHandlers[e]||[];for(let o of r)o&&o(...t);let i=Array.from(this.namespaceInstance.allSocketsForNamespace.values()).filter(o=>o!==this);for(let o of i){let a=o.socketEventHandlers[e];for(let c of a)c&&c(...t)}let s=this.socketEventHandlers[e]||[];for(let o of s)o&&o(...t)}}join(e){this.namespaceInstance.joinRoom(e,this)}leave(e){this.namespaceInstance.leaveRoom(e,this)}},bN=class extends mm{toString(){return"mock"}constructor(e){super(e),this.ctx=e}ioServer(e,t){return $E.from(e||this.ctx.uriOrigin).of(t?.path||"/")}get ioClient(){return(t,r)=>new yN(t||this.ctx.uriOrigin,r)}},vN=class extends mm{toString(){return"socket-io"}constructor(e){super(e),this.ctx=e}ioServer(...e){}get ioClient(){return dm}},_N=class{constructor(e){this.ctx=e,this.allHttpMethods=["GET","POST","PUT","DELETE","PATCH","OPTIONS","HEAD"],this.ctx=e,this.strategy=this.resolveStrategy(),gt.isWebSQL?(this.server=new qE(this),this.client=new BE(this)):(this.client=new BE(this),this.server=new qE(this))}resolveStrategy(){return this.ctx.mode==="backend-frontend(websql)"||this.ctx.mode==="backend-frontend(websql-electron)"?new bN(this.ctx):this.ctx.mode==="backend-frontend(ipc-electron)"?new mN(this.ctx):new vN(this.ctx)}pathFor(e){let t=e||"";t=t==="/"?"":t;let r=this.ctx.contextNameForCommunication,i=`${LE}/${r}/udp`;gt.isElectron&&(i="");let s=`${this.ctx.uriOrigin}${this.ctx.uriPathnameOrNothingIfRoot}/${i}${i&&t?"-"+t:t}`;return new URL(s)}},Dtt=globalThis.ENV,UE=class n{static get Instance(){return this._instance||(this._instance=new n),this._instance}constructor(){this.scrollableEnabled=!1,this.onEditMode=new Ge,this.onEditMode$=this.onEditMode.asObservable(),this.enabledTabs=[],n._instance=this,this.scrollableEnabled=!!Dtt?.useGlobalNgxScrollbar}setEditMode(e){this.onEditMode.next(e)}setKeepWebsqlDbDataAfterReload(e){this.keepWebsqlDbDataAfterReload=e}hide(){this.draggablePopupMode=!1,this.adminPanelIsOpen=!1}show(){this.draggablePopupMode=!1,this.adminPanelIsOpen=!0}logout(){}};var EN=class{get sourceContext(){return this.cloneOptions?.sourceContext}get isRunOrRevertOnlyMigrationAppStart(){return!!(this.onlyMigrationRun||this.onlyMigrationRevertToTimestamp)}get realtimeClient(){return this.realtime.client}get realtimeServer(){return this.realtime.server}get logHttp(){return k.isObject(this.config?.logs)?!!this.config.logs.http:this.config?.logs===!0}get logRealtime(){return k.isObject(this.config?.logs)?!!this.config.logs.realtime:this.config?.logs===!0}get logFramework(){return k.isObject(this.config?.logs)?!!this.config.logs.framework:this.config?.logs===!0}get logRoutes(){return k.isObject(this.config?.logs)?!!this.config.logs.routes:this.config?.logs===!0}get logDb(){return k.isObject(this.config?.logs)?!!this.config.logs.db:this.config?.logs===!0}get logMigrations(){return k.isObject(this.config?.logs)?!!this.config.logs.migrations:this.config?.logs===!0}constructor(e,t,r){this.originalConfig=e,this.configFn=t,this.cloneOptions=r,this.USE_MARIADB_MYSQL_IN_DOCKER=!1,this.disabledRealtime=!1,this.inited=!1,this.dbMigrations=new uN(this),this.localInstaceObjSymbol=Symbol("localInstaceObjSymbol"),this.allClassesInstances={},this.classInstancesByNameObj={},this.objWithClassesInstancesArr={},this.activeRoutes=[],this.repos=new Map,this.skipWritingServerRoutes=!1,this.injectableTypesfromContexts=[je.ClassType.CONTROLLER,je.ClassType.PROVIDER,je.ClassType.MIDDLEWARE,je.ClassType.REPOSITORY,je.ClassType.SUBSCRIBER,je.ClassType.MIGRATION],this.allTypesfromContexts=[...this.injectableTypesfromContexts,je.ClassType.ENTITY],this.expressApp={},this.onlyMigrationRun=!1,this.onlyMigrationRevertToTimestamp=void 0,this.entitiesTriggers={},this.isRunningInsideDocker=!1,this.cloneClassWithNewMetadata=({TaonBaseClass:i,className:s,config:o,ctx:a,classType:c})=>(()=>{var f,p,g,v,E;return i[me.fullClassNameStaticProperty]===`${a.contextName}.${s}`?i:class extends i{constructor(){super(...arguments),this[E]=a}static{f=me.orignalClass,p=me.fullClassNameStaticProperty,g=me.classNameStaticProperty,v=me.ctxInClassOrClassObj,E=me.ctxInClassOrClassObj}static{this[f]=i}static{this[p]=`${a.contextName}.${s}`}static{this[g]=s}static{this[v]=a}static __getFullPathForClass__(D=[]){let P=this[me.fullClassNameStaticProperty];return D.push(P),this[me.orignalClass]&&this[me.orignalClass].__getFullPathForClass__&&this[me.orignalClass].__getFullPathForClass__(D),D.join("/")}static get fullPathForClass(){return this.__getFullPathForClass__()}}})(),this.cloneClassesObjWithNewMetadata=({classesInput:i,config:s,ctx:o,classType:a})=>{let c={};for(let l of Object.keys(i||{})){let f=i[l];f||Le.error(`Class ${l} is not defined in context ${o.contextName}

        Please check if you have correct import in context file

        `);var u=Reflect.getMetadata(me.metadata.className,f);u=u||l,f[me.classNameStaticProperty]=u;let p=this.cloneClassWithNewMetadata({TaonBaseClass:f,className:u,config:s,ctx:o,classType:a});c[u]=p}return c},this.cloneOptions=this.cloneOptions||{},this.isRunningInsideDocker=gt.isRunningInDocker()}async init(e){let{initFromRecrusiveContextResovle:t,onlyMigrationRun:r,onlyMigrationRevertToTimestamp:i}=e||{};if(this.inited=!0,this.onlyMigrationRun=r,this.onlyMigrationRevertToTimestamp=i,this.config=this.configFn({}),k.isObject(this.config.database)&&(this.config.database=je.DatabaseConfig.from(this.config.database).databaseConfigTypeORM),this.config.host=this.host===null?void 0:this.host,this.cloneOptions.overrideHost&&!this.cloneOptions.useAsRemoteContext&&(this.config.host=this.cloneOptions.overrideHost),this.cloneOptions.overrideRemoteHost&&this.cloneOptions.useAsRemoteContext&&(this.config.host=this.cloneOptions.overrideRemoteHost),this.config.host&&!this.config.host.startsWith("http://")&&!this.config.host.startsWith("https://")&&Le.throwError(`[taon-config] Your${this.host?" remote":""} 'host' must start with http:// or https://`),k.isUndefined(this.config.useIpcWhenElectron)&&(this.config.useIpcWhenElectron=!0),this.skipWritingServerRoutes=k.isBoolean(this.config.skipWritingServerRoutes)?this.config.skipWritingServerRoutes:!1,this.config.host&&(this.mode="backend-frontend(tcp+udp)",this.mode="backend-frontend(websql)"),this.isRemoteHost&&(this.mode="remote-backend(tcp+udp)"),this.config.useIpcWhenElectron&&gt.isElectron&&(gt.isWebSQL?this.mode="backend-frontend(websql-electron)":this.mode="backend-frontend(ipc-electron)"),!this.mode&&!this.config.abstract&&Le.error(`[taon][Context=${this.contextName}]: You need to provide host property or useIpcWhenElectron or mark it as abstract`,!1,!0),this.config.database===!0?(this.logFramework&&console.log(`

        ASSIGNING AUTO GENERATED DATABASE CONFIG

        `),this.databaseConfig=this.getAutoGeneratedConfig()):k.isObject(this.config.database)&&(this.logFramework&&console.log(`

        OVERRIDE DATABASE CONFIG FROM CONFIGURATION

        `),this.databaseConfig=this.getAutoGeneratedConfig(),oc.Object(this.config.database,(s,o)=>{k.isNil(s)||k.isFunction(s)||k.isObject(s)||(this.logFramework&&console.info(`Overriding database config: ${o}=${s}`),k.set(this.databaseConfig,o,s))},{walkGetters:!1})),this.config.session){this.session=k.cloneDeep(this.config.session);let s=1e3*60*60*1;this.session.cookieMaxAge||(this.session.cookieMaxAge=s),oa.defaults.withCredentials=!0}this.config.contexts=this.config.contexts||{},this.config.entities=this.config.entities||{},this.config.controllers=this.config.controllers||{},this.config.repositories=this.config.repositories||{},this.config.providers=this.config.providers||{},this.config.subscribers=this.config.subscribers||{},this.config.migrations=this.config.migrations||{},this.config.entities=Z(Z({},await this.getRecrusiveClassesfromContextsObj(je.ClassType.ENTITY)),this.config.entities),this.config.controllers=Z(Z({},await this.getRecrusiveClassesfromContextsObj(je.ClassType.CONTROLLER)),this.config.controllers),this.config.providers=Z(Z({},await this.getRecrusiveClassesfromContextsObj(je.ClassType.PROVIDER)),this.config.providers),this.config.middlewares=Z(Z({},await this.getRecrusiveClassesfromContextsObj(je.ClassType.MIDDLEWARE)),this.config.middlewares),this.config.subscribers=Z(Z({},await this.getRecrusiveClassesfromContextsObj(je.ClassType.SUBSCRIBER)),this.config.subscribers),this.config.repositories=Z(Z({},await this.getRecrusiveClassesfromContextsObj(je.ClassType.REPOSITORY)),this.config.repositories),this.config.migrations=Z(Z({},await this.getRecrusiveClassesfromContextsObj(je.ClassType.MIGRATION)),this.config.migrations),this.config.controllers=this.cloneClassesObjWithNewMetadata({classesInput:this.config.controllers,config:this.config,ctx:this,classType:je.ClassType.CONTROLLER}),this.config.repositories=this.cloneClassesObjWithNewMetadata({classesInput:this.config.repositories,config:this.config,ctx:this,classType:je.ClassType.REPOSITORY}),this.config.providers=this.cloneClassesObjWithNewMetadata({classesInput:this.config.providers,config:this.config,ctx:this,classType:je.ClassType.PROVIDER}),this.config.middlewares=this.cloneClassesObjWithNewMetadata({classesInput:this.config.middlewares,config:this.config,ctx:this,classType:je.ClassType.MIDDLEWARE}),this.config.subscribers=this.cloneClassesObjWithNewMetadata({classesInput:this.config.subscribers,config:this.config,ctx:this,classType:je.ClassType.SUBSCRIBER}),this.config.migrations=this.cloneClassesObjWithNewMetadata({classesInput:this.config.migrations,config:this.config,ctx:this,classType:je.ClassType.MIGRATION});for(let s of this.injectableTypesfromContexts)this.classInstancesByNameObj[s]={},this.objWithClassesInstancesArr[s]=[];for(let s of this.injectableTypesfromContexts)await this.createInstances(this.config[je.ClassTypeKey[s]],s);if(!this.isRunOrRevertOnlyMigrationAppStart&&(this.mode==="backend-frontend(tcp+udp)"&&!this.config.abstract&&await this.initCustomClientMiddlewares(),!this.config.abstract)){if(this.disabledRealtime=this.config.disabledRealtime,!this.host)throw`

            host is required for context initialization..
            (Or maybe you forgot mark ${this.config.contextName} context as abstract?)

          `;this.logRealtime&&Le.info(`[ctx=${this.contextName}] Init Realtime for ${this.mode}`),this.realtime=new _N(this)}this.config.abstract?this.logFramework&&Le.info(`[taon] Create abstract context: ${this.config.contextName}`):this.isRemoteHost?this.logFramework&&Le.info(`[taon] Create context for remote host: ${this.config.host}`):this.logFramework&&Le.info(`[taon] Create context for host: ${this.config.host}`),Object.keys(this.config).forEach(s=>{this.originalConfig[s]=this.config[s]})}getAutoGeneratedConfig(){this.logFramework&&console.log(`


         IS RUNNING IN DOCKER: ${this.isRunningInsideDocker}

    `);let e=je.DatabaseConfig.from({}),t=`${je.DatabasesFolder}/db-${this.contextName}.sqlite`;if(this.isRunningInsideDocker)this.USE_MARIADB_MYSQL_IN_DOCKER||(this.logFramework&&console.log(`

          USING GENERATED CONFIG FOR SQLJS IN DOCKER

          `),e=e=je.DatabaseConfig.from({location:t,type:"sqljs",useLocalForage:!1,recreateMode:"PRESERVE_DATA+MIGRATIONS",logging:!0}));else switch(this.logFramework&&Le.info(`[taon][database] Automatically resolving database config for mode ${this.mode}`),this.mode){case"backend-frontend(ipc-electron)":e=je.DatabaseConfig.from({location:gt.isElectron?void 0:`db-${this.contextName}.sqlite`,type:"sqljs",recreateMode:"DROP_DB+MIGRATIONS",logging:this.logDb});break;case"backend-frontend(websql-electron)":case"backend-frontend(websql)":let i=!1;i=UE.Instance?.keepWebsqlDbDataAfterReload,e=e=je.DatabaseConfig.from({location:`db-${this.contextName}.sqlite`,type:"sqljs",useLocalForage:!0,recreateMode:i?"PRESERVE_DATA+MIGRATIONS":"DROP_DB+MIGRATIONS",logging:this.logDb});break;case"backend-frontend(tcp+udp)":e=je.DatabaseConfig.from({database:`context-db-${this.contextName}`,location:t,type:"sqljs",recreateMode:"DROP_DB+MIGRATIONS",logging:this.logDb});break}return e.databaseConfigTypeORM}async startServer(){}displayRoutes(e){}get modeAllowsDatabaseCreation(){return this.mode==="backend-frontend(tcp+udp)"||this.mode==="backend-frontend(websql)"||this.mode==="backend-frontend(ipc-electron)"}async getRecrusiveClassesfromContextsObj(e){return(await this.getRecrusiveClassesfromContexts(e)).reduce((r,i)=>(r[ke.getName(i)]=i,r),{})}async getRecrusiveClassesfromContexts(e,t=[]){let r=Object.values(this.config.contexts||{});for(let i of r){let s=await i.__ref(),o=s.getClassFunBy(e);Object.values(this.cloneClassesObjWithNewMetadata({classesInput:o,config:this.config,ctx:this,classType:e})).forEach(c=>t.push(c)),await s.getRecrusiveClassesfromContexts(e,t)}return t}getClassInstanceObjBy(e){return this.classInstancesByNameObj[e]}getClassesInstancesArrBy(e){return this.objWithClassesInstancesArr[e]}inject(e,t){let r=ke.getName(e),i=t.locaInstanceConstructorArgs||[];if(this.isCLassType(je.ClassType.REPOSITORY,e)&&(t.localInstance=!0),t?.localInstance){let o=this.getClassFunByClassName(r),a="",c=k.first(i),u=c&&c();a=u&&ke.getName(u)||"",t.contextClassInstance[this.localInstaceObjSymbol]||(t.contextClassInstance[this.localInstaceObjSymbol]={});let l=r+(a?`.${a}`:""),f=t.contextClassInstance[this.localInstaceObjSymbol][l];if(f)return f;if(!o)throw new Error(`Not able to inject "${r}" inside context "${this.contextName}"

        Make sure they share the same context or import context where "${r}" is defined.

        `);let p=new o(...i);return t.contextClassInstance[this.localInstaceObjSymbol][l]=p,p}return this.allClassesInstances[r]}getInstanceBy(e){return this.inject(e,{localInstance:!1,parentInstanceThatWillGetInjectedStuff:this})}checkIfContextInitialized(){if(k.isUndefined(this.config))throw new Error(`Please check if your context has been initialized.

      // ...
      await Context.initialize();
      // ...


      `)}getClassFunBy(e){switch(this.checkIfContextInitialized(),e){case je.ClassType.CONTROLLER:return this.config.controllers;case je.ClassType.ENTITY:return this.config.entities;case je.ClassType.PROVIDER:return this.config.providers;case je.ClassType.MIDDLEWARE:return this.config.middlewares;case je.ClassType.REPOSITORY:return this.config.repositories;case je.ClassType.SUBSCRIBER:return this.config.subscribers;case je.ClassType.MIGRATION:return this.config.migrations}}isCLassType(e,t){return!!this.getClassFunBy(e)[ke.getName(t)]}getClassFunByClassName(e){for(let t of this.allTypesfromContexts){let r=this.config[je.ClassTypeKey[t]];if(r[e])return r[e]}}getClassFunByClass(e){let t=ke.getName(e);return this.getClassFunByClassName(t)}getClassFunByArr(e){return Object.values(this.getClassFunBy(e)||{})}async createInstances(e,t){for(let r of[...Object.values(e)]){let i=lN.resolve(r),s=this.classInstancesByNameObj[t],o=ke.getName(r);s[o]=i,this.config[je.ClassTypeKey[t]][o]=r,this.objWithClassesInstancesArr[t].push(i),this.allClassesInstances[o]=i}}async initClasses(){if(!this.isRemoteHost){for(let e of this.getClassFunByArr(je.ClassType.ENTITY)){let t=await this.connection.getRepository(ke.getOrginalClass(e));this.repos.set(ke.getName(e),t)}for(let e of[je.ClassType.MIDDLEWARE,je.ClassType.PROVIDER,je.ClassType.REPOSITORY,je.ClassType.CONTROLLER,je.ClassType.ENTITY,je.ClassType.MIGRATION])for(let t of this.getClassFunByArr(e))k.isFunction(t._)&&await t._();for(let e of[je.ClassType.MIDDLEWARE,je.ClassType.PROVIDER,je.ClassType.REPOSITORY,je.ClassType.CONTROLLER,je.ClassType.MIGRATION])for(let t of this.getClassesInstancesArrBy(e))k.isFunction(t._)&&await t._()}}isActiveOn(e){let t=e[me.ctxInClassOrClassObj];return this===t}get frontendHostUri(){let e=this.config?.frontendHost?.startsWith("http")?this.config.frontendHost:`${globalThis?.location?.protocol||"http:"}//${this.config?.frontendHost}`;return new URL(e.replace(/\/$/,""))}get uri(){return this.host?new URL(this.host):void 0}get uriProtocol(){return this.uri?.protocol}get uriOrigin(){return this.uri?.origin}get uriPathname(){return this.uri?.pathname}get uriPathnameOrNothingIfRoot(){return this.uri?.pathname&&this.uri.pathname!=="/"?this.uri.pathname.replace(/\/$/,""):""}get uriPort(){return this.uri?.origin?.includes("localhost")?this.uri?.port:this.config?.hostPortNumber?.toString()}get port(){return this.uri?.port?Number(this.uriPort):void 0}get isHttpServer(){return this.uriProtocol==="https:"}get isRemoteHost(){return!!this.cloneOptions?.useAsRemoteContext}get contextName(){return this.config?.contextName||this.originalConfig?.contextName}get contextNameForCommunication(){let e=this.contextName;return this.isRemoteHost&&this.sourceContext?.contextName&&(e=this.sourceContext?.contextName),e}get contextType(){return this.config.abstract?"abstract":this.host?this.isRemoteHost?"remote":"normal":"invalid"}get cwd(){return this.config.cwd||process.cwd()}get activeContext(){return this.config.activeContext||null}get appId(){return this.config.appId}get publicAssets(){return this.config?.publicAssets||[]}get isProductionMode(){return this.config.productionMode}get host(){return this.config.host}get origin(){return this.uri?.origin}async initSubscribers(){if(this.isRemoteHost)return;let e=this.getClassFunByArr(je.ClassType.SUBSCRIBER);for(let t of e){let r=Reflect.getMetadata(me.metadata.options.subscriber,t);Sae()(t)}}async initEntities(){if(this.isRemoteHost)return;let e=this.getClassFunByArr(je.ClassType.ENTITY);for(let t of e){let r=Reflect.getMetadata(me.metadata.options.entity,t),i=k.isUndefined(r.createTable)?!0:r.createTable,s=ke.getName(t);i?(this.logDb&&console.info(`[taon][typeorm] create table for entity "${s}" ? '${i}'`),tm(s)(t)):this.logDb&&console.info(`[taon][typeorm] create table for entity "${s}" ? '${i}'`)}}async destroy(){this.connection&&(await this.connection?.destroy(),delete this.connection),this.serverTcpUdp&&(await new Promise(e=>{this.serverTcpUdp?.close(()=>{e(!0)})}),delete this.serverTcpUdp),delete this.expressApp}async initDatabaseConnection(){if(this.isRemoteHost||!this.databaseConfig)return;let e=this.getClassFunByArr(je.ClassType.ENTITY).map(s=>ke.getOrginalClass(s)),t=this.getClassFunByArr(je.ClassType.SUBSCRIBER),r=!1;k.isNil(this.databaseConfig.autoSave)?this.USE_MARIADB_MYSQL_IN_DOCKER?r=!this.isRunningInsideDocker:r=!0:r=this.databaseConfig.autoSave;let i=k.isObject(this.databaseConfig)?{type:this.databaseConfig.type,port:this.databaseConfig.databasePort,host:this.databaseConfig.databaseHost,database:this.databaseConfig.database,username:this.databaseConfig.databaseUsername,password:this.databaseConfig.databasePassword,useLocalForage:this.databaseConfig.useLocalForage,entities:e,subscribers:t,synchronize:this.isRunOrRevertOnlyMigrationAppStart?!1:this.databaseConfig.synchronize,autoSave:r,dropSchema:this.isRunOrRevertOnlyMigrationAppStart?!1:this.databaseConfig.dropSchema,logging:!!this.databaseConfig.logging,location:this.databaseConfig.location}:{};if(this.logFramework&&console.log(`[Context: "${this.contextName}"] dataSourceDbConfig`,i),this.modeAllowsDatabaseCreation&&this.databaseConfig){this.logDb&&this.logFramework&&Le.info("[taon][database] prepare typeorm connection...");try{let s=new vE(i);this.connection=s,await this.connection.initialize()}catch(s){console.error(`[taon][typeorm] Error while initializing connection for ${this.contextName}, ERROR STARTED `),console.error(s?.stack||"< No stack trace > "),console.error(s?.message||s),console.error(`[taon][typeorm] Error while initializing connection for ${this.contextName}, ERROR ENDS `)}if(!this.connection?.isInitialized)throw console.log("WRONG CONFIG",i),new Error(`Something wrong with connection init in ${this.mode}`);(this.logDb||this.logFramework)&&(console.info(`

        CONTECTION OK for ${this.contextName} - ${this.mode}

        [taon][typeorm] db prepration done.. db initialize=${this.connection?.isInitialized}


        `,{"this.connection":!!this.connection}),console.log(`Database file location: ${this.connection.options.database}`))}else Le.info(`[taon][typeorm] Not initing db for mode ${this.mode}`)}updateCalculatedPathsForControllers(e,t,r){let i=k.slice(e,1).reverse().map(o=>ha.isGoodPath(o.path)?o.path:o.className).join("/"),s=this.contextNameForCommunication;ha.isGoodPath(t.path)?t.calculatedPath=t.path:t.calculatedPath=`${this.uriPathnameOrNothingIfRoot}/${LE}/${s}/tcp${i}/${ke.getName(r)}`.replace(/\/\//g,"/").split("/").reduce((o,a)=>k.last(o)===a?o:[...o,a],[]).join("/")}mergeControllerMethodsConfigs(e,t,r){let i=t.methods;k.slice(e,1).forEach(s=>{let o=k.cloneDeep(s.methods);for(let a in o)if(o.hasOwnProperty(a)&&!i[a]){let c=o[a];i[a]=c}})}async initControllersHook(e){if(this.isRunOrRevertOnlyMigrationAppStart)return;let t=this.getClassFunByArr(je.ClassType.CONTROLLER);for(let r of t){let i=this.getInstanceBy(r);k.isFunction(i.afterAllCtxInited)&&await i.afterAllCtxInited({ctxStorage:e})}}async initControllers(){if(this.isRunOrRevertOnlyMigrationAppStart)return;let e=this.getClassFunByArr(je.ClassType.CONTROLLER);for(let t of e){t[me.classMethodsNames]=ke.getMethodsNames(t);let r=ke.getControllerConfigs(t),i=r[0];this.updateCalculatedPathsForControllers(r,i,t),this.mergeControllerMethodsConfigs(r,i,t),i.calculatedMiddlewaresControllerObj={},[...r].reverse().forEach(o=>{k.isFunction(o.middlewares)&&(i.calculatedMiddlewaresControllerObj=o.middlewares({parentMiddlewares:i.calculatedMiddlewaresControllerObj,className(a){return ke.getName(t)}}))}),this.logHttp&&console.groupCollapsed(`[taon][express-server] routes [${i.className}]`);let s=Object.keys(i.methods);for(let o of s){let a=i.methods[o],c={};[...r].reverse().forEach(g=>{if(g.methods[o]){let v=g.methods[o];k.isFunction(v.middlewares)&&(c=v.middlewares({parentMiddlewares:c,className(E){return ke.getName(t)}}))}}),a.calculatedMiddlewaresMethodObj=Z(Z({},c),i.calculatedMiddlewaresControllerObj),a.calculatedMiddlewares=Object.values(a.calculatedMiddlewaresMethodObj||{});let u=a.type,l=this.isRunningInsideDocker||!this.frontendHostUri?.origin?.includes("localhost")?`${this.uriPathnameOrNothingIfRoot.replace(/\/$/,"")}/${LE}/${this.contextName}`.replace(/\/\//,"/"):"",f=a.global?`${l}/${a.path?.replace(/\/$/,"")}`.replace(/\/\//,"/"):ha.getExpressPath(i,a);if(gt.isNode||gt.isWebSQL){let g=this.initServer(u,a,i,f,t);this.activeRoutes.push({expressPath:g.expressPath,method:g.method})}(gt.isBrowser||this.isRemoteHost||gt.isWebSQL)&&await this.initClient(t,u,a,f)}this.logHttp&&console.groupEnd()}}writeActiveRoutes(){if(this.isRemoteHost||this.isRunOrRevertOnlyMigrationAppStart)return;let e=ic.uniqArray(this.activeRoutes.map(i=>`${i.method} ${i.expressPath}`)).map(i=>{let[s,o]=i.split(" ");return`
### ${k.startCase(k.last(o.split("/")))}
`+ha.fillUpTo(s.toUpperCase()+" ",10)+this.uriOrigin+o}),t=["",`#  ROUTES FOR HOST ${this.uriOrigin} `,...e].join(`
`),r=Eo([`routes/routes-${this.config.contextName}.rest`]);this.logFramework&&console.log(`[taon] routes file: ${r} `),this.logRoutes&&console.log(t)}get middlewares(){}async initCustomClientMiddlewares(){this.getClassesInstancesArrBy(je.ClassType.MIDDLEWARE).map(t=>t).filter(t=>k.isFunction(t.interceptClient)).forEach(t=>{let r=this.contextName,i=`${r}-${ke.getName(t)}`;us.request.interceptors.set(i,{intercept:({req:s,next:o})=>new URL(s.url).pathname.startsWith(`${this.uriPathnameOrNothingIfRoot}/${LE}/${r}/`)?t.interceptClient({req:s,next:o}):o.handle(s)})})}async initCustomBackendMiddlewares(){}async initBackendMiddlewares(){}initServer(e,t,r,i,s){let o=t.calculatedMiddlewares.map(c=>{let u=this.getInstanceBy(c);if(u&&k.isFunction(u.interceptServerMethod))return ke.asyncHandler(async(f,p,g)=>{await u.interceptServerMethod({req:f,res:p,next:g},{methodName:t.methodName,expressPath:i,httpRequestType:t.type})})}).filter(c=>!!c),a=async(c,u,l)=>{let f=t.descriptor.value.apply(this.getInstanceBy(s),c);return await hce(f,{req:u,res:l})};return gt.isElectron,this.isRemoteHost||gt.isWebSQL&&(this.expressApp[e.toLowerCase()]||(this.expressApp[e.toLowerCase()]=()=>{})),{expressPath:i,method:t.type}}sendError(e,t,r,i){}async initClient(e,t,r,i){let s=this;r.calculatedMiddlewares.map(J=>this.getInstanceBy(J)).filter(J=>k.isFunction(J.interceptClientMethod)).forEach(J=>{let he=`${ke.getName(J)}-${r.type?.toUpperCase()}-${i}`;us.request.methodsInterceptors.set(he,{intercept:({req:y,next:Te})=>J.interceptClientMethod({req:y,next:Te},{methodName:r.methodName,expressPath:i,httpRequestType:t})})});let c=globalThis,u=e.prototype[r.methodName];if(gt.isElectron){let J=window.require("electron").ipcRenderer;e.prototype[r.methodName]=function(...re){let he=new Promise(async(y,Te)=>{let De={},{request:Ve,response:q}=ha.websqlMocks(De);J.once(ha.ipcKeyNameResponse(e,r,i),(I,ee)=>{let de=ee;console.log({responseData:ee});try{let pe=de;de=new cc.HttpResponse({body:void 0,isArray:void 0,method:r.type,url:`${s.uriOrigin}${r.path} `},Le.isBlob(pe)||k.isString(pe)?pe:JSON.stringify(pe),ii.from(De),void 0,()=>pe),y(de)}catch(pe){console.error(pe),Te(pe)}}),J.send(ha.ipcKeyNameRequest(e,r,i),re)});return he.observable=Xt(he),{received:he,request(y){return he}}};return}let l=400,f=200,p=globalThis,g=p[me.old.WEBSQL_REST_PROGRESS_TIMEOUT]||l,v=p[me.old.WEBSQL_REST_PROGRESS_FUN];p[me.old.WEBSQL_REST_PROGRESS_FUN]||(p[me.old.WEBSQL_REST_PROGRESS_FUN]=new Ge),v=p[me.old.WEBSQL_REST_PROGRESS_FUN];let E=p[me.old.WEBSQL_REST_PROGRESS_FUN_START];p[me.old.WEBSQL_REST_PROGRESS_FUN_START]||(p[me.old.WEBSQL_REST_PROGRESS_FUN_START]=new Ge),E=p[me.old.WEBSQL_REST_PROGRESS_FUN_START];let D=p[me.old.WEBSQL_REST_PROGRESS_FUN_DONE];p[me.old.WEBSQL_REST_PROGRESS_FUN_DONE]||(p[me.old.WEBSQL_REST_PROGRESS_FUN_DONE]=new Ge),D=p[me.old.WEBSQL_REST_PROGRESS_FUN_DONE];let P=0;g>=l&&(P=Math.floor(g/f));let K=async()=>{E.next();for(let J=1;J<=P;J++){let re=Math.round(f*J/g*100);re>100&&(re=100),v.next(re),await new Promise((he,y)=>{setTimeout(()=>{he(void 0)},f)})}D.next()};e.prototype[r.methodName]=function(...J){let re=new Promise(async(he,y)=>{let Te={},{request:De,response:Ve}=ha.websqlMocks(Te),q;try{q=await Le.runSyncOrAsync({functionFn:u,context:this,arrayOfParams:J}),typeof q=="function"&&(q=await Le.runSyncOrAsync({functionFn:q,context:this,arrayOfParams:[De,Ve]})),typeof q=="function"&&(q=await Le.runSyncOrAsync({functionFn:q,context:this,arrayOfParams:[De,Ve]})),typeof q=="object"&&q?.received&&(q=await q.received);let I=q;q=new cc.HttpResponse({body:void 0,isArray:void 0,method:r.type,url:`${s.uriOrigin}${r.path} `},Le.isBlob(I)||k.isString(I)?I:JSON.stringify(I),ii.from(Te),void 0,()=>I),await K(),he(q)}catch(I){await K(),console.error(I),y(I)}});if(re.observable=Xt(re),gt.isWebSQL)return{received:re,request(he){return re}}},!gt.isWebSQL&&(e.prototype[r.methodName]=function(...J){c[me.old.ENDPOINT_META_CONFIG]||(c[me.old.ENDPOINT_META_CONFIG]={}),c[me.old.ENDPOINT_META_CONFIG][s.uriOrigin]||(c[me.old.ENDPOINT_META_CONFIG][s.uriOrigin]={});let re=c[me.old.ENDPOINT_META_CONFIG],he;if(re[s.uriOrigin][i])he=re[s.uriOrigin][i];else{let I={};r.contentType&&!r.responseType?he=us.create(s.uriOrigin,i,me.old.MAPPING_CONFIG_HEADER,me.old.CIRCURAL_OBJECTS_MAP_BODY,ii.from({"Content-Type":r.contentType,Accept:r.contentType})):r.contentType&&r.responseType?he=us.create(s.uriOrigin,i,me.old.MAPPING_CONFIG_HEADER,me.old.CIRCURAL_OBJECTS_MAP_BODY,ii.from({"Content-Type":r.contentType,Accept:r.contentType,responsetypeaxios:r.responseType})):!r.contentType&&r.responseType?he=us.create(s.uriOrigin,i,me.old.MAPPING_CONFIG_HEADER,me.old.CIRCURAL_OBJECTS_MAP_BODY,ii.from({responsetypeaxios:r.responseType})):he=us.create(s.uriOrigin,i,me.old.MAPPING_CONFIG_HEADER,me.old.CIRCURAL_OBJECTS_MAP_BODY),re[s.uriOrigin][i]=he}let y=t.toLowerCase(),Te={},De={},Ve={};if(J.forEach((I,ee)=>{let de;for(let pe in r.parameters){let Ke=r.parameters[pe];if(Ke.index===ee){de=Ke;break}}if(!de){let pe=`[${eae.frameworkName}] Unable to resolve parameter at index ${ee} for method ${r.methodName} at path ${i}.`;throw new Error(pe)}if(de.paramType==="Path"&&(Te[de.paramName]=I),de.paramType==="Query")if(de.paramName){let pe=wo.decode(I,!s.isProductionMode);pe&&he.headers.set(`${me.old.MAPPING_CONFIG_HEADER_QUERY_PARAMS}${de.paramName} `,JSON.stringify(pe)),De[de.paramName]=I}else{let pe=wo.decode(I,!s.isProductionMode);pe&&he.headers.set(me.old.MAPPING_CONFIG_HEADER_QUERY_PARAMS,JSON.stringify(pe)),De=k.cloneDeep(I)}if(de.paramType==="Header")if(de.paramName)de.paramName===me.old.MDC_KEY?he.headers.set(de.paramName,encodeURIComponent(JSON.stringify(I))):he.headers.set(de.paramName,I);else for(let pe in I)he.headers.set(pe,I[pe]);if(de.paramType==="Cookie"&&us.Cookies.write(de.paramName,I,de.expireInSeconds),de.paramType==="Body")if(de.paramName){if(ke.getName(Ve)==="FormData")throw new Error(`[taon - framework] Don use param names when posting / putting FormData.
              Use this:
// ...
(@Taon.Http.Param.Body() formData: FormData) ...
// ...

instead
  // ...
  (@Taon.Http.Param.Body('${de.paramName}') formData: FormData) ...
// ...
`);let pe=wo.decode(I,!s.isProductionMode);pe&&he.headers.set(`${me.old.MAPPING_CONFIG_HEADER_BODY_PARAMS}${de.paramName} `,JSON.stringify(pe)),Ve[de.paramName]=I}else{let pe=wo.decode(I,!s.isProductionMode);pe&&he.headers.set(me.old.MAPPING_CONFIG_HEADER_BODY_PARAMS,JSON.stringify(pe)),Ve=I}}),typeof Ve=="object"&&ke.getName(Ve)!=="FormData"){let I=[];Ve=cs.parse(cs.stringify(Ve,void 0,void 0,ee=>{I=ee})),he.headers.set(me.old.CIRCURAL_OBJECTS_MAP_BODY,cs.stringify(I))}if(typeof De=="object"){let I=[];De=cs.parse(cs.stringify(De,void 0,void 0,ee=>{I=ee})),he.headers.set(me.old.CIRCURAL_OBJECTS_MAP_QUERY_PARAM,cs.stringify(I))}return{get received(){return he.model(Te)[y](Ve,[De])},request(I){return he.model(Te)[y](Ve,[De],I)}}})}},HE=class n{constructor(){this.SPECIAL_APP_READY_MESSAGE=bi.SPECIAL_APP_READY_MESSAGE,this.taonEndpointContexts=new Map}static get Instance(){return n.instance||(n.instance=new n),n.instance}set(e){this.taonEndpointContexts.has(e.contextName)||this.taonEndpointContexts.set(e.contextName,e)}get arr(){return Array.from(this.taonEndpointContexts.values()).filter(e=>e.contextType==="normal")}getBy(e){return typeof e=="string"?this.taonEndpointContexts.get(e):this.taonEndpointContexts.get(e.contextName)}};globalThis.$$$ContextsEndpointStorage$$$=HE.Instance;var xtt=n=>()=>GE(n),wN=(n,e)=>{e=e||{};let t=n({}),r=new EN(t,n,e);return{get contextName(){return t.contextName},get appId(){return t.appId},cloneAsRemote:s=>{s=s||{};let o=We(Z({},s),{sourceContext:r,useAsRemoteContext:!0});return wN(n,o)},cloneAsNormal:s=>{s=s||{};let o=We(Z({},s),{sourceContext:r,useAsRemoteContext:!1});return wN(n,o)},async __ref(){return r.inited||await r.init({initFromRecrusiveContextResovle:!0}),r},get __refSync(){return r},getClassInstance(s){return r.getInstanceBy(s)},getClass(s){return r.getClassFunByClass(s)},initialize:async s=>await new Promise(async(o,a)=>{setTimeout(async()=>{if(gt.isRunningInDocker()){let c=t?.activeContext||null;if(k.isString(c)&&c!==""&&c!==t?.contextName){console.warn(`[taon] Context ${r.contextName} is not active context, skipping initialization.`),o(r);return}}if(await r.init(Z({},s)),t.abstract)throw new Error("Abstract context can not be initialized");if(await r.initEntities(),await r.initSubscribers(),await r.initDatabaseConnection(),await r.dbMigrations.ensureMigrationTableExists(),await r.initControllers(),await r.startServer(),r.writeActiveRoutes(),await r.initClasses(),r.databaseConfig){let c=!1;c=UE.Instance?.keepWebsqlDbDataAfterReload,c?!gt.isRunningInCliMode()&&Le.info(`[taon] Keeping websql data after reload (context=${r.contextName}).`):Le.info(`[taon] Dropping all tables and data (context=${r.contextName}).`),r.onlyMigrationRun?(r.logMigrations&&Le.log(`[taon] Running only migrations (context=${r.contextName}).`),await r.dbMigrations.runAllNotCompletedMigrations()):r.onlyMigrationRevertToTimestamp?(r.logMigrations&&Le.log(`[taon] Reverting migrations to timestamp ${r.onlyMigrationRevertToTimestamp} (context=${r.contextName}).`),await r.dbMigrations.revertMigrationToTimestamp(r.onlyMigrationRevertToTimestamp)):(r.logMigrations&&Le.log(`[taon] Running all not applied migrations (context=${r.contextName}).`),await r.dbMigrations.runAllNotCompletedMigrations())}HE.Instance.set(r),o(r)})}),get realtime(){return{get client(){return r.realtimeClient},get server(){return r.realtimeServer}}}}},GE=n=>wN(n,{useAsRemoteContext:!1}),Ttt=n=>new Proxy({},{get:(e,t)=>{if(t==="hasOwnProperty")return()=>!1;let r=n(),s=r[me.ctxInClassOrClassObj];if(s){let o=s.inject(r,{parentInstanceThatWillGetInjectedStuff:void 0});return t==="getOriginalPrototype"?()=>Object.getPrototypeOf(o):t==="getOriginalConstructor"?()=>o.constructor:(r[me.classMethodsNames]||[]).includes(t)?o[t].bind(o):o[t]}}});var Z2t=(n=null,e=100)=>_E({type:"varchar",length:e,nullable:k.isNil(n),default:n});var cce=(n,e)=>{let t=k.merge(new e,k.cloneDeep(void 0));return oc.Object(n||{},(r,i)=>{k.isNil(r)||k.isFunction(r)||k.isObject(r)||k.set(t,i,r)},{walkGetters:!1}),t},CN=class{async _(){}clone(e){if(k.isString(e))throw console.log(e),new Error("String is not supported as .clone() method argument");let t=ke.getClassFnFromObject(this);if(k.isFunction(e)){let r=k.cloneDeep(this)||{};return cce(e(r),t)}return cce(e,t)}},Att=(()=>{let n=class extends CN{relation(t){return t}relations(t){return t}};return n=Ct([tm()],n),n})(),Stt=(()=>{let n=class extends Att{};return Ct([Tae(),Qe("design:type",String)],n.prototype,"id",void 0),Ct([Aae(),Qe("design:type",Number)],n.prototype,"version",void 0),n=Ct([tm()],n),n})();var cr=(function(n){return n.NORMAL="normal",n.DRAINING="draining",n.READONLY="readonly",n.MIGRATING="migrating",n.FROZEN="frozen",n})(cr||{}),Itt={[cr.NORMAL]:[cr.DRAINING,cr.FROZEN],[cr.DRAINING]:[cr.READONLY,cr.FROZEN],[cr.READONLY]:[cr.MIGRATING,cr.NORMAL,cr.FROZEN],[cr.MIGRATING]:[cr.READONLY],[cr.FROZEN]:[cr.READONLY,cr.NORMAL]},Mtt={description:"",version:0,id:void 0,status:cr.NORMAL};function Rtt(n){return function(e){n=n||{},n.uniqueKeyProp=n.uniqueKeyProp||"id",ke.setName(e,n?.className),wo.DefaultModelWithMapping(n?.defaultModelValues||{},k.merge(n?.defaultModelMapping||{},n?.defaultModelMappingDeep||{}))(e),wo.DefaultModelWithMapping(void 0,{})(e),Reflect.defineMetadata(me.metadata.options.entity,n,e),Reflect.defineMetadata(me.metadata.className,n?.className||e.name,e),tm(n?.className)(e),tt.setName(e,n?.className)}}var QE=(()=>{let n=class extends Stt{};return Ct([_E({type:"varchar",length:20,nullable:!1,default:Mtt.status}),Qe("design:type",String)],n.prototype,"status",void 0),Ct([xae(),Qe("design:type",Date)],n.prototype,"createdAt",void 0),Ct([_E({type:"int",nullable:!0}),Qe("design:type",Date)],n.prototype,"secondsBeforeReadonly",void 0),n=Ct([Rtt({className:"TAON_GLOBAL_STATE",createTable:!0})],n),n})();function TN(n){return function(e){ke.setName(e,n?.className),Reflect.defineMetadata(me.metadata.className,n?.className||e.name,e);let t=ke.ensureClassConfig(e);n=n||{},t.className=n.className||e.name,t.path=n.path||"",t.realtime=n.realtime,t.middlewares=n.middlewares}}var gm=(n,e,t,r,i,s,o)=>{let a=ke.ensureMethodConfig(t,r),c;typeof s=="object"?(c=s,s=c.path,o=!!c.pathIsGlobal,e=c.path):c={pathOrOptions:s,pathIsGlobal:o};let{overrideContentType:u,overrideResponseType:l,overrideExpressSendAsHtml:f,middlewares:p}=c;if(a.methodName=r,a.middlewares=p,a.type=n,e)a.path=e;else{let g="";for(let v in a.parameters)if(a.parameters.hasOwnProperty(v)){let E=a.parameters[v];E.paramType==="Path"&&k.isString(E.paramName)&&E.paramName.trim().length>0&&(g+=`/${E.paramName}/:${E.paramName}`)}a.path=`/${r}${g}`}a.descriptor=i,a.global=o,a.contentType=u,a.responseType=l,a.overrideExpressSendAsHtml=f};function pm(n,e=!1){return function(t,r,i){gm("get",n,t,r,i,n,e)}}function WE(n,e=!1){return function(t,r,i){gm("post",n,t,r,i,n,e)}}function uce(n,e=!1){return function(t,r,i){gm("put",n,t,r,i,n,e)}}function Ntt(n,e=!1){return function(t,r,i){gm("patch",n,t,r,i,n,e)}}function aN(n,e=!1){return function(t,r,i){gm("delete",n,t,r,i,n,e)}}function pce(n,e,t,r=void 0,i,s,o){let a=ke.ensureMethodConfig(i,s),c=e||n;a.parameters[c]={index:o,paramName:e,paramType:n,defaultType:r,expireInSeconds:t}}function Gi(n){return function(e,t,r){pce("Query",n,void 0,{},e,t,r)}}function sf(n){return function(e,t,r){pce("Body",n,void 0,{},e,t,r)}}function mce(n){return function(e){Reflect.defineMetadata(me.metadata.options.provider,n,e),Reflect.defineMetadata(me.metadata.className,n?.className||e.name,e),ke.setName(e,n?.className||e.name)}}var pc=class{async _(){}get __endpoint_context__(){return this[me.ctxInClassOrClassObj]}get ctx(){return this.__endpoint_context__}injectRepo(e){return this.__inject(void 0,{localInstance:!0,resolveClassFromContext:"TaonBaseRepository",locaInstanceConstructorArgs:[()=>e]})}injectCustomRepository(e){return this.__inject(e,{localInstance:!0,locaInstanceConstructorArgs:[()=>this.ctx.allClassesInstances[ke.getName(e)].entityClassResolveFn()]})}injectCustomRepo(e){return this.injectCustomRepository(e)}injectController(e){return this.__inject(e,{localInstance:!1})}injectSubscriber(e){return this.__inject(e,{localInstance:!1})}injectCtrl(e){return this.injectController(e)}injectMiddleware(e){return this.__inject(e,{localInstance:!1})}injectProvider(e){return this.__inject(e,{localInstance:!1})}__inject(e,t){t||(t={});let r=this;return new Proxy({},{get:(i,s)=>{let o=e&&e[me.ctxInClassOrClassObj],a=o||this.__endpoint_context__;if(t.resolveClassFromContext&&(e=a.getClassFunByClassName(t.resolveClassFromContext)),a){var c=a.inject(e,We(Z({},t),{contextClassInstance:r,parentInstanceThatWillGetInjectedStuff:this}));if(!c)throw new Error(`Not able to inject "${ke.getName(e)||e.name}" inside property "${s?.toString()}" on  class "${ke.getName(this)}".

              Please add "${ke.getName(e)||e.name}" to (entites or contorllers or providers or repositories or middlewares)

              `);return typeof c[s]=="function"?c[s].bind(c):c[s]}},set:(i,s,o)=>{let a=e&&e[me.ctxInClassOrClassObj],c=a||this.__endpoint_context__;if(t.resolveClassFromContext&&(e=c.getClassFunByClassName(t.resolveClassFromContext)),c){var u=c.inject(e,We(Z({},t),{contextClassInstance:r,parentInstanceThatWillGetInjectedStuff:this}));if(!u){let l=ke.getName(e)||e.name;throw new Error(`Not able to inject "${l}" inside property "${s?.toString()}" on  class "${ke.getName(this)}".

              Please add "${ke.getName(e)||e.name}" to (entites or contorllers or providers or repositories or middlewares)

              `)}u[s]=o}return!0}})}},zE=class extends pc{},gce=(()=>{let n=class extends zE{async interceptServerMethod({req:t,res:r,next:i},{methodName:s,expressPath:o}){return this.middleware()(t,r,i)}uploadDir(){return Eo([this.ctx.cwd,"uploaded-files"])}storage(){}upload(){}middleware(){}};return n=Ct([mce({className:"TaonBaseFileUploadMiddleware"})],n),n})(),Ott=(()=>{let n=class extends pc{async afterAllCtxInited(t){}uploadFormDataToServer(t,r){}afterFileUploadAction(t,r){}async uploadLocalFileToServer(t,r,i){}async _waitForProperStatusChange(t){let r=t.poolingInterval||1e3,i=t.request,s=t.maxTries||Number.POSITIVE_INFINITY,o=0,a=0;for(;;){await Nd.waitMilliseconds(r);try{let c=await i({reqIndexNum:o,httpErrorsCount:a});if(t.statusCheck&&t.statusCheck(c))return}catch(c){if(a++,t.loopRequestsOnBackendError){let u=c instanceof Pu&&c.body.json[bi.TaonHttpErrorCustomProp],l=c instanceof Pu&&!u,f=!(c instanceof Pu);if(await t.loopRequestsOnBackendError({taonError:u?c:void 0,unknownHttpError:l?c:void 0,unknownError:f?c:void 0,reqIndexNum:o,httpErrorsCount:a})){o++;continue}else return}if(a>(t.allowedHttpErrors||Number.POSITIVE_INFINITY))throw new Error(`Too many http errors (${a}) for "${t.actionName}".`)}if(o++>s)throw new Error(`Timeout waiting for "${t.actionName}" to be finished. Waited for ${s} seconds`)}}};return Ct([WE({overrideContentType:"multipart/form-data",middlewares:({parentMiddlewares:e})=>We(Z({},e),{TaonBaseFileUploadMiddleware:gce})}),Hn(0,sf()),Hn(1,Gi()),Qe("design:type",Function),Qe("design:paramtypes",[FormData,Object]),Qe("design:returntype",Object)],n.prototype,"uploadFormDataToServer",null),n=Ct([TN({className:"TaonBaseController"})],n),n})(),Ptt=(()=>{let n=class extends Ott{async _(){if(!k.isFunction(this.entityClassResolveFn)){Le.warn(`Skipping initing CRUD controller ${ke.getName(this)} because entityClassResolveFn is not provided.`);return}let t=this.entityClassResolveFn();this.db=this.injectRepo(t),t?Reflect.getMetadata(me.metadata.options.entity,ke.getClassFnFromObject(this))?.createTable===!1&&Le.warn(`Table for entity ${ke.getName(t)} will not be created. Crud will not work properly.`):Le.error(`Entity class not provided for controller ${ke.getName(this)}.

      Please provide entity as class property entityClassFn:

      class ${ke.getName(this)} extends TaonBaseCrudController<Entity> {
        // ...
        entityClassResolveFn = ()=> MyEntityClass;
        // ...
      }

      `),await super._()}bufforedChanges(t,r,i){return async(s,o)=>{let a=await this.db.getBy(t);if(a===void 0)return;xN.preventUndefinedModel(a,t);let c=a[r],u;return(k.isString(c)||k.isArray(c))&&(u=c.slice(i)),u}}pagination(t=1,r=10,i=""){return async(s,o)=>{if(this.db.repositoryExists){let a={page:t,take:r,keyword:i},c=a.take||10,l=((a.page||1)-1)*c,f=a.keyword||"",[p,g]=await this.db.findAndCount({take:c,skip:l});return o?.setHeader(me.old.X_TOTAL_COUNT,g),p}return[]}}getAll(){return async(t,r)=>{if(this.db.repositoryExists){let{models:i,totalCount:s}=await this.db.getAll();return r?.setHeader(me.old.X_TOTAL_COUNT,s),i}return[]}}getBy(t){return async()=>await this.db.getBy(t)}updateById(t,r){return async()=>await this.db.updateById(t,r)}patchById(t,r){return async()=>await this.db.updateById(t,r)}bulkUpdate(t){return async()=>{if(!Array.isArray(t)||t?.length===0)return[];let{models:r}=await this.db.bulkUpdate(t);return r}}deleteById(t){return async()=>await this.db.deleteById(t)}bulkDelete(t){return async()=>await this.db.bulkDelete(t)}clearTable(){return async()=>{await this.db.clear()}}save(t){return async()=>await this.db.save(t)}bulkCreate(t){return async()=>await this.db.bulkCreate(t)}};return Ct([pm(),Hn(0,Gi("id")),Hn(1,Gi("property")),Hn(2,Gi("alreadyLength")),Qe("design:type",Function),Qe("design:paramtypes",[Object,String,Number]),Qe("design:returntype",Object)],n.prototype,"bufforedChanges",null),Ct([pm(),Hn(0,Gi("pageNumber")),Hn(1,Gi("pageSize")),Hn(2,Gi("search")),Qe("design:type",Function),Qe("design:paramtypes",[Number,Number,String]),Qe("design:returntype",Object)],n.prototype,"pagination",null),Ct([pm(),Qe("design:type",Function),Qe("design:paramtypes",[]),Qe("design:returntype",Object)],n.prototype,"getAll",null),Ct([pm(),Hn(0,Gi("id")),Qe("design:type",Function),Qe("design:paramtypes",[Object]),Qe("design:returntype",Object)],n.prototype,"getBy",null),Ct([uce(),Hn(0,Gi("id")),Hn(1,sf()),Qe("design:type",Function),Qe("design:paramtypes",[Object,Object]),Qe("design:returntype",Object)],n.prototype,"updateById",null),Ct([Ntt(),Hn(0,Gi("id")),Hn(1,sf()),Qe("design:type",Function),Qe("design:paramtypes",[Object,Object]),Qe("design:returntype",Object)],n.prototype,"patchById",null),Ct([uce(),Hn(0,sf()),Qe("design:type",Function),Qe("design:paramtypes",[Array]),Qe("design:returntype",Object)],n.prototype,"bulkUpdate",null),Ct([aN(),Hn(0,Gi("id")),Qe("design:type",Function),Qe("design:paramtypes",[Object]),Qe("design:returntype",Object)],n.prototype,"deleteById",null),Ct([aN(),Hn(0,Gi("ids")),Qe("design:type",Function),Qe("design:paramtypes",[Array]),Qe("design:returntype",Object)],n.prototype,"bulkDelete",null),Ct([aN(),Qe("design:type",Function),Qe("design:paramtypes",[]),Qe("design:returntype",Object)],n.prototype,"clearTable",null),Ct([WE(),Hn(0,sf()),Qe("design:type",Function),Qe("design:paramtypes",[Object]),Qe("design:returntype",Object)],n.prototype,"save",null),Ct([WE(),Hn(0,sf()),Qe("design:type",Function),Qe("design:paramtypes",[Object]),Qe("design:returntype",Object)],n.prototype,"bulkCreate",null),n=Ct([TN({className:"TaonBaseCrudController"})],n),n})();function AN(n){return function(e){Reflect.defineMetadata(me.metadata.options.repository,n,e),Reflect.defineMetadata(me.metadata.className,n?.className||e.name,e),ke.setName(e,n?.className)}}var Ftt=(()=>{let n=class extends pc{};return n=Ct([AN({className:"TaonBaseCustomRepository"})],n),n})(),ktt=["id"],yce=(()=>{let n=class extends Ftt{constructor(t){super(),this.REPOS_CACHE_KEY=Symbol("repository cache inside instance"),this.allowedTypesToUpdate=["simple-json","simple-array","json"],this.entityClassResolveFn=t}get dbQuery(){if(!this.__dbQuery){if(!this.ctx)return;let t=this.ctx?.connection;if(!t)throw new Error(`[TaonBaseRepository] Database not inited for context ${this.ctx?.contextName}`);this.__dbQuery=new kE(t)}return this.__dbQuery}get connection(){return this.ctx?.connection}get repository(){if(this[this.REPOS_CACHE_KEY])return this[this.REPOS_CACHE_KEY];let t=this.entityClassResolveFn(),r=ke.getName(t),i=this.ctx.repos.get(r);if(!i)throw`[TaonBaseRepository] Repository for entity "${r}"
      not found in context "${this.ctx?.contextName}".

      Is ${r} a Taon entity class ?

      OR

      If ${r} is a Taon Custom Repository, then use this:

      ...
       ${k.lowerFirst(r)} = injectCustomRepository(${r});
      ...

      `;return this[this.REPOS_CACHE_KEY]=i,this[this.REPOS_CACHE_KEY]}get target(){return this?.repository?.target}get repo(){return this.repository}get repositoryExists(){return!!this.repository}hasId(t){return this.repo.hasId(t)}getId(t){return this.repo.getId(t)}async save(t,r){let i=await this.repo.create(t);i=await this.repo.save(i,r);let{id:s}=i;return i=await this.repo.findOne({where:{id:s}}),i}create(t){return this.repo.create(t)}async bulkSave(t,r){let i=[];for(let s=0;s<t.length;s++){let o=t[s],a=await this.save(o,r);i.push(a)}return i}async bulkCreate(t,r){return this.bulkSave(t,r)}merge(t,...r){return this.repo.merge(t,...r)}preload(t){return this.repo.preload(t)}async remove(t){k.isObject(t)&&(t=t.id);let r=await this.repo.findOne({where:{id:t}});if(!r){Le.warn(`[TaonBaseRepository] Entity "${ke.getName(this.repo.target)}" with id ${t} not found, cannot remove`);return}let i=r.id;return await this.repo.remove(r),r.id=i,r}async delete(t){return this.remove(t)}async deleteById(t){return this.remove(t)}async bulkRemove(t){t=t.map(i=>k.isObject(i)?i.id:i);let r=[];for(let i=0;i<t.length;i++){let s=t[i],o=await this.remove(s);r.push(o)}return r}async bulkDelete(t){return this.bulkRemove(t)}softRemove(t,r){return this.repo.softRemove(t,r)}recover(t,r){return this.repo.recover(t,r)}insert(t){return this.repo.insert(t)}async update(t){let{id:r}=t;return await this.updateById(r,t)}async updateById(t,r){let i=[];for(let o in r){let a=this.repo.metadata.ownColumns.find(c=>c.propertyName===o);k.isObject(r)&&r.hasOwnProperty(o)&&(typeof r[o]!="object"||this.allowedTypesToUpdate.includes(a?.type))&&!k.isUndefined(a)&&i.push(o)}for(let o=0;o<i.length;o++){let a=i[o];if(!ktt.includes(a.toLowerCase())){let c=r[a];await this.repo.update({id:t},{[a]:c})}}return await this.repo.findOne({where:{id:t}})}async bulkUpdate(t){let r=[];for(let i=0;i<t.length;i++){let s=t[i],{id:o}=s,a=await this.updateById(o,s);r.push(a)}return{models:r}}upsert(t,r){return this.repo.upsert(t,r)}softDelete(t){return this.repo.softDelete(t)}restore(t){return this.repo.restore(t)}count(t){return this.repo.count(t)}countBy(t){return this.repo.countBy(t)}find(t){return this.repo.find(t)}findBy(t){return this.repo.findBy(t)}findAndCount(t){return this.repo.findAndCount(t)}findAndCountBy(t){return this.repo.findAndCountBy(t)}findByIds(t){return this.repo.findByIds(t)}findOne(t){return this.repo.findOne(t)}findOneBy(t){return this.repo.findOneBy(t)}findOneById(t){return this.repo.findOneById(t)}findOneOrFail(t){return this.repo.findOneOrFail(t)}findOneByOrFail(t){return this.repo.findOneByOrFail(t)}query(t,r){return this.repo.query(t,r)}createQueryBuilder(t,r){return this.repo.createQueryBuilder(t,r)}clear(){return this.repo.clear()}increment(t,r,i){return this.repo.increment(t,r,i)}decrement(t,r,i){return this.repo.decrement(t,r,i)}async getAll(){let t=await this.repo.count();return{models:await this.repo.find(),totalCount:t}}async getBy(t){return await await this.repo.findOne({where:{id:t}})}};return n=Ct([AN({className:"TaonBaseRepository"}),Qe("design:paramtypes",[Function])],n),n})(),bce=(function(n){return n.assertAllowedTransition=(e,t)=>{if(!Itt[e]?.includes(t))throw new Error(`Invalid state transition: ${e} \u2192 ${t}`)},n})(bce||{}),vce=(()=>{let n=class extends yce{constructor(){super(...arguments),this.entityClassResolveFn=()=>QE}async getLastStatus(){return await this.findOne({order:{createdAt:"DESC"}})}async setDraining(t=0){await this.transitionTo(cr.DRAINING),t>0&&setTimeout(async()=>{await this.transitionTo(cr.READONLY)},t)}async transitionTo(t){let r=await this.getLastStatus();bce.assertAllowedTransition(r.status,t);let i=this.create({status:t});return await this.save(i),i}};return n=Ct([AN({className:"TaonGlobalStateRepository"})],n),n})(),Ltt=(()=>{let n=class extends Ptt{constructor(){super(...arguments),this.entityClassResolveFn=()=>QE,this.taonGlobalStateRepository=this.injectCustomRepo(vce)}getStatus(){return async()=>(await this.taonGlobalStateRepository.getLastStatus()).status}setDraining(t=0){return async()=>{await this.taonGlobalStateRepository.setDraining(t)}}};return Ct([pm(),Qe("design:type",Function),Qe("design:paramtypes",[]),Qe("design:returntype",Object)],n.prototype,"getStatus",null),Ct([WE(),Hn(0,Gi("secondsBeforeReadonly")),Qe("design:type",Function),Qe("design:paramtypes",[Object]),Qe("design:returntype",Object)],n.prototype,"setDraining",null),n=Ct([TN({className:"TaonGlobalStateController"})],n),n})(),DN=class extends pc{};function Btt(n){return function(e){Reflect.defineMetadata(me.metadata.options.provider,n,e),Reflect.defineMetadata(me.metadata.className,n?.className||e.name,e),ke.setName(e,n?.className||e.name)}}var _ce=(()=>{let n=class extends DN{};return n=Ct([Btt({className:"TaonGlobalStateProvider"})],n),n})(),qtt=(()=>{let n=class extends zE{};return n=Ct([mce({className:"TaonGlobalStateMiddleware"})],n),n})();function Ece(n){return function(e){Reflect.defineMetadata(me.metadata.options.subscriber,n,e),Reflect.defineMetadata(me.metadata.className,n?.className||e.name,e),ke.setName(e,n?.className)}}var jtt=(()=>{let n=class extends pc{afterLoad(t){this.ctx.logDb&&console.log("AFTER ENTITY LOADED: ",t)}beforeQuery(t){this.ctx.logDb&&console.log("BEFORE QUERY: ",t.query)}afterQuery(t){this.ctx.logDb&&console.log("AFTER QUERY: ",t.query)}beforeInsert(t){this.ctx.logDb&&console.log("BEFORE ENTITY INSERTED: ",t.entity)}afterInsert(t){this.ctx.logDb&&console.log("AFTER ENTITY INSERTED: ",t.entity)}beforeUpdate(t){this.ctx.logDb&&console.log("BEFORE ENTITY UPDATED: ",t.entity)}afterUpdate(t){this.ctx.logDb&&console.log("AFTER ENTITY UPDATED: ",t.entity)}beforeRemove(t){this.ctx.logDb&&console.log(`BEFORE ENTITY WITH ID ${t.entityId} REMOVED: `,t.entity)}afterRemove(t){this.ctx.logDb&&console.log(`AFTER ENTITY WITH ID ${t.entityId} REMOVED: `,t.entity)}beforeSoftRemove(t){this.ctx.logDb&&console.log(`BEFORE ENTITY WITH ID ${t.entityId} SOFT REMOVED: `,t.entity)}afterSoftRemove(t){this.ctx.logDb&&console.log(`AFTER ENTITY WITH ID ${t.entityId} SOFT REMOVED: `,t.entity)}beforeRecover(t){this.ctx.logDb&&console.log(`BEFORE ENTITY WITH ID ${t.entityId} RECOVERED: `,t.entity)}afterRecover(t){this.ctx.logDb&&console.log(`AFTER ENTITY WITH ID ${t.entityId} RECOVERED: `,t.entity)}beforeTransactionStart(t){this.ctx.logDb&&console.log("BEFORE TRANSACTION STARTED: ",t)}afterTransactionStart(t){this.ctx.logDb&&console.log("AFTER TRANSACTION STARTED: ",t)}beforeTransactionCommit(t){this.ctx.logDb&&console.log("BEFORE TRANSACTION COMMITTED: ",t)}afterTransactionCommit(t){this.ctx.logDb&&console.log("AFTER TRANSACTION COMMITTED: ",t)}beforeTransactionRollback(t){this.ctx.logDb&&console.log("BEFORE TRANSACTION ROLLBACK: ",t)}afterTransactionRollback(t){this.ctx.logDb&&console.log("AFTER TRANSACTION ROLLBACK: ",t)}};return n=Ct([Ece({className:"TaonBaseSubscriberForEntity"})],n),n})(),$tt=(()=>{let n=class extends jtt{constructor(){super(...arguments),this.taonGlobalStateProvider=this.injectProvider(_ce)}listenTo(){return QE}};return n=Ct([Ece({className:"TaonGlobalStateSubscriber"})],n),n})(),Vtt=GE(()=>({contextName:"TaonGlobalStateContext",abstract:!0,entities:{TAON_GLOBAL_STATE:QE},controllers:{TaonGlobalStateController:Ltt},repositories:{TaonGlobalStateRepository:vce},providers:{TaonGlobalStateProvider:_ce},middlewares:{TaonGlobalStateMiddleware:qtt},subscribers:{TaonGlobalStateSubscriber:$tt}})),Utt=GE(()=>({contextName:"TaonBaseContext",abstract:!0,contexts:{TaonGlobalStateContext:Vtt},middlewares:{TaonBaseFileUploadMiddleware:gce},repositories:{TaonBaseRepository:yce}})),Htt=Object.freeze({__proto__:null,TaonBaseContext:Utt}),lce=class extends pc{isReadyToRun(){return!0}getDescription(){return k.startCase(ke.getName(this))}async up(e){console.log(`[TaonBaseMigration] Running migration UP "${ke.getName(this)}"`)}async down(e){console.log(`[TaonBaseMigration] Running migration DOWN "${ke.getName(this)}"`)}};function h$t(n){return function(e){Reflect.defineMetadata(me.metadata.options.migration,n,e),Reflect.defineMetadata(me.metadata.className,n?.className||e.name,e),ke.setName(e,n?.className)}}var dce;(function(n){n.removeLoader=(e=0)=>new Promise(t=>{setTimeout(()=>{globalThis?.window?.document?.getElementById("taonpreloadertoremove")?.remove();let r=globalThis?.window?.document?.body;r&&r.style&&(r.style.backgroundColor=""),t()},e)}),n.error=e=>{throw()=>(typeof e=="string"&&(e={message:e}),e)},n.getResponseValue=hce,n.isBrowser=gt.isBrowser,n.isNode=gt.isNode,n.isWebSQL=gt.isWebSQL,n.isElectron=gt.isElectron,n.createContext=GE,n.createContextTemplate=xtt,n.inject=Ttt,n.init=async e=>{let t=(await Promise.resolve().then(function(){return Htt})).TaonBaseContext,r=n.createContext(()=>({appId:"default-app-not-used-anymore",contextName:"default",host:e.host,contexts:{TaonBaseContext:t},database:!0,entities:Array.from(e.entities),controllers:Array.from(e.controllers)}));return await r.initialize(),r}})(dce||(dce={}));export{Ox as a,hn as b,it as c,Ge as d,yf as e,oO as f,Ct as g,Qe as h,Je as i,Dt as j,wf as k,Aue as l,Sue as m,Iue as n,Nn as o,Ai as p,xO as q,al as r,di as s,Si as t,Nue as u,Me as v,Ks as w,Da as x,ye as y,Rt as z,Ee as A,Be as B,U as C,Mi as D,ln as E,xg as F,Tg as G,OC as H,PC as I,tn as J,ut as K,pn as L,Ot as M,lle as N,Wn as O,Pg as P,nr as Q,qi as R,Bo as S,vn as T,Gc as U,pi as V,Oa as W,$0 as X,Il as Y,Mde as Z,gy as _,Fa as $,Ra as aa,hi as ba,jo as ca,Br as da,wD as ea,es as fa,On as ga,Pt as ha,dn as ia,Yr as ja,Ny as ka,MD as la,ah as ma,OD as na,L1 as oa,kD as pa,Py as qa,xr as ra,BD as sa,ts as ta,qD as ua,$D as va,W1 as wa,z1 as xa,G1 as ya,Fy as za,ch as Aa,uh as Ba,Pl as Ca,Xc as Da,eu as Ea,Vo as Fa,K1 as Ga,WD as Ha,Z1 as Ia,ka as Ja,zD as Ka,xs as La,ji as Ma,dh as Na,fh as Oa,hh as Pa,ph as Qa,tL as Ra,nL as Sa,Rpe as Ta,GD as Ua,ky as Va,gr as Wa,Fl as Xa,lL as Ya,QD as Za,KD as _a,pL as $a,gL as ab,eme as bb,yL as cb,tme as db,nme as eb,La as fb,ome as gb,ame as hb,EL as ib,lme as jb,ZD as kb,Ba as lb,gh as mb,ymt as nb,bmt as ob,vmt as pb,nu as qb,mi as rb,fx as sb,_mt as tb,Emt as ub,wmt as vb,Cmt as wb,Uo as xb,kl as yb,ja as zb,Sge as Ab,Ige as Bb,uB as Cb,ru as Db,fB as Eb,lB as Fb,Ll as Gb,_h as Hb,Hge as Ib,Ix as Jb,obt as Kb,abt as Lb,Ch as Mb,Dh as Nb,Fx as Ob,kx as Pb,As as Qb,rr as Rb,$l as Sb,FB as Tb,co as Ub,rb as Vb,Iye as Wb,zo as Xb,Ah as Yb,qx as Zb,sb as _b,jx as $b,ob as ac,Oye as bc,QB as cc,Hye as dc,zye as ec,Gye as fc,Hx as gc,ZB as hc,Wx as ic,XB as jc,Kye as kc,Yye as lc,zvt as mc,n_t as nc,i_t as oc,l_t as pc,d_t as qc,Va as rc,y_t as sc,v_t as tc,O_t as uc,lq as vc,cbe as wc,hq as xc,ir as yc,fb as zc,dEt as Ac,fEt as Bc,mEt as Cc,mq as Dc,LEt as Ec,BEt as Fc,wbe as Gc,eT as Hc,awt as Ic,Mq as Jc,wq as Kc,zl as Lc,Tq as Mc,Hbe as Nc,Kbe as Oc,fwt as Pc,Kq as Qc,wwt as Rc,Iwt as Sc,Gwt as Tc,Qwt as Uc,Yq as Vc,Kwt as Wc,uT as Xc,lT as Yc,xb as Zc,Jq as _c,nCt as $c,rCt as ad,oCt as bd,IT as cd,N_e as dd,O_e as ed,P_e as fd,k as gd,Ze as hd,P_ as id,vtt as jd,Z2t as kd,Stt as ld,Rtt as md,TN as nd,pm as od,Ptt as pd,Utt as qd,lce as rd,h$t as sd,dce as td};
